import{G as P,z as V,R as q,B as te,r as v,A as W,C as E,H as g,az as Q,I as h,Q as r,O as s,au as b,an as N,J as e,P as t,aA as C,aw as k,ax as I,ao as M,K as J,M as K,at as se,N as _}from"./common.modules-6670d68a.js";import{y as ae,bv as y,A as U,bM as ne,g as j,bN as oe,_ as F,bO as ie,bP as le}from"./page-activity-ActivityDetail-88cfafe3.js";import{N as X}from"./page-home-AllGames-9a24cb19.js";import{D as ce}from"./page-activity-Championship-7b9fbb76.js";import{L as de}from"./page-activity-DailySignIn-536599e7.js";const re={class:"Laundry-page"},ue={class:"laundry-page_container"},_e={class:"laundry-page_box"},ve={class:"title"},pe={class:"lab"},me={class:"number"},ye={class:"txt"},he={class:"c-row"},fe={class:"item"},be={class:"tit"},ge={class:"num"},Re={class:"tit"},Le={class:"num red"},Te={class:"item"},we={class:"tit"},xe={class:"num"},Ce={class:"tip"},ke=["src"],$e={class:"laundry-page_list"},Ae={class:"title"},Se={key:0,class:"list"},Ne={class:"header"},je={class:""},We={class:"name"},Be={class:"time"},ze={class:"state"},Oe={class:"body"},De={class:"left"},Ie={class:"imgBox"},Me=["src"],Ue={class:"right"},Pe={class:"red"},Ve={class:"orange"},qe={alt:""},Fe={class:"Laundry-Con"},He={class:"Laundry-Con_tip"},Ge={class:"Laundry-Con_txt"},Qe={class:"number"},Ee=P({__name:"index",setup(H){const{t:a}=V(),R=q(),f=ae(),L=te(()=>f.getIsShowAppHandCodeWashingSwitch),p=v(null),u=v(0),S=o=>{let c=y.gameTabList[u.value].codeType;if(c===x.codeType)return!1;x.codeType=c,n()},m=v(!1),w=v(0),$=async()=>{var c,T;if(i.codeWashAmount<100)return;const o=await U(oe(x));((c=o==null?void 0:o.data)==null?void 0:c.rebateAmount)>0&&(w.value=(T=o==null?void 0:o.data)==null?void 0:T.rebateAmount,n(),m.value=!0)},B=()=>{m.value=!1},A=()=>{R.push({name:"Laundry-LaundryRule"})},l=()=>{R.push({name:"Laundry-LaundryRecord"})},i=W({codeWashAmount:0,dayRebate:0,totalRebate:0,washRate:"",washList:[]}),x=W({codeType:-1});function z(o){let c="";return y.gameTabList.map(T=>{T.codeType==o&&(c=T.name)}),c}async function n(){const o=await U(ne(x));o&&(i.codeWashAmount=o.data.codeWashAmount,i.dayRebate=o.data.dayRebate,i.totalRebate=o.data.totalRebate,i.washRate=o.data.washRate,i.washList=o.data.washList)}return E(()=>{y.gameTabList,f.getHomeSetting(),n()}),(o,c)=>{const T=g("NavBar"),O=g("svg-icon"),Y=g("van-sticky"),Z=g("van-button"),G=Q("throttle-click"),ee=Q("lazy");return _(),h("div",re,[r(T,{title:s(a)("laundry"),"left-arrow":"",onClickLeft:c[0]||(c[0]=d=>s(R).go(-1))},null,8,["title"]),r(Y,{"offset-top":46,container:p.value,class:"bet-container-sticky"},{default:b(()=>[e("div",null,[r(X,{list:s(y).gameTabList,active:u.value,"onUpdate:active":c[1]||(c[1]=d=>u.value=d),tabClassName:"tabs",onOnClickTab:S,activeClassName:"tab_active",ref:"tabRefs",tabItemClassName:"funtab_item"},{default:b(({item:d,index:D})=>[e("div",{class:M(["tab_item",{tab_active:D===u.value}])},[r(O,{name:d.img},null,8,["name"]),e("span",null,t(d.name),1)],2)]),_:1},8,["list","active"])])]),_:1},8,["container"]),N(" 可洗码量 "),e("div",ue,[e("div",_e,[e("div",ve,t(s(y).gameTabList[u.value].name)+"-"+t(s(a)("washableSize")),1),e("div",pe,[r(O,{name:"rebateRealTime"}),C(" "+t(s(a)("laundryTxt")),1)]),e("div",me,[r(O,{name:"rebate"}),C(" "+t(i.codeWashAmount.toFixed(2)||0),1)]),e("div",ye,t(s(a)("laundryTxt1")),1),e("div",he,[e("div",fe,[k(e("div",null,[e("p",be,t(s(a)("rebateToday")),1),e("span",ge,t(i.dayRebate||0),1)],512),[[I,u.value==0]]),k(e("div",null,[e("p",Re,t(s(a)("laundryRate")),1),e("span",Le,t(i.washRate||0)+"%",1)],512),[[I,u.value!=0]])]),e("div",Te,[e("p",we,t(s(a)("totalRebate")),1),e("span",xe,t(i.totalRebate||0),1)])]),e("div",Ce,t(s(a)("laundryTxt2")),1),L.value?k((_(),h("button",{key:0,class:M(i.codeWashAmount>=100?"btn active":"btn")},[C(t(s(a)("codeWashing")),1)],2)),[[G,{handler:$,wait:2e3}]]):N("v-if",!0),k(e("p",{class:"rule",onClick:A},[C(t(s(a)("understandRules")),1),e("img",{class:"rule-img",src:s(j)("main","ruleicon"),alt:""},null,8,ke)],512),[[I,!1]])]),N(" 洗码记录 "),e("div",$e,[e("div",Ae,t(s(a)("laundryRed")),1),i.washList?(_(),h("div",Se,[(_(!0),h(J,null,K(i.washList||[],(d,D)=>(_(),h("div",{class:"item",key:D},[e("div",Ne,[e("div",je,[e("p",We,t(z(d.codeType)),1),e("span",Be,t(d.addTime),1)]),e("div",ze,t(s(a)("laundrySuccess")),1)]),e("div",Oe,[e("div",De,[e("div",Ie,[e("img",{class:"img",src:s(j)("main","gameStatsSteps"),alt:""},null,8,Me)]),e("div",null,[e("p",null,t(s(a)("laundryAmount")),1),e("p",null,t(s(a)("laundryRate")),1),e("p",null,t(s(a)("rebateAmount")),1)])]),e("div",Ue,[e("p",null,t(d.washVolume),1),e("p",Pe,t(d.washRate)+"%",1),e("p",Ve,t(d.rebateAmount),1)])])]))),128))])):N("v-if",!0),k((_(),se(Z,{class:"all-record",plain:"",block:"",round:"",type:"primary"},{default:b(()=>[C(t(s(a)("allRecords")),1)]),_:1})),[[G,{handler:l,wait:2e3}]])])]),r(ce,{show:m.value,"onUpdate:show":c[2]||(c[2]=d=>m.value=d),onConfirm:B,"show-cancel-btn":!1,confirmText:s(a)("confirm"),title:`${s(y).gameTabList[u.value].name}-${s(a)("laundryAmount")}`},{header:b(()=>[k(e("img",qe,null,512),[[ee,s(j)("public","succeed")]])]),content:b(()=>[e("div",Fe,[e("div",He,t(s(a)("codeWashingSuccess")),1),e("div",Ge,[C(t(s(a)("rebateAmount"))+":",1),e("span",Qe,t(w.value.toFixed(2)),1)])])]),_:1},8,["show","confirmText","title"])])}}});const Je=F(Ee,[["__scopeId","data-v-cdf0e578"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/main/Laundry/index.vue"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"})),Ke={class:"Laundry-Record"},Xe={style:{"background-color":"#f7f8ff"}},Ye={class:"list"},Ze={class:"header"},et={class:""},tt={class:"name"},st={class:"time"},at={class:"state"},nt={class:"body"},ot={class:"left"},it={class:"imgBox"},lt=["src"],ct={class:"right"},dt={class:"red"},rt={class:"orange"},ut=P({__name:"index",setup(H){const{t:a}=V(),R=q(),f=v(),L=v(null),p=v(0),u=async A=>{let l=y.gameTabList[p.value].codeType;$.value.codeType=l,w.value=!0,S.pageNo=1,m.list=[],await f.value.resetRefresh()},S=W({pageNo:1,pageSize:10,codeType:-1}),m=W({list:[],pageNo:0,totalPage:0,totalCount:0}),w=v(!0),$=v({codeType:-1});function B(A){let l="";return y.gameTabList.map(i=>{i.codeType==A&&(l=i.name)}),l}return(A,l)=>{const i=g("NavBar"),x=g("svg-icon"),z=g("van-sticky");return _(),h("div",Ke,[r(i,{title:s(a)("laundryRecord"),"left-arrow":"",onClickLeft:l[0]||(l[0]=n=>s(R).go(-1))},null,8,["title"]),r(z,{"offset-top":46,container:L.value,class:"bet-container-sticky"},{default:b(()=>[e("div",Xe,[r(X,{list:s(y).gameTabList,active:p.value,"onUpdate:active":l[1]||(l[1]=n=>p.value=n),tabClassName:"tabs",onOnClickTab:u,activeClassName:"tab_active",ref:"tabRefs",tabItemClassName:"funtab_item"},{default:b(({item:n,index:o})=>[e("div",{class:M(["tab_item",{tab_active:o===p.value}])},[r(x,{name:n.img},null,8,["name"]),e("span",null,t(n.name),1)],2)]),_:1},8,["list","active"])])]),_:1},8,["container"]),e("div",Ye,[r(de,{distance:300,api:s(ie),list:m.list,"onUpdate:list":l[2]||(l[2]=n=>m.list=n),"page-query":$.value,"onUpdate:pageQuery":l[3]||(l[3]=n=>$.value=n),"is-first":w.value,"onUpdate:isFirst":l[4]||(l[4]=n=>w.value=n),ref_key:"listRef",ref:f,isAutoLoad:!0},{content:b(()=>[(_(!0),h(J,null,K(m.list,(n,o)=>(_(),h("div",{class:"item",key:o},[e("div",Ze,[e("div",et,[e("p",tt,t(B(n.codeType)),1),e("span",st,t(n.addTime),1)]),e("div",at,t(s(a)("laundrySuccess")),1)]),e("div",nt,[e("div",ot,[e("div",it,[e("img",{class:"img",src:s(j)("main","gameStatsSteps"),alt:""},null,8,lt)]),e("div",null,[e("p",null,t(s(a)("laundryAmount")),1),e("p",null,t(s(a)("laundryRate")),1),e("p",null,t(s(a)("rebateAmount")),1)])]),e("div",ct,[e("p",null,t(n.washVolume),1),e("p",dt,t(n.washRate)+"%",1),e("p",rt,t(n.rebateAmount),1)])])]))),128))]),_:1},8,["api","list","page-query","is-first"])])])}}});const _t=F(ut,[["__scopeId","data-v-34682eef"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/main/Laundry/LaundryRecord/index.vue"]]),Tt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"})),vt={class:"Laundry-Rule"},pt=["innerHTML"],mt=P({__name:"index",setup(H){const{t:a}=V(),R=q(),f=v();return E(async()=>{const L=await U(le());L&&(f.value=L.data.washRules)}),(L,p)=>{const u=g("NavBar");return _(),h("div",vt,[r(u,{title:s(a)("laundryRule"),"left-arrow":"",onClickLeft:p[0]||(p[0]=S=>s(R).go(-1))},null,8,["title"]),e("div",{class:"Laundry-Rule-content",innerHTML:f.value},null,8,pt)])}}});const yt=F(mt,[["__scopeId","data-v-f4ca4591"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/main/Laundry/LaundryRule/index.vue"]]),wt=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"}));export{Tt as a,wt as b,Lt as i};
