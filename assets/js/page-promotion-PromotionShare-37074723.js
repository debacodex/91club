import{G as N,R,T as j,z as H,r as u,B as y,C as M,H as U,I as p,Q as m,J as t,P as n,au as k,O as i,aA as v,an as l,t as V,n as O,N as _,K as q,M as D,aZ as F,a_ as z}from"./common.modules-6670d68a.js";import{y as S,L as I,A as G,cl as J,g as $,aQ as Q,_ as K}from"./page-activity-ActivityDetail-88cfafe3.js";import{b as W}from"./page-arupi-arupi_v2-d9ed44a6.js";import"./page-turntable-assets-0cfb722e.js";import"./native/index-9800af95.js";import"./en-438265e0.js";const Z={class:"promotionShare__container"},X={class:"promotionShare__container-tips"},Y=["id"],x={class:"sContent"},ee={class:"head1"},te=["innerHTML"],ne={class:"head3"},oe=["src"],ae=["src"],se=["innerHTML"],ie=["id"],re={class:"promotionShare__container-slogan"},le={class:"promotionShare__container-buttons"},de=N({__name:"index",setup(ce){const b=R();j();const{t:C}=H(),h=u(0),g=u(""),f=u(!1);let d=u("");const L=e=>{},P=e=>{h.value=e.activeIndex},T=()=>{b.back()};y(()=>S().getProjectLogo),y(()=>S().getProjectName);const B=()=>{I(d.value.toString())};async function A(){const e=await G(J());if(e){g.value=e.data.landingPageUrl,f.value=e.data.isLandingPageEnabled,e.data.url.startsWith("http")?d.value=e.data.url:d.value=window.location.href.substring(0,window.location.href.lastIndexOf("/#/")+2)+"/"+e.data.url.substring(e.data.url.lastIndexOf("re"),e.data.url.length);for(let o=1;o<=3;o++)W.toCanvas(document.getElementById("qr-code"+o),d.value,s=>{s&&console.error(s)})}}const E=async e=>{var o=document.getElementById(e);const s=V({message:C("loading"),duration:0,forbidClick:!0}),a=await O(()=>import("./common.modules-6670d68a.js").then(r=>r.cq),["assets/js/common.modules-6670d68a.js","assets/css/common-e210f711.css"]),w=a.default||a;w&&w.toPng(o).then(r=>{const c=document.createElement("a");c.href=r,c.download="share.jpeg",document.body.appendChild(c),c.click(),s.close()}).catch(r=>{s.close(),console.error("Error generating image:",r)})};return M(()=>{A()}),(e,o)=>{const s=U("NavBar");return _(),p("div",Z,[m(s,{title:e.$t("titleInvite"),"left-arrow":"",onClickLeft:T},null,8,["title"]),t("div",X,[t("p",null,n(e.$t("tipSwipeToPickBrochure")),1)]),m(i(z),{class:"my-swipe",slidesPerView:"auto",centeredSlides:!0,"space-between":20,onSwiper:L,onSlideChange:P},{default:k(()=>[(_(),p(q,null,D(3,a=>m(i(F),{key:a},{default:k(()=>[t("div",{class:"promotionShare__container-swiper",id:"share"+(a-1)},[l(` <img v-lazy="getIcons('promotion/promotionShare', 'poster')" /> `),t("div",x,[l('						<img class="logo" data-html2canvas-ignore :src="projectIcon" alt="" />'),t("div",ee,[t("div",null,n(e.$t("fairAndJust")),1),t("div",null,n(e.$t("openAndTransparent")),1)]),t("div",{class:"head2",innerHTML:e.$t("fullOddsReturnRate")},null,8,te),t("div",ne,[t("div",null,[t("img",{class:"logo",src:i($)("promotion","bank"),alt:""},null,8,oe),v(" "+n(e.$t("financialSecurity")),1)]),t("div",null,[t("img",{class:"logo",src:i($)("promotion","trucktick"),alt:""},null,8,ae),v(" "+n(e.$t("withdrawFast")),1)])]),t("div",{class:"head4",innerHTML:e.$t("highestRebate",[85])},null,8,se)]),t("canvas",{id:"qr-code"+a},null,8,ie)],8,Y)]),_:2},1024)),64))]),_:1}),t("div",re,[t("p",null,n(e.$t("inviteFriends")),1),t("p",null,[v(n(e.$t("divideBonus"))+" ",1),t("span",null,n(e.$t("tip10billion")),1),v(" "+n(e.$t("commission")),1)])]),t("div",le,[i(Q)()?l("v-if",!0):(_(),p("div",{key:0,class:"share",onClick:o[0]||(o[0]=a=>E("share"+h.value))},n(e.$t("shareInvitationPoster")),1)),t("div",{class:"cpy",onClick:B},n(e.$t("copyInvitationLink")),1),f.value?(_(),p("div",{key:1,class:"cpy",onClick:o[1]||(o[1]=a=>i(I)(g.value))},n(e.$t("clanding")),1)):l("v-if",!0),l(" <div>{{ $t('copyInvitationLink') }}</div> ")])])}}});const ge=K(de,[["__scopeId","data-v-3b74cce6"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/promotion/PromotionShare/index.vue"]]);export{ge as default};
