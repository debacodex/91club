import{G as O,av as ee,r as C,$ as J,B as X,I as o,aw as F,ax as te,J as e,ay as se,aq as A,N as n,ao as q,P as s,an as _,O as l,D as ne,az as Y,z as Z,R as G,A as ae,H as V,Q as w,au as U,K as D,M as N,F as oe,at as z,aA as M,C as ie,E as le,aB as ue,aC as re}from"./common.modules-6670d68a.js";import{a as E,c as I,_ as H,g as ce,b as de,e as pe,j as ve,h as K,i as fe}from"./page-activity-ActivityDetail-88cfafe3.js";import{L as _e,E as Q}from"./page-activity-Bonus-a2310b32.js";const me={class:"item"},he=["src"],ge={class:"right"},ye={key:0},$e={key:1},ke={key:2},Te={key:3,class:"time"},Ce=["innerHTML"],we={key:4,class:"time"},De={key:5,class:"time"},Le={class:"foot"},Be={class:"amount"},Se=O({__name:"card",props:{bgImgWidth:{type:String,required:!1,default:"100%"},bgImgHeight:{type:String,required:!1,default:"150px"},itemD:{type:null,required:!1,default:{}},state:{type:Number,required:!1},isRefresh:{type:Boolean,required:!1,default:!1}},emits:["update:isRefresh"],setup(d,{emit:g}){const v=d;function p(){if(v.state==1){const a=f.value.replace(/-/g,"/"),L=v.itemD.endTime.replace(/-/g,"/");u.value=new Date(L).getTime()-new Date(a).getTime(),u.value>0&&(k.value=ne({time:u.value,onChange:y}),k.value.start())}}const{serviceNowTime:f}=E(),{isRefresh:t}=ee(v,g),u=C(0),k=C();J(()=>v.itemD.id,a=>{p()},{immediate:!0});const T=X(()=>k.value.current);function y(a){a.total==0?t.value=!0:t.value=!1}function m(a){const L=String(a.hours).padStart(2,"0"),B=String(a.minutes).padStart(2,"0"),S=String(a.seconds).padStart(2,"0");return L+":"+B+":"+S}return(a,L)=>(n(),o("div",me,[F(e("img",{src:a.itemD.iconUrl,alt:"",style:se(`width:${a.bgImgWidth};height:${a.bgImgHeight};`)},null,12,he),[[te,a.itemD.iconUrl]]),e("div",ge,[A(a.$slots,"content",{},()=>{var B,S;return[e("div",{class:q(["head",`type${a.state}`])},[a.state==1?(n(),o("h1",ye,s(a.$t("cpsTip3")),1)):a.state==0?(n(),o("h1",$e,s(a.$t("startTime")),1)):a.state==2?(n(),o("h1",ke,s(a.$t("ended")),1)):_("v-if",!0),a.state==1?(n(),o("div",Te,[e("p",{innerHTML:a.$t("fifteenDays",[T.value.days])},null,8,Ce),e("h6",null,s(m(T.value)),1)])):_("v-if",!0),a.state==0?(n(),o("div",we,s((B=a.itemD)==null?void 0:B.startTime),1)):_("v-if",!0),a.state==2?(n(),o("div",De,"00:00:00")):_("v-if",!0)],2),e("div",Le,[e("h1",null,s(a.$t("winTips5")),1),e("div",Be,s(l(I)(((S=a.itemD)==null?void 0:S.sumBonus)||0)),1)])]},!0)]),A(a.$slots,"footer",{},void 0,!0)]))}});const x=H(Se,[["__scopeId","data-v-277c60ca"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/components/Activity/Championship/card.vue"]]),be={class:"dialog__container",role:"dialog",tabindex:"0"},Ie={key:0,class:"dialog__container-img"},Re={class:"dialog__container-title"},je={class:"dialog__container-content"},Ae={key:1,class:"dialog__container-footer"},Ue=["src"],qe=O({__name:"Dialog",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},confirmText:{type:String,default:""},showCancelBtn:{type:Boolean,default:!0},cancelText:{type:String,default:""},clickOutSide:{type:Boolean,default:!1},isShowHeader:{type:Boolean,default:!0},imgUrl:{type:String,default:"tip"},showCloseIcon:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0}},emits:["update:show","confirm"],setup(d,{emit:g}){const v=d;J(()=>v.show,t=>{t?window.addEventListener("touchmove",f,{passive:!1}):window.removeEventListener("touchmove",f)});function p(t){v.clickOutSide&&g("update:show",!1)}const f=t=>{};return(t,u)=>{const k=Y("lazy");return n(),o("div",{class:q(["dialog",{active:d.show,inactive:!d.show}])},[e("div",be,[d.isShowHeader?(n(),o("div",Ie,[A(t.$slots,"header",{},()=>[F(e("img",{class:q({succed:d.imgUrl=="succeed"}),alt:""},null,2),[[k,l(ce)("wallet",d.imgUrl)]])],!0)])):_("v-if",!0),e("div",Re,[A(t.$slots,"title",{},()=>[e("h1",null,s(d.title),1)],!0)]),e("div",je,[A(t.$slots,"content",{},void 0,!0)]),d.showFooter?(n(),o("div",Ae,[A(t.$slots,"footer",{},()=>[e("button",{onClick:u[0]||(u[0]=()=>{g("confirm")})},s(d.confirmText||t.$t("confirm")),1),d.showCancelBtn?(n(),o("button",{key:0,onClick:u[1]||(u[1]=()=>{g("update:show",!1)})},s(d.cancelText||t.$t("cancel")),1)):_("v-if",!0)],!0)])):_("v-if",!0),d.showCloseIcon?(n(),o("img",{key:2,class:"close_img",src:l(de)("common","close"),onClick:p},null,8,Ue)):_("v-if",!0)]),e("div",{class:"dialog__outside",onClick:p})],2)}}});const Ne=H(qe,[["__scopeId","data-v-3e71d3da"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/components/common/Dialog.vue"]]),Oe={class:"championship"},He={class:"tabs"},Me=["onClick"],Ve=["onClick"],ze=["innerHTML"],Je=O({__name:"index",setup(d){const{tabList:g,serviceNowTime:v,type:p}=E(),{t:f}=Z(),t=G(),u=ae({state:1}),k=C([]),T=C(),y=C(!1),m=C(""),a=C(!1);J(a,r=>{var i;a.value&&((i=T.value)==null||i.resetRefresh())});function L(r){t.push({name:"Championship-ChampionshipDetail",query:{championId:r}})}function B(r){var i;u.state=r,(i=T.value)==null||i.resetRefresh()}function S(r){v.value=r.serviceNowTime}const $=C(null),R=async r=>{$.value&&clearTimeout($.value),$.value=setTimeout(async()=>{var h;if(r.isJoin)return;const i=await W(ve({championId:r.id}));if(i)if(i.code==0)oe(f("success")),(h=T.value)==null||h.resetRefresh();else if([803,804,805,807].includes(i.msgCode)&&i.data!=null)switch(y.value=!0,i.msgCode){case 803:m.value=f("cpsTip25",[i.data]);break;case 804:m.value=f("cpsTip26",[i.data]);break;case 805:m.value=f("cpsTip27",[p[i.data]]);break;case 807:let b=f("code807",["{0}","{1}","{2}"]);Object.values(i.data||{}).filter(Boolean).forEach((c,j)=>{b=b.replace(`{${j}}`,`<span>${c}</span>`)}),m.value=b;break;default:m.value=f(`code${i.msgCode}`)}else{y.value=!0;let b=f(`code${i.msgCode}`,["{0}"]);Object.values(i.data||{}).filter(Boolean).forEach((c,j)=>{b=b.replace(`{${j}}`,`<span>${c}</span>`)}),m.value=b}},100)},W=async r=>await r.then(h=>h&&h.code!==0?[803,804,805,806,807].includes(h.msgCode)?h:(K(h),null):h).catch(h=>([806].includes(h.msgCode)||K(h),h));return(r,i)=>{const h=V("NavBar"),b=V("van-sticky");return n(),o("div",Oe,[w(b,null,{default:U(()=>[w(h,{title:r.$t("cpsTip1"),"left-arrow":"",onClickLeft:i[0]||(i[0]=()=>l(t).back())},null,8,["title"]),e("div",He,[(n(!0),o(D,null,N(l(g),c=>(n(),o("div",{key:c.key,class:q({active:u.state==c.key}),onClick:j=>B(c.key)},s(c.title),11,Me))),128))])]),_:1}),w(_e,{list:k.value,"onUpdate:list":i[2]||(i[2]=c=>k.value=c),api:l(pe),"page-query":u,"onUpdate:pageQuery":i[3]||(i[3]=c=>u=c),distance:100,ref_key:"listRef",ref:T,"is-auto-load":!0,onListChange:S},{content:U(()=>[(n(!0),o(D,null,N(k.value,c=>(n(),o("div",{key:c.id},[w(x,{itemD:c,state:c.state,isRefresh:a.value,"onUpdate:isRefresh":i[1]||(i[1]=j=>a.value=j),onClick:j=>L(c.id)},null,8,["itemD","state","isRefresh","onClick"]),[1].includes(c.state)?(n(),o("div",{key:0,class:q(["btn",{active:!c.isJoin}]),onClick:j=>R(c)},s(c.isJoin?r.$t("cpsTip8"):r.$t("cpsTip9")),11,Ve)):_("v-if",!0)]))),128))]),_:1},8,["list","api","page-query"]),w(Ne,{show:y.value,"onUpdate:show":i[4]||(i[4]=c=>y.value=c),onConfirm:i[5]||(i[5]=()=>y.value=!1),showCancelBtn:!1,showCloseIcon:!0,clickOutSide:!0},{content:U(()=>[e("h1",{class:"championship-tips",innerHTML:m.value},null,8,ze)]),_:1},8,["show"])])}}});const Ee=H(Je,[["__scopeId","data-v-5ffc4111"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/activity/Championship/index.vue"]]),Dt=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"})),Pe={class:"title"},We={class:"con"},Fe=["innerHTML"],Ge=["innerHTML"],Qe={class:"condition"},Ke={key:0},Xe={key:1},Ye={key:2},Ze={class:"ranking"},xe={class:"top"},et=O({__name:"rule",props:{data:{type:null,required:!1}},setup(d){const{t:g}=Z(),v=C(["0"]),{type:p}=E();function f(t,u){return t==u?g("cpsTip20",[t]):g("cpsTip21",[t,u])}return(t,u)=>{const k=V("van-collapse-item"),T=V("van-collapse");return n(),z(T,{modelValue:v.value,"onUpdate:modelValue":u[0]||(u[0]=y=>v.value=y),class:"rule"},{default:U(()=>[w(k,{name:"1"},{title:U(()=>[e("div",Pe,s(t.$t("cpsTip5").toLocaleUpperCase()),1)]),default:U(()=>[e("div",We,[e("h1",null,[e("span",null,s(t.$t("cpsTip11")),1)]),e("div",{innerHTML:t.$t("cpsTip12",[t.data.vendorCode,t.data.startTime,t.data.endTime])},null,8,Fe),e("h1",null,[e("span",null,s(t.$t("awardAmount")),1)]),e("div",null,[M(s(t.$t("cpsTip13")),1),e("span",null,s(l(I)(t.data.sumBonus||0)),1)]),e("h1",null,[e("span",null,s(t.$t("cpsTip14")),1)]),e("div",null,[e("div",{innerHTML:t.$t("cpsTip15",[t.data.vendorCode])},null,8,Ge),e("div",Qe,[t.data.conditionsBetAmount>0?(n(),o("p",Ke,[M(s(t.$t("betAmounts"))+" ",1),e("span",null,s(l(I)(t.data.conditionsBetAmount||0)),1)])):_("v-if",!0),t.data.conditionsRechargeAmount>0?(n(),o("p",Xe,[M(s(t.$t("rechageAmount"))+" ",1),e("span",null,s(l(I)(t.data.conditionsRechargeAmount||0)),1)])):_("v-if",!0),t.data.conditionsBindType?(n(),o("p",Ye,[M(s(t.$t("toBind"))+" ",1),e("span",null,s(l(p)[t.data.conditionsBindType]),1)])):_("v-if",!0),t.data.conditionsBetAmount==0&&t.data.conditionsRechargeAmount==0&&!t.data.conditionsBindType?(n(),o(D,{key:3},[M(s(t.$t("cpsTip10")),1)],64)):_("v-if",!0)])]),e("h1",null,[e("span",null,s(t.$t("binguoPaimin")),1)]),e("div",Ze,[e("div",xe,[e("span",null,s(t.$t("binguoPaimin")),1),e("span",null,s(t.$t("k3WarningTip4")),1)]),(n(!0),o(D,null,N(t.data.rankingAwardsList,(y,m)=>(n(),o("div",{class:"info",key:m},[e("span",null,s(f(y.startRanking,y.endRanking)),1),e("span",null,s(l(I)(y.awardsAmount||0)),1)]))),128)),t.data.rankingAwardsList.length==0?(n(),z(Q,{key:0})):_("v-if",!0)]),e("h1",null,[e("span",null,s(t.$t("cpsTip16")),1)]),e("div",null,[e("p",null,s(t.$t("cpsTip17")),1),e("p",null,s(t.$t("cpsTip18")),1)]),e("h1",null,[e("span",null,s(t.$t("cpsTip19")),1)]),e("p",null,[e("span",null,s(t.data.vendorCode),1)])])]),_:1})]),_:1},8,["modelValue"])}}});const tt=H(et,[["__scopeId","data-v-5c0f1c84"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/components/Activity/Championship/rule.vue"]]),st={class:"game"},nt={class:"items"},at=["onClick"],ot=["onClick"],it=O({__name:"game",props:{data:{type:null,required:!1},arLotteryList:{type:null,required:!1}},setup(d){const{onItemClick:g}=fe();return G(),(v,p)=>{const f=Y("lazy");return n(),o("div",st,[e("h1",null,s(v.$t("cpsTip22")),1),e("div",nt,[(n(!0),o(D,null,N(v.data,t=>(n(),o("div",{class:"item",key:t.gameID,onClick:u=>l(g)(t)},[F(e("img",null,null,512),[[f,t.img]])],8,at))),128)),(n(!0),o(D,null,N(v.arLotteryList,(t,u)=>(n(),o("div",{class:"lottery",key:u,onClick:k=>l(g)(t)},s(t.title),9,ot))),128)),v.data.length==0&&v.arLotteryList.length==0?(n(),z(Q,{key:0})):_("v-if",!0)])])}}});const lt=H(it,[["__scopeId","data-v-303ee053"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/components/Activity/Championship/game.vue"]]),P=d=>(ue("data-v-a9d644da"),d=d(),re(),d),ut={class:"ChampionshipDetail"},rt={class:"ranking"},ct={class:"title"},dt={class:"amount"},pt=P(()=>e("span",null,"--",-1)),vt=P(()=>e("span",null,"--",-1)),ft=P(()=>e("span",null,"--",-1)),_t={class:"rankingList"},mt={class:"title"},ht=P(()=>e("span",null,"TOP",-1)),gt={key:0,class:"txt"},yt={class:"refresh"},$t=O({__name:"index",setup(d){const{tabList:g,getChampionTaskDetailV:v,championTaskDetailVO:p,getTop10UserList:f,top10UserListVO:t,thirdGameListVO:u,arLotteryList:k}=E(),T=G(),y=X(()=>{var $;return p.value?($=g.find(R=>R.key==p.value.state))==null?void 0:$.title:""}),m=C(),a=C(!1),L=C(null);function B(){v(m.value)}J(a,$=>{a.value&&B()});const S=()=>{f(m.value)};return ie(()=>{m.value=Number(T.currentRoute.value.query.championId)||0,m.value!=0&&(B(),S(),L.value=setInterval(S,10*60*1e3))}),le(()=>{clearInterval(L.value)}),($,R)=>{const W=V("NavBar");return n(),o("div",ut,[w(W,{title:y.value,"left-arrow":"",onClickLeft:R[0]||(R[0]=()=>l(T).back())},null,8,["title"]),JSON.stringify(l(p))!=="{}"?(n(),o(D,{key:0},[w(x,{itemD:l(p),state:l(p).state,isRefresh:a.value,"onUpdate:isRefresh":R[1]||(R[1]=r=>a.value=r)},null,8,["itemD","state","isRefresh"]),e("div",rt,[e("div",ct,[e("span",null,s($.$t("binguoPaimin")),1),e("span",null,s($.$t("betAmounts")),1),e("span",null,s($.$t("k3WarningTip4")),1)]),e("div",dt,[l(p)&&l(p).userJoinInfo?(n(),o(D,{key:0},[e("span",null,s(l(p).userJoinInfo.ranking),1),e("span",null,s(l(I)(l(p).userJoinInfo.sumBetAmount||0)),1),e("span",null,s(l(I)(l(p).userJoinInfo.awardsAmount||0)),1)],64)):(n(),o(D,{key:1},[pt,vt,ft],64))])])],64)):_("v-if",!0),e("div",_t,[e("div",mt,[ht,e("span",null,s($.$t("account")),1),e("span",null,s($.$t("betAmounts")),1),e("span",null,s($.$t("k3WarningTip4")),1)]),(n(!0),o(D,null,N(l(t),(r,i)=>(n(),o("div",{class:"info",key:i},[[1,2,3].includes(r.ranking)?(n(),o("span",{key:1,class:q(`top${r.ranking}`)},null,2)):(n(),o("span",gt,s(r.ranking),1)),e("span",null,s(r.userName),1),e("span",null,s(l(I)(r.sumBetAmount||0)),1),e("span",null,s(l(I)(r.awardsAmount||0)),1)]))),128)),e("div",yt,s($.$t("cpsTip28")),1),l(t).length==0?(n(),z(Q,{key:0})):_("v-if",!0)]),w(tt,{data:l(p)},null,8,["data"]),w(lt,{data:l(u),arLotteryList:l(k)},null,8,["data","arLotteryList"])])}}});const kt=H($t,[["__scopeId","data-v-a9d644da"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/activity/Championship/ChampionshipDetail/index.vue"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"}));export{x as C,Ne as D,Lt as a,Dt as i};
