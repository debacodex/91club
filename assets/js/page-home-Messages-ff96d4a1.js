import{G as L,z as j,r as g,R as B,C as N,H as x,I as p,Q as m,O as i,au as W,N as r,K as E,M as G,J as e,an as h,P as c,a1 as T,at as M,aV as w,aD as R,n as $}from"./common.modules-6670d68a.js";import{a4 as V,G as q,aW as A,aX as z,B as Q,aY as H,A as F,aZ as S,_ as O,a3 as J}from"./page-activity-ActivityDetail-88cfafe3.js";import{L as K}from"./page-activity-DailySignIn-536599e7.js";const X={class:"sysMessage__container"},Y={class:"sysMessage__container-msgWrapper__item-title"},Z={class:"sysMessage__container-msgWrapper__item-time"},ee={class:"sysMessage__container-msgWrapper__item-content"},se=L({__name:"index",setup(P){const{t:n}=j(),{setLoading:l}=V(),_=g(),s=q(),v=B(),f=g(!1),o=g([]),D=A(),y=g({pageSize:25});function C(){v.back()}async function I(){const u=A();await z({state:1}).then(a=>{a&&u.setReadState(!0)}).catch(a=>{})}function U(u){T({title:n("warning"),message:n("warningTxt1")}).then(async()=>{if(await F(S({messageID:u.messageID,state:2}))){let k=o.value;o.value=k.filter(d=>d.messageID!==u.messageID)}})}const b=s.getUserInfo;return N(async()=>{l(!0),await I(),l(!1),_.value.resetRefresh(),b.unRead=0,s.setUserInfo({...b}),D.setReadState(!0)}),(u,a)=>{const k=x("NavBar"),d=x("svg-icon");return r(),p("div",X,[m(k,{title:i(n)("notifications"),backgroundColor:"#f7f8ff","left-arrow":"",onClickLeft:C},null,8,["title"]),m(K,{ref_key:"msgWrapperRef",ref:_,list:o.value,"onUpdate:list":a[0]||(a[0]=t=>o.value=t),"page-query":y.value,"onUpdate:pageQuery":a[1]||(a[1]=t=>y.value=t),api:i(H),distance:100,isAutoLoad:f.value},{content:W(()=>[(r(!0),p(E,null,G(o.value,t=>(r(),p("div",{class:"sysMessage__container-msgWrapper__item",key:t.messageID},[e("div",Y,[h(' <component :is="item.state === 0 ? icons.messageIconRed : icons.messageIconIsRead" /> '),e("div",null,[m(d,{class:"svg",name:t.state===0?"messageIconRed":"notification"},null,8,["name"]),e("span",null,c(i(Q)(t.title,20)),1)]),m(d,{class:"svg",name:"messageGarbage",onClick:le=>U(t)},null,8,["onClick"]),h(` <component\r
							:is="icons.messageGarbage"\r
							@click="($event: Event) => { $event.stopPropagation(); onDeleteClick(item) }"\r
						/> `)]),e("div",Z,c(t.addTime),1),e("div",ee,c(t.messages),1)]))),128))]),_:1},8,["list","page-query","api","isAutoLoad"])])}}});const te=O(se,[["__scopeId","data-v-8084bf25"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/home/Messages/index.vue"]]),me=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),ae={class:"messageDetail__container content"},ne={class:"messageDetail__container-wrapper"},oe={class:"messageDetail__container-title"},ie={class:"messageDetail__container-content"},re=L({__name:"index",setup(P){const{t:n}=j(),l=J(),_=B(),s=g({}),v=R(()=>$(()=>import("./messageIconNoDot-e4adda8e.js"),["assets/js/messageIconNoDot-e4adda8e.js","assets/js/common.modules-6670d68a.js","assets/css/common-e210f711.css","assets/js/page-activity-ActivityDetail-88cfafe3.js","assets/js/page-turntable-assets-0cfb722e.js","assets/js/native/index-9800af95.js","assets/js/en-438265e0.js","assets/css/page-activity-ActivityDetail-a597c4a3.css"])),f=R(()=>$(()=>import("./messageGarbage-d3005b18.js"),["assets/js/messageGarbage-d3005b18.js","assets/js/common.modules-6670d68a.js","assets/css/common-e210f711.css","assets/js/page-activity-ActivityDetail-88cfafe3.js","assets/js/page-turntable-assets-0cfb722e.js","assets/js/native/index-9800af95.js","assets/js/en-438265e0.js","assets/css/page-activity-ActivityDetail-a597c4a3.css"]));function o(){_.back()}function D(){T({title:n("warning"),message:n("warningTxt1")}).then(()=>{S({messageID:s.value.messageID,state:2}),_.back()})}return N(async()=>{s.value=l.getMessagesDetail,s.value.state!==1&&(await S({messageID:s.value.messageID,state:1}),l.setMessageDetail({...s.value,state:1}))}),(y,C)=>{const I=x("NavBar");return r(),p("div",ae,[m(I,{"left-arrow":"",onClickLeft:o,title:i(n)("notificationDetails")},null,8,["title"]),e("div",ne,[e("div",oe,[e("div",null,[e("div",null,[(r(),M(w(i(v)))),e("span",null,c(s.value.title),1)]),e("span",null,c(s.value.addTime),1)]),(r(),M(w(i(f)),{onClick:D}))]),e("div",ie,c(s.value.messages),1)])])}}});const ce=O(re,[["__scopeId","data-v-e5380132"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/home/Messages/MessageDetail/index.vue"]]),de=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{de as a,me as i};
