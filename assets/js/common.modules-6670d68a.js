const h5="modulepreload",p5=function(t){return"/"+t},M2={},Df=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=p5(o),o in M2)return;M2[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":h5,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function ss(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const mt=Object.freeze({}),Ec=Object.freeze([]),An=()=>{},GP=()=>!1,g5=/^on[^a-z]/,iu=t=>g5.test(t),Dp=t=>t.startsWith("onUpdate:"),ft=Object.assign,ix=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},m5=Object.prototype.hasOwnProperty,Qe=(t,e)=>m5.call(t,e),Se=Array.isArray,ja=t=>ou(t)==="[object Map]",Cl=t=>ou(t)==="[object Set]",D2=t=>ou(t)==="[object Date]",v5=t=>ou(t)==="[object RegExp]",Fe=t=>typeof t=="function",It=t=>typeof t=="string",Bf=t=>typeof t=="symbol",nt=t=>t!==null&&typeof t=="object",L0=t=>nt(t)&&Fe(t.then)&&Fe(t.catch),HP=Object.prototype.toString,ou=t=>HP.call(t),ox=t=>ou(t).slice(8,-1),VP=t=>ou(t)==="[object Object]",sx=t=>It(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,of=ss(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),y5=ss("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),$0=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},_5=/-(\w)/g,Pn=$0(t=>t.replace(_5,(e,r)=>r?r.toUpperCase():"")),x5=/\B([A-Z])/g,Sn=$0(t=>t.replace(x5,"-$1").toLowerCase()),Ks=$0(t=>t.charAt(0).toUpperCase()+t.slice(1)),No=$0(t=>t?`on${Ks(t)}`:""),Dc=(t,e)=>!Object.is(t,e),Ps=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Bp=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},kp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Np=t=>{const e=It(t)?Number(t):NaN;return isNaN(e)?t:e};let B2;const Fp=()=>B2||(B2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),b5="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",w5=ss(b5);function yd(t){if(Se(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=It(n)?A5(n):yd(n);if(i)for(const o in i)e[o]=i[o]}return e}else{if(It(t))return t;if(nt(t))return t}}const E5=/;(?![^(]*\))/g,S5=/:([^]+)/,C5=/\/\*[^]*?\*\//g;function A5(t){const e={};return t.replace(C5,"").split(E5).forEach(r=>{if(r){const n=r.split(S5);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function _d(t){let e="";if(It(t))e=t;else if(Se(t))for(let r=0;r<t.length;r++){const n=_d(t[r]);n&&(e+=n+" ")}else if(nt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function T5(t){if(!t)return null;let{class:e,style:r}=t;return e&&!It(e)&&(t.class=_d(e)),r&&(t.style=yd(r)),t}const P5="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",I5="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",O5=ss(P5),R5=ss(I5),M5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",D5=ss(M5);function zP(t){return!!t||t===""}function B5(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=qs(t[n],e[n]);return r}function qs(t,e){if(t===e)return!0;let r=D2(t),n=D2(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Bf(t),n=Bf(e),r||n)return t===e;if(r=Se(t),n=Se(e),r||n)return r&&n?B5(t,e):!1;if(r=nt(t),n=nt(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!qs(t[s],e[s]))return!1}}return String(t)===String(e)}function U0(t,e){return t.findIndex(r=>qs(r,e))}const k5=t=>It(t)?t:t==null?"":Se(t)||nt(t)&&(t.toString===HP||!Fe(t.toString))?JSON.stringify(t,jP,2):String(t),jP=(t,e)=>e&&e.__v_isRef?jP(t,e.value):ja(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:Cl(e)?{[`Set(${e.size})`]:[...e.values()]}:nt(e)&&!Se(e)&&!VP(e)?String(e):e;function Lp(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let $n;class ax{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$n,!e&&$n&&(this.index=($n.scopes||($n.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=$n;try{return $n=this,e()}finally{$n=r}}else Lp("cannot run an inactive effect scope.")}on(){$n=this}off(){$n=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function xd(t){return new ax(t)}function WP(t,e=$n){e&&e.active&&e.effects.push(t)}function bd(){return $n}function lx(t){$n?$n.cleanups.push(t):Lp("onScopeDispose() is called when there is no active effect scope to be associated with.")}const cx=t=>{const e=new Set(t);return e.w=0,e.n=0,e},XP=t=>(t.w&Zs)>0,YP=t=>(t.n&Zs)>0,N5=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Zs},F5=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const i=e[n];XP(i)&&!YP(i)?i.delete(t):e[r++]=i,i.w&=~Zs,i.n&=~Zs}e.length=r}},$p=new WeakMap;let Xu=0,Zs=1;const D1=30;let cn;const Wa=Symbol("iterate"),B1=Symbol("Map key iterate");class wd{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,WP(this,n)}run(){if(!this.active)return this.fn();let e=cn,r=$s;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=cn,cn=this,$s=!0,Zs=1<<++Xu,Xu<=D1?N5(this):k2(this),this.fn()}finally{Xu<=D1&&F5(this),Zs=1<<--Xu,cn=this.parent,$s=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cn===this?this.deferStop=!0:this.active&&(k2(this),this.onStop&&this.onStop(),this.active=!1)}}function k2(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function L5(t,e){t.effect&&(t=t.effect.fn);const r=new wd(t);e&&(ft(r,e),e.scope&&WP(r,e.scope)),(!e||!e.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function $5(t){t.effect.stop()}let $s=!0;const KP=[];function Al(){KP.push($s),$s=!1}function Tl(){const t=KP.pop();$s=t===void 0?!0:t}function Qr(t,e,r){if($s&&cn){let n=$p.get(t);n||$p.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=cx()),qP(i,{effect:cn,target:t,type:e,key:r})}}function qP(t,e){let r=!1;Xu<=D1?YP(t)||(t.n|=Zs,r=!XP(t)):r=!t.has(cn),r&&(t.add(cn),cn.deps.push(t),cn.onTrack&&cn.onTrack(ft({effect:cn},e)))}function co(t,e,r,n,i,o){const s=$p.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(r==="length"&&Se(t)){const c=Number(n);s.forEach((u,f)=>{(f==="length"||f>=c)&&a.push(u)})}else switch(r!==void 0&&a.push(s.get(r)),e){case"add":Se(t)?sx(r)&&a.push(s.get("length")):(a.push(s.get(Wa)),ja(t)&&a.push(s.get(B1)));break;case"delete":Se(t)||(a.push(s.get(Wa)),ja(t)&&a.push(s.get(B1)));break;case"set":ja(t)&&a.push(s.get(Wa));break}const l={target:t,type:e,key:r,newValue:n,oldValue:i,oldTarget:o};if(a.length===1)a[0]&&k1(a[0],l);else{const c=[];for(const u of a)u&&c.push(...u);k1(cx(c),l)}}function k1(t,e){const r=Se(t)?t:[...t];for(const n of r)n.computed&&N2(n,e);for(const n of r)n.computed||N2(n,e)}function N2(t,e){(t!==cn||t.allowRecurse)&&(t.onTrigger&&t.onTrigger(ft({effect:t},e)),t.scheduler?t.scheduler():t.run())}function U5(t,e){var r;return(r=$p.get(t))==null?void 0:r.get(e)}const G5=ss("__proto__,__v_isRef,__isVue"),ZP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bf)),H5=G0(),V5=G0(!1,!0),z5=G0(!0),j5=G0(!0,!0),F2=W5();function W5(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Ue(this);for(let o=0,s=this.length;o<s;o++)Qr(n,"get",o+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(Ue)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Al();const n=Ue(this)[e].apply(this,r);return Tl(),n}}),t}function X5(t){const e=Ue(this);return Qr(e,"has",t),e.hasOwnProperty(t)}function G0(t=!1,e=!1){return function(n,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?oI:iI:e?nI:rI).get(n))return n;const s=Se(n);if(!t){if(s&&Qe(F2,i))return Reflect.get(F2,i,o);if(i==="hasOwnProperty")return X5}const a=Reflect.get(n,i,o);return(Bf(i)?ZP.has(i):G5(i))||(t||Qr(n,"get",i),e)?a:vt(a)?s&&sx(i)?a:a.value:nt(a)?t?Pl(a):Bt(a):a}}const Y5=JP(),K5=JP(!0);function JP(t=!1){return function(r,n,i,o){let s=r[n];if(Jo(s)&&vt(s)&&!vt(i))return!1;if(!t&&(!kf(i)&&!Jo(i)&&(s=Ue(s),i=Ue(i)),!Se(r)&&vt(s)&&!vt(i)))return s.value=i,!0;const a=Se(r)&&sx(n)?Number(n)<r.length:Qe(r,n),l=Reflect.set(r,n,i,o);return r===Ue(o)&&(a?Dc(i,s)&&co(r,"set",n,i,s):co(r,"add",n,i)),l}}function q5(t,e){const r=Qe(t,e),n=t[e],i=Reflect.deleteProperty(t,e);return i&&r&&co(t,"delete",e,void 0,n),i}function Z5(t,e){const r=Reflect.has(t,e);return(!Bf(e)||!ZP.has(e))&&Qr(t,"has",e),r}function J5(t){return Qr(t,"iterate",Se(t)?"length":Wa),Reflect.ownKeys(t)}const QP={get:H5,set:Y5,deleteProperty:q5,has:Z5,ownKeys:J5},eI={get:z5,set(t,e){return Lp(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return Lp(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},Q5=ft({},QP,{get:V5,set:K5}),eF=ft({},eI,{get:j5}),ux=t=>t,H0=t=>Reflect.getPrototypeOf(t);function th(t,e,r=!1,n=!1){t=t.__v_raw;const i=Ue(t),o=Ue(e);r||(e!==o&&Qr(i,"get",e),Qr(i,"get",o));const{has:s}=H0(i),a=n?ux:r?fx:Ff;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function rh(t,e=!1){const r=this.__v_raw,n=Ue(r),i=Ue(t);return e||(t!==i&&Qr(n,"has",t),Qr(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function nh(t,e=!1){return t=t.__v_raw,!e&&Qr(Ue(t),"iterate",Wa),Reflect.get(t,"size",t)}function L2(t){t=Ue(t);const e=Ue(this);return H0(e).has.call(e,t)||(e.add(t),co(e,"add",t,t)),this}function $2(t,e){e=Ue(e);const r=Ue(this),{has:n,get:i}=H0(r);let o=n.call(r,t);o?tI(r,n,t):(t=Ue(t),o=n.call(r,t));const s=i.call(r,t);return r.set(t,e),o?Dc(e,s)&&co(r,"set",t,e,s):co(r,"add",t,e),this}function U2(t){const e=Ue(this),{has:r,get:n}=H0(e);let i=r.call(e,t);i?tI(e,r,t):(t=Ue(t),i=r.call(e,t));const o=n?n.call(e,t):void 0,s=e.delete(t);return i&&co(e,"delete",t,void 0,o),s}function G2(){const t=Ue(this),e=t.size!==0,r=ja(t)?new Map(t):new Set(t),n=t.clear();return e&&co(t,"clear",void 0,void 0,r),n}function ih(t,e){return function(n,i){const o=this,s=o.__v_raw,a=Ue(s),l=e?ux:t?fx:Ff;return!t&&Qr(a,"iterate",Wa),s.forEach((c,u)=>n.call(i,l(c),l(u),o))}}function oh(t,e,r){return function(...n){const i=this.__v_raw,o=Ue(i),s=ja(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=i[t](...n),u=r?ux:e?fx:Ff;return!e&&Qr(o,"iterate",l?B1:Wa),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function ds(t){return function(...e){{const r=e[0]?`on key "${e[0]}" `:"";console.warn(`${Ks(t)} operation ${r}failed: target is readonly.`,Ue(this))}return t==="delete"?!1:this}}function tF(){const t={get(o){return th(this,o)},get size(){return nh(this)},has:rh,add:L2,set:$2,delete:U2,clear:G2,forEach:ih(!1,!1)},e={get(o){return th(this,o,!1,!0)},get size(){return nh(this)},has:rh,add:L2,set:$2,delete:U2,clear:G2,forEach:ih(!1,!0)},r={get(o){return th(this,o,!0)},get size(){return nh(this,!0)},has(o){return rh.call(this,o,!0)},add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear"),forEach:ih(!0,!1)},n={get(o){return th(this,o,!0,!0)},get size(){return nh(this,!0)},has(o){return rh.call(this,o,!0)},add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear"),forEach:ih(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=oh(o,!1,!1),r[o]=oh(o,!0,!1),e[o]=oh(o,!1,!0),n[o]=oh(o,!0,!0)}),[t,r,e,n]}const[rF,nF,iF,oF]=tF();function V0(t,e){const r=e?t?oF:iF:t?nF:rF;return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Qe(r,i)&&i in n?r:n,i,o)}const sF={get:V0(!1,!1)},aF={get:V0(!1,!0)},lF={get:V0(!0,!1)},cF={get:V0(!0,!0)};function tI(t,e,r){const n=Ue(r);if(n!==r&&e.call(t,n)){const i=ox(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const rI=new WeakMap,nI=new WeakMap,iI=new WeakMap,oI=new WeakMap;function uF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fF(t){return t.__v_skip||!Object.isExtensible(t)?0:uF(ox(t))}function Bt(t){return Jo(t)?t:z0(t,!1,QP,sF,rI)}function sI(t){return z0(t,!1,Q5,aF,nI)}function Pl(t){return z0(t,!0,eI,lF,iI)}function pc(t){return z0(t,!0,eF,cF,oI)}function z0(t,e,r,n,i){if(!nt(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=fF(t);if(s===0)return t;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function Bi(t){return Jo(t)?Bi(t.__v_raw):!!(t&&t.__v_isReactive)}function Jo(t){return!!(t&&t.__v_isReadonly)}function kf(t){return!!(t&&t.__v_isShallow)}function Nf(t){return Bi(t)||Jo(t)}function Ue(t){const e=t&&t.__v_raw;return e?Ue(e):t}function ro(t){return Bp(t,"__v_skip",!0),t}const Ff=t=>nt(t)?Bt(t):t,fx=t=>nt(t)?Pl(t):t;function dx(t){$s&&cn&&(t=Ue(t),qP(t.dep||(t.dep=cx()),{target:t,type:"get",key:"value"}))}function j0(t,e){t=Ue(t);const r=t.dep;r&&k1(r,{target:t,type:"set",key:"value",newValue:e})}function vt(t){return!!(t&&t.__v_isRef===!0)}function Z(t){return aI(t,!1)}function W0(t){return aI(t,!0)}function aI(t,e){return vt(t)?t:new dF(t,e)}class dF{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Ue(e),this._value=r?e:Ff(e)}get value(){return dx(this),this._value}set value(e){const r=this.__v_isShallow||kf(e)||Jo(e);e=r?e:Ue(e),Dc(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Ff(e),j0(this,e))}}function hF(t){j0(t,t.value)}function dn(t){return vt(t)?t.value:t}function pF(t){return Fe(t)?t():dn(t)}const gF={get:(t,e,r)=>dn(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return vt(i)&&!vt(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function hx(t){return Bi(t)?t:new Proxy(t,gF)}class mF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=e(()=>dx(this),()=>j0(this));this._get=r,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function lI(t){return new mF(t)}function N1(t){Nf(t)||console.warn("toRefs() expects a reactive object but received a plain one.");const e=Se(t)?new Array(t.length):{};for(const r in t)e[r]=cI(t,r);return e}class vF{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return U5(Ue(this._object),this._key)}}class yF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function sf(t,e,r){return vt(t)?t:Fe(t)?new yF(t):nt(t)&&arguments.length>1?cI(t,e,r):Z(t)}function cI(t,e,r){const n=t[e];return vt(n)?n:new vF(t,e,r)}class _F{constructor(e,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new wd(e,()=>{this._dirty||(this._dirty=!0,j0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=Ue(this);return dx(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function xF(t,e,r=!1){let n,i;const o=Fe(t);o?(n=t,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(n=t.get,i=t.set);const s=new _F(n,i,o||!i,r);return e&&!r&&(s.effect.onTrack=e.onTrack,s.effect.onTrigger=e.onTrigger),s}const Xa=[];function af(t){Xa.push(t)}function lf(){Xa.pop()}function se(t,...e){Al();const r=Xa.length?Xa[Xa.length-1].component:null,n=r&&r.appContext.config.warnHandler,i=bF();if(n)oo(n,r,11,[t+e.join(""),r&&r.proxy,i.map(({vnode:o})=>`at <${ig(r,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${t}`,...e];i.length&&o.push(`
`,...wF(i)),console.warn(...o)}Tl()}function bF(){let t=Xa[Xa.length-1];if(!t)return[];const e=[];for(;t;){const r=e[0];r&&r.vnode===t?r.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function wF(t){const e=[];return t.forEach((r,n)=>{e.push(...n===0?[]:[`
`],...EF(r))}),e}function EF({vnode:t,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",n=t.component?t.component.parent==null:!1,i=` at <${ig(t.component,t.type,n)}`,o=">"+r;return t.props?[i,...SF(t.props),o]:[i+o]}function SF(t){const e=[],r=Object.keys(t);return r.slice(0,3).forEach(n=>{e.push(...uI(n,t[n]))}),r.length>3&&e.push(" ..."),e}function uI(t,e,r){return It(e)?(e=JSON.stringify(e),r?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${t}=${e}`]:vt(e)?(e=uI(t,Ue(e.value),!0),r?e:[`${t}=Ref<`,e,">"]):Fe(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ue(e),r?e:[`${t}=`,e])}function px(t,e){t!==void 0&&(typeof t!="number"?se(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&se(`${e} is NaN - the duration expression might be incorrect.`))}const gx={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function oo(t,e,r,n){let i;try{i=n?t(...n):t()}catch(o){Il(o,e,r)}return i}function Vn(t,e,r,n){if(Fe(t)){const o=oo(t,e,r,n);return o&&L0(o)&&o.catch(s=>{Il(s,e,r)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Vn(t[o],e,r,n));return i}function Il(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=gx[r];for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){oo(l,null,10,[t,s,a]);return}}CF(t,r,i,n)}function CF(t,e,r,n=!0){{const i=gx[e];if(r&&af(r),se(`Unhandled error${i?` during execution of ${i}`:""}`),r&&lf(),n)throw t;console.error(t)}}let Lf=!1,F1=!1;const Yr=[];let eo=0;const Sc=[];let Ki=null,Ss=0;const fI=Promise.resolve();let mx=null;const AF=100;function Ye(t){const e=mx||fI;return t?e.then(this?t.bind(this):t):e}function TF(t){let e=eo+1,r=Yr.length;for(;e<r;){const n=e+r>>>1;$f(Yr[n])<t?e=n+1:r=n}return e}function Ed(t){(!Yr.length||!Yr.includes(t,Lf&&t.allowRecurse?eo+1:eo))&&(t.id==null?Yr.push(t):Yr.splice(TF(t.id),0,t),dI())}function dI(){!Lf&&!F1&&(F1=!0,mx=fI.then(hI))}function PF(t){const e=Yr.indexOf(t);e>eo&&Yr.splice(e,1)}function X0(t){Se(t)?Sc.push(...t):(!Ki||!Ki.includes(t,t.allowRecurse?Ss+1:Ss))&&Sc.push(t),dI()}function H2(t,e=Lf?eo+1:0){for(t=t||new Map;e<Yr.length;e++){const r=Yr[e];if(r&&r.pre){if(vx(t,r))continue;Yr.splice(e,1),e--,r()}}}function Up(t){if(Sc.length){const e=[...new Set(Sc)];if(Sc.length=0,Ki){Ki.push(...e);return}for(Ki=e,t=t||new Map,Ki.sort((r,n)=>$f(r)-$f(n)),Ss=0;Ss<Ki.length;Ss++)vx(t,Ki[Ss])||Ki[Ss]();Ki=null,Ss=0}}const $f=t=>t.id==null?1/0:t.id,IF=(t,e)=>{const r=$f(t)-$f(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function hI(t){F1=!1,Lf=!0,t=t||new Map,Yr.sort(IF);const e=r=>vx(t,r);try{for(eo=0;eo<Yr.length;eo++){const r=Yr[eo];if(r&&r.active!==!1){if(e(r))continue;oo(r,null,14)}}}finally{eo=0,Yr.length=0,Up(t),Lf=!1,mx=null,(Yr.length||Sc.length)&&hI(t)}}function vx(t,e){if(!t.has(e))t.set(e,1);else{const r=t.get(e);if(r>AF){const n=e.ownerInstance,i=n&&zf(n.type);return se(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(e,r+1)}}let Us=!1;const cc=new Set;Fp().__VUE_HMR_RUNTIME__={createRecord:lm(pI),rerender:lm(MF),reload:lm(DF)};const nl=new Map;function OF(t){const e=t.type.__hmrId;let r=nl.get(e);r||(pI(e,t.type),r=nl.get(e)),r.instances.add(t)}function RF(t){nl.get(t.type.__hmrId).instances.delete(t)}function pI(t,e){return nl.has(t)?!1:(nl.set(t,{initialDef:cf(e),instances:new Set}),!0)}function cf(t){return i4(t)?t.__vccOpts:t}function MF(t,e){const r=nl.get(t);r&&(r.initialDef.render=e,[...r.instances].forEach(n=>{e&&(n.render=e,cf(n.type).render=e),n.renderCache=[],Us=!0,n.update(),Us=!1}))}function DF(t,e){const r=nl.get(t);if(!r)return;e=cf(e),V2(r.initialDef,e);const n=[...r.instances];for(const i of n){const o=cf(i.type);cc.has(o)||(o!==r.initialDef&&V2(o,e),cc.add(o)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(cc.add(o),i.ceReload(e.styles),cc.delete(o)):i.parent?Ed(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}X0(()=>{for(const i of n)cc.delete(cf(i.type))})}function V2(t,e){ft(t,e);for(const r in t)r!=="__file"&&!(r in e)&&delete t[r]}function lm(t){return(e,r)=>{try{return t(e,r)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Ci,Yu=[],L1=!1;function Sd(t,...e){Ci?Ci.emit(t,...e):L1||Yu.push({event:t,args:e})}function yx(t,e){var r,n;Ci=t,Ci?(Ci.enabled=!0,Yu.forEach(({event:i,args:o})=>Ci.emit(i,...o)),Yu=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{yx(o,e)}),setTimeout(()=>{Ci||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,L1=!0,Yu=[])},3e3)):(L1=!0,Yu=[])}function BF(t,e){Sd("app:init",t,e,{Fragment:$t,Text:uo,Comment:tr,Static:Gs})}function kF(t){Sd("app:unmount",t)}const $1=_x("component:added"),gI=_x("component:updated"),NF=_x("component:removed"),FF=t=>{Ci&&typeof Ci.cleanupBuffer=="function"&&!Ci.cleanupBuffer(t)&&NF(t)};function _x(t){return e=>{Sd(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const LF=mI("perf:start"),$F=mI("perf:end");function mI(t){return(e,r,n)=>{Sd(t,e.appContext.app,e.uid,e,r,n)}}function UF(t,e,r){Sd("component:emit",t.appContext.app,t,e,r)}function GF(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||mt;{const{emitsOptions:u,propsOptions:[f]}=t;if(u)if(!(e in u))(!f||!(No(e)in f))&&se(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${No(e)}" prop.`);else{const d=u[e];Fe(d)&&(d(...r)||se(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=r;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in n){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:d}=n[u]||mt;d&&(i=r.map(h=>It(h)?h.trim():h)),f&&(i=r.map(kp))}UF(t,e,i);{const u=e.toLowerCase();u!==e&&n[No(u)]&&se(`Event "${u}" is emitted in component ${ig(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Sn(e)}" instead of "${e}".`)}let a,l=n[a=No(e)]||n[a=No(Pn(e))];!l&&o&&(l=n[a=No(Sn(e))]),l&&Vn(l,t,6,i);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Vn(c,t,6,i)}}function vI(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Fe(t)){const l=c=>{const u=vI(c,e,!0);u&&(a=!0,ft(s,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(nt(t)&&n.set(t,null),null):(Se(o)?o.forEach(l=>s[l]=null):ft(s,o),nt(t)&&n.set(t,s),s)}function Y0(t,e){return!t||!iu(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(t,e[0].toLowerCase()+e.slice(1))||Qe(t,Sn(e))||Qe(t,e))}let ar=null,K0=null;function Uf(t){const e=ar;return ar=t,K0=t&&t.type.__scopeId||null,e}function HF(t){K0=t}function VF(){K0=null}const zF=t=>xx;function xx(t,e=ar,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&X1(-1);const o=Uf(e);let s;try{s=t(...i)}finally{Uf(o),n._d&&X1(1)}return gI(e),s};return n._n=!0,n._c=!0,n._d=!0,n}let U1=!1;function Gp(){U1=!0}function op(t){const{type:e,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:p,inheritAttrs:y}=t;let g,m;const v=Uf(t);U1=!1;try{if(r.shapeFlag&4){const b=i||n;g=wn(u.call(b,b,f,o,h,d,p)),m=l}else{const b=e;l===o&&Gp(),g=wn(b.length>1?b(o,{get attrs(){return Gp(),l},slots:a,emit:c}):b(o,null)),m=e.props?l:WF(l)}}catch(b){ff.length=0,Il(b,t,1),g=R(tr)}let _=g,x;if(g.patchFlag>0&&g.patchFlag&2048&&([_,x]=jF(g)),m&&y!==!1){const b=Object.keys(m),{shapeFlag:w}=_;if(b.length){if(w&7)s&&b.some(Dp)&&(m=XF(m,s)),_=vi(_,m);else if(!U1&&_.type!==tr){const E=Object.keys(l),S=[],P=[];for(let C=0,A=E.length;C<A;C++){const T=E[C];iu(T)?Dp(T)||S.push(T[2].toLowerCase()+T.slice(3)):P.push(T)}P.length&&se(`Extraneous non-props attributes (${P.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),S.length&&se(`Extraneous non-emits event listeners (${S.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return r.dirs&&(z2(_)||se("Runtime directive used on component with non-element root node. The directives will not function as intended."),_=vi(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(z2(_)||se("Component inside <Transition> renders non-element root node that cannot be animated."),_.transition=r.transition),x?x(_):g=_,Uf(v),g}const jF=t=>{const e=t.children,r=t.dynamicChildren,n=bx(e);if(!n)return[t,void 0];const i=e.indexOf(n),o=r?r.indexOf(n):-1,s=a=>{e[i]=a,r&&(o>-1?r[o]=a:a.patchFlag>0&&(t.dynamicChildren=[...r,a]))};return[wn(n),s]};function bx(t){let e;for(let r=0;r<t.length;r++){const n=t[r];if(fo(n)){if(n.type!==tr||n.children==="v-if"){if(e)return;e=n}}else return}return e}const WF=t=>{let e;for(const r in t)(r==="class"||r==="style"||iu(r))&&((e||(e={}))[r]=t[r]);return e},XF=(t,e)=>{const r={};for(const n in t)(!Dp(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r},z2=t=>t.shapeFlag&7||t.type===tr;function YF(t,e,r){const{props:n,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if((i||a)&&Us||e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?j2(n,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(s[d]!==n[d]&&!Y0(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?j2(n,s,c):!0:!!s;return!1}function j2(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o]&&!Y0(r,o))return!0}return!1}function wx({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const yI=t=>t.__isSuspense,KF={name:"Suspense",__isSuspense:!0,process(t,e,r,n,i,o,s,a,l,c){t==null?ZF(e,r,n,i,o,s,a,l,c):JF(t,e,r,n,i,s,a,l,c)},hydrate:QF,create:Ex,normalize:eL},qF=KF;function Gf(t,e){const r=t.props&&t.props[e];Fe(r)&&r()}function ZF(t,e,r,n,i,o,s,a,l){const{p:c,o:{createElement:u}}=l,f=u("div"),d=t.suspense=Ex(t,i,n,e,f,r,o,s,a,l);c(null,d.pendingBranch=t.ssContent,f,null,n,d,o,s),d.deps>0?(Gf(t,"onPending"),Gf(t,"onFallback"),c(null,t.ssFallback,e,r,n,null,o,s),Cc(d,t.ssFallback)):d.resolve(!1,!0)}function JF(t,e,r,n,i,o,s,a,{p:l,um:c,o:{createElement:u}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const d=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:y,isInFallback:g,isHydrating:m}=f;if(y)f.pendingBranch=d,Ai(d,y)?(l(y,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0?f.resolve():g&&(l(p,h,r,n,i,null,o,s,a),Cc(f,h))):(f.pendingId++,m?(f.isHydrating=!1,f.activeBranch=y):c(y,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),g?(l(null,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0?f.resolve():(l(p,h,r,n,i,null,o,s,a),Cc(f,h))):p&&Ai(d,p)?(l(p,d,r,n,i,f,o,s,a),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0&&f.resolve()));else if(p&&Ai(d,p))l(p,d,r,n,i,f,o,s,a),Cc(f,d);else if(Gf(e,"onPending"),f.pendingBranch=d,f.pendingId++,l(null,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0)f.resolve();else{const{timeout:v,pendingId:_}=f;v>0?setTimeout(()=>{f.pendingId===_&&f.fallback(h)},v):v===0&&f.fallback(h)}}let W2=!1;function Ex(t,e,r,n,i,o,s,a,l,c,u=!1){W2||(W2=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:f,m:d,um:h,n:p,o:{parentNode:y,remove:g}}=c;let m;const v=tL(t);v&&e!=null&&e.pendingBranch&&(m=e.pendingId,e.deps++);const _=t.props?Np(t.props.timeout):void 0;px(_,"Suspense timeout");const x={vnode:t,parent:e,parentComponent:r,isSVG:s,container:n,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(b=!1,w=!1){{if(!b&&!x.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(x.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:E,activeBranch:S,pendingBranch:P,pendingId:C,effects:A,parentComponent:T,container:I}=x;if(x.isHydrating)x.isHydrating=!1;else if(!b){const N=S&&P.transition&&P.transition.mode==="out-in";N&&(S.transition.afterLeave=()=>{C===x.pendingId&&d(P,I,U,0)});let{anchor:U}=x;S&&(U=p(S),h(S,T,x,!0)),N||d(P,I,U,0)}Cc(x,P),x.pendingBranch=null,x.isInFallback=!1;let B=x.parent,G=!1;for(;B;){if(B.pendingBranch){B.effects.push(...A),G=!0;break}B=B.parent}G||X0(A),x.effects=[],v&&e&&e.pendingBranch&&m===e.pendingId&&(e.deps--,e.deps===0&&!w&&e.resolve()),Gf(E,"onResolve")},fallback(b){if(!x.pendingBranch)return;const{vnode:w,activeBranch:E,parentComponent:S,container:P,isSVG:C}=x;Gf(w,"onFallback");const A=p(E),T=()=>{x.isInFallback&&(f(null,b,P,A,S,null,C,a,l),Cc(x,b))},I=b.transition&&b.transition.mode==="out-in";I&&(E.transition.afterLeave=T),x.isInFallback=!0,h(E,S,null,!0),I||T()},move(b,w,E){x.activeBranch&&d(x.activeBranch,b,w,E),x.container=b},next(){return x.activeBranch&&p(x.activeBranch)},registerDep(b,w){const E=!!x.pendingBranch;E&&x.deps++;const S=b.vnode.el;b.asyncDep.catch(P=>{Il(P,b,0)}).then(P=>{if(b.isUnmounted||x.isUnmounted||x.pendingId!==b.suspenseId)return;b.asyncResolved=!0;const{vnode:C}=b;af(C),q1(b,P,!1),S&&(C.el=S);const A=!S&&b.subTree.el;w(b,C,y(S||b.subTree.el),S?null:p(b.subTree),x,s,l),A&&g(A),wx(b,C.el),lf(),E&&--x.deps===0&&x.resolve()})},unmount(b,w){x.isUnmounted=!0,x.activeBranch&&h(x.activeBranch,r,b,w),x.pendingBranch&&h(x.pendingBranch,r,b,w)}};return x}function QF(t,e,r,n,i,o,s,a,l){const c=e.suspense=Ex(e,n,r,t.parentNode,document.createElement("div"),null,i,o,s,a,!0),u=l(t,c.pendingBranch=e.ssContent,r,c,o,s);return c.deps===0&&c.resolve(!1,!0),u}function eL(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=X2(n?r.default:r),t.ssFallback=n?X2(r.fallback):R(tr)}function X2(t){let e;if(Fe(t)){const r=ol&&t._c;r&&(t._d=!1,eg()),t=t(),r&&(t._d=!0,e=Tn,YI())}if(Se(t)){const r=bx(t);r||se("<Suspense> slots expect a single root node."),t=r}return t=wn(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function _I(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):X0(t)}function Cc(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t,i=r.el=e.el;n&&n.subTree===r&&(n.vnode.el=i,wx(n,i))}function tL(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function su(t,e){return Cd(t,null,e)}function xI(t,e){return Cd(t,null,ft({},e,{flush:"post"}))}function rL(t,e){return Cd(t,null,ft({},e,{flush:"sync"}))}const sh={};function ye(t,e,r){return Fe(e)||se("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Cd(t,e,r)}function Cd(t,e,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:s}=mt){var a;e||(r!==void 0&&se('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),n!==void 0&&se('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const l=b=>{se("Invalid watch source: ",b,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},c=bd()===((a=sr)==null?void 0:a.scope)?sr:null;let u,f=!1,d=!1;if(vt(t)?(u=()=>t.value,f=kf(t)):Bi(t)?(u=()=>t,n=!0):Se(t)?(d=!0,f=t.some(b=>Bi(b)||kf(b)),u=()=>t.map(b=>{if(vt(b))return b.value;if(Bi(b))return Ba(b);if(Fe(b))return oo(b,c,2);l(b)})):Fe(t)?e?u=()=>oo(t,c,2):u=()=>{if(!(c&&c.isUnmounted))return h&&h(),Vn(t,c,3,[p])}:(u=An,l(t)),e&&n){const b=u;u=()=>Ba(b())}let h,p=b=>{h=_.onStop=()=>{oo(b,c,4)}},y;if(kc)if(p=An,e?r&&Vn(e,c,3,[u(),d?[]:void 0,p]):u(),i==="sync"){const b=s4();y=b.__watcherHandles||(b.__watcherHandles=[])}else return An;let g=d?new Array(t.length).fill(sh):sh;const m=()=>{if(_.active)if(e){const b=_.run();(n||f||(d?b.some((w,E)=>Dc(w,g[E])):Dc(b,g)))&&(h&&h(),Vn(e,c,3,[b,g===sh?void 0:d&&g[0]===sh?[]:g,p]),g=b)}else _.run()};m.allowRecurse=!!e;let v;i==="sync"?v=m:i==="post"?v=()=>Fr(m,c&&c.suspense):(m.pre=!0,c&&(m.id=c.uid),v=()=>Ed(m));const _=new wd(u,v);_.onTrack=o,_.onTrigger=s,e?r?m():g=_.run():i==="post"?Fr(_.run.bind(_),c&&c.suspense):_.run();const x=()=>{_.stop(),c&&c.scope&&ix(c.scope.effects,_)};return y&&y.push(x),x}function nL(t,e,r){const n=this.proxy,i=It(t)?t.includes(".")?bI(n,t):()=>n[t]:t.bind(n,n);let o;Fe(e)?o=e:(o=e.handler,r=e);const s=sr;Js(this);const a=Cd(i,o.bind(n),r);return s?Js(s):Hs(),a}function bI(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Ba(t,e){if(!nt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),vt(t))Ba(t.value,e);else if(Se(t))for(let r=0;r<t.length;r++)Ba(t[r],e);else if(Cl(t)||ja(t))t.forEach(r=>{Ba(r,e)});else if(VP(t))for(const r in t)Ba(t[r],e);return t}function wI(t){y5(t)&&se("Do not use built-in directive ids as custom directive id: "+t)}function di(t,e){const r=ar;if(r===null)return se("withDirectives can only be used inside render functions."),t;const n=ng(r)||r.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,c=mt]=e[o];s&&(Fe(s)&&(s={mounted:s,updated:s}),s.deep&&Ba(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Zi(t,e,r,n){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[n];l&&(Al(),Vn(l,r,8,[t.el,a,t,e]),Tl())}}function Sx(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zt(()=>{t.isMounted=!0}),Zn(()=>{t.isUnmounting=!0}),t}const ei=[Function,Array],Cx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ei,onEnter:ei,onAfterEnter:ei,onEnterCancelled:ei,onBeforeLeave:ei,onLeave:ei,onAfterLeave:ei,onLeaveCancelled:ei,onBeforeAppear:ei,onAppear:ei,onAfterAppear:ei,onAppearCancelled:ei},iL={name:"BaseTransition",props:Cx,setup(t,{slots:e}){const r=bt(),n=Sx();let i;return()=>{const o=e.default&&q0(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){let y=!1;for(const g of o)if(g.type!==tr){if(y){se("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}s=g,y=!0}}const a=Ue(t),{mode:l}=a;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&se(`invalid <transition> mode: ${l}`),n.isLeaving)return cm(s);const c=Y2(s);if(!c)return cm(s);const u=Bc(c,a,n,r);il(c,u);const f=r.subTree,d=f&&Y2(f);let h=!1;const{getTransitionKey:p}=c.type;if(p){const y=p();i===void 0?i=y:y!==i&&(i=y,h=!0)}if(d&&d.type!==tr&&(!Ai(c,d)||h)){const y=Bc(d,a,n,r);if(il(d,y),l==="out-in")return n.isLeaving=!0,y.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},cm(s);l==="in-out"&&c.type!==tr&&(y.delayLeave=(g,m,v)=>{const _=SI(n,d);_[String(d.key)]=d,g._leaveCb=()=>{m(),g._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=v})}return s}}},EI=iL;function SI(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Bc(t,e,r,n){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:y,onAppear:g,onAfterAppear:m,onAppearCancelled:v}=e,_=String(t.key),x=SI(r,t),b=(S,P)=>{S&&Vn(S,n,9,P)},w=(S,P)=>{const C=P[1];b(S,P),Se(S)?S.every(A=>A.length<=1)&&C():S.length<=1&&C()},E={mode:o,persisted:s,beforeEnter(S){let P=a;if(!r.isMounted)if(i)P=y||a;else return;S._leaveCb&&S._leaveCb(!0);const C=x[_];C&&Ai(t,C)&&C.el._leaveCb&&C.el._leaveCb(),b(P,[S])},enter(S){let P=l,C=c,A=u;if(!r.isMounted)if(i)P=g||l,C=m||c,A=v||u;else return;let T=!1;const I=S._enterCb=B=>{T||(T=!0,B?b(A,[S]):b(C,[S]),E.delayedLeave&&E.delayedLeave(),S._enterCb=void 0)};P?w(P,[S,I]):I()},leave(S,P){const C=String(t.key);if(S._enterCb&&S._enterCb(!0),r.isUnmounting)return P();b(f,[S]);let A=!1;const T=S._leaveCb=I=>{A||(A=!0,P(),I?b(p,[S]):b(h,[S]),S._leaveCb=void 0,x[C]===t&&delete x[C])};x[C]=t,d?w(d,[S,T]):T()},clone(S){return Bc(S,e,r,n)}};return E}function cm(t){if(au(t))return t=vi(t),t.children=null,t}function Y2(t){return au(t)?t.children?t.children[0]:void 0:t}function il(t,e){t.shapeFlag&6&&t.component?il(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function q0(t,e=!1,r){let n=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===$t?(s.patchFlag&128&&i++,n=n.concat(q0(s.children,e,a))):(e||s.type!==tr)&&n.push(a!=null?vi(s,{key:a}):s)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function we(t,e){return Fe(t)?(()=>ft({name:t.name},e,{setup:t}))():t}const Ya=t=>!!t.type.__asyncLoader;function oL(t){Fe(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:i=200,timeout:o,suspensible:s=!0,onError:a}=t;let l=null,c,u=0;const f=()=>(u++,l=null,d()),d=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((y,g)=>{a(p,()=>y(f()),()=>g(p),u+1)});throw p}).then(p=>{if(h!==l&&l)return l;if(p||se("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),p&&!nt(p)&&!Fe(p))throw new Error(`Invalid async component load result: ${p}`);return c=p,p}))};return we({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const h=sr;if(c)return()=>um(c,h);const p=v=>{l=null,Il(v,h,13,!n)};if(s&&h.suspense||kc)return d().then(v=>()=>um(v,h)).catch(v=>(p(v),()=>n?R(n,{error:v}):null));const y=Z(!1),g=Z(),m=Z(!!i);return i&&setTimeout(()=>{m.value=!1},i),o!=null&&setTimeout(()=>{if(!y.value&&!g.value){const v=new Error(`Async component timed out after ${o}ms.`);p(v),g.value=v}},o),d().then(()=>{y.value=!0,h.parent&&au(h.parent.vnode)&&Ed(h.parent.update)}).catch(v=>{p(v),g.value=v}),()=>{if(y.value&&c)return um(c,h);if(g.value&&n)return R(n,{error:g.value});if(r&&!m.value)return R(r)}}})}function um(t,e){const{ref:r,props:n,children:i,ce:o}=e.vnode,s=R(t,n,i);return s.ref=r,s.ce=o,delete e.vnode.ce,s}const au=t=>t.type.__isKeepAlive,sL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=bt(),n=r.ctx;if(!n.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,o=new Set;let s=null;r.__v_cache=i;const a=r.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=n,d=f("div");n.activate=(v,_,x,b,w)=>{const E=v.component;c(v,_,x,0,a),l(E.vnode,v,_,x,E,a,b,v.slotScopeIds,w),Fr(()=>{E.isDeactivated=!1,E.a&&Ps(E.a);const S=v.props&&v.props.onVnodeMounted;S&&_n(S,E.parent,v)},a),$1(E)},n.deactivate=v=>{const _=v.component;c(v,d,null,1,a),Fr(()=>{_.da&&Ps(_.da);const x=v.props&&v.props.onVnodeUnmounted;x&&_n(x,_.parent,v),_.isDeactivated=!0},a),$1(_)};function h(v){fm(v),u(v,r,a,!0)}function p(v){i.forEach((_,x)=>{const b=zf(_.type);b&&(!v||!v(b))&&y(x)})}function y(v){const _=i.get(v);!s||!Ai(_,s)?h(_):s&&fm(s),i.delete(v),o.delete(v)}ye(()=>[t.include,t.exclude],([v,_])=>{v&&p(x=>Ku(v,x)),_&&p(x=>!Ku(_,x))},{flush:"post",deep:!0});let g=null;const m=()=>{g!=null&&i.set(g,dm(r.subTree))};return zt(m),Ol(m),Zn(()=>{i.forEach(v=>{const{subTree:_,suspense:x}=r,b=dm(_);if(v.type===b.type&&v.key===b.key){fm(b);const w=b.component.da;w&&Fr(w,x);return}h(v)})}),()=>{if(g=null,!e.default)return null;const v=e.default(),_=v[0];if(v.length>1)return se("KeepAlive should contain exactly one component child."),s=null,v;if(!fo(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return s=null,_;let x=dm(_);const b=x.type,w=zf(Ya(x)?x.type.__asyncResolved||{}:b),{include:E,exclude:S,max:P}=t;if(E&&(!w||!Ku(E,w))||S&&w&&Ku(S,w))return s=x,_;const C=x.key==null?b:x.key,A=i.get(C);return x.el&&(x=vi(x),_.shapeFlag&128&&(_.ssContent=x)),g=C,A?(x.el=A.el,x.component=A.component,x.transition&&il(x,x.transition),x.shapeFlag|=512,o.delete(C),o.add(C)):(o.add(C),P&&o.size>parseInt(P,10)&&y(o.values().next().value)),x.shapeFlag|=256,s=x,yI(_.type)?_:x}}},aL=sL;function Ku(t,e){return Se(t)?t.some(r=>Ku(r,e)):It(t)?t.split(",").includes(e):v5(t)?t.test(e):!1}function as(t,e){CI(t,"a",e)}function xo(t,e){CI(t,"da",e)}function CI(t,e,r=sr){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Z0(e,n,r),r){let i=r.parent;for(;i&&i.parent;)au(i.parent.vnode)&&lL(n,e,r,i),i=i.parent}}function lL(t,e,r,n){const i=Z0(e,t,n,!0);cs(()=>{ix(n[e],i)},r)}function fm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function dm(t){return t.shapeFlag&128?t.ssContent:t}function Z0(t,e,r=sr,n=!1){if(r){const i=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;Al(),Js(r);const a=Vn(e,r,t,s);return Hs(),Tl(),a});return n?i.unshift(o):i.push(o),o}else{const i=No(gx[t].replace(/ hook$/,""));se(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const ls=t=>(e,r=sr)=>(!kc||t==="sp")&&Z0(t,(...n)=>e(...n),r),AI=ls("bm"),zt=ls("m"),J0=ls("bu"),Ol=ls("u"),Zn=ls("bum"),cs=ls("um"),TI=ls("sp"),PI=ls("rtg"),II=ls("rtc");function OI(t,e=sr){Z0("ec",t,e)}const Hp="components",cL="directives";function uL(t,e){return Ax(Hp,t,!0,e)||t}const RI=Symbol.for("v-ndc");function fL(t){return It(t)?Ax(Hp,t,!1)||t:t||RI}function MI(t){return Ax(cL,t)}function Ax(t,e,r=!0,n=!1){const i=ar||sr;if(i){const o=i.type;if(t===Hp){const a=zf(o,!1);if(a&&(a===e||a===Pn(e)||a===Ks(Pn(e))))return o}const s=K2(i[t]||o[t],e)||K2(i.appContext[t],e);if(!s&&n)return o;if(r&&!s){const a=t===Hp?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";se(`Failed to resolve ${t.slice(0,-1)}: ${e}${a}`)}return s}else se(`resolve${Ks(t.slice(0,-1))} can only be used in render() or setup().`)}function K2(t,e){return t&&(t[e]||t[Pn(e)]||t[Ks(Pn(e))])}function dL(t,e,r,n){let i;const o=r&&r[n];if(Se(t)||It(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){Number.isInteger(t)||se(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(nt(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const c=s[a];i[a]=e(t[c],c,a,o&&o[a])}}else i=[];return r&&(r[n]=i),i}function hL(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(Se(n))for(let i=0;i<n.length;i++)t[n[i].name]=n[i].fn;else n&&(t[n.name]=n.key?(...i)=>{const o=n.fn(...i);return o&&(o.key=n.key),o}:n.fn)}return t}function pL(t,e,r={},n,i){if(ar.isCE||ar.parent&&Ya(ar.parent)&&ar.parent.isCE)return e!=="default"&&(r.name=e),R("slot",r,n&&n());let o=t[e];o&&o.length>1&&(se("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),o=()=>[]),o&&o._c&&(o._d=!1),eg();const s=o&&DI(o(r)),a=Ox($t,{key:r.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function DI(t){return t.some(e=>fo(e)?!(e.type===tr||e.type===$t&&!DI(e.children)):!0)?t:null}function gL(t,e){const r={};if(!nt(t))return se("v-on with no argument expects an object value."),r;for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:No(n)]=t[n];return r}const G1=t=>t?e4(t)?ng(t)||t.proxy:G1(t.parent):null,Ka=ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>pc(t.props),$attrs:t=>pc(t.attrs),$slots:t=>pc(t.slots),$refs:t=>pc(t.refs),$parent:t=>G1(t.parent),$root:t=>G1(t.root),$emit:t=>t.emit,$options:t=>Px(t),$forceUpdate:t=>t.f||(t.f=()=>Ed(t.update)),$nextTick:t=>t.n||(t.n=Ye.bind(t.proxy)),$watch:t=>nL.bind(t)}),Tx=t=>t==="_"||t==="$",hm=(t,e)=>t!==mt&&!t.__isScriptSetup&&Qe(t,e),uf={get({_:t},e){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:l}=t;if(e==="__isVue")return!0;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return o[e]}else{if(hm(n,e))return s[e]=1,n[e];if(i!==mt&&Qe(i,e))return s[e]=2,i[e];if((c=t.propsOptions[0])&&Qe(c,e))return s[e]=3,o[e];if(r!==mt&&Qe(r,e))return s[e]=4,r[e];H1&&(s[e]=0)}}const u=Ka[e];let f,d;if(u)return e==="$attrs"?(Qr(t,"get",e),Gp()):e==="$slots"&&Qr(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==mt&&Qe(r,e))return s[e]=4,r[e];if(d=l.config.globalProperties,Qe(d,e))return d[e];ar&&(!It(e)||e.indexOf("__v")!==0)&&(i!==mt&&Tx(e[0])&&Qe(i,e)?se(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===ar&&se(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,r){const{data:n,setupState:i,ctx:o}=t;return hm(i,e)?(i[e]=r,!0):i.__isScriptSetup&&Qe(i,e)?(se(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):n!==mt&&Qe(n,e)?(n[e]=r,!0):Qe(t.props,e)?(se(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(se(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in t.appContext.config.globalProperties?Object.defineProperty(o,e,{enumerable:!0,configurable:!0,value:r}):o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!r[s]||t!==mt&&Qe(t,s)||hm(e,s)||(a=o[0])&&Qe(a,s)||Qe(n,s)||Qe(Ka,s)||Qe(i.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Qe(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};uf.ownKeys=t=>(se("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));const mL=ft({},uf,{get(t,e){if(e!==Symbol.unscopables)return uf.get(t,e,t)},has(t,e){const r=e[0]!=="_"&&!w5(e);return!r&&uf.has(t,e)&&se(`Property ${JSON.stringify(e)} should not start with _ which is a reserved prefix for Vue internals.`),r}});function vL(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(Ka).forEach(r=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,get:()=>Ka[r](t),set:An})}),e}function yL(t){const{ctx:e,propsOptions:[r]}=t;r&&Object.keys(r).forEach(n=>{Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>t.props[n],set:An})})}function _L(t){const{ctx:e,setupState:r}=t;Object.keys(Ue(r)).forEach(n=>{if(!r.__isScriptSetup){if(Tx(n[0])){se(`setup() return property ${JSON.stringify(n)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r[n],set:An})}})}const Rl=t=>se(`${t}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function xL(){return Rl("defineProps"),null}function bL(){return Rl("defineEmits"),null}function wL(t){Rl("defineExpose")}function EL(t){Rl("defineOptions")}function SL(){return Rl("defineSlots"),null}function CL(){Rl("defineModel")}function AL(t,e){return Rl("withDefaults"),null}function TL(){return BI().slots}function PL(){return BI().attrs}function IL(t,e,r){const n=bt();if(!n)return se("useModel() called without active instance."),Z();if(!n.propsOptions[0][e])return se(`useModel() called with prop "${e}" which is not declared.`),Z();if(r&&r.local){const i=Z(t[e]);return ye(()=>t[e],o=>i.value=o),ye(i,o=>{o!==t[e]&&n.emit(`update:${e}`,o)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){n.emit(`update:${e}`,i)}}}function BI(){const t=bt();return t||se("useContext() called without active instance."),t.setupContext||(t.setupContext=n4(t))}function Hf(t){return Se(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function OL(t,e){const r=Hf(t);for(const n in e){if(n.startsWith("__skip"))continue;let i=r[n];i?Se(i)||Fe(i)?i=r[n]={type:i,default:e[n]}:i.default=e[n]:i===null?i=r[n]={default:e[n]}:se(`props default key "${n}" has no corresponding declaration.`),i&&e[`__skip_${n}`]&&(i.skipFactory=!0)}return r}function RL(t,e){return!t||!e?t||e:Se(t)&&Se(e)?t.concat(e):ft({},Hf(t),Hf(e))}function ML(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function DL(t){const e=bt();e||se("withAsyncContext called without active current instance. This is likely a bug.");let r=t();return Hs(),L0(r)&&(r=r.catch(n=>{throw Js(e),n})),[r,()=>Js(e)]}function BL(){const t=Object.create(null);return(e,r)=>{t[r]?se(`${e} property "${r}" is already defined in ${t[r]}.`):t[r]=e}}let H1=!0;function kL(t){const e=Px(t),r=t.proxy,n=t.ctx;H1=!1,e.beforeCreate&&q2(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:y,deactivated:g,beforeDestroy:m,beforeUnmount:v,destroyed:_,unmounted:x,render:b,renderTracked:w,renderTriggered:E,errorCaptured:S,serverPrefetch:P,expose:C,inheritAttrs:A,components:T,directives:I,filters:B}=e,G=BL();{const[U]=t.propsOptions;if(U)for(const W in U)G("Props",W)}if(c&&NL(c,n,G),s)for(const U in s){const W=s[U];Fe(W)?(Object.defineProperty(n,U,{value:W.bind(r),configurable:!0,enumerable:!0,writable:!0}),G("Methods",U)):se(`Method "${U}" has type "${typeof W}" in the component definition. Did you reference the function correctly?`)}if(i){Fe(i)||se("The data option must be a function. Plain object usage is no longer supported.");const U=i.call(r,r);if(L0(U)&&se("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!nt(U))se("data() should return an object.");else{t.data=Bt(U);for(const W in U)G("Data",W),Tx(W[0])||Object.defineProperty(n,W,{configurable:!0,enumerable:!0,get:()=>U[W],set:An})}}if(H1=!0,o)for(const U in o){const W=o[U],K=Fe(W)?W.bind(r,r):Fe(W.get)?W.get.bind(r,r):An;K===An&&se(`Computed property "${U}" has no getter.`);const fe=!Fe(W)&&Fe(W.set)?W.set.bind(r):()=>{se(`Write operation failed: computed property "${U}" is readonly.`)},ue=ne({get:K,set:fe});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>ue.value,set:Y=>ue.value=Y}),G("Computed",U)}if(a)for(const U in a)kI(a[U],n,r,U);if(l){const U=Fe(l)?l.call(r):l;Reflect.ownKeys(U).forEach(W=>{hi(W,U[W])})}u&&q2(u,t,"c");function N(U,W){Se(W)?W.forEach(K=>U(K.bind(r))):W&&U(W.bind(r))}if(N(AI,f),N(zt,d),N(J0,h),N(Ol,p),N(as,y),N(xo,g),N(OI,S),N(II,w),N(PI,E),N(Zn,v),N(cs,x),N(TI,P),Se(C))if(C.length){const U=t.exposed||(t.exposed={});C.forEach(W=>{Object.defineProperty(U,W,{get:()=>r[W],set:K=>r[W]=K})})}else t.exposed||(t.exposed={});b&&t.render===An&&(t.render=b),A!=null&&(t.inheritAttrs=A),T&&(t.components=T),I&&(t.directives=I)}function NL(t,e,r=An){Se(t)&&(t=V1(t));for(const n in t){const i=t[n];let o;nt(i)?"default"in i?o=fr(i.from||n,i.default,!0):o=fr(i.from||n):o=fr(i),vt(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[n]=o,r("Inject",n)}}function q2(t,e,r){Vn(Se(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function kI(t,e,r,n){const i=n.includes(".")?bI(r,n):()=>r[n];if(It(t)){const o=e[t];Fe(o)?ye(i,o):se(`Invalid watch handler specified by key "${t}"`,o)}else if(Fe(t))ye(i,t.bind(r));else if(nt(t))if(Se(t))t.forEach(o=>kI(o,e,r,n));else{const o=Fe(t.handler)?t.handler.bind(r):e[t.handler];Fe(o)?ye(i,o,t):se(`Invalid watch handler specified by key "${t.handler}"`,o)}else se(`Invalid watch option: "${n}"`,t)}function Px(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(c=>Vp(l,c,s,!0)),Vp(l,e,s)),nt(e)&&o.set(e,l),l}function Vp(t,e,r,n=!1){const{mixins:i,extends:o}=e;o&&Vp(t,o,r,!0),i&&i.forEach(s=>Vp(t,s,r,!0));for(const s in e)if(n&&s==="expose")se('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=FL[s]||r&&r[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const FL={data:Z2,props:J2,emits:J2,methods:qu,computed:qu,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:qu,directives:qu,watch:$L,provide:Z2,inject:LL};function Z2(t,e){return e?t?function(){return ft(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function LL(t,e){return qu(V1(t),V1(e))}function V1(t){if(Se(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function on(t,e){return t?[...new Set([].concat(t,e))]:e}function qu(t,e){return t?ft(Object.create(null),t,e):e}function J2(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:ft(Object.create(null),Hf(t),Hf(e??{})):e}function $L(t,e){if(!t)return e;if(!e)return t;const r=ft(Object.create(null),t);for(const n in e)r[n]=on(t[n],e[n]);return r}function NI(){return{app:null,config:{isNativeTag:GP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let UL=0;function GL(t,e){return function(n,i=null){Fe(n)||(n=ft({},n)),i!=null&&!nt(i)&&(se("root props passed to app.mount() must be an object."),i=null);const o=NI();Object.defineProperty(o.config,"unwrapInjectedRef",{get(){return!0},set(){se("app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.")}});const s=new Set;let a=!1;const l=o.app={_uid:UL++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:J1,get config(){return o.config},set config(c){se("app.config cannot be replaced. Modify individual options instead.")},use(c,...u){return s.has(c)?se("Plugin has already been applied to target app."):c&&Fe(c.install)?(s.add(c),c.install(l,...u)):Fe(c)?(s.add(c),c(l,...u)):se('A plugin must either be a function or an object with an "install" function.'),l},mixin(c){return o.mixins.includes(c)?se("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):o.mixins.push(c),l},component(c,u){return K1(c,o.config),u?(o.components[c]&&se(`Component "${c}" has already been registered in target app.`),o.components[c]=u,l):o.components[c]},directive(c,u){return wI(c),u?(o.directives[c]&&se(`Directive "${c}" has already been registered in target app.`),o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(a)se("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&se("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=R(n,i);return d.appContext=o,o.reload=()=>{t(vi(d),c,f)},u&&e?e(d,c):t(d,c,f),a=!0,l._container=c,c.__vue_app__=l,l._instance=d.component,BF(l,J1),ng(d.component)||d.component.proxy}},unmount(){a?(t(null,l._container),l._instance=null,kF(l),delete l._container.__vue_app__):se("Cannot unmount an app that is not mounted.")},provide(c,u){return c in o.provides&&se(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),o.provides[c]=u,l},runWithContext(c){Vf=l;try{return c()}finally{Vf=null}}};return l}}let Vf=null;function hi(t,e){if(!sr)se("provide() can only be used inside setup().");else{let r=sr.provides;const n=sr.parent&&sr.parent.provides;n===r&&(r=sr.provides=Object.create(n)),r[t]=e}}function fr(t,e,r=!1){const n=sr||ar;if(n||Vf){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Vf._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Fe(e)?e.call(n&&n.proxy):e;se(`injection "${String(t)}" not found.`)}else se("inject() can only be used inside setup() or functional components.")}function FI(){return!!(sr||ar||Vf)}function HL(t,e,r,n=!1){const i={},o={};Bp(o,tg,1),t.propsDefaults=Object.create(null),LI(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);UI(e||{},i,t),r?t.props=n?i:sI(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function VL(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function zL(t,e,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Ue(i),[l]=t.propsOptions;let c=!1;if(!VL(t)&&(n||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Y0(t.emitsOptions,d))continue;const h=e[d];if(l)if(Qe(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const p=Pn(d);i[p]=z1(l,a,p,h,t,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{LI(t,e,i,o)&&(c=!0);let u;for(const f in a)(!e||!Qe(e,f)&&((u=Sn(f))===f||!Qe(e,u)))&&(l?r&&(r[f]!==void 0||r[u]!==void 0)&&(i[f]=z1(l,a,f,void 0,t,!0)):delete i[f]);if(o!==a)for(const f in o)(!e||!Qe(e,f))&&(delete o[f],c=!0)}c&&co(t,"set","$attrs"),UI(e||{},i,t)}function LI(t,e,r,n){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(of(l))continue;const c=e[l];let u;i&&Qe(i,u=Pn(l))?!o||!o.includes(u)?r[u]=c:(a||(a={}))[u]=c:Y0(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,s=!0)}if(o){const l=Ue(r),c=a||mt;for(let u=0;u<o.length;u++){const f=o[u];r[f]=z1(i,l,f,c[f],t,!Qe(c,f))}}return s}function z1(t,e,r,n,i,o){const s=t[r];if(s!=null){const a=Qe(s,"default");if(a&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Fe(l)){const{propsDefaults:c}=i;r in c?n=c[r]:(Js(i),n=c[r]=l.call(null,e),Hs())}else n=l}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===Sn(r))&&(n=!0))}return n}function $I(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Fe(t)){const u=f=>{l=!0;const[d,h]=$I(f,e,!0);ft(s,d),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return nt(t)&&n.set(t,Ec),Ec;if(Se(o))for(let u=0;u<o.length;u++){It(o[u])||se("props must be strings when using array syntax.",o[u]);const f=Pn(o[u]);Q2(f)&&(s[f]=mt)}else if(o){nt(o)||se("invalid props options",o);for(const u in o){const f=Pn(u);if(Q2(f)){const d=o[u],h=s[f]=Se(d)||Fe(d)?{type:d}:ft({},d);if(h){const p=tE(Boolean,h.type),y=tE(String,h.type);h[0]=p>-1,h[1]=y<0||p<y,(p>-1||Qe(h,"default"))&&a.push(f)}}}}const c=[s,a];return nt(t)&&n.set(t,c),c}function Q2(t){return t[0]!=="$"?!0:(se(`Invalid prop name: "${t}" is a reserved property.`),!1)}function j1(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function eE(t,e){return j1(t)===j1(e)}function tE(t,e){return Se(e)?e.findIndex(r=>eE(r,t)):Fe(e)&&eE(e,t)?0:-1}function UI(t,e,r){const n=Ue(e),i=r.propsOptions[0];for(const o in i){let s=i[o];s!=null&&jL(o,n[o],s,!Qe(t,o)&&!Qe(t,Sn(o)))}}function jL(t,e,r,n){const{type:i,required:o,validator:s,skipCheck:a}=r;if(o&&n){se('Missing required prop: "'+t+'"');return}if(!(e==null&&!o)){if(i!=null&&i!==!0&&!a){let l=!1;const c=Se(i)?i:[i],u=[];for(let f=0;f<c.length&&!l;f++){const{valid:d,expectedType:h}=XL(e,c[f]);u.push(h||""),l=d}if(!l){se(YL(t,e,u));return}}s&&!s(e)&&se('Invalid prop: custom validator check failed for prop "'+t+'".')}}const WL=ss("String,Number,Boolean,Function,Symbol,BigInt");function XL(t,e){let r;const n=j1(e);if(WL(n)){const i=typeof t;r=i===n.toLowerCase(),!r&&i==="object"&&(r=t instanceof e)}else n==="Object"?r=nt(t):n==="Array"?r=Se(t):n==="null"?r=t===null:r=t instanceof e;return{valid:r,expectedType:n}}function YL(t,e,r){let n=`Invalid prop: type check failed for prop "${t}". Expected ${r.map(Ks).join(" | ")}`;const i=r[0],o=ox(e),s=rE(e,i),a=rE(e,o);return r.length===1&&nE(i)&&!KL(i,o)&&(n+=` with value ${s}`),n+=`, got ${o} `,nE(o)&&(n+=`with value ${a}.`),n}function rE(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function nE(t){return["string","number","boolean"].some(r=>t.toLowerCase()===r)}function KL(...t){return t.some(e=>e.toLowerCase()==="boolean")}const GI=t=>t[0]==="_"||t==="$stable",Ix=t=>Se(t)?t.map(wn):[wn(t)],qL=(t,e,r)=>{if(e._n)return e;const n=xx((...i)=>(sr&&se(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Ix(e(...i))),r);return n._c=!1,n},HI=(t,e,r)=>{const n=t._ctx;for(const i in t){if(GI(i))continue;const o=t[i];if(Fe(o))e[i]=qL(i,o,n);else if(o!=null){se(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const s=Ix(o);e[i]=()=>s}}},VI=(t,e)=>{au(t.vnode)||se("Non-function value encountered for default slot. Prefer function slots for better performance.");const r=Ix(e);t.slots.default=()=>r},ZL=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Ue(e),Bp(e,"_",r)):HI(e,t.slots={})}else t.slots={},e&&VI(t,e);Bp(t.slots,tg,1)},JL=(t,e,r)=>{const{vnode:n,slots:i}=t;let o=!0,s=mt;if(n.shapeFlag&32){const a=e._;a?Us?(ft(i,e),co(t,"set","$slots")):r&&a===1?o=!1:(ft(i,e),!r&&a===1&&delete i._):(o=!e.$stable,HI(e,i)),s=e}else e&&(VI(t,e),s={default:1});if(o)for(const a in i)!GI(a)&&!(a in s)&&delete i[a]};function zp(t,e,r,n,i=!1){if(Se(t)){t.forEach((d,h)=>zp(d,e&&(Se(e)?e[h]:e),r,n,i));return}if(Ya(n)&&!i)return;const o=n.shapeFlag&4?ng(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:l}=t;if(!a){se("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=e&&e.r,u=a.refs===mt?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(It(c)?(u[c]=null,Qe(f,c)&&(f[c]=null)):vt(c)&&(c.value=null)),Fe(l))oo(l,a,12,[s,u]);else{const d=It(l),h=vt(l);if(d||h){const p=()=>{if(t.f){const y=d?Qe(f,l)?f[l]:u[l]:l.value;i?Se(y)&&ix(y,o):Se(y)?y.includes(o)||y.push(o):d?(u[l]=[o],Qe(f,l)&&(f[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else d?(u[l]=s,Qe(f,l)&&(f[l]=s)):h?(l.value=s,t.k&&(u[t.k]=s)):se("Invalid template ref type:",l,`(${typeof l})`)};s?(p.id=-1,Fr(p,r)):p()}else se("Invalid template ref type:",l,`(${typeof l})`)}}let hs=!1;const ah=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",bu=t=>t.nodeType===8;function QL(t){const{mt:e,p:r,o:{patchProp:n,createText:i,nextSibling:o,parentNode:s,remove:a,insert:l,createComment:c}}=t,u=(m,v)=>{if(!v.hasChildNodes()){se("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),r(null,m,v),Up(),v._vnode=m;return}hs=!1,f(v.firstChild,m,null,null,null),Up(),v._vnode=m,hs&&console.error("Hydration completed but contains mismatches.")},f=(m,v,_,x,b,w=!1)=>{const E=bu(m)&&m.data==="[",S=()=>y(m,v,_,x,b,E),{type:P,ref:C,shapeFlag:A,patchFlag:T}=v;let I=m.nodeType;v.el=m,T===-2&&(w=!1,v.dynamicChildren=null);let B=null;switch(P){case uo:I!==3?v.children===""?(l(v.el=i(""),s(m),m),B=m):B=S():(m.data!==v.children&&(hs=!0,se(`Hydration text mismatch:
- Client: ${JSON.stringify(m.data)}
- Server: ${JSON.stringify(v.children)}`),m.data=v.children),B=o(m));break;case tr:I!==8||E?B=S():B=o(m);break;case Gs:if(E&&(m=o(m),I=m.nodeType),I===1||I===3){B=m;const G=!v.children.length;for(let N=0;N<v.staticCount;N++)G&&(v.children+=B.nodeType===1?B.outerHTML:B.data),N===v.staticCount-1&&(v.anchor=B),B=o(B);return E?o(B):B}else S();break;case $t:E?B=p(m,v,_,x,b,w):B=S();break;default:if(A&1)I!==1||v.type.toLowerCase()!==m.tagName.toLowerCase()?B=S():B=d(m,v,_,x,b,w);else if(A&6){v.slotScopeIds=b;const G=s(m);if(e(v,G,null,_,x,ah(G),w),B=E?g(m):o(m),B&&bu(B)&&B.data==="teleport end"&&(B=o(B)),Ya(v)){let N;E?(N=R($t),N.anchor=B?B.previousSibling:G.lastChild):N=m.nodeType===3?rg(""):R("div"),N.el=m,v.component.subTree=N}}else A&64?I!==8?B=S():B=v.type.hydrate(m,v,_,x,b,w,t,h):A&128?B=v.type.hydrate(m,v,_,x,ah(s(m)),b,w,t,f):se("Invalid HostVNode type:",P,`(${typeof P})`)}return C!=null&&zp(C,null,x,v),B},d=(m,v,_,x,b,w)=>{w=w||!!v.dynamicChildren;const{type:E,props:S,patchFlag:P,shapeFlag:C,dirs:A}=v,T=E==="input"&&A||E==="option";{if(A&&Zi(v,null,_,"created"),S)if(T||!w||P&48)for(const B in S)(T&&B.endsWith("value")||iu(B)&&!of(B))&&n(m,B,null,S[B],!1,void 0,_);else S.onClick&&n(m,"onClick",null,S.onClick,!1,void 0,_);let I;if((I=S&&S.onVnodeBeforeMount)&&_n(I,_,v),A&&Zi(v,null,_,"beforeMount"),((I=S&&S.onVnodeMounted)||A)&&_I(()=>{I&&_n(I,_,v),A&&Zi(v,null,_,"mounted")},x),C&16&&!(S&&(S.innerHTML||S.textContent))){let B=h(m.firstChild,v,m,_,x,b,w),G=!1;for(;B;){hs=!0,G||(se(`Hydration children mismatch in <${v.type}>: server rendered element contains more child nodes than client vdom.`),G=!0);const N=B;B=B.nextSibling,a(N)}}else C&8&&m.textContent!==v.children&&(hs=!0,se(`Hydration text content mismatch in <${v.type}>:
- Client: ${m.textContent}
- Server: ${v.children}`),m.textContent=v.children)}return m.nextSibling},h=(m,v,_,x,b,w,E)=>{E=E||!!v.dynamicChildren;const S=v.children,P=S.length;let C=!1;for(let A=0;A<P;A++){const T=E?S[A]:S[A]=wn(S[A]);if(m)m=f(m,T,x,b,w,E);else{if(T.type===uo&&!T.children)continue;hs=!0,C||(se(`Hydration children mismatch in <${_.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`),C=!0),r(null,T,_,null,x,b,ah(_),w)}}return m},p=(m,v,_,x,b,w)=>{const{slotScopeIds:E}=v;E&&(b=b?b.concat(E):E);const S=s(m),P=h(o(m),v,S,_,x,b,w);return P&&bu(P)&&P.data==="]"?o(v.anchor=P):(hs=!0,l(v.anchor=c("]"),S,P),P)},y=(m,v,_,x,b,w)=>{if(hs=!0,se(`Hydration node mismatch:
- Client vnode:`,v.type,`
- Server rendered DOM:`,m,m.nodeType===3?"(text)":bu(m)&&m.data==="["?"(start of fragment)":""),v.el=null,w){const P=g(m);for(;;){const C=o(m);if(C&&C!==P)a(C);else break}}const E=o(m),S=s(m);return a(m),r(null,v,S,E,_,x,ah(S),b),E},g=m=>{let v=0;for(;m;)if(m=o(m),m&&bu(m)&&(m.data==="["&&v++,m.data==="]")){if(v===0)return o(m);v--}return m};return[u,f]}let wu,Is;function Oo(t,e){t.appContext.config.performance&&jp()&&Is.mark(`vue-${e}-${t.uid}`),LF(t,e,jp()?Is.now():Date.now())}function Ro(t,e){if(t.appContext.config.performance&&jp()){const r=`vue-${e}-${t.uid}`,n=r+":end";Is.mark(n),Is.measure(`<${ig(t,t.type)}> ${e}`,r,n),Is.clearMarks(r),Is.clearMarks(n)}$F(t,e,jp()?Is.now():Date.now())}function jp(){return wu!==void 0||(typeof window<"u"&&window.performance?(wu=!0,Is=window.performance):wu=!1),wu}function e7(){const t=[];if(t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Fr=_I;function zI(t){return WI(t)}function jI(t){return WI(t,QL)}function WI(t,e){e7();const r=Fp();r.__VUE__=!0,yx(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=An,insertStaticContent:p}=t,y=(O,$,j,ae=null,ce=null,M=null,k=!1,H=null,Q=Us?!1:!!$.dynamicChildren)=>{if(O===$)return;O&&!Ai(O,$)&&(ae=ee(O),ie(O,ce,M,!0),O=null),$.patchFlag===-2&&(Q=!1,$.dynamicChildren=null);const{type:le,ref:ve,shapeFlag:he}=$;switch(le){case uo:g(O,$,j,ae);break;case tr:m(O,$,j,ae);break;case Gs:O==null?v($,j,ae,k):_(O,$,j,k);break;case $t:I(O,$,j,ae,ce,M,k,H,Q);break;default:he&1?w(O,$,j,ae,ce,M,k,H,Q):he&6?B(O,$,j,ae,ce,M,k,H,Q):he&64||he&128?le.process(O,$,j,ae,ce,M,k,H,Q,de):se("Invalid VNode type:",le,`(${typeof le})`)}ve!=null&&ce&&zp(ve,O&&O.ref,M,$||O,!$)},g=(O,$,j,ae)=>{if(O==null)n($.el=a($.children),j,ae);else{const ce=$.el=O.el;$.children!==O.children&&c(ce,$.children)}},m=(O,$,j,ae)=>{O==null?n($.el=l($.children||""),j,ae):$.el=O.el},v=(O,$,j,ae)=>{[O.el,O.anchor]=p(O.children,$,j,ae,O.el,O.anchor)},_=(O,$,j,ae)=>{if($.children!==O.children){const ce=d(O.anchor);b(O),[$.el,$.anchor]=p($.children,j,ce,ae)}else $.el=O.el,$.anchor=O.anchor},x=({el:O,anchor:$},j,ae)=>{let ce;for(;O&&O!==$;)ce=d(O),n(O,j,ae),O=ce;n($,j,ae)},b=({el:O,anchor:$})=>{let j;for(;O&&O!==$;)j=d(O),i(O),O=j;i($)},w=(O,$,j,ae,ce,M,k,H,Q)=>{k=k||$.type==="svg",O==null?E($,j,ae,ce,M,k,H,Q):C(O,$,ce,M,k,H,Q)},E=(O,$,j,ae,ce,M,k,H)=>{let Q,le;const{type:ve,props:he,shapeFlag:z,transition:re,dirs:Ae}=O;if(Q=O.el=s(O.type,M,he&&he.is,he),z&8?u(Q,O.children):z&16&&P(O.children,Q,null,ae,ce,M&&ve!=="foreignObject",k,H),Ae&&Zi(O,null,ae,"created"),S(Q,O,O.scopeId,k,ae),he){for(const tt in he)tt!=="value"&&!of(tt)&&o(Q,tt,null,he[tt],M,O.children,ae,ce,L);"value"in he&&o(Q,"value",null,he.value),(le=he.onVnodeBeforeMount)&&_n(le,ae,O)}Object.defineProperty(Q,"__vnode",{value:O,enumerable:!1}),Object.defineProperty(Q,"__vueParentComponent",{value:ae,enumerable:!1}),Ae&&Zi(O,null,ae,"beforeMount");const He=(!ce||ce&&!ce.pendingBranch)&&re&&!re.persisted;He&&re.beforeEnter(Q),n(Q,$,j),((le=he&&he.onVnodeMounted)||He||Ae)&&Fr(()=>{le&&_n(le,ae,O),He&&re.enter(Q),Ae&&Zi(O,null,ae,"mounted")},ce)},S=(O,$,j,ae,ce)=>{if(j&&h(O,j),ae)for(let M=0;M<ae.length;M++)h(O,ae[M]);if(ce){let M=ce.subTree;if(M.patchFlag>0&&M.patchFlag&2048&&(M=bx(M.children)||M),$===M){const k=ce.vnode;S(O,k,k.scopeId,k.slotScopeIds,ce.parent)}}},P=(O,$,j,ae,ce,M,k,H,Q=0)=>{for(let le=Q;le<O.length;le++){const ve=O[le]=H?Cs(O[le]):wn(O[le]);y(null,ve,$,j,ae,ce,M,k,H)}},C=(O,$,j,ae,ce,M,k)=>{const H=$.el=O.el;let{patchFlag:Q,dynamicChildren:le,dirs:ve}=$;Q|=O.patchFlag&16;const he=O.props||mt,z=$.props||mt;let re;j&&pa(j,!1),(re=z.onVnodeBeforeUpdate)&&_n(re,j,$,O),ve&&Zi($,O,j,"beforeUpdate"),j&&pa(j,!0),Us&&(Q=0,k=!1,le=null);const Ae=ce&&$.type!=="foreignObject";if(le?(A(O.dynamicChildren,le,H,j,ae,Ae,M),Wp(O,$)):k||K(O,$,H,null,j,ae,Ae,M,!1),Q>0){if(Q&16)T(H,$,he,z,j,ae,ce);else if(Q&2&&he.class!==z.class&&o(H,"class",null,z.class,ce),Q&4&&o(H,"style",he.style,z.style,ce),Q&8){const He=$.dynamicProps;for(let tt=0;tt<He.length;tt++){const kt=He[tt],Cr=he[kt],vn=z[kt];(vn!==Cr||kt==="value")&&o(H,kt,Cr,vn,ce,O.children,j,ae,L)}}Q&1&&O.children!==$.children&&u(H,$.children)}else!k&&le==null&&T(H,$,he,z,j,ae,ce);((re=z.onVnodeUpdated)||ve)&&Fr(()=>{re&&_n(re,j,$,O),ve&&Zi($,O,j,"updated")},ae)},A=(O,$,j,ae,ce,M,k)=>{for(let H=0;H<$.length;H++){const Q=O[H],le=$[H],ve=Q.el&&(Q.type===$t||!Ai(Q,le)||Q.shapeFlag&70)?f(Q.el):j;y(Q,le,ve,null,ae,ce,M,k,!0)}},T=(O,$,j,ae,ce,M,k)=>{if(j!==ae){if(j!==mt)for(const H in j)!of(H)&&!(H in ae)&&o(O,H,j[H],null,k,$.children,ce,M,L);for(const H in ae){if(of(H))continue;const Q=ae[H],le=j[H];Q!==le&&H!=="value"&&o(O,H,le,Q,k,$.children,ce,M,L)}"value"in ae&&o(O,"value",j.value,ae.value)}},I=(O,$,j,ae,ce,M,k,H,Q)=>{const le=$.el=O?O.el:a(""),ve=$.anchor=O?O.anchor:a("");let{patchFlag:he,dynamicChildren:z,slotScopeIds:re}=$;(Us||he&2048)&&(he=0,Q=!1,z=null),re&&(H=H?H.concat(re):re),O==null?(n(le,j,ae),n(ve,j,ae),P($.children,j,ve,ce,M,k,H,Q)):he>0&&he&64&&z&&O.dynamicChildren?(A(O.dynamicChildren,z,j,ce,M,k,H),Wp(O,$)):K(O,$,j,ve,ce,M,k,H,Q)},B=(O,$,j,ae,ce,M,k,H,Q)=>{$.slotScopeIds=H,O==null?$.shapeFlag&512?ce.ctx.activate($,j,ae,k,Q):G($,j,ae,ce,M,k,Q):N(O,$,Q)},G=(O,$,j,ae,ce,M,k)=>{const H=O.component=QI(O,ae,ce);if(H.type.__hmrId&&OF(H),af(O),Oo(H,"mount"),au(O)&&(H.ctx.renderer=de),Oo(H,"init"),t4(H),Ro(H,"init"),H.asyncDep){if(ce&&ce.registerDep(H,U),!O.el){const Q=H.subTree=R(tr);m(null,Q,$,j)}return}U(H,O,$,j,ce,M,k),lf(),Ro(H,"mount")},N=(O,$,j)=>{const ae=$.component=O.component;if(YF(O,$,j))if(ae.asyncDep&&!ae.asyncResolved){af($),W(ae,$,j),lf();return}else ae.next=$,PF(ae.update),ae.update();else $.el=O.el,ae.vnode=$},U=(O,$,j,ae,ce,M,k)=>{const H=()=>{if(O.isMounted){let{next:ve,bu:he,u:z,parent:re,vnode:Ae}=O,He=ve,tt;af(ve||O.vnode),pa(O,!1),ve?(ve.el=Ae.el,W(O,ve,k)):ve=Ae,he&&Ps(he),(tt=ve.props&&ve.props.onVnodeBeforeUpdate)&&_n(tt,re,ve,Ae),pa(O,!0),Oo(O,"render");const kt=op(O);Ro(O,"render");const Cr=O.subTree;O.subTree=kt,Oo(O,"patch"),y(Cr,kt,f(Cr.el),ee(Cr),O,ce,M),Ro(O,"patch"),ve.el=kt.el,He===null&&wx(O,kt.el),z&&Fr(z,ce),(tt=ve.props&&ve.props.onVnodeUpdated)&&Fr(()=>_n(tt,re,ve,Ae),ce),gI(O),lf()}else{let ve;const{el:he,props:z}=$,{bm:re,m:Ae,parent:He}=O,tt=Ya($);if(pa(O,!1),re&&Ps(re),!tt&&(ve=z&&z.onVnodeBeforeMount)&&_n(ve,He,$),pa(O,!0),he&&xe){const kt=()=>{Oo(O,"render"),O.subTree=op(O),Ro(O,"render"),Oo(O,"hydrate"),xe(he,O.subTree,O,ce,null),Ro(O,"hydrate")};tt?$.type.__asyncLoader().then(()=>!O.isUnmounted&&kt()):kt()}else{Oo(O,"render");const kt=O.subTree=op(O);Ro(O,"render"),Oo(O,"patch"),y(null,kt,j,ae,O,ce,M),Ro(O,"patch"),$.el=kt.el}if(Ae&&Fr(Ae,ce),!tt&&(ve=z&&z.onVnodeMounted)){const kt=$;Fr(()=>_n(ve,He,kt),ce)}($.shapeFlag&256||He&&Ya(He.vnode)&&He.vnode.shapeFlag&256)&&O.a&&Fr(O.a,ce),O.isMounted=!0,$1(O),$=j=ae=null}},Q=O.effect=new wd(H,()=>Ed(le),O.scope),le=O.update=()=>Q.run();le.id=O.uid,pa(O,!0),Q.onTrack=O.rtc?ve=>Ps(O.rtc,ve):void 0,Q.onTrigger=O.rtg?ve=>Ps(O.rtg,ve):void 0,le.ownerInstance=O,le()},W=(O,$,j)=>{$.component=O;const ae=O.vnode.props;O.vnode=$,O.next=null,zL(O,$.props,ae,j),JL(O,$.children,j),Al(),H2(),Tl()},K=(O,$,j,ae,ce,M,k,H,Q=!1)=>{const le=O&&O.children,ve=O?O.shapeFlag:0,he=$.children,{patchFlag:z,shapeFlag:re}=$;if(z>0){if(z&128){ue(le,he,j,ae,ce,M,k,H,Q);return}else if(z&256){fe(le,he,j,ae,ce,M,k,H,Q);return}}re&8?(ve&16&&L(le,ce,M),he!==le&&u(j,he)):ve&16?re&16?ue(le,he,j,ae,ce,M,k,H,Q):L(le,ce,M,!0):(ve&8&&u(j,""),re&16&&P(he,j,ae,ce,M,k,H,Q))},fe=(O,$,j,ae,ce,M,k,H,Q)=>{O=O||Ec,$=$||Ec;const le=O.length,ve=$.length,he=Math.min(le,ve);let z;for(z=0;z<he;z++){const re=$[z]=Q?Cs($[z]):wn($[z]);y(O[z],re,j,null,ce,M,k,H,Q)}le>ve?L(O,ce,M,!0,!1,he):P($,j,ae,ce,M,k,H,Q,he)},ue=(O,$,j,ae,ce,M,k,H,Q)=>{let le=0;const ve=$.length;let he=O.length-1,z=ve-1;for(;le<=he&&le<=z;){const re=O[le],Ae=$[le]=Q?Cs($[le]):wn($[le]);if(Ai(re,Ae))y(re,Ae,j,null,ce,M,k,H,Q);else break;le++}for(;le<=he&&le<=z;){const re=O[he],Ae=$[z]=Q?Cs($[z]):wn($[z]);if(Ai(re,Ae))y(re,Ae,j,null,ce,M,k,H,Q);else break;he--,z--}if(le>he){if(le<=z){const re=z+1,Ae=re<ve?$[re].el:ae;for(;le<=z;)y(null,$[le]=Q?Cs($[le]):wn($[le]),j,Ae,ce,M,k,H,Q),le++}}else if(le>z)for(;le<=he;)ie(O[le],ce,M,!0),le++;else{const re=le,Ae=le,He=new Map;for(le=Ae;le<=z;le++){const tn=$[le]=Q?Cs($[le]):wn($[le]);tn.key!=null&&(He.has(tn.key)&&se("Duplicate keys found during update:",JSON.stringify(tn.key),"Make sure keys are unique."),He.set(tn.key,le))}let tt,kt=0;const Cr=z-Ae+1;let vn=!1,eh=0;const fs=new Array(Cr);for(le=0;le<Cr;le++)fs[le]=0;for(le=re;le<=he;le++){const tn=O[le];if(kt>=Cr){ie(tn,ce,M,!0);continue}let Hi;if(tn.key!=null)Hi=He.get(tn.key);else for(tt=Ae;tt<=z;tt++)if(fs[tt-Ae]===0&&Ai(tn,$[tt])){Hi=tt;break}Hi===void 0?ie(tn,ce,M,!0):(fs[Hi-Ae]=le+1,Hi>=eh?eh=Hi:vn=!0,y(tn,$[Hi],j,null,ce,M,k,H,Q),kt++)}const O2=vn?t7(fs):Ec;for(tt=O2.length-1,le=Cr-1;le>=0;le--){const tn=Ae+le,Hi=$[tn],R2=tn+1<ve?$[tn+1].el:ae;fs[le]===0?y(null,Hi,j,R2,ce,M,k,H,Q):vn&&(tt<0||le!==O2[tt]?Y(Hi,j,R2,2):tt--)}}},Y=(O,$,j,ae,ce=null)=>{const{el:M,type:k,transition:H,children:Q,shapeFlag:le}=O;if(le&6){Y(O.component.subTree,$,j,ae);return}if(le&128){O.suspense.move($,j,ae);return}if(le&64){k.move(O,$,j,de);return}if(k===$t){n(M,$,j);for(let he=0;he<Q.length;he++)Y(Q[he],$,j,ae);n(O.anchor,$,j);return}if(k===Gs){x(O,$,j);return}if(ae!==2&&le&1&&H)if(ae===0)H.beforeEnter(M),n(M,$,j),Fr(()=>H.enter(M),ce);else{const{leave:he,delayLeave:z,afterLeave:re}=H,Ae=()=>n(M,$,j),He=()=>{he(M,()=>{Ae(),re&&re()})};z?z(M,Ae,He):He()}else n(M,$,j)},ie=(O,$,j,ae=!1,ce=!1)=>{const{type:M,props:k,ref:H,children:Q,dynamicChildren:le,shapeFlag:ve,patchFlag:he,dirs:z}=O;if(H!=null&&zp(H,null,j,O,!0),ve&256){$.ctx.deactivate(O);return}const re=ve&1&&z,Ae=!Ya(O);let He;if(Ae&&(He=k&&k.onVnodeBeforeUnmount)&&_n(He,$,O),ve&6)q(O.component,j,ae);else{if(ve&128){O.suspense.unmount(j,ae);return}re&&Zi(O,null,$,"beforeUnmount"),ve&64?O.type.remove(O,$,j,ce,de,ae):le&&(M!==$t||he>0&&he&64)?L(le,$,j,!1,!0):(M===$t&&he&384||!ce&&ve&16)&&L(Q,$,j),ae&&ge(O)}(Ae&&(He=k&&k.onVnodeUnmounted)||re)&&Fr(()=>{He&&_n(He,$,O),re&&Zi(O,null,$,"unmounted")},j)},ge=O=>{const{type:$,el:j,anchor:ae,transition:ce}=O;if($===$t){O.patchFlag>0&&O.patchFlag&2048&&ce&&!ce.persisted?O.children.forEach(k=>{k.type===tr?i(k.el):ge(k)}):F(j,ae);return}if($===Gs){b(O);return}const M=()=>{i(j),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(O.shapeFlag&1&&ce&&!ce.persisted){const{leave:k,delayLeave:H}=ce,Q=()=>k(j,M);H?H(O.el,M,Q):Q()}else M()},F=(O,$)=>{let j;for(;O!==$;)j=d(O),i(O),O=j;i($)},q=(O,$,j)=>{O.type.__hmrId&&RF(O);const{bum:ae,scope:ce,update:M,subTree:k,um:H}=O;ae&&Ps(ae),ce.stop(),M&&(M.active=!1,ie(k,O,$,j)),H&&Fr(H,$),Fr(()=>{O.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve()),FF(O)},L=(O,$,j,ae=!1,ce=!1,M=0)=>{for(let k=M;k<O.length;k++)ie(O[k],$,j,ae,ce)},ee=O=>O.shapeFlag&6?ee(O.component.subTree):O.shapeFlag&128?O.suspense.next():d(O.anchor||O.el),J=(O,$,j)=>{O==null?$._vnode&&ie($._vnode,null,null,!0):y($._vnode||null,O,$,null,null,null,j),H2(),Up(),$._vnode=O},de={p:y,um:ie,m:Y,r:ge,mt:G,mc:P,pc:K,pbc:A,n:ee,o:t};let pe,xe;return e&&([pe,xe]=e(de)),{render:J,hydrate:pe,createApp:GL(J,pe)}}function pa({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Wp(t,e,r=!1){const n=t.children,i=e.children;if(Se(n)&&Se(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Cs(i[o]),a.el=s.el),r||Wp(s,a)),a.type===uo&&(a.el=s.el),a.type===tr&&!a.el&&(a.el=s.el)}}function t7(t){const e=t.slice(),r=[0];let n,i,o,s,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(i=r[r.length-1],t[i]<c){e[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,t[r[a]]<c?o=a+1:s=a;c<t[r[o]]&&(o>0&&(e[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=e[s];return r}const r7=t=>t.__isTeleport,Ac=t=>t&&(t.disabled||t.disabled===""),iE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,W1=(t,e)=>{const r=t&&t.to;if(It(r))if(e){const n=e(r);return n||se(`Failed to locate Teleport target with selector "${r}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),n}else return se("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!r&&!Ac(t)&&se(`Invalid Teleport target: ${r}`),r},n7={__isTeleport:!0,process(t,e,r,n,i,o,s,a,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:y,createComment:g}}=c,m=Ac(e.props);let{shapeFlag:v,children:_,dynamicChildren:x}=e;if(Us&&(l=!1,x=null),t==null){const b=e.el=g("teleport start"),w=e.anchor=g("teleport end");h(b,r,n),h(w,r,n);const E=e.target=W1(e.props,p),S=e.targetAnchor=y("");E?(h(S,E),s=s||iE(E)):m||se("Invalid Teleport target on mount:",E,`(${typeof E})`);const P=(C,A)=>{v&16&&u(_,C,A,i,o,s,a,l)};m?P(r,w):E&&P(E,S)}else{e.el=t.el;const b=e.anchor=t.anchor,w=e.target=t.target,E=e.targetAnchor=t.targetAnchor,S=Ac(t.props),P=S?r:w,C=S?b:E;if(s=s||iE(w),x?(d(t.dynamicChildren,x,P,i,o,s,a),Wp(t,e,!0)):l||f(t,e,P,C,i,o,s,a,!1),m)S||lh(e,r,b,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=W1(e.props,p);A?lh(e,A,null,c,0):se("Invalid Teleport target on update:",w,`(${typeof w})`)}else S&&lh(e,w,E,c,1)}XI(e)},remove(t,e,r,n,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:f,props:d}=t;if(f&&o(u),(s||!Ac(d))&&(o(c),a&16))for(let h=0;h<l.length;h++){const p=l[h];i(p,e,r,!0,!!p.dynamicChildren)}},move:lh,hydrate:i7};function lh(t,e,r,{o:{insert:n},m:i},o=2){o===0&&n(t.targetAnchor,e,r);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,f=o===2;if(f&&n(s,e,r),(!f||Ac(u))&&l&16)for(let d=0;d<c.length;d++)i(c[d],e,r,2);f&&n(a,e,r)}function i7(t,e,r,n,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=W1(e.props,l);if(u){const f=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Ac(e.props))e.anchor=c(s(t),e,a(t),r,n,i,o),e.targetAnchor=f;else{e.anchor=s(t);let d=f;for(;d;)if(d=s(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(f,e,u,r,n,i,o)}XI(e)}return e.anchor&&s(e.anchor)}const Q0=n7;function XI(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const $t=Symbol.for("v-fgt"),uo=Symbol.for("v-txt"),tr=Symbol.for("v-cmt"),Gs=Symbol.for("v-stc"),ff=[];let Tn=null;function eg(t=!1){ff.push(Tn=t?null:[])}function YI(){ff.pop(),Tn=ff[ff.length-1]||null}let ol=1;function X1(t){ol+=t}function KI(t){return t.dynamicChildren=ol>0?Tn||Ec:null,YI(),ol>0&&Tn&&Tn.push(t),t}function o7(t,e,r,n,i,o){return KI(Rx(t,e,r,n,i,o,!0))}function Ox(t,e,r,n,i){return KI(R(t,e,r,n,i,!0))}function fo(t){return t?t.__v_isVNode===!0:!1}function Ai(t,e){return e.shapeFlag&6&&cc.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}let Y1;function s7(t){Y1=t}const a7=(...t)=>l7(...Y1?Y1(t,ar):t),tg="__vInternal",qI=({key:t})=>t??null,sp=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?It(t)||vt(t)||Fe(t)?{i:ar,r:t,k:e,f:!!r}:t:null);function Rx(t,e=null,r=null,n=0,i=null,o=t===$t?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qI(e),ref:e&&sp(e),scopeId:K0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ar};return a?(Mx(l,r),o&128&&t.normalize(l)):r&&(l.shapeFlag|=It(r)?8:16),l.key!==l.key&&se("VNode created with invalid key (NaN). VNode type:",l.type),ol>0&&!s&&Tn&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Tn.push(l),l}const R=a7;function l7(t,e=null,r=null,n=0,i=null,o=!1){if((!t||t===RI)&&(t||se(`Invalid vnode type when creating vnode: ${t}.`),t=tr),fo(t)){const a=vi(t,e,!0);return r&&Mx(a,r),ol>0&&!o&&Tn&&(a.shapeFlag&6?Tn[Tn.indexOf(t)]=a:Tn.push(a)),a.patchFlag|=-2,a}if(i4(t)&&(t=t.__vccOpts),e){e=ZI(e);let{class:a,style:l}=e;a&&!It(a)&&(e.class=_d(a)),nt(l)&&(Nf(l)&&!Se(l)&&(l=ft({},l)),e.style=yd(l))}const s=It(t)?1:yI(t)?128:r7(t)?64:nt(t)?4:Fe(t)?2:0;return s&4&&Nf(t)&&(t=Ue(t),se("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),Rx(t,e,r,n,i,s,o,!0)}function ZI(t){return t?Nf(t)||tg in t?ft({},t):t:null}function vi(t,e,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=t,a=e?lt(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&qI(a),ref:e&&e.ref?r&&i?Se(i)?i.concat(sp(e)):[i,sp(e)]:sp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o===-1&&Se(s)?s.map(JI):s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$t?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vi(t.ssContent),ssFallback:t.ssFallback&&vi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function JI(t){const e=vi(t);return Se(t.children)&&(e.children=t.children.map(JI)),e}function rg(t=" ",e=0){return R(uo,null,t,e)}function c7(t,e){const r=R(Gs,null,t);return r.staticCount=e,r}function u7(t="",e=!1){return e?(eg(),Ox(tr,null,t)):R(tr,null,t)}function wn(t){return t==null||typeof t=="boolean"?R(tr):Se(t)?R($t,null,t.slice()):typeof t=="object"?Cs(t):R(uo,null,String(t))}function Cs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vi(t)}function Mx(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Se(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Mx(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(tg in e)?e._ctx=ar:i===3&&ar&&(ar.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:ar},r=32):(e=String(e),n&64?(r=16,e=[rg(e)]):r=8);t.children=e,t.shapeFlag|=r}function lt(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=_d([e.class,n.class]));else if(i==="style")e.style=yd([e.style,n.style]);else if(iu(i)){const o=e[i],s=n[i];s&&o!==s&&!(Se(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=n[i])}return e}function _n(t,e,r,n=null){Vn(t,e,7,[r,n])}const f7=NI();let d7=0;function QI(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||f7,o={uid:d7++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ax(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$I(n,i),emitsOptions:vI(n,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:n.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx=vL(o),o.root=e?e.root:o,o.emit=GF.bind(null,o),t.ce&&t.ce(o),o}let sr=null;const bt=()=>sr||ar;let Dx,Ul,oE="__VUE_INSTANCE_SETTERS__";(Ul=Fp()[oE])||(Ul=Fp()[oE]=[]),Ul.push(t=>sr=t),Dx=t=>{Ul.length>1?Ul.forEach(e=>e(t)):Ul[0](t)};const Js=t=>{Dx(t),t.scope.on()},Hs=()=>{sr&&sr.scope.off(),Dx(null)},h7=ss("slot,component");function K1(t,e){const r=e.isNativeTag||GP;(h7(t)||r(t))&&se("Do not use built-in or reserved HTML elements as component id: "+t)}function e4(t){return t.vnode.shapeFlag&4}let kc=!1;function t4(t,e=!1){kc=e;const{props:r,children:n}=t.vnode,i=e4(t);HL(t,r,i,e),ZL(t,n);const o=i?p7(t,e):void 0;return kc=!1,o}function p7(t,e){var r;const n=t.type;{if(n.name&&K1(n.name,t.appContext.config),n.components){const o=Object.keys(n.components);for(let s=0;s<o.length;s++)K1(o[s],t.appContext.config)}if(n.directives){const o=Object.keys(n.directives);for(let s=0;s<o.length;s++)wI(o[s])}n.compilerOptions&&Bx()&&se('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=ro(new Proxy(t.ctx,uf)),yL(t);const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?n4(t):null;Js(t),Al();const s=oo(i,t,0,[pc(t.props),o]);if(Tl(),Hs(),L0(s)){if(s.then(Hs,Hs),e)return s.then(a=>{q1(t,a,e)}).catch(a=>{Il(a,t,0)});if(t.asyncDep=s,!t.suspense){const a=(r=n.name)!=null?r:"Anonymous";se(`Component <${a}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else q1(t,s,e)}else r4(t,e)}function q1(t,e,r){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:nt(e)?(fo(e)&&se("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=e,t.setupState=hx(e),_L(t)):e!==void 0&&se(`setup() should return an object. Received: ${e===null?"null":typeof e}`),r4(t,r)}let df,Z1;function g7(t){df=t,Z1=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,mL))}}const Bx=()=>!df;function r4(t,e,r){const n=t.type;if(!t.render){if(!e&&df&&!n.render){const i=n.template||Px(t).template;if(i){Oo(t,"compile");const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,c=ft(ft({isCustomElement:o,delimiters:a},s),l);n.render=df(i,c),Ro(t,"compile")}}t.render=n.render||An,Z1&&Z1(t)}Js(t),Al(),kL(t),Tl(),Hs(),!n.render&&t.render===An&&!e&&(!df&&n.template?se('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):se("Component is missing template or render function."))}function m7(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Gp(),Qr(t,"get","$attrs"),e[r]},set(){return se("setupContext.attrs is readonly."),!1},deleteProperty(){return se("setupContext.attrs is readonly."),!1}}))}function v7(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,r){return Qr(t,"get","$slots"),e[r]}}))}function n4(t){return Object.freeze({get attrs(){return m7(t)},get slots(){return v7(t)},get emit(){return(r,...n)=>t.emit(r,...n)},expose:r=>{if(t.exposed&&se("expose() should be called only once per setup()."),r!=null){let n=typeof r;n==="object"&&(Se(r)?n="array":vt(r)&&(n="ref")),n!=="object"&&se(`expose() should be passed a plain object, received ${n}.`)}t.exposed=r||{}}})}function ng(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(hx(ro(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ka)return Ka[r](t)},has(e,r){return r in e||r in Ka}}))}const y7=/(?:^|[-_])(\w)/g,_7=t=>t.replace(y7,e=>e.toUpperCase()).replace(/[-_]/g,"");function zf(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}function ig(t,e,r=!1){let n=zf(e);if(!n&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(n=i[1])}if(!n&&t&&t.parent){const i=o=>{for(const s in o)if(o[s]===e)return s};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?_7(n):r?"App":"Anonymous"}function i4(t){return Fe(t)&&"__vccOpts"in t}const ne=(t,e)=>xF(t,e,kc);function Rr(t,e,r){const n=arguments.length;return n===2?nt(e)&&!Se(e)?fo(e)?R(t,null,[e]):R(t,e):R(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&fo(r)&&(r=[r]),R(t,e,r))}const o4=Symbol.for("v-scx"),s4=()=>{{const t=fr(o4);return t||se("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function pm(t){return!!(t&&t.__v_isShallow)}function a4(){if(typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#0b1bc9"},r={style:"color:#b62e24"},n={style:"color:#9d288c"},i={header(f){return nt(f)?f.__isVue?["div",t,"VueInstance"]:vt(f)?["div",{},["span",t,u(f)],"<",a(f.value),">"]:Bi(f)?["div",{},["span",t,pm(f)?"ShallowReactive":"Reactive"],"<",a(f),`>${Jo(f)?" (readonly)":""}`]:Jo(f)?["div",{},["span",t,pm(f)?"ShallowReadonly":"Readonly"],"<",a(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...o(f.$)]}};function o(f){const d=[];f.type.props&&f.props&&d.push(s("props",Ue(f.props))),f.setupState!==mt&&d.push(s("setup",f.setupState)),f.data!==mt&&d.push(s("data",Ue(f.data)));const h=l(f,"computed");h&&d.push(s("computed",h));const p=l(f,"inject");return p&&d.push(s("injected",p)),d.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),d}function s(f,d){return d=ft({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(h=>["div",{},["span",n,h+": "],a(d[h],!1)])]]:["span",{}]}function a(f,d=!0){return typeof f=="number"?["span",e,f]:typeof f=="string"?["span",r,JSON.stringify(f)]:typeof f=="boolean"?["span",n,f]:nt(f)?["object",{object:d?Ue(f):f}]:["span",r,String(f)]}function l(f,d){const h=f.type;if(Fe(h))return;const p={};for(const y in f.ctx)c(h,y,d)&&(p[y]=f.ctx[y]);return p}function c(f,d,h){const p=f[h];if(Se(p)&&p.includes(d)||nt(p)&&d in p||f.extends&&c(f.extends,d,h)||f.mixins&&f.mixins.some(y=>c(y,d,h)))return!0}function u(f){return pm(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function x7(t,e,r,n){const i=r[n];if(i&&l4(i,t))return i;const o=e();return o.memo=t.slice(),r[n]=o}function l4(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(Dc(r[n],e[n]))return!1;return ol>0&&Tn&&Tn.push(t),!0}const J1="3.3.4",b7={createComponentInstance:QI,setupComponent:t4,renderComponentRoot:op,setCurrentRenderingInstance:Uf,isVNode:fo,normalizeVNode:wn},w7=b7,E7=null,S7=null,C7="http://www.w3.org/2000/svg",Ra=typeof document<"u"?document:null,sE=Ra&&Ra.createElement("template"),A7={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e?Ra.createElementNS(C7,t):Ra.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Ra.createTextNode(t),createComment:t=>Ra.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ra.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,o){const s=r?r.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{sE.innerHTML=n?`<svg>${t}</svg>`:t;const a=sE.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function T7(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function P7(t,e,r){const n=t.style,i=It(r);if(r&&!i){if(e&&!It(e))for(const o in e)r[o]==null&&Q1(n,o,"");for(const o in r)Q1(n,o,r[o])}else{const o=n.display;i?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=o)}}const I7=/[^\\];\s*$/,aE=/\s*!important$/;function Q1(t,e,r){if(Se(r))r.forEach(n=>Q1(t,e,n));else if(r==null&&(r=""),I7.test(r)&&se(`Unexpected semicolon at the end of '${e}' style value: '${r}'`),e.startsWith("--"))t.setProperty(e,r);else{const n=O7(t,e);aE.test(r)?t.setProperty(Sn(n),r.replace(aE,""),"important"):t[n]=r}}const lE=["Webkit","Moz","ms"],gm={};function O7(t,e){const r=gm[e];if(r)return r;let n=Pn(e);if(n!=="filter"&&n in t)return gm[e]=n;n=Ks(n);for(let i=0;i<lE.length;i++){const o=lE[i]+n;if(o in t)return gm[e]=o}return e}const cE="http://www.w3.org/1999/xlink";function R7(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(cE,e.slice(6,e.length)):t.setAttributeNS(cE,e,r);else{const o=D5(e);r==null||o&&!zP(r)?t.removeAttribute(e):t.setAttribute(e,o?"":r)}}function M7(t,e,r,n,i,o,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,i,o),t[e]=r??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=r;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=r??"";c!==u&&(t.value=u),r==null&&t.removeAttribute(e);return}let l=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=zP(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{t[e]=r}catch(c){l||se(`Failed setting prop "${e}" on <${a.toLowerCase()}>: value ${r} is invalid.`,c)}l&&t.removeAttribute(e)}function $o(t,e,r,n){t.addEventListener(e,r,n)}function D7(t,e,r,n){t.removeEventListener(e,r,n)}function B7(t,e,r,n,i=null){const o=t._vei||(t._vei={}),s=o[e];if(n&&s)s.value=n;else{const[a,l]=k7(e);if(n){const c=o[e]=L7(n,i);$o(t,a,c,l)}else s&&(D7(t,a,s,l),o[e]=void 0)}}const uE=/(?:Once|Passive|Capture)$/;function k7(t){let e;if(uE.test(t)){e={};let n;for(;n=t.match(uE);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Sn(t.slice(2)),e]}let mm=0;const N7=Promise.resolve(),F7=()=>mm||(N7.then(()=>mm=0),mm=Date.now());function L7(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Vn($7(n,r.value),e,5,[n])};return r.value=t,r.attached=F7(),r}function $7(t,e){if(Se(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const fE=/^on[a-z]/,U7=(t,e,r,n,i=!1,o,s,a,l)=>{e==="class"?T7(t,n,i):e==="style"?P7(t,r,n):iu(e)?Dp(e)||B7(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):G7(t,e,n,i))?M7(t,e,n,o,s,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),R7(t,e,n,i))};function G7(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&fE.test(e)&&Fe(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||fE.test(e)&&It(r)?!1:e in t}function c4(t,e){const r=we(t);class n extends og{constructor(o){super(r,o,e)}}return n.def=r,n}const H7=t=>c4(t,C4),V7=typeof HTMLElement<"u"?HTMLElement:class{};class og extends V7{constructor(e,r={},n){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.shadowRoot&&se("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Ye(()=>{this._connected||(ry(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver(n=>{for(const i of n)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(n,i=!1)=>{const{props:o,styles:s}=n;let a;if(o&&!Se(o))for(const l in o){const c=o[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Np(this._props[l])),(a||(a=Object.create(null)))[Pn(l)]=!0)}this._numberProps=a,i&&this._resolveProps(n),this._applyStyles(s),this._update()},r=this._def.__asyncLoader;r?r().then(n=>e(n,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,n=Se(r)?r:Object.keys(r||{});for(const i of Object.keys(this))i[0]!=="_"&&n.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of n.map(Pn))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let r=this.getAttribute(e);const n=Pn(e);this._numberProps&&this._numberProps[n]&&(r=Np(r)),this._setProp(n,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,i=!0){r!==this._props[e]&&(this._props[e]=r,i&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Sn(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Sn(e),r+""):r||this.removeAttribute(Sn(e))))}_update(){ry(this._createVNode(),this.shadowRoot)}_createVNode(){const e=R(this._def,ft({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0,r.ceReload=o=>{this._styles&&(this._styles.forEach(s=>this.shadowRoot.removeChild(s)),this._styles.length=0),this._applyStyles(o),this._instance=null,this._update()};const n=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};r.emit=(o,...s)=>{n(o,s),Sn(o)!==o&&n(Sn(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof og){r.parent=i._instance,r.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n),(this._styles||(this._styles=[])).push(n)})}}function z7(t="$style"){{const e=bt();if(!e)return se("useCssModule must be called inside setup()"),mt;const r=e.type.__cssModules;if(!r)return se("Current instance does not have CSS modules injected."),mt;const n=r[t];return n||(se(`Current instance does not have CSS module named "${t}".`),mt)}}function j7(t){const e=bt();if(!e){se("useCssVars is called without current active component instance.");return}const r=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>ty(o,i))},n=()=>{const i=t(e.proxy);ey(e.subTree,i),r(i)};xI(n),zt(()=>{const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),cs(()=>i.disconnect())})}function ey(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{ey(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ty(t.el,e);else if(t.type===$t)t.children.forEach(r=>ey(r,e));else if(t.type===Gs){let{el:r,anchor:n}=t;for(;r&&(ty(r,e),r!==n);)r=r.nextSibling}}function ty(t,e){if(t.nodeType===1){const r=t.style;for(const n in e)r.setProperty(`--${n}`,e[n])}}const ps="transition",Eu="animation",Ad=(t,{slots:e})=>Rr(EI,f4(t),e);Ad.displayName="Transition";const u4={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},W7=Ad.props=ft({},Cx,u4),ga=(t,e=[])=>{Se(t)?t.forEach(r=>r(...e)):t&&t(...e)},dE=t=>t?Se(t)?t.some(e=>e.length>1):t.length>1:!1;function f4(t){const e={};for(const T in t)T in u4||(e[T]=t[T]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,p=X7(i),y=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:v,onEnterCancelled:_,onLeave:x,onLeaveCancelled:b,onBeforeAppear:w=m,onAppear:E=v,onAppearCancelled:S=_}=e,P=(T,I,B)=>{Es(T,I?u:a),Es(T,I?c:s),B&&B()},C=(T,I)=>{T._isLeaving=!1,Es(T,f),Es(T,h),Es(T,d),I&&I()},A=T=>(I,B)=>{const G=T?E:v,N=()=>P(I,T,B);ga(G,[I,N]),hE(()=>{Es(I,T?l:o),Mo(I,T?u:a),dE(G)||pE(I,n,y,N)})};return ft(e,{onBeforeEnter(T){ga(m,[T]),Mo(T,o),Mo(T,s)},onBeforeAppear(T){ga(w,[T]),Mo(T,l),Mo(T,c)},onEnter:A(!1),onAppear:A(!0),onLeave(T,I){T._isLeaving=!0;const B=()=>C(T,I);Mo(T,f),h4(),Mo(T,d),hE(()=>{T._isLeaving&&(Es(T,f),Mo(T,h),dE(x)||pE(T,n,g,B))}),ga(x,[T,B])},onEnterCancelled(T){P(T,!1),ga(_,[T])},onAppearCancelled(T){P(T,!0),ga(S,[T])},onLeaveCancelled(T){C(T),ga(b,[T])}})}function X7(t){if(t==null)return null;if(nt(t))return[vm(t.enter),vm(t.leave)];{const e=vm(t);return[e,e]}}function vm(t){const e=Np(t);return px(e,"<transition> explicit duration"),e}function Mo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function Es(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function hE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Y7=0;function pE(t,e,r,n){const i=t._endId=++Y7,o=()=>{i===t._endId&&n()};if(r)return setTimeout(o,r);const{type:s,timeout:a,propCount:l}=d4(t,e);if(!s)return n();const c=s+"end";let u=0;const f=()=>{t.removeEventListener(c,d),o()},d=h=>{h.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(c,d)}function d4(t,e){const r=window.getComputedStyle(t),n=p=>(r[p]||"").split(", "),i=n(`${ps}Delay`),o=n(`${ps}Duration`),s=gE(i,o),a=n(`${Eu}Delay`),l=n(`${Eu}Duration`),c=gE(a,l);let u=null,f=0,d=0;e===ps?s>0&&(u=ps,f=s,d=o.length):e===Eu?c>0&&(u=Eu,f=c,d=l.length):(f=Math.max(s,c),u=f>0?s>c?ps:Eu:null,d=u?u===ps?o.length:l.length:0);const h=u===ps&&/\b(transform|all)(,|$)/.test(n(`${ps}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function gE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>mE(r)+mE(t[n])))}function mE(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function h4(){return document.body.offsetHeight}const p4=new WeakMap,g4=new WeakMap,m4={name:"TransitionGroup",props:ft({},W7,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=bt(),n=Sx();let i,o;return Ol(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!e$(i[0].el,r.vnode.el,s))return;i.forEach(Z7),i.forEach(J7);const a=i.filter(Q7);h4(),a.forEach(l=>{const c=l.el,u=c.style;Mo(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const f=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,Es(c,s))};c.addEventListener("transitionend",f)})}),()=>{const s=Ue(t),a=f4(s);let l=s.tag||$t;i=o,o=e.default?q0(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null?il(u,Bc(u,a,n,r)):se("<TransitionGroup> children must be keyed.")}if(i)for(let c=0;c<i.length;c++){const u=i[c];il(u,Bc(u,a,n,r)),p4.set(u,u.el.getBoundingClientRect())}return R(l,null,o)}}},K7=t=>delete t.mode;m4.props;const q7=m4;function Z7(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function J7(t){g4.set(t,t.el.getBoundingClientRect())}function Q7(t){const e=p4.get(t),r=g4.get(t),n=e.left-r.left,i=e.top-r.top;if(n||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${i}px)`,o.transitionDuration="0s",t}}function e$(t,e,r){const n=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&n.classList.remove(a))}),r.split(/\s+/).forEach(s=>s&&n.classList.add(s)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:o}=d4(n);return i.removeChild(n),o}const Qs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?r=>Ps(e,r):e};function t$(t){t.target.composing=!0}function vE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xp={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t._assign=Qs(i);const o=n||i.props&&i.props.type==="number";$o(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;r&&(a=a.trim()),o&&(a=kp(a)),t._assign(a)}),r&&$o(t,"change",()=>{t.value=t.value.trim()}),e||($o(t,"compositionstart",t$),$o(t,"compositionend",vE),$o(t,"change",vE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:i}},o){if(t._assign=Qs(o),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(i||t.type==="number")&&kp(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},kx={deep:!0,created(t,e,r){t._assign=Qs(r),$o(t,"change",()=>{const n=t._modelValue,i=Nc(t),o=t.checked,s=t._assign;if(Se(n)){const a=U0(n,i),l=a!==-1;if(o&&!l)s(n.concat(i));else if(!o&&l){const c=[...n];c.splice(a,1),s(c)}}else if(Cl(n)){const a=new Set(n);o?a.add(i):a.delete(i),s(a)}else s(y4(t,o))})},mounted:yE,beforeUpdate(t,e,r){t._assign=Qs(r),yE(t,e,r)}};function yE(t,{value:e,oldValue:r},n){t._modelValue=e,Se(e)?t.checked=U0(e,n.props.value)>-1:Cl(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=qs(e,y4(t,!0)))}const Nx={created(t,{value:e},r){t.checked=qs(e,r.props.value),t._assign=Qs(r),$o(t,"change",()=>{t._assign(Nc(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t._assign=Qs(n),e!==r&&(t.checked=qs(e,n.props.value))}},v4={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const i=Cl(e);$o(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>r?kp(Nc(s)):Nc(s));t._assign(t.multiple?i?new Set(o):o:o[0])}),t._assign=Qs(n)},mounted(t,{value:e}){_E(t,e)},beforeUpdate(t,e,r){t._assign=Qs(r)},updated(t,{value:e}){_E(t,e)}};function _E(t,e){const r=t.multiple;if(r&&!Se(e)&&!Cl(e)){se(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(e).slice(8,-1)}.`);return}for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],s=Nc(o);if(r)Se(e)?o.selected=U0(e,s)>-1:o.selected=e.has(s);else if(qs(Nc(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}function Nc(t){return"_value"in t?t._value:t.value}function y4(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const _4={created(t,e,r){ch(t,e,r,null,"created")},mounted(t,e,r){ch(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){ch(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){ch(t,e,r,n,"updated")}};function x4(t,e){switch(t){case"SELECT":return v4;case"TEXTAREA":return Xp;default:switch(e){case"checkbox":return kx;case"radio":return Nx;default:return Xp}}}function ch(t,e,r,n,i){const s=x4(t.tagName,r.props&&r.props.type)[i];s&&s(t,e,r,n)}function r$(){Xp.getSSRProps=({value:t})=>({value:t}),Nx.getSSRProps=({value:t},e)=>{if(e.props&&qs(e.props.value,t))return{checked:!0}},kx.getSSRProps=({value:t},e)=>{if(Se(t)){if(e.props&&U0(t,e.props.value)>-1)return{checked:!0}}else if(Cl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},_4.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=x4(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const n$=["ctrl","shift","alt","meta"],i$={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>n$.some(r=>t[`${r}Key`]&&!e.includes(r))},o$=(t,e)=>(r,...n)=>{for(let i=0;i<e.length;i++){const o=i$[e[i]];if(o&&o(r,e))return}return t(r,...n)},s$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},b4=(t,e)=>r=>{if(!("key"in r))return;const n=Sn(r.key);if(e.some(i=>i===n||s$[i]===n))return t(r)},pi={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Su(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Su(t,!0),n.enter(t)):n.leave(t,()=>{Su(t,!1)}):Su(t,e))},beforeUnmount(t,{value:e}){Su(t,e)}};function Su(t,e){t.style.display=e?t._vod:"none"}function a$(){pi.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const w4=ft({patchProp:U7},A7);let hf,xE=!1;function E4(){return hf||(hf=zI(w4))}function S4(){return hf=xE?hf:jI(w4),xE=!0,hf}const ry=(...t)=>{E4().render(...t)},C4=(...t)=>{S4().hydrate(...t)},A4=(...t)=>{const e=E4().createApp(...t);T4(e),P4(e);const{mount:r}=e;return e.mount=n=>{const i=I4(n);if(!i)return;const o=e._component;!Fe(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e},l$=(...t)=>{const e=S4().createApp(...t);T4(e),P4(e);const{mount:r}=e;return e.mount=n=>{const i=I4(n);if(i)return r(i,!0,i instanceof SVGElement)},e};function T4(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>O5(e)||R5(e),writable:!1})}function P4(t){if(Bx()){const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){se("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const r=t.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return se(n),r},set(){se(n)}})}}function I4(t){if(It(t)){const e=document.querySelector(t);return e||se(`Failed to mount app: mount target selector "${t}" returned null.`),e}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&se('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}let bE=!1;const c$=()=>{bE||(bE=!0,r$(),a$())};function u$(){a4()}u$();const f$=()=>{se('Runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".')},d$=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:EI,BaseTransitionPropsValidators:Cx,Comment:tr,EffectScope:ax,Fragment:$t,KeepAlive:aL,ReactiveEffect:wd,Static:Gs,Suspense:qF,Teleport:Q0,Text:uo,Transition:Ad,TransitionGroup:q7,VueElement:og,assertNumber:px,callWithAsyncErrorHandling:Vn,callWithErrorHandling:oo,camelize:Pn,capitalize:Ks,cloneVNode:vi,compatUtils:S7,compile:f$,computed:ne,createApp:A4,createBlock:Ox,createCommentVNode:u7,createElementBlock:o7,createElementVNode:Rx,createHydrationRenderer:jI,createPropsRestProxy:ML,createRenderer:zI,createSSRApp:l$,createSlots:hL,createStaticVNode:c7,createTextVNode:rg,createVNode:R,customRef:lI,defineAsyncComponent:oL,defineComponent:we,defineCustomElement:c4,defineEmits:bL,defineExpose:wL,defineModel:CL,defineOptions:EL,defineProps:xL,defineSSRCustomElement:H7,defineSlots:SL,get devtools(){return Ci},effect:L5,effectScope:xd,getCurrentInstance:bt,getCurrentScope:bd,getTransitionRawChildren:q0,guardReactiveProps:ZI,h:Rr,handleError:Il,hasInjectionContext:FI,hydrate:C4,initCustomFormatter:a4,initDirectivesForSSR:c$,inject:fr,isMemoSame:l4,isProxy:Nf,isReactive:Bi,isReadonly:Jo,isRef:vt,isRuntimeOnly:Bx,isShallow:kf,isVNode:fo,markRaw:ro,mergeDefaults:OL,mergeModels:RL,mergeProps:lt,nextTick:Ye,normalizeClass:_d,normalizeProps:T5,normalizeStyle:yd,onActivated:as,onBeforeMount:AI,onBeforeUnmount:Zn,onBeforeUpdate:J0,onDeactivated:xo,onErrorCaptured:OI,onMounted:zt,onRenderTracked:II,onRenderTriggered:PI,onScopeDispose:lx,onServerPrefetch:TI,onUnmounted:cs,onUpdated:Ol,openBlock:eg,popScopeId:VF,provide:hi,proxyRefs:hx,pushScopeId:HF,queuePostFlushCb:X0,reactive:Bt,readonly:Pl,ref:Z,registerRuntimeCompiler:g7,render:ry,renderList:dL,renderSlot:pL,resolveComponent:uL,resolveDirective:MI,resolveDynamicComponent:fL,resolveFilter:E7,resolveTransitionHooks:Bc,setBlockTracking:X1,setDevtoolsHook:yx,setTransitionHooks:il,shallowReactive:sI,shallowReadonly:pc,shallowRef:W0,ssrContextKey:o4,ssrUtils:w7,stop:$5,toDisplayString:k5,toHandlerKey:No,toHandlers:gL,toRaw:Ue,toRef:sf,toRefs:N1,toValue:pF,transformVNodeArgs:s7,triggerRef:hF,unref:dn,useAttrs:PL,useCssModule:z7,useCssVars:j7,useModel:IL,useSSRContext:s4,useSlots:TL,useTransitionState:Sx,vModelCheckbox:kx,vModelDynamic:_4,vModelRadio:Nx,vModelSelect:v4,vModelText:Xp,vShow:pi,version:J1,warn:se,watch:ye,watchEffect:su,watchPostEffect:xI,watchSyncEffect:rL,withAsyncContext:DL,withCtx:xx,withDefaults:AL,withDirectives:di,withKeys:b4,withMemo:x7,withModifiers:o$,withScopeId:zF},Symbol.toStringTag,{value:"Module"}));var h$=!1;function uh(t,e,r){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,r),r):(t[e]=r,r)}function ym(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function p$(){return O4().__VUE_DEVTOOLS_GLOBAL_HOOK__}function O4(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const g$=typeof Proxy=="function",m$="devtools-plugin:setup",v$="plugin:settings:set";let Gl,ny;function y$(){var t;return Gl!==void 0||(typeof window<"u"&&window.performance?(Gl=!0,ny=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Gl=!0,ny=globalThis.perf_hooks.performance):Gl=!1),Gl}function _$(){return y$()?ny.now():Date.now()}class x${constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const s in e.settings){const a=e.settings[s];n[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return _$()}},r&&r.on(v$,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function sg(t,e){const r=t,n=O4(),i=p$(),o=g$&&r.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(m$,t,e);else{const s=o?new x$(r,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let iy;const jf=t=>iy=t,R4=Symbol("pinia");function sl(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var so;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(so||(so={}));const qa=typeof window<"u",wE=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function b$(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function Fx(t,e,r){const n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){B4(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function M4(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ap(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}const lp=typeof navigator=="object"?navigator:{userAgent:""},D4=(()=>/Macintosh/.test(lp.userAgent)&&/AppleWebKit/.test(lp.userAgent)&&!/Safari/.test(lp.userAgent))(),B4=qa?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!D4?w$:"msSaveOrOpenBlob"in lp?E$:S$:()=>{};function w$(t,e="download",r){const n=document.createElement("a");n.download=e,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?M4(n.href)?Fx(t,e,r):(n.target="_blank",ap(n)):ap(n)):(n.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){ap(n)},0))}function E$(t,e="download",r){if(typeof t=="string")if(M4(t))Fx(t,e,r);else{const n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){ap(n)})}else navigator.msSaveOrOpenBlob(b$(t,r),e)}function S$(t,e,r,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Fx(t,e,r);const i=t.type==="application/octet-stream",o=/constructor/i.test(String(wE.HTMLElement))||"safari"in wE,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o||D4)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw n=null,new Error("Wrong reader.result type");l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location.assign(l),n=null},a.readAsDataURL(t)}else{const a=URL.createObjectURL(t);n?n.location.assign(a):location.href=a,n=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function Or(t,e){const r=" "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(r,e):e==="error"?console.error(r):e==="warn"?console.warn(r):console.log(r)}function Lx(t){return"_a"in t&&"install"in t}function k4(){if(!("clipboard"in navigator))return Or("Your browser doesn't support the Clipboard API","error"),!0}function N4(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Or('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function C$(t){if(!k4())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Or("Global state copied to clipboard.")}catch(e){if(N4(e))return;Or("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function A$(t){if(!k4())try{F4(t,JSON.parse(await navigator.clipboard.readText())),Or("Global state pasted from clipboard.")}catch(e){if(N4(e))return;Or("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function T$(t){try{B4(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Or("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let So;function P$(){So||(So=document.createElement("input"),So.type="file",So.accept=".json");function t(){return new Promise((e,r)=>{So.onchange=async()=>{const n=So.files;if(!n)return e(null);const i=n.item(0);return e(i?{text:await i.text(),file:i}:null)},So.oncancel=()=>e(null),So.onerror=r,So.click()})}return t}async function I$(t){try{const r=await P$()();if(!r)return;const{text:n,file:i}=r;F4(t,JSON.parse(n)),Or(`Global state imported from "${i.name}".`)}catch(e){Or("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function F4(t,e){for(const r in e){const n=t.state.value[r];n?Object.assign(n,e[r]):t.state.value[r]=e[r]}}function Si(t){return{_custom:{display:t}}}const L4=" Pinia (root)",cp="_root";function O$(t){return Lx(t)?{id:cp,label:L4}:{id:t.$id,label:t.$id}}function R$(t){if(Lx(t)){const r=Array.from(t._s.keys()),n=t._s;return{state:r.map(o=>({editable:!0,key:o,value:t.state.value[o]})),getters:r.filter(o=>n.get(o)._getters).map(o=>{const s=n.get(o);return{editable:!1,key:o,value:s._getters.reduce((a,l)=>(a[l]=s[l],a),{})}})}}const e={state:Object.keys(t.$state).map(r=>({editable:!0,key:r,value:t.$state[r]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(r=>({editable:!1,key:r,value:t[r]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(r=>({editable:!0,key:r,value:t[r]}))),e}function M$(t){return t?Array.isArray(t)?t.reduce((e,r)=>(e.keys.push(r.key),e.operations.push(r.type),e.oldValue[r.key]=r.oldValue,e.newValue[r.key]=r.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Si(t.type),key:Si(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function D$(t){switch(t){case so.direct:return"mutation";case so.patchFunction:return"$patch";case so.patchObject:return"$patch";default:return"unknown"}}let gc=!0;const up=[],Sa="pinia:mutations",Wr="pinia",{assign:B$}=Object,Yp=t=>" "+t;function k$(t,e){sg({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:up,app:t},r=>{typeof r.now!="function"&&Or("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.addTimelineLayer({id:Sa,label:"Pinia ",color:15064968}),r.addInspector({id:Wr,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{C$(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await A$(e),r.sendInspectorTree(Wr),r.sendInspectorState(Wr)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{T$(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await I$(e),r.sendInspectorTree(Wr),r.sendInspectorState(Wr)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:n=>{const i=e._s.get(n);i?typeof i.$reset!="function"?Or(`Cannot reset "${n}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Or(`Store "${n}" reset.`)):Or(`Cannot reset "${n}" store because it wasn't found.`,"warn")}}]}),r.on.inspectComponent((n,i)=>{const o=n.componentInstance&&n.componentInstance.proxy;if(o&&o._pStores){const s=n.componentInstance.proxy._pStores;Object.values(s).forEach(a=>{n.instanceData.state.push({type:Yp(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:Ue(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,c)=>(l[c]=a.$state[c],l),{})}),a._getters&&a._getters.length&&n.instanceData.state.push({type:Yp(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,c)=>{try{l[c]=a[c]}catch(u){l[c]=u}return l},{})})})}}),r.on.getInspectorTree(n=>{if(n.app===t&&n.inspectorId===Wr){let i=[e];i=i.concat(Array.from(e._s.values())),n.rootNodes=(n.filter?i.filter(o=>"$id"in o?o.$id.toLowerCase().includes(n.filter.toLowerCase()):L4.toLowerCase().includes(n.filter.toLowerCase())):i).map(O$)}}),globalThis.$pinia=e,r.on.getInspectorState(n=>{if(n.app===t&&n.inspectorId===Wr){const i=n.nodeId===cp?e:e._s.get(n.nodeId);if(!i)return;i&&(n.nodeId!==cp&&(globalThis.$store=Ue(i)),n.state=R$(i))}}),r.on.editInspectorState((n,i)=>{if(n.app===t&&n.inspectorId===Wr){const o=n.nodeId===cp?e:e._s.get(n.nodeId);if(!o)return Or(`store "${n.nodeId}" not found`,"error");const{path:s}=n;Lx(o)?s.unshift("state"):(s.length!==1||!o._customProperties.has(s[0])||s[0]in o.$state)&&s.unshift("$state"),gc=!1,n.set(o,s,n.state.value),gc=!0}}),r.on.editComponentState(n=>{if(n.type.startsWith("")){const i=n.type.replace(/^\s*/,""),o=e._s.get(i);if(!o)return Or(`store "${i}" not found`,"error");const{path:s}=n;if(s[0]!=="state")return Or(`Invalid path for store "${i}":
${s}
Only state can be modified.`);s[0]="$state",gc=!1,n.set(o,s,n.state.value),gc=!0}})})}function N$(t,e){up.includes(Yp(e.$id))||up.push(Yp(e.$id)),sg({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:up,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},r=>{const n=typeof r.now=="function"?r.now.bind(r):Date.now;e.$onAction(({after:s,onError:a,name:l,args:c})=>{const u=$4++;r.addTimelineEvent({layerId:Sa,event:{time:n(),title:" "+l,subtitle:"start",data:{store:Si(e.$id),action:Si(l),args:c},groupId:u}}),s(f=>{Ms=void 0,r.addTimelineEvent({layerId:Sa,event:{time:n(),title:" "+l,subtitle:"end",data:{store:Si(e.$id),action:Si(l),args:c,result:f},groupId:u}})}),a(f=>{Ms=void 0,r.addTimelineEvent({layerId:Sa,event:{time:n(),logType:"error",title:" "+l,subtitle:"end",data:{store:Si(e.$id),action:Si(l),args:c,error:f},groupId:u}})})},!0),e._customProperties.forEach(s=>{ye(()=>dn(e[s]),(a,l)=>{r.notifyComponentUpdate(),r.sendInspectorState(Wr),gc&&r.addTimelineEvent({layerId:Sa,event:{time:n(),title:"Change",subtitle:s,data:{newValue:a,oldValue:l},groupId:Ms}})},{deep:!0})}),e.$subscribe(({events:s,type:a},l)=>{if(r.notifyComponentUpdate(),r.sendInspectorState(Wr),!gc)return;const c={time:n(),title:D$(a),data:B$({store:Si(e.$id)},M$(s)),groupId:Ms};a===so.patchFunction?c.subtitle="":a===so.patchObject?c.subtitle="":s&&!Array.isArray(s)&&(c.subtitle=s.type),s&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:s}}),r.addTimelineEvent({layerId:Sa,event:c})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=ro(s=>{i(s),r.addTimelineEvent({layerId:Sa,event:{time:n(),title:" "+e.$id,subtitle:"HMR update",data:{store:Si(e.$id),info:Si("HMR update")}}}),r.notifyComponentUpdate(),r.sendInspectorTree(Wr),r.sendInspectorState(Wr)});const{$dispose:o}=e;e.$dispose=()=>{o(),r.notifyComponentUpdate(),r.sendInspectorTree(Wr),r.sendInspectorState(Wr),r.getSettings().logStoreChanges&&Or(`Disposed "${e.$id}" store `)},r.notifyComponentUpdate(),r.sendInspectorTree(Wr),r.sendInspectorState(Wr),r.getSettings().logStoreChanges&&Or(`"${e.$id}" store installed `)})}let $4=0,Ms;function EE(t,e,r){const n=e.reduce((i,o)=>(i[o]=Ue(t)[o],i),{});for(const i in n)t[i]=function(){const o=$4,s=r?new Proxy(t,{get(...l){return Ms=o,Reflect.get(...l)},set(...l){return Ms=o,Reflect.set(...l)}}):t;Ms=o;const a=n[i].apply(s,arguments);return Ms=void 0,a}}function F$({app:t,store:e,options:r}){if(!e.$id.startsWith("__hot:")){if(e._isOptionsAPI=!!r.state,!e._p._testing){EE(e,Object.keys(r.actions),e._isOptionsAPI);const n=e._hotUpdate;Ue(e)._hotUpdate=function(i){n.apply(this,arguments),EE(e,Object.keys(i._hmrPayload.actions),!!e._isOptionsAPI)}}N$(t,e)}}function SCe(){const t=xd(!0),e=t.run(()=>Z({}));let r=[],n=[];const i=ro({install(o){jf(i),i._a=o,o.provide(R4,i),o.config.globalProperties.$pinia=i,qa&&k$(o,i),n.forEach(s=>r.push(s)),n=[]},use(o){return!this._a&&!h$?n.push(o):r.push(o),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return qa&&typeof Proxy<"u"&&i.use(F$),i}function U4(t,e){for(const r in e){const n=e[r];if(!(r in t))continue;const i=t[r];sl(i)&&sl(n)&&!vt(n)&&!Bi(n)?t[r]=U4(i,n):t[r]=n}return t}const L$=()=>{};function SE(t,e,r,n=L$){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),n())};return!r&&bd()&&lx(i),i}function Hl(t,...e){t.slice().forEach(r=>{r(...e)})}const $$=t=>t(),CE=Symbol(),_m=Symbol();function oy(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];sl(i)&&sl(n)&&t.hasOwnProperty(r)&&!vt(n)&&!Bi(n)?t[r]=oy(i,n):t[r]=n}return t}const U$=Symbol("pinia:skipHydration");function G$(t){return!sl(t)||!t.hasOwnProperty(U$)}const{assign:ii}=Object;function AE(t){return!!(vt(t)&&t.effect)}function TE(t,e,r,n){const{state:i,actions:o,getters:s}=e,a=r.state.value[t];let l;function c(){!a&&!n&&(r.state.value[t]=i?i():{});const u=N1(n?Z(i?i():{}).value:r.state.value[t]);return ii(u,o,Object.keys(s||{}).reduce((f,d)=>(d in u&&console.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${t}".`),f[d]=ro(ne(()=>{jf(r);const h=r._s.get(t);return s[d].call(h,h)})),f),{}))}return l=sy(t,c,e,r,n,!0),l}function sy(t,e,r={},n,i,o){let s;const a=ii({actions:{}},r);if(!n._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=C=>{c?h=C:c==!1&&!E._hotUpdating&&(Array.isArray(h)?h.push(C):console.error(" debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,u,f=[],d=[],h;const p=n.state.value[t];!o&&!p&&!i&&(n.state.value[t]={});const y=Z({});let g;function m(C){let A;c=u=!1,h=[],typeof C=="function"?(C(n.state.value[t]),A={type:so.patchFunction,storeId:t,events:h}):(oy(n.state.value[t],C),A={type:so.patchObject,payload:C,storeId:t,events:h});const T=g=Symbol();Ye().then(()=>{g===T&&(c=!0)}),u=!0,Hl(f,A,n.state.value[t])}const v=o?function(){const{state:A}=r,T=A?A():{};this.$patch(I=>{ii(I,T)})}:()=>{throw new Error(`: Store "${t}" is built using the setup syntax and does not implement $reset().`)};function _(){s.stop(),f=[],d=[],n._s.delete(t)}const x=(C,A="")=>{if(CE in C)return C[_m]=A,C;const T=function(){jf(n);const I=Array.from(arguments),B=[],G=[];function N(K){B.push(K)}function U(K){G.push(K)}Hl(d,{args:I,name:T[_m],store:E,after:N,onError:U});let W;try{W=C.apply(this&&this.$id===t?this:E,I)}catch(K){throw Hl(G,K),K}return W instanceof Promise?W.then(K=>(Hl(B,K),K)).catch(K=>(Hl(G,K),Promise.reject(K))):(Hl(B,W),W)};return T[CE]=!0,T[_m]=A,T},b=ro({actions:{},getters:{},state:[],hotState:y}),w={_p:n,$id:t,$onAction:SE.bind(null,d),$patch:m,$reset:v,$subscribe(C,A={}){const T=SE(f,C,A.detached,()=>I()),I=s.run(()=>ye(()=>n.state.value[t],B=>{(A.flush==="sync"?u:c)&&C({storeId:t,type:so.direct,events:h},B)},ii({},l,A)));return T},$dispose:_},E=Bt(ii({_hmrPayload:b,_customProperties:ro(new Set)},w));n._s.set(t,E);const P=(n._a&&n._a.runWithContext||$$)(()=>n._e.run(()=>(s=xd()).run(()=>e({action:x}))));for(const C in P){const A=P[C];if(vt(A)&&!AE(A)||Bi(A))i?uh(y.value,C,sf(P,C)):o||(p&&G$(A)&&(vt(A)?A.value=p[C]:oy(A,p[C])),n.state.value[t][C]=A),b.state.push(C);else if(typeof A=="function"){const T=i?A:x(A,C);P[C]=T,b.actions[C]=A,a.actions[C]=A}else AE(A)&&(b.getters[C]=o?r.getters[C]:A,qa&&(P._getters||(P._getters=ro([]))).push(C))}if(ii(E,P),ii(Ue(E),P),Object.defineProperty(E,"$state",{get:()=>i?y.value:n.state.value[t],set:C=>{if(i)throw new Error("cannot set hotState");m(A=>{ii(A,C)})}}),E._hotUpdate=ro(C=>{E._hotUpdating=!0,C._hmrPayload.state.forEach(A=>{if(A in E.$state){const T=C.$state[A],I=E.$state[A];typeof T=="object"&&sl(T)&&sl(I)?U4(T,I):C.$state[A]=I}uh(E,A,sf(C.$state,A))}),Object.keys(E.$state).forEach(A=>{A in C.$state||ym(E,A)}),c=!1,u=!1,n.state.value[t]=sf(C._hmrPayload,"hotState"),u=!0,Ye().then(()=>{c=!0});for(const A in C._hmrPayload.actions){const T=C[A];uh(E,A,x(T,A))}for(const A in C._hmrPayload.getters){const T=C._hmrPayload.getters[A],I=o?ne(()=>(jf(n),T.call(E,E))):T;uh(E,A,I)}Object.keys(E._hmrPayload.getters).forEach(A=>{A in C._hmrPayload.getters||ym(E,A)}),Object.keys(E._hmrPayload.actions).forEach(A=>{A in C._hmrPayload.actions||ym(E,A)}),E._hmrPayload=C._hmrPayload,E._getters=C._getters,E._hotUpdating=!1}),qa){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(A=>{Object.defineProperty(E,A,ii({value:E[A]},C))})}return n._p.forEach(C=>{if(qa){const A=s.run(()=>C({store:E,app:n._a,pinia:n,options:a}));Object.keys(A||{}).forEach(T=>E._customProperties.add(T)),ii(E,A)}else ii(E,s.run(()=>C({store:E,app:n._a,pinia:n,options:a})))}),E.$state&&typeof E.$state=="object"&&typeof E.$state.constructor=="function"&&!E.$state.constructor.toString().includes("[native code]")&&console.warn(`[]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${E.$id}".`),p&&o&&r.hydrate&&r.hydrate(E.$state,p),c=!0,u=!0,E}/*! #__NO_SIDE_EFFECTS__ */function CCe(t,e,r){let n,i;const o=typeof e=="function";if(typeof t=="string")n=t,i=o?r:e;else if(i=t,n=t.id,typeof n!="string")throw new Error('[]: "defineStore()" must be passed a store id as its first argument.');function s(a,l){const c=FI();if(a=a||(c?fr(R4,null):null),a&&jf(a),!iy)throw new Error(`[]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);a=iy,a._s.has(n)||(o?sy(n,e,i,a):TE(n,i,a),s._pinia=a);const u=a._s.get(n);if(l){const f="__hot:"+n,d=o?sy(f,e,i,a,!0):TE(f,ii({},i),a,!0);l._hotUpdate(d),delete a.state.value[f],a._s.delete(f)}if(qa){const f=bt();if(f&&f.proxy&&!l){const d=f.proxy,h="_pStores"in d?d._pStores:d._pStores={};h[n]=u}}return u}return s.$id=n,s}(function(t,e){var r=t.document,n=r.documentElement,i=r.querySelector('meta[name="viewport"]'),o=r.querySelector('meta[name="flexible"]'),s=0,a=0,l,c=e.flexible||(e.flexible={});if(i){console.warn("");var u=i.getAttribute("content").match(/initial\-scale=([\d\.]+)/);u&&(a=parseFloat(u[1]),s=parseInt(1/a))}else if(o){var f=o.getAttribute("content");if(f){var d=f.match(/initial\-dpr=([\d\.]+)/),h=f.match(/maximum\-dpr=([\d\.]+)/);d&&(s=parseFloat(d[1]),a=parseFloat((1/s).toFixed(2))),h&&(s=parseFloat(h[1]),a=parseFloat((1/s).toFixed(2)))}}if(!s&&!a){t.navigator.appVersion.match(/android/gi);var p=t.navigator.appVersion.match(/iphone/gi),y=t.devicePixelRatio;p?y>=3&&(!s||s>=3)?s=3:y>=2&&(!s||s>=2)?s=2:s=1:s=1,a=1/s}if(n.setAttribute("data-dpr",s),!i)if(i=r.createElement("meta"),i.setAttribute("name","viewport"),i.setAttribute("content","initial-scale="+a+", maximum-scale="+a+", minimum-scale="+a+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(i);else{var g=r.createElement("div");g.appendChild(i),r.write(g.innerHTML)}function m(){var v=n.getBoundingClientRect().width;v/s>540&&(v=540*s);var _=v/10;n.style.fontSize=_+"px",c.rem=t.rem=_}t.addEventListener("resize",function(){clearTimeout(l),l=setTimeout(m,300)},!1),t.addEventListener("pageshow",function(v){v.persisted&&(clearTimeout(l),l=setTimeout(m,300))},!1),r.readyState==="complete"?r.body.style.fontSize=12*s+"px":r.addEventListener("DOMContentLoaded",function(v){r.body.style.fontSize=12*s+"px"},!1),m(),c.dpr=t.dpr=s,c.refreshRem=m,c.rem2px=function(v){var _=parseFloat(v)*this.rem;return typeof v=="string"&&v.match(/rem$/)&&(_+="px"),_},c.px2rem=function(v){var _=parseFloat(v)/this.rem;return typeof v=="string"&&v.match(/px$/)&&(_+="rem"),_}})(window,window.lib||(window.lib={}));function H$(t){return typeof t=="object"&&t!==null}function PE(t,e){return t=H$(t)?t:Object.create(null),new Proxy(t,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(e,n,i)}})}function V$(t,e){return e.reduce((r,n)=>r==null?void 0:r[n],t)}function z$(t,e,r){return e.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},t)[e[e.length-1]]=r,t}function j$(t,e){return e.reduce((r,n)=>{const i=n.split(".");return z$(r,i,V$(t,i))},{})}function W$(t,e){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:o=void 0,afterRestore:s=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:c=null,debug:u=!1}=r;return{storage:i,beforeRestore:o,afterRestore:s,serializer:a,key:((n=t.key)!=null?n:f=>f)(typeof l=="string"?l:l(e.$id)),paths:c,debug:u}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function IE(t,{storage:e,serializer:r,key:n,debug:i}){try{const o=e==null?void 0:e.getItem(n);o&&t.$patch(r==null?void 0:r.deserialize(o))}catch(o){i&&console.error("[pinia-plugin-persistedstate]",o)}}function OE(t,{storage:e,serializer:r,key:n,paths:i,debug:o}){try{const s=Array.isArray(i)?j$(t,i):t;e.setItem(n,r.serialize(s))}catch(s){o&&console.error("[pinia-plugin-persistedstate]",s)}}function X$(t={}){return e=>{const{auto:r=!1}=t,{options:{persist:n=r},store:i,pinia:o}=e;if(!n)return;if(!(i.$id in o.state.value)){const a=o._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const s=(Array.isArray(n)?n.map(a=>PE(a,t)):[PE(n,t)]).map(W$(t,i)).filter(Boolean);i.$persist=()=>{s.forEach(a=>{OE(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{s.forEach(l=>{const{beforeRestore:c,afterRestore:u}=l;a&&(c==null||c(e)),IE(i,l),a&&(u==null||u(e))})},s.forEach(a=>{const{beforeRestore:l,afterRestore:c}=a;l==null||l(e),IE(i,a),c==null||c(e),i.$subscribe((u,f)=>{OE(f,a)},{detached:!0})})}}var ACe=X$(),al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $x(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}const Vr=$x(d$);var G4={exports:{}},Ux=Object.defineProperty,Y$=Object.getOwnPropertyDescriptor,K$=Object.getOwnPropertyNames,q$=Object.prototype.hasOwnProperty,Z$=(t,e)=>{for(var r in e)Ux(t,r,{get:e[r],enumerable:!0})},J$=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of K$(e))!q$.call(t,i)&&i!==r&&Ux(t,i,{get:()=>e[i],enumerable:!(n=Y$(e,i))||n.enumerable});return t},Q$=t=>J$(Ux({},"__esModule",{value:!0}),t),H4={};Z$(H4,{extend:()=>tU,flat:()=>dU,get:()=>lU,inBrowser:()=>V4,isDate:()=>iU,isDef:()=>rU,isFunction:()=>ay,isIOS:()=>aU,isMobile:()=>oU,isNumeric:()=>sU,isObject:()=>Gx,isPromise:()=>nU,isSameValue:()=>uU,noop:()=>eU,pick:()=>cU,toArray:()=>fU});var oa=Q$(H4);function eU(){}const tU=Object.assign,V4=typeof window<"u",Gx=t=>t!==null&&typeof t=="object",rU=t=>t!=null,ay=t=>typeof t=="function",nU=t=>Gx(t)&&ay(t.then)&&ay(t.catch),iU=t=>Object.prototype.toString.call(t)==="[object Date]"&&!Number.isNaN(t.getTime());function oU(t){return t=t.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(t)||/^0[0-9-]{10,13}$/.test(t)}const sU=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),aU=()=>V4?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function lU(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var o;n=Gx(n)&&(o=n[i])!=null?o:""}),n}function cU(t,e,r){return e.reduce((n,i)=>((!r||t[i]!==void 0)&&(n[i]=t[i]),n),{})}const uU=(t,e)=>JSON.stringify(t)===JSON.stringify(e),fU=t=>Array.isArray(t)?t:[t],dU=t=>t.reduce((e,r)=>e.concat(r),[]);var Hx=Object.defineProperty,hU=Object.getOwnPropertyDescriptor,pU=Object.getOwnPropertyNames,gU=Object.prototype.hasOwnProperty,mU=(t,e)=>{for(var r in e)Hx(t,r,{get:e[r],enumerable:!0})},vU=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pU(e))!gU.call(t,i)&&i!==r&&Hx(t,i,{get:()=>e[i],enumerable:!(n=hU(e,i))||n.enumerable});return t},yU=t=>vU(Hx({},"__esModule",{value:!0}),t),z4={};mU(z4,{makeArrayProp:()=>EU,makeNumberProp:()=>SU,makeNumericProp:()=>CU,makeRequiredProp:()=>wU,makeStringProp:()=>AU,numericProp:()=>j4,truthProp:()=>bU,unknownProp:()=>xU});var _U=yU(z4);const xU=null,j4=[Number,String],bU={type:Boolean,default:!0},wU=t=>({type:t,required:!0}),EU=()=>({type:Array,default:()=>[]}),SU=t=>({type:Number,default:t}),CU=t=>({type:j4,default:t}),AU=t=>({type:String,default:t});var bo=typeof window<"u",TU=!0;function hn(t){return bo?requestAnimationFrame(t):-1}function Td(t){bo&&cancelAnimationFrame(t)}function ka(t){hn(()=>hn(t))}var PU=t=>t===window,RE=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),br=t=>{const e=dn(t);if(PU(e)){const r=e.innerWidth,n=e.innerHeight;return RE(r,n)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():RE(0,0)};function W4(t=!1){const e=Z(t);return[e,(n=!e.value)=>{e.value=n}]}function Jn(t){const e=fr(t,null);if(e){const r=bt(),{link:n,unlink:i,internalChildren:o}=e;n(r),cs(()=>i(r));const s=ne(()=>o.indexOf(r));return{parent:e,index:s}}return{parent:null,index:Z(-1)}}function X4(t){const e=[],r=n=>{Array.isArray(n)&&n.forEach(i=>{var o;fo(i)&&(e.push(i),(o=i.component)!=null&&o.subTree&&(e.push(i.component.subTree),r(i.component.subTree.children)),i.children&&r(i.children))})};return r(t),e}var ME=(t,e)=>{const r=t.indexOf(e);return r===-1?t.findIndex(n=>e.key!==void 0&&e.key!==null&&n.type===e.type&&n.key===e.key):r};function Y4(t,e,r){const n=X4(t.subTree.children);r.sort((o,s)=>ME(n,o.vnode)-ME(n,s.vnode));const i=r.map(o=>o.proxy);e.sort((o,s)=>{const a=i.indexOf(o),l=i.indexOf(s);return a-l})}function $i(t){const e=Bt([]),r=Bt([]),n=bt();return{children:e,linkChildren:o=>{hi(t,Object.assign({link:l=>{l.proxy&&(r.push(l),e.push(l.proxy),Y4(n,e,r))},unlink:l=>{const c=r.indexOf(l);e.splice(c,1),r.splice(c,1)},children:e,internalChildren:r},o))}}}var ly=1e3,cy=60*ly,uy=60*cy,DE=24*uy;function IU(t){const e=Math.floor(t/DE),r=Math.floor(t%DE/uy),n=Math.floor(t%uy/cy),i=Math.floor(t%cy/ly),o=Math.floor(t%ly);return{total:t,days:e,hours:r,minutes:n,seconds:i,milliseconds:o}}function OU(t,e){return Math.floor(t/1e3)===Math.floor(e/1e3)}function K4(t){let e,r,n,i;const o=Z(t.time),s=ne(()=>IU(o.value)),a=()=>{n=!1,Td(e)},l=()=>Math.max(r-Date.now(),0),c=y=>{var g,m;o.value=y,(g=t.onChange)==null||g.call(t,s.value),y===0&&(a(),(m=t.onFinish)==null||m.call(t))},u=()=>{e=hn(()=>{n&&(c(l()),o.value>0&&u())})},f=()=>{e=hn(()=>{if(n){const y=l();(!OU(y,o.value)||y===0)&&c(y),o.value>0&&f()}})},d=()=>{bo&&(t.millisecond?u():f())},h=()=>{n||(r=Date.now()+o.value,n=!0,d())},p=(y=t.time)=>{a(),o.value=y};return Zn(a),as(()=>{i&&(n=!0,i=!1,d())}),xo(()=>{n&&(a(),i=!0)}),{start:h,pause:a,reset:p,current:s}}function cu(t){let e;zt(()=>{t(),Ye(()=>{e=!0})}),as(()=>{e&&t()})}function mn(t,e,r={}){if(!bo)return;const{target:n=window,passive:i=!1,capture:o=!1}=r;let s=!1,a;const l=f=>{if(s)return;const d=dn(f);d&&!a&&(d.addEventListener(t,e,{capture:o,passive:i}),a=!0)},c=f=>{if(s)return;const d=dn(f);d&&a&&(d.removeEventListener(t,e,o),a=!1)};cs(()=>c(n)),xo(()=>c(n)),cu(()=>l(n));let u;return vt(n)&&(u=ye(n,(f,d)=>{c(d),l(f)})),()=>{u==null||u(),c(n),s=!0}}function q4(t,e,r={}){if(!bo)return;const{eventName:n="click"}=r;mn(n,o=>{(Array.isArray(t)?t:[t]).every(l=>{const c=dn(l);return c&&!c.contains(o.target)})&&e(o)},{target:document})}var fh,xm;function Z4(){if(!fh&&(fh=Z(0),xm=Z(0),bo)){const t=()=>{fh.value=window.innerWidth,xm.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:fh,height:xm}}var RU=/scroll|auto|overlay/i,J4=bo?window:void 0;function MU(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function Vx(t,e=J4){let r=t;for(;r&&r!==e&&MU(r);){const{overflowY:n}=window.getComputedStyle(r);if(RU.test(n))return r;r=r.parentNode}return e}function Pd(t,e=J4){const r=Z();return zt(()=>{t.value&&(r.value=Vx(t.value,e))}),r}var dh;function Q4(){if(!dh&&(dh=Z("visible"),bo)){const t=()=>{dh.value=document.hidden?"hidden":"visible"};t(),window.addEventListener("visibilitychange",t)}return dh}var zx=Symbol("van-field");function Ml(t){const e=fr(zx,null);e&&!e.customValue.value&&(e.customValue.value=t,ye(t,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}function DU(t,e){if(bo){const{interval:r=0,isLoop:n=!1}=e||{};let i,o=!1,s;const a=()=>{o=!0,cancelAnimationFrame(s)},l=c=>{if(!o){if(i===void 0)i=c;else if(c-i>r&&(t(c),i=c,!n)){a();return}s=requestAnimationFrame(l)}};return s=requestAnimationFrame(l),a}return()=>{}}const BU=Object.freeze(Object.defineProperty({__proto__:null,CUSTOM_FIELD_INJECTION_KEY:zx,cancelRaf:Td,doubleRaf:ka,flattenVNodes:X4,getScrollParent:Vx,inBrowser:bo,onMountedOrActivated:cu,raf:hn,sortChildren:Y4,supportsPassive:TU,useChildren:$i,useClickAway:q4,useCountDown:K4,useCustomFieldValue:Ml,useEventListener:mn,usePageVisibility:Q4,useParent:Jn,useRaf:DU,useRect:br,useScrollParent:Pd,useToggle:W4,useWindowSize:Z4},Symbol.toStringTag,{value:"Module"})),ag=$x(BU);var jx=Object.defineProperty,kU=Object.getOwnPropertyDescriptor,NU=Object.getOwnPropertyNames,FU=Object.prototype.hasOwnProperty,LU=(t,e)=>{for(var r in e)jx(t,r,{get:e[r],enumerable:!0})},$U=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of NU(e))!FU.call(t,i)&&i!==r&&jx(t,i,{get:()=>e[i],enumerable:!(n=kU(e,i))||n.enumerable});return t},UU=t=>$U(jx({},"__esModule",{value:!0}),t),eO={};LU(eO,{getContainingBlock:()=>ZU,getElementTop:()=>VU,getRootScrollTop:()=>Wx,getScrollTop:()=>nO,isHidden:()=>XU,preventDefault:()=>WU,resetScroll:()=>jU,setRootScrollTop:()=>iO,setScrollTop:()=>fy,stopPropagation:()=>oO,windowHeight:()=>KU,windowWidth:()=>YU});var tO=UU(eO),rO=ag,GU=Vr,HU=oa;function nO(t){const e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function fy(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function Wx(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function iO(t){fy(window,t),fy(document.body,t)}function VU(t,e){if(t===window)return 0;const r=e?nO(e):Wx();return(0,rO.useRect)(t).top+r}const zU=(0,HU.isIOS)();function jU(){zU&&iO(Wx())}const oO=t=>t.stopPropagation();function WU(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&oO(t)}function XU(t){const e=(0,GU.unref)(t);if(!e)return!1;const r=window.getComputedStyle(e),n=r.display==="none",i=e.offsetParent===null&&r.position!=="fixed";return n||i}const{width:YU,height:KU}=(0,rO.useWindowSize)();function qU(t){const e=window.getComputedStyle(t);return e.transform!=="none"||e.perspective!=="none"||["transform","perspective","filter"].some(r=>(e.willChange||"").includes(r))}function ZU(t){let e=t.parentElement;for(;e;){if(e&&e.tagName!=="HTML"&&e.tagName!=="BODY"&&qU(e))return e;e=e.parentElement}return null}var Xx=Object.defineProperty,JU=Object.getOwnPropertyDescriptor,QU=Object.getOwnPropertyNames,eG=Object.prototype.hasOwnProperty,tG=(t,e)=>{for(var r in e)Xx(t,r,{get:e[r],enumerable:!0})},rG=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of QU(e))!eG.call(t,i)&&i!==r&&Xx(t,i,{get:()=>e[i],enumerable:!(n=JU(e,i))||n.enumerable});return t},nG=t=>rG(Xx({},"__esModule",{value:!0}),t),sO={};tG(sO,{addNumber:()=>yG,addUnit:()=>fp,camelize:()=>hG,clamp:()=>mG,formatNumber:()=>vG,getSizeStyle:()=>oG,getZIndexStyle:()=>sG,kebabCase:()=>pG,padZero:()=>gG,unitToPx:()=>fG});var Yx=nG(sO),iG=oa,aO=tO,dy=oa;function fp(t){if((0,dy.isDef)(t))return(0,dy.isNumeric)(t)?`${t}px`:String(t)}function oG(t){if((0,dy.isDef)(t)){if(Array.isArray(t))return{width:fp(t[0]),height:fp(t[1])};const e=fp(t);return{width:e,height:e}}}function sG(t){const e={};return t!==void 0&&(e.zIndex=+t),e}let bm;function aG(){if(!bm){const t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;bm=parseFloat(e)}return bm}function lG(t){return t=t.replace(/rem/g,""),+t*aG()}function cG(t){return t=t.replace(/vw/g,""),+t*aO.windowWidth.value/100}function uG(t){return t=t.replace(/vh/g,""),+t*aO.windowHeight.value/100}function fG(t){if(typeof t=="number")return t;if(iG.inBrowser){if(t.includes("rem"))return lG(t);if(t.includes("vw"))return cG(t);if(t.includes("vh"))return uG(t)}return parseFloat(t)}const dG=/-(\w)/g,hG=t=>t.replace(dG,(e,r)=>r.toUpperCase()),pG=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function gG(t,e=2){let r=t+"";for(;r.length<e;)r="0"+r;return r}const mG=(t,e,r)=>Math.min(Math.max(t,e),r);function BE(t,e,r){const n=t.indexOf(e);return n===-1?t:e==="-"&&n!==0?t.slice(0,n):t.slice(0,n+1)+t.slice(n).replace(r,"")}function vG(t,e=!0,r=!0){e?t=BE(t,".",/\./g):t=t.split(".")[0],r?t=BE(t,"-",/-/g):t=t.replace(/-/,"");const n=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(n,"")}function yG(t,e){return Math.round((t+e)*1e10)/1e10}var Kx=Object.defineProperty,_G=Object.getOwnPropertyDescriptor,xG=Object.getOwnPropertyNames,bG=Object.prototype.hasOwnProperty,wG=(t,e)=>{for(var r in e)Kx(t,r,{get:e[r],enumerable:!0})},EG=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xG(e))!bG.call(t,i)&&i!==r&&Kx(t,i,{get:()=>e[i],enumerable:!(n=_G(e,i))||n.enumerable});return t},SG=t=>EG(Kx({},"__esModule",{value:!0}),t),lO={};wG(lO,{deepAssign:()=>cO});var CG=SG(lO),kE=oa;const{hasOwnProperty:AG}=Object.prototype;function TG(t,e,r){const n=e[r];(0,kE.isDef)(n)&&(!AG.call(t,r)||!(0,kE.isObject)(n)?t[r]=n:t[r]=cO(Object(t[r]),n))}function cO(t,e){return Object.keys(e).forEach(r=>{TG(t,e,r)}),t}var qx=Object.defineProperty,PG=Object.getOwnPropertyDescriptor,IG=Object.getOwnPropertyNames,OG=Object.prototype.hasOwnProperty,RG=(t,e)=>{for(var r in e)qx(t,r,{get:e[r],enumerable:!0})},MG=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of IG(e))!OG.call(t,i)&&i!==r&&qx(t,i,{get:()=>e[i],enumerable:!(n=PG(e,i))||n.enumerable});return t},DG=t=>MG(qx({},"__esModule",{value:!0}),t),uO={};RG(uO,{default:()=>kG});var BG=DG(uO),kG={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}},NG=Object.create,lg=Object.defineProperty,FG=Object.getOwnPropertyDescriptor,LG=Object.getOwnPropertyNames,$G=Object.getPrototypeOf,UG=Object.prototype.hasOwnProperty,GG=(t,e)=>{for(var r in e)lg(t,r,{get:e[r],enumerable:!0})},fO=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of LG(e))!UG.call(t,i)&&i!==r&&lg(t,i,{get:()=>e[i],enumerable:!(n=FG(e,i))||n.enumerable});return t},HG=(t,e,r)=>(r=t!=null?NG($G(t)):{},fO(e||!t||!t.__esModule?lg(r,"default",{value:t,enumerable:!0}):r,t)),VG=t=>fO(lg({},"__esModule",{value:!0}),t),dO={};GG(dO,{Locale:()=>pO,default:()=>YG,useCurrentLang:()=>XG});var zG=VG(dO),hO=Vr,jG=CG,WG=HG(BG);const hy=(0,hO.ref)("zh-CN"),NE=(0,hO.reactive)({"zh-CN":WG.default}),pO={messages(){return NE[hy.value]},use(t,e){hy.value=t,this.add({[t]:e})},add(t={}){(0,jG.deepAssign)(NE,t)}},XG=()=>hy;var YG=pO,KG=Object.create,cg=Object.defineProperty,qG=Object.getOwnPropertyDescriptor,ZG=Object.getOwnPropertyNames,JG=Object.getPrototypeOf,QG=Object.prototype.hasOwnProperty,eH=(t,e)=>{for(var r in e)cg(t,r,{get:e[r],enumerable:!0})},gO=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ZG(e))!QG.call(t,i)&&i!==r&&cg(t,i,{get:()=>e[i],enumerable:!(n=qG(e,i))||n.enumerable});return t},tH=(t,e,r)=>(r=t!=null?KG(JG(t)):{},gO(e||!t||!t.__esModule?cg(r,"default",{value:t,enumerable:!0}):r,t)),rH=t=>gO(cg({},"__esModule",{value:!0}),t),mO={};eH(mO,{createBEM:()=>yO,createNamespace:()=>sH,createTranslate:()=>vO});var nH=rH(mO),wm=oa,iH=Yx,oH=tH(zG);function vO(t){const e=(0,iH.camelize)(t)+".";return(r,...n)=>{const i=oH.default.messages(),o=(0,wm.get)(i,e+r)||(0,wm.get)(i,r);return(0,wm.isFunction)(o)?o(...n):o}}function py(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+py(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?py(t,n):""),""):""}function yO(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${py(e,r)}`)}function sH(t){const e=`van-${t}`;return[e,yO(e),vO(e)]}var Zx=Object.defineProperty,aH=Object.getOwnPropertyDescriptor,lH=Object.getOwnPropertyNames,cH=Object.prototype.hasOwnProperty,uH=(t,e)=>{for(var r in e)Zx(t,r,{get:e[r],enumerable:!0})},fH=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lH(e))!cH.call(t,i)&&i!==r&&Zx(t,i,{get:()=>e[i],enumerable:!(n=aH(e,i))||n.enumerable});return t},dH=t=>fH(Zx({},"__esModule",{value:!0}),t),_O={};uH(_O,{BORDER:()=>sa,BORDER_BOTTOM:()=>vH,BORDER_LEFT:()=>gH,BORDER_RIGHT:()=>mH,BORDER_SURROUND:()=>yH,BORDER_TOP:()=>pH,BORDER_TOP_BOTTOM:()=>_H,BORDER_UNSET_TOP_BOTTOM:()=>xH,FORM_KEY:()=>wH,HAPTICS_FEEDBACK:()=>bH,LONG_PRESS_START_TIME:()=>EH,TAP_OFFSET:()=>SH});var hH=dH(_O);const sa="van-hairline",pH=`${sa}--top`,gH=`${sa}--left`,mH=`${sa}--right`,vH=`${sa}--bottom`,yH=`${sa}--surround`,_H=`${sa}--top-bottom`,xH=`${sa}-unset--top-bottom`,bH="van-haptics-feedback",wH=Symbol("van-form"),EH=500,SH=5;var Jx=Object.defineProperty,CH=Object.getOwnPropertyDescriptor,AH=Object.getOwnPropertyNames,TH=Object.prototype.hasOwnProperty,PH=(t,e)=>{for(var r in e)Jx(t,r,{get:e[r],enumerable:!0})},IH=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of AH(e))!TH.call(t,i)&&i!==r&&Jx(t,i,{get:()=>e[i],enumerable:!(n=CH(e,i))||n.enumerable});return t},OH=t=>IH(Jx({},"__esModule",{value:!0}),t),xO={};PH(xO,{callInterceptor:()=>MH});var RH=OH(xO),FE=oa;function MH(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const o=t.apply(null,e);(0,FE.isPromise)(o)?o.then(s=>{s?r():n&&n()}).catch(i||FE.noop):o?r():n&&n()}else r()}var Qx=Object.defineProperty,DH=Object.getOwnPropertyDescriptor,BH=Object.getOwnPropertyNames,kH=Object.prototype.hasOwnProperty,NH=(t,e)=>{for(var r in e)Qx(t,r,{get:e[r],enumerable:!0})},FH=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BH(e))!kH.call(t,i)&&i!==r&&Qx(t,i,{get:()=>e[i],enumerable:!(n=DH(e,i))||n.enumerable});return t},LH=t=>FH(Qx({},"__esModule",{value:!0}),t),bO={};NH(bO,{withInstall:()=>GH});var $H=LH(bO),UH=Yx;function GH(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component((0,UH.camelize)(`-${r}`),t))},t}var eb=Object.defineProperty,HH=Object.getOwnPropertyDescriptor,VH=Object.getOwnPropertyNames,zH=Object.prototype.hasOwnProperty,jH=(t,e)=>{for(var r in e)eb(t,r,{get:e[r],enumerable:!0})},WH=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of VH(e))!zH.call(t,i)&&i!==r&&eb(t,i,{get:()=>e[i],enumerable:!(n=HH(e,i))||n.enumerable});return t},XH=t=>WH(eb({},"__esModule",{value:!0}),t),wO={};jH(wO,{closest:()=>KH});var YH=XH(wO);function KH(t,e){return t.reduce((r,n)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}(function(t){var e=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(c,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of n(u))!i.call(c,h)&&h!==f&&e(c,h,{get:()=>u[h],enumerable:!(d=r(u,h))||d.enumerable});return c},s=(c,u,f)=>(o(c,u,"default"),f&&o(f,u,"default")),a=c=>o(e({},"__esModule",{value:!0}),c),l={};t.exports=a(l),s(l,oa,t.exports),s(l,_U,t.exports),s(l,tO,t.exports),s(l,nH,t.exports),s(l,Yx,t.exports),s(l,hH,t.exports),s(l,RH,t.exports),s(l,$H,t.exports),s(l,YH,t.exports)})(G4);var zr=G4.exports,tb=Object.defineProperty,qH=Object.getOwnPropertyDescriptor,ZH=Object.getOwnPropertyNames,JH=Object.prototype.hasOwnProperty,QH=(t,e)=>{for(var r in e)tb(t,r,{get:e[r],enumerable:!0})},eV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ZH(e))!JH.call(t,i)&&i!==r&&tb(t,i,{get:()=>e[i],enumerable:!(n=qH(e,i))||n.enumerable});return t},tV=t=>eV(tb({},"__esModule",{value:!0}),t),EO={};QH(EO,{useExpose:()=>iV});var SO=tV(EO),rV=Vr,nV=zr;function iV(t){const e=(0,rV.getCurrentInstance)();e&&(0,nV.extend)(e.proxy,t)}var rb=Object.defineProperty,oV=Object.getOwnPropertyDescriptor,sV=Object.getOwnPropertyNames,aV=Object.prototype.hasOwnProperty,lV=(t,e)=>{for(var r in e)rb(t,r,{get:e[r],enumerable:!0})},cV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sV(e))!aV.call(t,i)&&i!==r&&rb(t,i,{get:()=>e[i],enumerable:!(n=oV(e,i))||n.enumerable});return t},uV=t=>cV(rb({},"__esModule",{value:!0}),t),CO={};lV(CO,{mountComponent:()=>gV,usePopupState:()=>pV});var fV=uV(CO),AO=Vr,dV=oa,hV=SO;function pV(){const t=(0,AO.reactive)({show:!1}),e=i=>{t.show=i},r=i=>{(0,dV.extend)(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return(0,hV.useExpose)({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function gV(t){const e=(0,AO.createApp)(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}var nb=Object.defineProperty,mV=Object.getOwnPropertyDescriptor,vV=Object.getOwnPropertyNames,yV=Object.prototype.hasOwnProperty,_V=(t,e)=>{for(var r in e)nb(t,r,{get:e[r],enumerable:!0})},xV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vV(e))!yV.call(t,i)&&i!==r&&nb(t,i,{get:()=>e[i],enumerable:!(n=mV(e,i))||n.enumerable});return t},bV=t=>xV(nb({},"__esModule",{value:!0}),t),TO={};_V(TO,{lockClick:()=>EV});var wV=bV(TO);let Cu=0;function EV(t){t?(Cu||document.body.classList.add("van-toast--unclickable"),Cu++):Cu&&(Cu--,Cu||document.body.classList.remove("van-toast--unclickable"))}var ib=Object.defineProperty,SV=Object.getOwnPropertyDescriptor,CV=Object.getOwnPropertyNames,AV=Object.prototype.hasOwnProperty,TV=(t,e)=>{for(var r in e)ib(t,r,{get:e[r],enumerable:!0})},PV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of CV(e))!AV.call(t,i)&&i!==r&&ib(t,i,{get:()=>e[i],enumerable:!(n=SV(e,i))||n.enumerable});return t},IV=t=>PV(ib({},"__esModule",{value:!0}),t),PO={};TV(PO,{badgeProps:()=>OO,default:()=>RV});var IO=IV(PO),hh=Vr,ln=zr;const[OV,LE]=(0,ln.createNamespace)("badge"),OO={dot:Boolean,max:ln.numericProp,tag:(0,ln.makeStringProp)("div"),color:String,offset:Array,content:ln.numericProp,showZero:ln.truthProp,position:(0,ln.makeStringProp)("top-right")};var RV=(0,hh.defineComponent)({name:OV,props:OO,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:l}=t;return(0,ln.isDef)(a)&&a!==""&&(l||a!==0&&a!=="0")},n=()=>{const{dot:a,max:l,content:c}=t;if(!a&&r())return e.content?e.content():(0,ln.isDef)(l)&&(0,ln.isNumeric)(c)&&+c>+l?`${l}+`:c},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,o=(0,hh.computed)(()=>{const a={background:t.color};if(t.offset){const[l,c]=t.offset,{position:u}=t,[f,d]=u.split("-");e.default?(typeof c=="number"?a[f]=(0,ln.addUnit)(f==="top"?c:-c):a[f]=f==="top"?(0,ln.addUnit)(c):i(c),typeof l=="number"?a[d]=(0,ln.addUnit)(d==="left"?l:-l):a[d]=d==="left"?(0,ln.addUnit)(l):i(l)):(a.marginTop=(0,ln.addUnit)(c),a.marginLeft=(0,ln.addUnit)(l))}return a}),s=()=>{if(r()||t.dot)return(0,hh.createVNode)("div",{class:LE([t.position,{dot:t.dot,fixed:!!e.default}]),style:o.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return(0,hh.createVNode)(a,{class:LE("wrapper")},{default:()=>[e.default(),s()]})}return s()}}}),MV=Object.create,ug=Object.defineProperty,DV=Object.getOwnPropertyDescriptor,BV=Object.getOwnPropertyNames,kV=Object.getPrototypeOf,NV=Object.prototype.hasOwnProperty,FV=(t,e)=>{for(var r in e)ug(t,r,{get:e[r],enumerable:!0})},RO=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BV(e))!NV.call(t,i)&&i!==r&&ug(t,i,{get:()=>e[i],enumerable:!(n=DV(e,i))||n.enumerable});return t},LV=(t,e,r)=>(r=t!=null?MV(kV(t)):{},RO(e||!t||!t.__esModule?ug(r,"default",{value:t,enumerable:!0}):r,t)),$V=t=>RO(ug({},"__esModule",{value:!0}),t),MO={};FV(MO,{Badge:()=>DO,badgeProps:()=>VV.badgeProps,default:()=>zV});var UV=$V(MO),GV=zr,HV=LV(IO),VV=IO;const DO=(0,GV.withInstall)(HV.default);var zV=DO,ob=Object.defineProperty,jV=Object.getOwnPropertyDescriptor,WV=Object.getOwnPropertyNames,XV=Object.prototype.hasOwnProperty,YV=(t,e)=>{for(var r in e)ob(t,r,{get:e[r],enumerable:!0})},KV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WV(e))!XV.call(t,i)&&i!==r&&ob(t,i,{get:()=>e[i],enumerable:!(n=jV(e,i))||n.enumerable});return t},qV=t=>KV(ob({},"__esModule",{value:!0}),t),BO={};YV(BO,{setGlobalZIndex:()=>JV,useGlobalZIndex:()=>ZV});var kO=qV(BO);let NO=2e3;const ZV=()=>++NO,JV=t=>{NO=t};var sb=Object.defineProperty,QV=Object.getOwnPropertyDescriptor,ez=Object.getOwnPropertyNames,tz=Object.prototype.hasOwnProperty,rz=(t,e)=>{for(var r in e)sb(t,r,{get:e[r],enumerable:!0})},nz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ez(e))!tz.call(t,i)&&i!==r&&sb(t,i,{get:()=>e[i],enumerable:!(n=QV(e,i))||n.enumerable});return t},iz=t=>nz(sb({},"__esModule",{value:!0}),t),FO={};rz(FO,{CONFIG_PROVIDER_KEY:()=>$O,configProviderProps:()=>UO,default:()=>uz});var oz=iz(FO),_i=Vr,Za=zr,sz=kO;const[LO,az]=(0,Za.createNamespace)("config-provider"),$O=Symbol(LO),UO={tag:(0,Za.makeStringProp)("div"),theme:(0,Za.makeStringProp)("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:(0,Za.makeStringProp)("local"),iconPrefix:String};function lz(t){return t.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function cz(t){const e={};return Object.keys(t).forEach(r=>{const n=lz((0,Za.kebabCase)(r));e[`--van-${n}`]=t[r]}),e}function ph(t={},e={}){Object.keys(t).forEach(r=>{t[r]!==e[r]&&document.documentElement.style.setProperty(r,t[r])}),Object.keys(e).forEach(r=>{t[r]||document.documentElement.style.removeProperty(r)})}var uz=(0,_i.defineComponent)({name:LO,props:UO,setup(t,{slots:e}){const r=(0,_i.computed)(()=>cz((0,Za.extend)({},t.themeVars,t.theme==="dark"?t.themeVarsDark:t.themeVarsLight)));if(Za.inBrowser){const n=()=>{document.documentElement.classList.add(`van-theme-${t.theme}`)},i=(o=t.theme)=>{document.documentElement.classList.remove(`van-theme-${o}`)};(0,_i.watch)(()=>t.theme,(o,s)=>{s&&i(s),n()},{immediate:!0}),(0,_i.onActivated)(n),(0,_i.onDeactivated)(i),(0,_i.onBeforeUnmount)(i),(0,_i.watch)(r,(o,s)=>{t.themeVarsScope==="global"&&ph(o,s)}),(0,_i.watch)(()=>t.themeVarsScope,(o,s)=>{s==="global"&&ph({},r.value),o==="global"&&ph(r.value,{})}),t.themeVarsScope==="global"&&ph(r.value,{})}return(0,_i.provide)($O,t),(0,_i.watchEffect)(()=>{t.zIndex!==void 0&&(0,sz.setGlobalZIndex)(t.zIndex)}),()=>(0,_i.createVNode)(t.tag,{class:az(),style:t.themeVarsScope==="local"?r.value:void 0},{default:()=>{var n;return[(n=e.default)==null?void 0:n.call(e)]}})}}),ab=Object.defineProperty,fz=Object.getOwnPropertyDescriptor,dz=Object.getOwnPropertyNames,hz=Object.prototype.hasOwnProperty,pz=(t,e)=>{for(var r in e)ab(t,r,{get:e[r],enumerable:!0})},gz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dz(e))!hz.call(t,i)&&i!==r&&ab(t,i,{get:()=>e[i],enumerable:!(n=fz(e,i))||n.enumerable});return t},mz=t=>gz(ab({},"__esModule",{value:!0}),t),GO={};pz(GO,{default:()=>bz,iconProps:()=>VO});var HO=mz(GO),Vl=Vr,pf=zr,vz=UV,yz=oz;const[_z,$E]=(0,pf.createNamespace)("icon"),xz=t=>t==null?void 0:t.includes("/"),VO={dot:Boolean,tag:(0,pf.makeStringProp)("i"),name:String,size:pf.numericProp,badge:pf.numericProp,color:String,badgeProps:Object,classPrefix:String};var bz=(0,Vl.defineComponent)({name:_z,props:VO,setup(t,{slots:e}){const r=(0,Vl.inject)(yz.CONFIG_PROVIDER_KEY,null),n=(0,Vl.computed)(()=>t.classPrefix||(r==null?void 0:r.iconPrefix)||$E());return()=>{const{tag:i,dot:o,name:s,size:a,badge:l,color:c}=t,u=xz(s);return(0,Vl.createVNode)(vz.Badge,(0,Vl.mergeProps)({dot:o,tag:i,class:[n.value,u?"":`${n.value}-${s}`],style:{color:c,fontSize:(0,pf.addUnit)(a)},content:l},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),u&&(0,Vl.createVNode)("img",{class:$E("image"),src:s},null)]}})}}}),wz=Object.create,fg=Object.defineProperty,Ez=Object.getOwnPropertyDescriptor,Sz=Object.getOwnPropertyNames,Cz=Object.getPrototypeOf,Az=Object.prototype.hasOwnProperty,Tz=(t,e)=>{for(var r in e)fg(t,r,{get:e[r],enumerable:!0})},zO=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Sz(e))!Az.call(t,i)&&i!==r&&fg(t,i,{get:()=>e[i],enumerable:!(n=Ez(e,i))||n.enumerable});return t},Pz=(t,e,r)=>(r=t!=null?wz(Cz(t)):{},zO(e||!t||!t.__esModule?fg(r,"default",{value:t,enumerable:!0}):r,t)),Iz=t=>zO(fg({},"__esModule",{value:!0}),t),jO={};Tz(jO,{Icon:()=>XO,default:()=>Dz,iconProps:()=>Mz.iconProps});var WO=Iz(jO),Oz=zr,Rz=Pz(HO),Mz=HO;const XO=(0,Oz.withInstall)(Rz.default);var Dz=XO,lb=Object.defineProperty,Bz=Object.getOwnPropertyDescriptor,kz=Object.getOwnPropertyNames,Nz=Object.prototype.hasOwnProperty,Fz=(t,e)=>{for(var r in e)lb(t,r,{get:e[r],enumerable:!0})},Lz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kz(e))!Nz.call(t,i)&&i!==r&&lb(t,i,{get:()=>e[i],enumerable:!(n=Bz(e,i))||n.enumerable});return t},$z=t=>Lz(lb({},"__esModule",{value:!0}),t),YO={};Fz(YO,{popupSharedPropKeys:()=>Gz,popupSharedProps:()=>KO});var Uz=$z(YO),ma=zr;const KO={show:Boolean,zIndex:ma.numericProp,overlay:ma.truthProp,duration:ma.numericProp,teleport:[String,Object],lockScroll:ma.truthProp,lazyRender:ma.truthProp,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:ma.unknownProp,transitionAppear:Boolean,closeOnClickOverlay:ma.truthProp},Gz=Object.keys(KO);var cb=Object.defineProperty,Hz=Object.getOwnPropertyDescriptor,Vz=Object.getOwnPropertyNames,zz=Object.prototype.hasOwnProperty,jz=(t,e)=>{for(var r in e)cb(t,r,{get:e[r],enumerable:!0})},Wz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vz(e))!zz.call(t,i)&&i!==r&&cb(t,i,{get:()=>e[i],enumerable:!(n=Hz(e,i))||n.enumerable});return t},Xz=t=>Wz(cb({},"__esModule",{value:!0}),t),qO={};jz(qO,{useTouch:()=>qz});var Yz=Xz(qO),gs=Vr,UE=zr;function Kz(t,e){return t>e?"horizontal":e>t?"vertical":""}function qz(){const t=(0,gs.ref)(0),e=(0,gs.ref)(0),r=(0,gs.ref)(0),n=(0,gs.ref)(0),i=(0,gs.ref)(0),o=(0,gs.ref)(0),s=(0,gs.ref)(""),a=(0,gs.ref)(!0),l=()=>s.value==="vertical",c=()=>s.value==="horizontal",u=()=>{r.value=0,n.value=0,i.value=0,o.value=0,s.value="",a.value=!0};return{move:h=>{const p=h.touches[0];r.value=(p.clientX<0?0:p.clientX)-t.value,n.value=p.clientY-e.value,i.value=Math.abs(r.value),o.value=Math.abs(n.value);const y=10;(!s.value||i.value<y&&o.value<y)&&(s.value=Kz(i.value,o.value)),a.value&&(i.value>UE.TAP_OFFSET||o.value>UE.TAP_OFFSET)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:o,direction:s,isVertical:l,isHorizontal:c,isTap:a}}var ub=Object.defineProperty,Zz=Object.getOwnPropertyDescriptor,Jz=Object.getOwnPropertyNames,Qz=Object.prototype.hasOwnProperty,ej=(t,e)=>{for(var r in e)ub(t,r,{get:e[r],enumerable:!0})},tj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Jz(e))!Qz.call(t,i)&&i!==r&&ub(t,i,{get:()=>e[i],enumerable:!(n=Zz(e,i))||n.enumerable});return t},rj=t=>tj(ub({},"__esModule",{value:!0}),t),ZO={};ej(ZO,{useLockScroll:()=>sj});var nj=rj(ZO),Em=Vr,GE=ag,ij=Yz,oj=zr;let Au=0;const HE="van-overflow-hidden";function sj(t,e){const r=(0,ij.useTouch)(),n="01",i="10",o=u=>{r.move(u);const f=r.deltaY.value>0?i:n,d=(0,GE.getScrollParent)(u.target,t.value),{scrollHeight:h,offsetHeight:p,scrollTop:y}=d;let g="11";y===0?g=p>=h?"00":"01":y+p>=h&&(g="10"),g!=="11"&&r.isVertical()&&!(parseInt(g,2)&parseInt(f,2))&&(0,oj.preventDefault)(u,!0)},s=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",o,{passive:!1}),Au||document.body.classList.add(HE),Au++},a=()=>{Au&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",o),Au--,Au||document.body.classList.remove(HE))},l=()=>e()&&s(),c=()=>e()&&a();(0,GE.onMountedOrActivated)(l),(0,Em.onDeactivated)(c),(0,Em.onBeforeUnmount)(c),(0,Em.watch)(e,u=>{u?s():a()})}var fb=Object.defineProperty,aj=Object.getOwnPropertyDescriptor,lj=Object.getOwnPropertyNames,cj=Object.prototype.hasOwnProperty,uj=(t,e)=>{for(var r in e)fb(t,r,{get:e[r],enumerable:!0})},fj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lj(e))!cj.call(t,i)&&i!==r&&fb(t,i,{get:()=>e[i],enumerable:!(n=aj(e,i))||n.enumerable});return t},dj=t=>fj(fb({},"__esModule",{value:!0}),t),JO={};uj(JO,{useLazyRender:()=>hj});var QO=dj(JO),VE=Vr;function hj(t){const e=(0,VE.ref)(!1);return(0,VE.watch)(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}var db=Object.defineProperty,pj=Object.getOwnPropertyDescriptor,gj=Object.getOwnPropertyNames,mj=Object.prototype.hasOwnProperty,vj=(t,e)=>{for(var r in e)db(t,r,{get:e[r],enumerable:!0})},yj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gj(e))!mj.call(t,i)&&i!==r&&db(t,i,{get:()=>e[i],enumerable:!(n=pj(e,i))||n.enumerable});return t},_j=t=>yj(db({},"__esModule",{value:!0}),t),eR={};vj(eR,{POPUP_TOGGLE_KEY:()=>tR,onPopupReopen:()=>bj});var xj=_j(eR),zE=Vr;const tR=Symbol();function bj(t){const e=(0,zE.inject)(tR,null);e&&(0,zE.watch)(e,r=>{r&&t()})}var hb=Object.defineProperty,wj=Object.getOwnPropertyDescriptor,Ej=Object.getOwnPropertyNames,Sj=Object.prototype.hasOwnProperty,Cj=(t,e)=>{for(var r in e)hb(t,r,{get:e[r],enumerable:!0})},Aj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ej(e))!Sj.call(t,i)&&i!==r&&hb(t,i,{get:()=>e[i],enumerable:!(n=wj(e,i))||n.enumerable});return t},Tj=t=>Aj(hb({},"__esModule",{value:!0}),t),rR={};Cj(rR,{useScopeId:()=>Oj});var Pj=Tj(rR),Ij=Vr;const Oj=()=>{var t;const{scopeId:e}=((t=(0,Ij.getCurrentInstance)())==null?void 0:t.vnode)||{};return e?{[e]:""}:null};var pb=Object.defineProperty,Rj=Object.getOwnPropertyDescriptor,Mj=Object.getOwnPropertyNames,Dj=Object.prototype.hasOwnProperty,Bj=(t,e)=>{for(var r in e)pb(t,r,{get:e[r],enumerable:!0})},kj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Mj(e))!Dj.call(t,i)&&i!==r&&pb(t,i,{get:()=>e[i],enumerable:!(n=Rj(e,i))||n.enumerable});return t},Nj=t=>kj(pb({},"__esModule",{value:!0}),t),nR={};Bj(nR,{default:()=>Gj,overlayProps:()=>oR});var iR=Nj(nR),Vi=Vr,to=zr,Fj=ag,Lj=QO;const[$j,Uj]=(0,to.createNamespace)("overlay"),oR={show:Boolean,zIndex:to.numericProp,duration:to.numericProp,className:to.unknownProp,lockScroll:to.truthProp,lazyRender:to.truthProp,customStyle:Object,teleport:[String,Object]};var Gj=(0,Vi.defineComponent)({name:$j,inheritAttrs:!1,props:oR,setup(t,{attrs:e,slots:r}){const n=(0,Vi.ref)(),i=(0,Lj.useLazyRender)(()=>t.show||!t.lazyRender),o=a=>{t.lockScroll&&(0,to.preventDefault)(a,!0)},s=i(()=>{var a;const l=(0,to.extend)((0,to.getZIndexStyle)(t.zIndex),t.customStyle);return(0,to.isDef)(t.duration)&&(l.animationDuration=`${t.duration}s`),(0,Vi.withDirectives)((0,Vi.createVNode)("div",(0,Vi.mergeProps)({ref:n,style:l,class:[Uj(),t.className]},e),[(a=r.default)==null?void 0:a.call(r)]),[[Vi.vShow,t.show]])});return(0,Fj.useEventListener)("touchmove",o,{target:n}),()=>{const a=(0,Vi.createVNode)(Vi.Transition,{name:"van-fade",appear:!0},{default:s});return t.teleport?(0,Vi.createVNode)(Vi.Teleport,{to:t.teleport},{default:()=>[a]}):a}}}),Hj=Object.create,dg=Object.defineProperty,Vj=Object.getOwnPropertyDescriptor,zj=Object.getOwnPropertyNames,jj=Object.getPrototypeOf,Wj=Object.prototype.hasOwnProperty,Xj=(t,e)=>{for(var r in e)dg(t,r,{get:e[r],enumerable:!0})},sR=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zj(e))!Wj.call(t,i)&&i!==r&&dg(t,i,{get:()=>e[i],enumerable:!(n=Vj(e,i))||n.enumerable});return t},Yj=(t,e,r)=>(r=t!=null?Hj(jj(t)):{},sR(e||!t||!t.__esModule?dg(r,"default",{value:t,enumerable:!0}):r,t)),Kj=t=>sR(dg({},"__esModule",{value:!0}),t),aR={};Xj(aR,{Overlay:()=>lR,default:()=>eW,overlayProps:()=>Qj.overlayProps});var qj=Kj(aR),Zj=zr,Jj=Yj(iR),Qj=iR;const lR=(0,Zj.withInstall)(Jj.default);var eW=lR,gb=Object.defineProperty,tW=Object.getOwnPropertyDescriptor,rW=Object.getOwnPropertyNames,nW=Object.prototype.hasOwnProperty,iW=(t,e)=>{for(var r in e)gb(t,r,{get:e[r],enumerable:!0})},oW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rW(e))!nW.call(t,i)&&i!==r&&gb(t,i,{get:()=>e[i],enumerable:!(n=tW(e,i))||n.enumerable});return t},sW=t=>oW(gb({},"__esModule",{value:!0}),t),cR={};iW(cR,{default:()=>vW,popupProps:()=>fR});var uR=sW(cR),jt=Vr,aW=Uz,Go=zr,lW=ag,cW=SO,uW=nj,fW=QO,dW=xj,hW=kO,jE=Pj,pW=WO,gW=qj;const fR=(0,Go.extend)({},aW.popupSharedProps,{round:Boolean,position:(0,Go.makeStringProp)("center"),closeIcon:(0,Go.makeStringProp)("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:(0,Go.makeStringProp)("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[mW,WE]=(0,Go.createNamespace)("popup");var vW=(0,jt.defineComponent)({name:mW,inheritAttrs:!1,props:fR,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,o;const s=(0,jt.ref)(),a=(0,jt.ref)(),l=(0,fW.useLazyRender)(()=>t.show||!t.lazyRender),c=(0,jt.computed)(()=>{const w={zIndex:s.value};if((0,Go.isDef)(t.duration)){const E=t.position==="center"?"animationDuration":"transitionDuration";w[E]=`${t.duration}s`}return w}),u=()=>{i||(i=!0,s.value=t.zIndex!==void 0?+t.zIndex:(0,hW.useGlobalZIndex)(),e("open"))},f=()=>{i&&(0,Go.callInterceptor)(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=w=>{e("clickOverlay",w),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const w=(0,Go.extend)({show:t.show,class:t.overlayClass,zIndex:s.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return(0,jt.createVNode)(gW.Overlay,(0,jt.mergeProps)(w,(0,jE.useScopeId)(),{onClick:d}),{default:n["overlay-content"]})}},p=w=>{e("clickCloseIcon",w),f()},y=()=>{if(t.closeable)return(0,jt.createVNode)(pW.Icon,{role:"button",tabindex:0,name:t.closeIcon,class:[WE("close-icon",t.closeIconPosition),Go.HAPTICS_FEEDBACK],classPrefix:t.iconPrefix,onClick:p},null)};let g;const m=()=>{g&&clearTimeout(g),g=setTimeout(()=>{e("opened")})},v=()=>e("closed"),_=w=>e("keydown",w),x=l(()=>{var w;const{destroyOnClose:E,round:S,position:P,safeAreaInsetTop:C,safeAreaInsetBottom:A,show:T}=t;if(!(!T&&E))return(0,jt.withDirectives)((0,jt.createVNode)("div",(0,jt.mergeProps)({ref:a,style:c.value,role:"dialog",tabindex:0,class:[WE({round:S,[P]:P}),{"van-safe-area-top":C,"van-safe-area-bottom":A}],onKeydown:_},r,(0,jE.useScopeId)()),[(w=n.default)==null?void 0:w.call(n),y()]),[[jt.vShow,T]])}),b=()=>{const{position:w,transition:E,transitionAppear:S}=t,P=w==="center"?"van-fade":`van-popup-slide-${w}`;return(0,jt.createVNode)(jt.Transition,{name:E||P,appear:S,onAfterEnter:m,onAfterLeave:v},{default:x})};return(0,jt.watch)(()=>t.show,w=>{w&&!i&&(u(),r.tabindex===0&&(0,jt.nextTick)(()=>{var E;(E=a.value)==null||E.focus()})),!w&&i&&(i=!1,e("close"))}),(0,cW.useExpose)({popupRef:a}),(0,uW.useLockScroll)(a,()=>t.show&&t.lockScroll),(0,lW.useEventListener)("popstate",()=>{t.closeOnPopstate&&(f(),o=!1)}),(0,jt.onMounted)(()=>{t.show&&u()}),(0,jt.onActivated)(()=>{o&&(e("update:show",!0),o=!1)}),(0,jt.onDeactivated)(()=>{t.show&&t.teleport&&(f(),o=!0)}),(0,jt.provide)(dW.POPUP_TOGGLE_KEY,()=>t.show),()=>t.teleport?(0,jt.createVNode)(jt.Teleport,{to:t.teleport},{default:()=>[h(),b()]}):(0,jt.createVNode)(jt.Fragment,null,[h(),b()])}}),yW=Object.create,hg=Object.defineProperty,_W=Object.getOwnPropertyDescriptor,xW=Object.getOwnPropertyNames,bW=Object.getPrototypeOf,wW=Object.prototype.hasOwnProperty,EW=(t,e)=>{for(var r in e)hg(t,r,{get:e[r],enumerable:!0})},dR=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xW(e))!wW.call(t,i)&&i!==r&&hg(t,i,{get:()=>e[i],enumerable:!(n=_W(e,i))||n.enumerable});return t},SW=(t,e,r)=>(r=t!=null?yW(bW(t)):{},dR(e||!t||!t.__esModule?hg(r,"default",{value:t,enumerable:!0}):r,t)),CW=t=>dR(hg({},"__esModule",{value:!0}),t),hR={};EW(hR,{Popup:()=>pR,default:()=>OW,popupProps:()=>IW.popupProps});var AW=CW(hR),TW=zr,PW=SW(uR),IW=uR;const pR=(0,TW.withInstall)(PW.default);var OW=pR,mb=Object.defineProperty,RW=Object.getOwnPropertyDescriptor,MW=Object.getOwnPropertyNames,DW=Object.prototype.hasOwnProperty,BW=(t,e)=>{for(var r in e)mb(t,r,{get:e[r],enumerable:!0})},kW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of MW(e))!DW.call(t,i)&&i!==r&&mb(t,i,{get:()=>e[i],enumerable:!(n=RW(e,i))||n.enumerable});return t},NW=t=>kW(mb({},"__esModule",{value:!0}),t),gR={};BW(gR,{default:()=>UW,loadingProps:()=>vR});var mR=NW(gR),Os=Vr,Ja=zr;const[FW,gf]=(0,Ja.createNamespace)("loading"),LW=Array(12).fill(null).map((t,e)=>(0,Os.createVNode)("i",{class:gf("line",String(e+1))},null)),$W=(0,Os.createVNode)("svg",{class:gf("circular"),viewBox:"25 25 50 50"},[(0,Os.createVNode)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),vR={size:Ja.numericProp,type:(0,Ja.makeStringProp)("circular"),color:String,vertical:Boolean,textSize:Ja.numericProp,textColor:String};var UW=(0,Os.defineComponent)({name:FW,props:vR,setup(t,{slots:e}){const r=(0,Os.computed)(()=>(0,Ja.extend)({color:t.color},(0,Ja.getSizeStyle)(t.size))),n=()=>{const o=t.type==="spinner"?LW:$W;return(0,Os.createVNode)("span",{class:gf("spinner",t.type),style:r.value},[e.icon?e.icon():o])},i=()=>{var o;if(e.default)return(0,Os.createVNode)("span",{class:gf("text"),style:{fontSize:(0,Ja.addUnit)(t.textSize),color:(o=t.textColor)!=null?o:t.color}},[e.default()])};return()=>{const{type:o,vertical:s}=t;return(0,Os.createVNode)("div",{class:gf([o,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}}),GW=Object.create,pg=Object.defineProperty,HW=Object.getOwnPropertyDescriptor,VW=Object.getOwnPropertyNames,zW=Object.getPrototypeOf,jW=Object.prototype.hasOwnProperty,WW=(t,e)=>{for(var r in e)pg(t,r,{get:e[r],enumerable:!0})},yR=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of VW(e))!jW.call(t,i)&&i!==r&&pg(t,i,{get:()=>e[i],enumerable:!(n=HW(e,i))||n.enumerable});return t},XW=(t,e,r)=>(r=t!=null?GW(zW(t)):{},yR(e||!t||!t.__esModule?pg(r,"default",{value:t,enumerable:!0}):r,t)),YW=t=>yR(pg({},"__esModule",{value:!0}),t),_R={};WW(_R,{Loading:()=>xR,default:()=>QW,loadingProps:()=>JW.loadingProps});var KW=YW(_R),qW=zr,ZW=XW(mR),JW=mR;const xR=(0,qW.withInstall)(ZW.default);var QW=xR,vb=Object.defineProperty,eX=Object.getOwnPropertyDescriptor,tX=Object.getOwnPropertyNames,rX=Object.prototype.hasOwnProperty,nX=(t,e)=>{for(var r in e)vb(t,r,{get:e[r],enumerable:!0})},iX=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tX(e))!rX.call(t,i)&&i!==r&&vb(t,i,{get:()=>e[i],enumerable:!(n=eX(e,i))||n.enumerable});return t},oX=t=>iX(vb({},"__esModule",{value:!0}),t),bR={};nX(bR,{default:()=>hX,toastProps:()=>wR});var sX=oX(bR),ti=Vr,si=zr,aX=wV,lX=WO,cX=AW,uX=KW;const[fX,zl]=(0,si.createNamespace)("toast"),dX=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],wR={icon:String,show:Boolean,type:(0,si.makeStringProp)("text"),overlay:Boolean,message:si.numericProp,iconSize:si.numericProp,duration:(0,si.makeNumberProp)(2e3),position:(0,si.makeStringProp)("middle"),teleport:[String,Object],wordBreak:String,className:si.unknownProp,iconPrefix:String,transition:(0,si.makeStringProp)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:si.unknownProp,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:si.numericProp};var hX=(0,ti.defineComponent)({name:fX,props:wR,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const o=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,(0,aX.lockClick)(i))},s=f=>e("update:show",f),a=()=>{t.closeOnClick&&s(!1)},l=()=>clearTimeout(n),c=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:p,loadingType:y}=t;if(f||d==="success"||d==="fail")return(0,ti.createVNode)(lX.Icon,{name:f||d,size:h,class:zl("icon"),classPrefix:p},null);if(d==="loading")return(0,ti.createVNode)(uX.Loading,{class:zl("loading"),size:h,type:y},null)},u=()=>{const{type:f,message:d}=t;if(r.message)return(0,ti.createVNode)("div",{class:zl("text")},[r.message()]);if((0,si.isDef)(d)&&d!=="")return f==="html"?(0,ti.createVNode)("div",{key:0,class:zl("text"),innerHTML:String(d)},null):(0,ti.createVNode)("div",{class:zl("text")},[d])};return(0,ti.watch)(()=>[t.show,t.forbidClick],o),(0,ti.watch)(()=>[t.show,t.type,t.message,t.duration],()=>{l(),t.show&&t.duration>0&&(n=setTimeout(()=>{s(!1)},t.duration))}),(0,ti.onMounted)(o),(0,ti.onUnmounted)(o),()=>(0,ti.createVNode)(cX.Popup,(0,ti.mergeProps)({class:[zl([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:l,"onUpdate:show":s},(0,si.pick)(t,dX)),{default:()=>[c(),u()]})}}),pX=Object.create,gg=Object.defineProperty,gX=Object.getOwnPropertyDescriptor,mX=Object.getOwnPropertyNames,vX=Object.getPrototypeOf,yX=Object.prototype.hasOwnProperty,_X=(t,e)=>{for(var r in e)gg(t,r,{get:e[r],enumerable:!0})},ER=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mX(e))!yX.call(t,i)&&i!==r&&gg(t,i,{get:()=>e[i],enumerable:!(n=gX(e,i))||n.enumerable});return t},xX=(t,e,r)=>(r=t!=null?pX(vX(t)):{},ER(e||!t||!t.__esModule?gg(r,"default",{value:t,enumerable:!0}):r,t)),bX=t=>ER(gg({},"__esModule",{value:!0}),t),SR={};_X(SR,{allowMultipleToast:()=>RX,closeToast:()=>PX,resetToastDefaultOptions:()=>OX,setToastDefaultOptions:()=>IX,showFailToast:()=>TX,showLoadingToast:()=>CX,showSuccessToast:()=>AX,showToast:()=>TR});var TCe=bX(SR),Tu=Vr,ll=zr,XE=fV,wX=xX(sX);const CR={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ti=[],mg=!1,Kp=(0,ll.extend)({},CR);const qp=new Map;function AR(t){return(0,ll.isObject)(t)?t:{message:t}}function EX(){const{instance:t,unmount:e}=(0,XE.mountComponent)({setup(){const r=(0,Tu.ref)(""),{open:n,state:i,close:o,toggle:s}=(0,XE.usePopupState)(),a=()=>{mg&&(Ti=Ti.filter(c=>c!==t),e())},l=()=>{const c={onClosed:a,"onUpdate:show":s};return(0,Tu.createVNode)(wX.default,(0,Tu.mergeProps)(i,c),null)};return(0,Tu.watch)(r,c=>{i.message=c}),(0,Tu.getCurrentInstance)().render=l,{open:n,close:o,message:r}}});return t}function SX(){if(!Ti.length||mg){const t=EX();Ti.push(t)}return Ti[Ti.length-1]}function TR(t={}){if(!ll.inBrowser)return{};const e=SX(),r=AR(t);return e.open((0,ll.extend)({},Kp,qp.get(r.type||Kp.type),r)),e}const yb=t=>e=>TR((0,ll.extend)({type:t},AR(e))),CX=yb("loading"),AX=yb("success"),TX=yb("fail"),PX=t=>{var e;Ti.length&&(t?(Ti.forEach(r=>{r.close()}),Ti=[]):mg?(e=Ti.shift())==null||e.close():Ti[0].close())};function IX(t,e){typeof t=="string"?qp.set(t,e):(0,ll.extend)(Kp,t)}const OX=t=>{typeof t=="string"?qp.delete(t):(Kp=(0,ll.extend)({},CR),qp.clear())},RX=(t=!0)=>{mg=t};var PR={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(m,v){var _=m[0],x=m[1],b=m[2],w=m[3];_+=(x&b|~x&w)+v[0]-680876936|0,_=(_<<7|_>>>25)+x|0,w+=(_&x|~_&b)+v[1]-389564586|0,w=(w<<12|w>>>20)+_|0,b+=(w&_|~w&x)+v[2]+606105819|0,b=(b<<17|b>>>15)+w|0,x+=(b&w|~b&_)+v[3]-1044525330|0,x=(x<<22|x>>>10)+b|0,_+=(x&b|~x&w)+v[4]-176418897|0,_=(_<<7|_>>>25)+x|0,w+=(_&x|~_&b)+v[5]+1200080426|0,w=(w<<12|w>>>20)+_|0,b+=(w&_|~w&x)+v[6]-1473231341|0,b=(b<<17|b>>>15)+w|0,x+=(b&w|~b&_)+v[7]-45705983|0,x=(x<<22|x>>>10)+b|0,_+=(x&b|~x&w)+v[8]+1770035416|0,_=(_<<7|_>>>25)+x|0,w+=(_&x|~_&b)+v[9]-1958414417|0,w=(w<<12|w>>>20)+_|0,b+=(w&_|~w&x)+v[10]-42063|0,b=(b<<17|b>>>15)+w|0,x+=(b&w|~b&_)+v[11]-1990404162|0,x=(x<<22|x>>>10)+b|0,_+=(x&b|~x&w)+v[12]+1804603682|0,_=(_<<7|_>>>25)+x|0,w+=(_&x|~_&b)+v[13]-40341101|0,w=(w<<12|w>>>20)+_|0,b+=(w&_|~w&x)+v[14]-1502002290|0,b=(b<<17|b>>>15)+w|0,x+=(b&w|~b&_)+v[15]+1236535329|0,x=(x<<22|x>>>10)+b|0,_+=(x&w|b&~w)+v[1]-165796510|0,_=(_<<5|_>>>27)+x|0,w+=(_&b|x&~b)+v[6]-1069501632|0,w=(w<<9|w>>>23)+_|0,b+=(w&x|_&~x)+v[11]+643717713|0,b=(b<<14|b>>>18)+w|0,x+=(b&_|w&~_)+v[0]-373897302|0,x=(x<<20|x>>>12)+b|0,_+=(x&w|b&~w)+v[5]-701558691|0,_=(_<<5|_>>>27)+x|0,w+=(_&b|x&~b)+v[10]+38016083|0,w=(w<<9|w>>>23)+_|0,b+=(w&x|_&~x)+v[15]-660478335|0,b=(b<<14|b>>>18)+w|0,x+=(b&_|w&~_)+v[4]-405537848|0,x=(x<<20|x>>>12)+b|0,_+=(x&w|b&~w)+v[9]+568446438|0,_=(_<<5|_>>>27)+x|0,w+=(_&b|x&~b)+v[14]-1019803690|0,w=(w<<9|w>>>23)+_|0,b+=(w&x|_&~x)+v[3]-187363961|0,b=(b<<14|b>>>18)+w|0,x+=(b&_|w&~_)+v[8]+1163531501|0,x=(x<<20|x>>>12)+b|0,_+=(x&w|b&~w)+v[13]-1444681467|0,_=(_<<5|_>>>27)+x|0,w+=(_&b|x&~b)+v[2]-51403784|0,w=(w<<9|w>>>23)+_|0,b+=(w&x|_&~x)+v[7]+1735328473|0,b=(b<<14|b>>>18)+w|0,x+=(b&_|w&~_)+v[12]-1926607734|0,x=(x<<20|x>>>12)+b|0,_+=(x^b^w)+v[5]-378558|0,_=(_<<4|_>>>28)+x|0,w+=(_^x^b)+v[8]-2022574463|0,w=(w<<11|w>>>21)+_|0,b+=(w^_^x)+v[11]+1839030562|0,b=(b<<16|b>>>16)+w|0,x+=(b^w^_)+v[14]-35309556|0,x=(x<<23|x>>>9)+b|0,_+=(x^b^w)+v[1]-1530992060|0,_=(_<<4|_>>>28)+x|0,w+=(_^x^b)+v[4]+1272893353|0,w=(w<<11|w>>>21)+_|0,b+=(w^_^x)+v[7]-155497632|0,b=(b<<16|b>>>16)+w|0,x+=(b^w^_)+v[10]-1094730640|0,x=(x<<23|x>>>9)+b|0,_+=(x^b^w)+v[13]+681279174|0,_=(_<<4|_>>>28)+x|0,w+=(_^x^b)+v[0]-358537222|0,w=(w<<11|w>>>21)+_|0,b+=(w^_^x)+v[3]-722521979|0,b=(b<<16|b>>>16)+w|0,x+=(b^w^_)+v[6]+76029189|0,x=(x<<23|x>>>9)+b|0,_+=(x^b^w)+v[9]-640364487|0,_=(_<<4|_>>>28)+x|0,w+=(_^x^b)+v[12]-421815835|0,w=(w<<11|w>>>21)+_|0,b+=(w^_^x)+v[15]+530742520|0,b=(b<<16|b>>>16)+w|0,x+=(b^w^_)+v[2]-995338651|0,x=(x<<23|x>>>9)+b|0,_+=(b^(x|~w))+v[0]-198630844|0,_=(_<<6|_>>>26)+x|0,w+=(x^(_|~b))+v[7]+1126891415|0,w=(w<<10|w>>>22)+_|0,b+=(_^(w|~x))+v[14]-1416354905|0,b=(b<<15|b>>>17)+w|0,x+=(w^(b|~_))+v[5]-57434055|0,x=(x<<21|x>>>11)+b|0,_+=(b^(x|~w))+v[12]+1700485571|0,_=(_<<6|_>>>26)+x|0,w+=(x^(_|~b))+v[3]-1894986606|0,w=(w<<10|w>>>22)+_|0,b+=(_^(w|~x))+v[10]-1051523|0,b=(b<<15|b>>>17)+w|0,x+=(w^(b|~_))+v[1]-2054922799|0,x=(x<<21|x>>>11)+b|0,_+=(b^(x|~w))+v[8]+1873313359|0,_=(_<<6|_>>>26)+x|0,w+=(x^(_|~b))+v[15]-30611744|0,w=(w<<10|w>>>22)+_|0,b+=(_^(w|~x))+v[6]-1560198380|0,b=(b<<15|b>>>17)+w|0,x+=(w^(b|~_))+v[13]+1309151649|0,x=(x<<21|x>>>11)+b|0,_+=(b^(x|~w))+v[4]-145523070|0,_=(_<<6|_>>>26)+x|0,w+=(x^(_|~b))+v[11]-1120210379|0,w=(w<<10|w>>>22)+_|0,b+=(_^(w|~x))+v[2]+718787259|0,b=(b<<15|b>>>17)+w|0,x+=(w^(b|~_))+v[9]-343485551|0,x=(x<<21|x>>>11)+b|0,m[0]=_+m[0]|0,m[1]=x+m[1]|0,m[2]=b+m[2]|0,m[3]=w+m[3]|0}function o(m){var v=[],_;for(_=0;_<64;_+=4)v[_>>2]=m.charCodeAt(_)+(m.charCodeAt(_+1)<<8)+(m.charCodeAt(_+2)<<16)+(m.charCodeAt(_+3)<<24);return v}function s(m){var v=[],_;for(_=0;_<64;_+=4)v[_>>2]=m[_]+(m[_+1]<<8)+(m[_+2]<<16)+(m[_+3]<<24);return v}function a(m){var v=m.length,_=[1732584193,-271733879,-1732584194,271733878],x,b,w,E,S,P;for(x=64;x<=v;x+=64)i(_,o(m.substring(x-64,x)));for(m=m.substring(x-64),b=m.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<b;x+=1)w[x>>2]|=m.charCodeAt(x)<<(x%4<<3);if(w[x>>2]|=128<<(x%4<<3),x>55)for(i(_,w),x=0;x<16;x+=1)w[x]=0;return E=v*8,E=E.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(E[2],16),P=parseInt(E[1],16)||0,w[14]=S,w[15]=P,i(_,w),_}function l(m){var v=m.length,_=[1732584193,-271733879,-1732584194,271733878],x,b,w,E,S,P;for(x=64;x<=v;x+=64)i(_,s(m.subarray(x-64,x)));for(m=x-64<v?m.subarray(x-64):new Uint8Array(0),b=m.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<b;x+=1)w[x>>2]|=m[x]<<(x%4<<3);if(w[x>>2]|=128<<(x%4<<3),x>55)for(i(_,w),x=0;x<16;x+=1)w[x]=0;return E=v*8,E=E.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(E[2],16),P=parseInt(E[1],16)||0,w[14]=S,w[15]=P,i(_,w),_}function c(m){var v="",_;for(_=0;_<4;_+=1)v+=n[m>>_*8+4&15]+n[m>>_*8&15];return v}function u(m){var v;for(v=0;v<m.length;v+=1)m[v]=c(m[v]);return m.join("")}u(a("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function m(v,_){return v=v|0||0,v<0?Math.max(v+_,0):Math.min(v,_)}ArrayBuffer.prototype.slice=function(v,_){var x=this.byteLength,b=m(v,x),w=x,E,S,P,C;return _!==r&&(w=m(_,x)),b>w?new ArrayBuffer(0):(E=w-b,S=new ArrayBuffer(E),P=new Uint8Array(S),C=new Uint8Array(this,b,E),P.set(C),S)}}();function f(m){return/[\u0080-\uFFFF]/.test(m)&&(m=unescape(encodeURIComponent(m))),m}function d(m,v){var _=m.length,x=new ArrayBuffer(_),b=new Uint8Array(x),w;for(w=0;w<_;w+=1)b[w]=m.charCodeAt(w);return v?b:x}function h(m){return String.fromCharCode.apply(null,new Uint8Array(m))}function p(m,v,_){var x=new Uint8Array(m.byteLength+v.byteLength);return x.set(new Uint8Array(m)),x.set(new Uint8Array(v),m.byteLength),_?x:x.buffer}function y(m){var v=[],_=m.length,x;for(x=0;x<_-1;x+=2)v.push(parseInt(m.substr(x,2),16));return String.fromCharCode.apply(String,v)}function g(){this.reset()}return g.prototype.append=function(m){return this.appendBinary(f(m)),this},g.prototype.appendBinary=function(m){this._buff+=m,this._length+=m.length;var v=this._buff.length,_;for(_=64;_<=v;_+=64)i(this._hash,o(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},g.prototype.end=function(m){var v=this._buff,_=v.length,x,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w;for(x=0;x<_;x+=1)b[x>>2]|=v.charCodeAt(x)<<(x%4<<3);return this._finish(b,_),w=u(this._hash),m&&(w=y(w)),this.reset(),w},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(m){return this._buff=m.buff,this._length=m.length,this._hash=m.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(m,v){var _=v,x,b,w;if(m[_>>2]|=128<<(_%4<<3),_>55)for(i(this._hash,m),_=0;_<16;_+=1)m[_]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),b=parseInt(x[2],16),w=parseInt(x[1],16)||0,m[14]=b,m[15]=w,i(this._hash,m)},g.hash=function(m,v){return g.hashBinary(f(m),v)},g.hashBinary=function(m,v){var _=a(m),x=u(_);return v?y(x):x},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(m){var v=p(this._buff.buffer,m,!0),_=v.length,x;for(this._length+=m.byteLength,x=64;x<=_;x+=64)i(this._hash,s(v.subarray(x-64,x)));return this._buff=x-64<_?new Uint8Array(v.buffer.slice(x-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(m){var v=this._buff,_=v.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b,w;for(b=0;b<_;b+=1)x[b>>2]|=v[b]<<(b%4<<3);return this._finish(x,_),w=u(this._hash),m&&(w=y(w)),this.reset(),w},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var m=g.prototype.getState.call(this);return m.buff=h(m.buff),m},g.ArrayBuffer.prototype.setState=function(m){return m.buff=d(m.buff,!0),g.prototype.setState.call(this,m)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(m,v){var _=l(new Uint8Array(m)),x=u(_);return v?y(x):x},g})})(PR);var MX=PR.exports;const PCe=lu(MX);var IR={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(al,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",f="month",d="quarter",h="year",p="date",y="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var G=["th","st","nd","rd"],N=B%100;return"["+B+(G[(N-20)%10]||G[N]||G[0])+"]"}},_=function(B,G,N){var U=String(B);return!U||U.length>=G?B:""+Array(G+1-U.length).join(N)+B},x={s:_,z:function(B){var G=-B.utcOffset(),N=Math.abs(G),U=Math.floor(N/60),W=N%60;return(G<=0?"+":"-")+_(U,2,"0")+":"+_(W,2,"0")},m:function B(G,N){if(G.date()<N.date())return-B(N,G);var U=12*(N.year()-G.year())+(N.month()-G.month()),W=G.clone().add(U,f),K=N-W<0,fe=G.clone().add(U+(K?-1:1),f);return+(-(U+(N-W)/(K?W-fe:fe-W))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:f,y:h,w:u,d:c,D:p,h:l,m:a,s,ms:o,Q:d}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},b="en",w={};w[b]=v;var E="$isDayjsObject",S=function(B){return B instanceof T||!(!B||!B[E])},P=function B(G,N,U){var W;if(!G)return b;if(typeof G=="string"){var K=G.toLowerCase();w[K]&&(W=K),N&&(w[K]=N,W=K);var fe=G.split("-");if(!W&&fe.length>1)return B(fe[0])}else{var ue=G.name;w[ue]=G,W=ue}return!U&&W&&(b=W),W||!U&&b},C=function(B,G){if(S(B))return B.clone();var N=typeof G=="object"?G:{};return N.date=B,N.args=arguments,new T(N)},A=x;A.l=P,A.i=S,A.w=function(B,G){return C(B,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var T=function(){function B(N){this.$L=P(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[E]=!0}var G=B.prototype;return G.parse=function(N){this.$d=function(U){var W=U.date,K=U.utc;if(W===null)return new Date(NaN);if(A.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var fe=W.match(g);if(fe){var ue=fe[2]-1||0,Y=(fe[7]||"0").substring(0,3);return K?new Date(Date.UTC(fe[1],ue,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,Y)):new Date(fe[1],ue,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,Y)}}return new Date(W)}(N),this.init()},G.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},G.$utils=function(){return A},G.isValid=function(){return this.$d.toString()!==y},G.isSame=function(N,U){var W=C(N);return this.startOf(U)<=W&&W<=this.endOf(U)},G.isAfter=function(N,U){return C(N)<this.startOf(U)},G.isBefore=function(N,U){return this.endOf(U)<C(N)},G.$g=function(N,U,W){return A.u(N)?this[U]:this.set(W,N)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(N,U){var W=this,K=!!A.u(U)||U,fe=A.p(N),ue=function(J,de){var pe=A.w(W.$u?Date.UTC(W.$y,de,J):new Date(W.$y,de,J),W);return K?pe:pe.endOf(c)},Y=function(J,de){return A.w(W.toDate()[J].apply(W.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(de)),W)},ie=this.$W,ge=this.$M,F=this.$D,q="set"+(this.$u?"UTC":"");switch(fe){case h:return K?ue(1,0):ue(31,11);case f:return K?ue(1,ge):ue(0,ge+1);case u:var L=this.$locale().weekStart||0,ee=(ie<L?ie+7:ie)-L;return ue(K?F-ee:F+(6-ee),ge);case c:case p:return Y(q+"Hours",0);case l:return Y(q+"Minutes",1);case a:return Y(q+"Seconds",2);case s:return Y(q+"Milliseconds",3);default:return this.clone()}},G.endOf=function(N){return this.startOf(N,!1)},G.$set=function(N,U){var W,K=A.p(N),fe="set"+(this.$u?"UTC":""),ue=(W={},W[c]=fe+"Date",W[p]=fe+"Date",W[f]=fe+"Month",W[h]=fe+"FullYear",W[l]=fe+"Hours",W[a]=fe+"Minutes",W[s]=fe+"Seconds",W[o]=fe+"Milliseconds",W)[K],Y=K===c?this.$D+(U-this.$W):U;if(K===f||K===h){var ie=this.clone().set(p,1);ie.$d[ue](Y),ie.init(),this.$d=ie.set(p,Math.min(this.$D,ie.daysInMonth())).$d}else ue&&this.$d[ue](Y);return this.init(),this},G.set=function(N,U){return this.clone().$set(N,U)},G.get=function(N){return this[A.p(N)]()},G.add=function(N,U){var W,K=this;N=Number(N);var fe=A.p(U),ue=function(ge){var F=C(K);return A.w(F.date(F.date()+Math.round(ge*N)),K)};if(fe===f)return this.set(f,this.$M+N);if(fe===h)return this.set(h,this.$y+N);if(fe===c)return ue(1);if(fe===u)return ue(7);var Y=(W={},W[a]=n,W[l]=i,W[s]=r,W)[fe]||1,ie=this.$d.getTime()+N*Y;return A.w(ie,this)},G.subtract=function(N,U){return this.add(-1*N,U)},G.format=function(N){var U=this,W=this.$locale();if(!this.isValid())return W.invalidDate||y;var K=N||"YYYY-MM-DDTHH:mm:ssZ",fe=A.z(this),ue=this.$H,Y=this.$m,ie=this.$M,ge=W.weekdays,F=W.months,q=W.meridiem,L=function(de,pe,xe,O){return de&&(de[pe]||de(U,K))||xe[pe].slice(0,O)},ee=function(de){return A.s(ue%12||12,de,"0")},J=q||function(de,pe,xe){var O=de<12?"AM":"PM";return xe?O.toLowerCase():O};return K.replace(m,function(de,pe){return pe||function(xe){switch(xe){case"YY":return String(U.$y).slice(-2);case"YYYY":return A.s(U.$y,4,"0");case"M":return ie+1;case"MM":return A.s(ie+1,2,"0");case"MMM":return L(W.monthsShort,ie,F,3);case"MMMM":return L(F,ie);case"D":return U.$D;case"DD":return A.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return L(W.weekdaysMin,U.$W,ge,2);case"ddd":return L(W.weekdaysShort,U.$W,ge,3);case"dddd":return ge[U.$W];case"H":return String(ue);case"HH":return A.s(ue,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return J(ue,Y,!0);case"A":return J(ue,Y,!1);case"m":return String(Y);case"mm":return A.s(Y,2,"0");case"s":return String(U.$s);case"ss":return A.s(U.$s,2,"0");case"SSS":return A.s(U.$ms,3,"0");case"Z":return fe}return null}(de)||fe.replace(":","")})},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(N,U,W){var K,fe=this,ue=A.p(U),Y=C(N),ie=(Y.utcOffset()-this.utcOffset())*n,ge=this-Y,F=function(){return A.m(fe,Y)};switch(ue){case h:K=F()/12;break;case f:K=F();break;case d:K=F()/3;break;case u:K=(ge-ie)/6048e5;break;case c:K=(ge-ie)/864e5;break;case l:K=ge/i;break;case a:K=ge/n;break;case s:K=ge/r;break;default:K=ge}return W?K:A.a(K)},G.daysInMonth=function(){return this.endOf(f).$D},G.$locale=function(){return w[this.$L]},G.locale=function(N,U){if(!N)return this.$L;var W=this.clone(),K=P(N,U,!0);return K&&(W.$L=K),W},G.clone=function(){return A.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},B}(),I=T.prototype;return C.prototype=I,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",f],["$y",h],["$D",p]].forEach(function(B){I[B[1]]=function(G){return this.$g(G,B[0],B[1])}}),C.extend=function(B,G){return B.$i||(B(G,T,C),B.$i=!0),C},C.locale=P,C.isDayjs=S,C.unix=function(B){return C(1e3*B)},C.en=w[b],C.Ls=w,C.p={},C})})(IR);var _b=IR.exports;const ICe=lu(_b);function gy(){}const We=Object.assign,ho=typeof window<"u",po=t=>t!==null&&typeof t=="object",Ut=t=>t!=null,Fc=t=>typeof t=="function",xb=t=>po(t)&&Fc(t.then)&&Fc(t.catch),Wf=t=>Object.prototype.toString.call(t)==="[object Date]"&&!Number.isNaN(t.getTime()),OR=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),DX=()=>ho?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function YE(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var o;n=po(n)&&(o=n[i])!=null?o:""}),n}function Gt(t,e,r){return e.reduce((n,i)=>((!r||t[i]!==void 0)&&(n[i]=t[i]),n),{})}const Vs=(t,e)=>JSON.stringify(t)===JSON.stringify(e),Zp=t=>Array.isArray(t)?t:[t],dr=null,Ce=[Number,String],_e={type:Boolean,default:!0},un=t=>({type:t,required:!0}),Qo=()=>({type:Array,default:()=>[]}),vg=t=>({type:Number,default:t}),ze=t=>({type:Ce,default:t}),De=t=>({type:String,default:t});function Id(t){const e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function Jp(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function bb(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function wb(t){Jp(window,t),Jp(document.body,t)}function KE(t,e){if(t===window)return 0;const r=e?Id(e):bb();return br(t).top+r}const BX=DX();function RR(){BX&&wb(bb())}const MR=t=>t.stopPropagation();function Dr(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&MR(t)}function Lc(t){const e=dn(t);if(!e)return!1;const r=window.getComputedStyle(e),n=r.display==="none",i=e.offsetParent===null&&r.position!=="fixed";return n||i}const{width:Vo,height:zs}=Z4();function rt(t){if(Ut(t))return OR(t)?`${t}px`:String(t)}function Dl(t){if(Ut(t)){if(Array.isArray(t))return{width:rt(t[0]),height:rt(t[1])};const e=rt(t);return{width:e,height:e}}}function DR(t){const e={};return t!==void 0&&(e.zIndex=+t),e}let Sm;function kX(){if(!Sm){const t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;Sm=parseFloat(e)}return Sm}function NX(t){return t=t.replace(/rem/g,""),+t*kX()}function FX(t){return t=t.replace(/vw/g,""),+t*Vo.value/100}function LX(t){return t=t.replace(/vh/g,""),+t*zs.value/100}function Eb(t){if(typeof t=="number")return t;if(ho){if(t.includes("rem"))return NX(t);if(t.includes("vw"))return FX(t);if(t.includes("vh"))return LX(t)}return parseFloat(t)}const $X=/-(\w)/g,BR=t=>t.replace($X,(e,r)=>r.toUpperCase());function Ma(t,e=2){let r=t+"";for(;r.length<e;)r="0"+r;return r}const Lr=(t,e,r)=>Math.min(Math.max(t,e),r);function qE(t,e,r){const n=t.indexOf(e);return n===-1?t:e==="-"&&n!==0?t.slice(0,n):t.slice(0,n+1)+t.slice(n).replace(r,"")}function my(t,e=!0,r=!0){e?t=qE(t,".",/\./g):t=t.split(".")[0],r?t=qE(t,"-",/-/g):t=t.replace(/-/,"");const n=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(n,"")}function kR(t,e){return Math.round((t+e)*1e10)/1e10}const{hasOwnProperty:UX}=Object.prototype;function GX(t,e,r){const n=e[r];Ut(n)&&(!UX.call(t,r)||!po(n)?t[r]=n:t[r]=NR(Object(t[r]),n))}function NR(t,e){return Object.keys(e).forEach(r=>{GX(t,e,r)}),t}var HX={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const ZE=Z("zh-CN"),JE=Bt({"zh-CN":HX}),VX={messages(){return JE[ZE.value]},use(t,e){ZE.value=t,this.add({[t]:e})},add(t={}){NR(JE,t)}};var zX=VX;function jX(t){const e=BR(t)+".";return(r,...n)=>{const i=zX.messages(),o=YE(i,e+r)||YE(i,r);return Fc(o)?o(...n):o}}function vy(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+vy(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?vy(t,n):""),""):""}function WX(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${vy(e,r)}`)}function Pe(t){const e=`van-${t}`;return[e,WX(e),jX(e)]}const aa="van-hairline",FR=`${aa}--top`,XX=`${aa}--left`,YX=`${aa}--right`,KX=`${aa}--bottom`,dp=`${aa}--surround`,LR=`${aa}--top-bottom`,qX=`${aa}-unset--top-bottom`,es="van-haptics-feedback",$R=Symbol("van-form"),UR=500,QE=5;function uu(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const o=t.apply(null,e);xb(o)?o.then(s=>{s?r():n&&n()}).catch(i||gy):o?r():n&&n()}else r()}function Be(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component(BR(`-${r}`),t))},t}function eS(t,e){return t.reduce((r,n)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}const GR=Symbol();function Sb(t){const e=fr(GR,null);e&&ye(e,r=>{r&&t()})}const HR=(t,e)=>{const r=Z(),n=()=>{r.value=br(t).height};return zt(()=>{if(Ye(n),e)for(let i=1;i<=3;i++)setTimeout(n,100*i)}),Sb(()=>Ye(n)),ye([Vo,zs],n),r};function ZX(t,e){const r=HR(t,!0);return n=>R("div",{class:e("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[n()])}const[VR,tS]=Pe("action-bar"),zR=Symbol(VR),JX={placeholder:Boolean,safeAreaInsetBottom:_e};var QX=we({name:VR,props:JX,setup(t,{slots:e}){const r=Z(),n=ZX(r,tS),{linkChildren:i}=$i(zR);i();const o=()=>{var s;return R("div",{ref:r,class:[tS(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[(s=e.default)==null?void 0:s.call(e)])};return()=>t.placeholder?n(o):o()}});const eY=Be(QX);function qt(t){const e=bt();e&&We(e.proxy,t)}const fu={to:[String,Object],url:String,replace:Boolean};function jR({to:t,url:e,replace:r,$router:n}){t&&n?n[r?"replace":"push"](t):e&&(r?location.replace(e):location.href=e)}function Od(){const t=bt().proxy;return()=>jR(t)}const[tY,rS]=Pe("badge"),rY={dot:Boolean,max:Ce,tag:De("div"),color:String,offset:Array,content:Ce,showZero:_e,position:De("top-right")};var nY=we({name:tY,props:rY,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:l}=t;return Ut(a)&&a!==""&&(l||a!==0&&a!=="0")},n=()=>{const{dot:a,max:l,content:c}=t;if(!a&&r())return e.content?e.content():Ut(l)&&OR(c)&&+c>+l?`${l}+`:c},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,o=ne(()=>{const a={background:t.color};if(t.offset){const[l,c]=t.offset,{position:u}=t,[f,d]=u.split("-");e.default?(typeof c=="number"?a[f]=rt(f==="top"?c:-c):a[f]=f==="top"?rt(c):i(c),typeof l=="number"?a[d]=rt(d==="left"?l:-l):a[d]=d==="left"?rt(l):i(l)):(a.marginTop=rt(c),a.marginLeft=rt(l))}return a}),s=()=>{if(r()||t.dot)return R("div",{class:rS([t.position,{dot:t.dot,fixed:!!e.default}]),style:o.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return R(a,{class:rS("wrapper")},{default:()=>[e.default(),s()]})}return s()}}});const yg=Be(nY);let iY=2e3;const oY=()=>++iY,[sY,OCe]=Pe("config-provider"),aY=Symbol(sY),[lY,nS]=Pe("icon"),cY=t=>t==null?void 0:t.includes("/"),uY={dot:Boolean,tag:De("i"),name:String,size:Ce,badge:Ce,color:String,badgeProps:Object,classPrefix:String};var fY=we({name:lY,props:uY,setup(t,{slots:e}){const r=fr(aY,null),n=ne(()=>t.classPrefix||(r==null?void 0:r.iconPrefix)||nS());return()=>{const{tag:i,dot:o,name:s,size:a,badge:l,color:c}=t,u=cY(s);return R(yg,lt({dot:o,tag:i,class:[n.value,u?"":`${n.value}-${s}`],style:{color:c,fontSize:rt(a)},content:l},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),u&&R("img",{class:nS("image"),src:s},null)]}})}}});const rr=Be(fY);var dY=rr;const[hY,mf]=Pe("loading"),pY=Array(12).fill(null).map((t,e)=>R("i",{class:mf("line",String(e+1))},null)),gY=R("svg",{class:mf("circular"),viewBox:"25 25 50 50"},[R("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),mY={size:Ce,type:De("circular"),color:String,vertical:Boolean,textSize:Ce,textColor:String};var vY=we({name:hY,props:mY,setup(t,{slots:e}){const r=ne(()=>We({color:t.color},Dl(t.size))),n=()=>{const o=t.type==="spinner"?pY:gY;return R("span",{class:mf("spinner",t.type),style:r.value},[e.icon?e.icon():o])},i=()=>{var o;if(e.default)return R("span",{class:mf("text"),style:{fontSize:rt(t.textSize),color:(o=t.textColor)!=null?o:t.color}},[e.default()])};return()=>{const{type:o,vertical:s}=t;return R("div",{class:mf([o,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}});const us=Be(vY),[yY,jl]=Pe("button"),_Y=We({},fu,{tag:De("button"),text:String,icon:String,type:De("default"),size:De("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:De("button"),loadingSize:Ce,loadingText:String,loadingType:String,iconPosition:De("left")});var xY=we({name:yY,props:_Y,emits:["click"],setup(t,{emit:e,slots:r}){const n=Od(),i=()=>r.loading?r.loading():R(us,{size:t.loadingSize,type:t.loadingType,class:jl("loading")},null),o=()=>{if(t.loading)return i();if(r.icon)return R("div",{class:jl("icon")},[r.icon()]);if(t.icon)return R(rr,{name:t.icon,class:jl("icon"),classPrefix:t.iconPrefix},null)},s=()=>{let c;if(t.loading?c=t.loadingText:c=r.default?r.default():t.text,c)return R("span",{class:jl("text")},[c])},a=()=>{const{color:c,plain:u}=t;if(c){const f={color:u?c:"white"};return u||(f.background=c),c.includes("gradient")?f.border=0:f.borderColor=c,f}},l=c=>{t.loading?Dr(c):t.disabled||(e("click",c),n())};return()=>{const{tag:c,type:u,size:f,block:d,round:h,plain:p,square:y,loading:g,disabled:m,hairline:v,nativeType:_,iconPosition:x}=t,b=[jl([u,f,{plain:p,block:d,round:h,square:y,loading:g,disabled:m,hairline:v}]),{[dp]:v}];return R(c,{type:_,class:b,style:a(),disabled:m,onClick:l},{default:()=>[R("div",{class:jl("content")},[x==="left"&&o(),s(),x==="right"&&o()])]})}}});const Qp=Be(xY),[bY,wY]=Pe("action-bar-button"),EY=We({},fu,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var SY=we({name:bY,props:EY,setup(t,{slots:e}){const r=Od(),{parent:n,index:i}=Jn(zR),o=ne(()=>{if(n){const a=n.children[i.value-1];return!(a&&"isButton"in a)}}),s=ne(()=>{if(n){const a=n.children[i.value+1];return!(a&&"isButton"in a)}});return qt({isButton:!0}),()=>{const{type:a,icon:l,text:c,color:u,loading:f,disabled:d}=t;return R(Qp,{class:wY([a,{last:s.value,first:o.value}]),size:"large",type:a,icon:l,color:u,loading:f,disabled:d,onClick:r},{default:()=>[e.default?e.default():c]})}}});const iS=Be(SY),Rd={show:Boolean,zIndex:Ce,overlay:_e,duration:Ce,teleport:[String,Object],lockScroll:_e,lazyRender:_e,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:dr,transitionAppear:Boolean,closeOnClickOverlay:_e},WR=Object.keys(Rd);function CY(t,e){return t>e?"horizontal":e>t?"vertical":""}function Bl(){const t=Z(0),e=Z(0),r=Z(0),n=Z(0),i=Z(0),o=Z(0),s=Z(""),a=Z(!0),l=()=>s.value==="vertical",c=()=>s.value==="horizontal",u=()=>{r.value=0,n.value=0,i.value=0,o.value=0,s.value="",a.value=!0};return{move:h=>{const p=h.touches[0];r.value=(p.clientX<0?0:p.clientX)-t.value,n.value=p.clientY-e.value,i.value=Math.abs(r.value),o.value=Math.abs(n.value);const y=10;(!s.value||i.value<y&&o.value<y)&&(s.value=CY(i.value,o.value)),a.value&&(i.value>QE||o.value>QE)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:o,direction:s,isVertical:l,isHorizontal:c,isTap:a}}let Pu=0;const oS="van-overflow-hidden";function AY(t,e){const r=Bl(),n="01",i="10",o=u=>{r.move(u);const f=r.deltaY.value>0?i:n,d=Vx(u.target,t.value),{scrollHeight:h,offsetHeight:p,scrollTop:y}=d;let g="11";y===0?g=p>=h?"00":"01":y+p>=h&&(g="10"),g!=="11"&&r.isVertical()&&!(parseInt(g,2)&parseInt(f,2))&&Dr(u,!0)},s=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",o,{passive:!1}),Pu||document.body.classList.add(oS),Pu++},a=()=>{Pu&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",o),Pu--,Pu||document.body.classList.remove(oS))},l=()=>e()&&s(),c=()=>e()&&a();cu(l),xo(c),Zn(c),ye(e,u=>{u?s():a()})}function Cb(t){const e=Z(!1);return ye(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}const yy=()=>{var t;const{scopeId:e}=((t=bt())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[TY,PY]=Pe("overlay"),IY={show:Boolean,zIndex:Ce,duration:Ce,className:dr,lockScroll:_e,lazyRender:_e,customStyle:Object,teleport:[String,Object]};var OY=we({name:TY,inheritAttrs:!1,props:IY,setup(t,{attrs:e,slots:r}){const n=Z(),i=Cb(()=>t.show||!t.lazyRender),o=a=>{t.lockScroll&&Dr(a,!0)},s=i(()=>{var a;const l=We(DR(t.zIndex),t.customStyle);return Ut(t.duration)&&(l.animationDuration=`${t.duration}s`),di(R("div",lt({ref:n,style:l,class:[PY(),t.className]},e),[(a=r.default)==null?void 0:a.call(r)]),[[pi,t.show]])});return mn("touchmove",o,{target:n}),()=>{const a=R(Ad,{name:"van-fade",appear:!0},{default:s});return t.teleport?R(Q0,{to:t.teleport},{default:()=>[a]}):a}}});const RY=Be(OY),MY=We({},Rd,{round:Boolean,position:De("center"),closeIcon:De("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:De("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[DY,sS]=Pe("popup");var BY=we({name:DY,inheritAttrs:!1,props:MY,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,o;const s=Z(),a=Z(),l=Cb(()=>t.show||!t.lazyRender),c=ne(()=>{const w={zIndex:s.value};if(Ut(t.duration)){const E=t.position==="center"?"animationDuration":"transitionDuration";w[E]=`${t.duration}s`}return w}),u=()=>{i||(i=!0,s.value=t.zIndex!==void 0?+t.zIndex:oY(),e("open"))},f=()=>{i&&uu(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=w=>{e("clickOverlay",w),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const w=We({show:t.show,class:t.overlayClass,zIndex:s.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return R(RY,lt(w,yy(),{onClick:d}),{default:n["overlay-content"]})}},p=w=>{e("clickCloseIcon",w),f()},y=()=>{if(t.closeable)return R(rr,{role:"button",tabindex:0,name:t.closeIcon,class:[sS("close-icon",t.closeIconPosition),es],classPrefix:t.iconPrefix,onClick:p},null)};let g;const m=()=>{g&&clearTimeout(g),g=setTimeout(()=>{e("opened")})},v=()=>e("closed"),_=w=>e("keydown",w),x=l(()=>{var w;const{destroyOnClose:E,round:S,position:P,safeAreaInsetTop:C,safeAreaInsetBottom:A,show:T}=t;if(!(!T&&E))return di(R("div",lt({ref:a,style:c.value,role:"dialog",tabindex:0,class:[sS({round:S,[P]:P}),{"van-safe-area-top":C,"van-safe-area-bottom":A}],onKeydown:_},r,yy()),[(w=n.default)==null?void 0:w.call(n),y()]),[[pi,T]])}),b=()=>{const{position:w,transition:E,transitionAppear:S}=t,P=w==="center"?"van-fade":`van-popup-slide-${w}`;return R(Ad,{name:E||P,appear:S,onAfterEnter:m,onAfterLeave:v},{default:x})};return ye(()=>t.show,w=>{w&&!i&&(u(),r.tabindex===0&&Ye(()=>{var E;(E=a.value)==null||E.focus()})),!w&&i&&(i=!1,e("close"))}),qt({popupRef:a}),AY(a,()=>t.show&&t.lockScroll),mn("popstate",()=>{t.closeOnPopstate&&(f(),o=!1)}),zt(()=>{t.show&&u()}),as(()=>{o&&(e("update:show",!0),o=!1)}),xo(()=>{t.show&&t.teleport&&(f(),o=!0)}),hi(GR,()=>t.show),()=>t.teleport?R(Q0,{to:t.teleport},{default:()=>[h(),b()]}):R($t,null,[h(),b()])}});const kl=Be(BY),[kY,ri]=Pe("action-sheet"),NY=We({},Rd,{title:String,round:_e,actions:Qo(),closeIcon:De("cross"),closeable:_e,cancelText:String,description:String,closeOnPopstate:_e,closeOnClickAction:Boolean,safeAreaInsetBottom:_e}),FY=[...WR,"round","closeOnPopstate","safeAreaInsetBottom"];var LY=we({name:kY,props:NY,emits:["select","cancel","update:show"],setup(t,{slots:e,emit:r}){const n=f=>r("update:show",f),i=()=>{n(!1),r("cancel")},o=()=>{if(t.title)return R("div",{class:ri("header")},[t.title,t.closeable&&R(rr,{name:t.closeIcon,class:[ri("close"),es],onClick:i},null)])},s=()=>{if(e.cancel||t.cancelText)return[R("div",{class:ri("gap")},null),R("button",{type:"button",class:ri("cancel"),onClick:i},[e.cancel?e.cancel():t.cancelText])]},a=f=>{if(f.icon)return R(rr,{class:ri("item-icon"),name:f.icon},null)},l=(f,d)=>f.loading?R(us,{class:ri("loading-icon")},null):e.action?e.action({action:f,index:d}):[R("span",{class:ri("name")},[f.name]),f.subname&&R("div",{class:ri("subname")},[f.subname])],c=(f,d)=>{const{color:h,loading:p,callback:y,disabled:g,className:m}=f,v=()=>{g||p||(y&&y(f),t.closeOnClickAction&&n(!1),Ye(()=>r("select",f,d)))};return R("button",{type:"button",style:{color:h},class:[ri("item",{loading:p,disabled:g}),m],onClick:v},[a(f),l(f,d)])},u=()=>{if(t.description||e.description){const f=e.description?e.description():t.description;return R("div",{class:ri("description")},[f])}};return()=>R(kl,lt({class:ri(),position:"bottom","onUpdate:show":n},Gt(t,FY)),{default:()=>{var f;return[o(),u(),R("div",{class:ri("content")},[t.actions.map(c),(f=e.default)==null?void 0:f.call(e)]),s()]}})}});const RCe=Be(LY),[$Y,Uo,aS]=Pe("picker"),XR=t=>t.find(e=>!e.disabled)||t[0];function UY(t,e){const r=t[0];if(r){if(Array.isArray(r))return"multiple";if(e.children in r)return"cascade"}return"default"}function hp(t,e){e=Lr(e,0,t.length);for(let r=e;r<t.length;r++)if(!t[r].disabled)return r;for(let r=e-1;r>=0;r--)if(!t[r].disabled)return r;return 0}const lS=(t,e,r)=>e!==void 0&&t.some(n=>n[r.value]===e);function _y(t,e,r){const n=t.findIndex(o=>o[r.value]===e),i=hp(t,n);return t[i]}function GY(t,e,r){const n=[];let i={[e.children]:t},o=0;for(;i&&i[e.children];){const s=i[e.children],a=r.value[o];if(i=Ut(a)?_y(s,a,e):void 0,!i&&s.length){const l=XR(s)[e.value];i=_y(s,l,e)}o++,n.push(s)}return n}function HY(t){const{transform:e}=window.getComputedStyle(t),r=e.slice(7,e.length-1).split(", ")[5];return Number(r)}function VY(t){return We({text:"text",value:"value",children:"children"},t)}const cS=200,uS=300,zY=15,[YR,Cm]=Pe("picker-column"),KR=Symbol(YR);var jY=we({name:YR,props:{value:Ce,fields:un(Object),options:Qo(),readonly:Boolean,allowHtml:Boolean,optionHeight:un(Number),swipeDuration:un(Ce),visibleOptionNum:un(Ce)},emits:["change","clickOption","scrollInto"],setup(t,{emit:e,slots:r}){let n,i,o,s,a;const l=Z(),c=Z(),u=Z(0),f=Z(0),d=Bl(),h=()=>t.options.length,p=()=>t.optionHeight*(+t.visibleOptionNum-1)/2,y=C=>{let A=hp(t.options,C);const T=-A*t.optionHeight,I=()=>{A>h()-1&&(A=hp(t.options,C));const B=t.options[A][t.fields.value];B!==t.value&&e("change",B)};n&&T!==u.value?a=I:I(),u.value=T},g=()=>t.readonly||!t.options.length,m=C=>{n||g()||(a=null,f.value=cS,y(C),e("clickOption",t.options[C]))},v=C=>Lr(Math.round(-C/t.optionHeight),0,h()-1),_=ne(()=>v(u.value)),x=(C,A)=>{const T=Math.abs(C/A);C=u.value+T/.003*(C<0?-1:1);const I=v(C);f.value=+t.swipeDuration,y(I)},b=()=>{n=!1,f.value=0,a&&(a(),a=null)},w=C=>{if(!g()){if(d.start(C),n){const A=HY(c.value);u.value=Math.min(0,A-p())}f.value=0,i=u.value,o=Date.now(),s=i,a=null}},E=C=>{if(g())return;d.move(C),d.isVertical()&&(n=!0,Dr(C,!0));const A=Lr(i+d.deltaY.value,-(h()*t.optionHeight),t.optionHeight),T=v(A);T!==_.value&&e("scrollInto",t.options[T]),u.value=A;const I=Date.now();I-o>uS&&(o=I,s=A)},S=()=>{if(g())return;const C=u.value-s,A=Date.now()-o;if(A<uS&&Math.abs(C)>zY){x(C,A);return}const I=v(u.value);f.value=cS,y(I),setTimeout(()=>{n=!1},0)},P=()=>{const C={height:`${t.optionHeight}px`};return t.options.map((A,T)=>{const I=A[t.fields.text],{disabled:B}=A,G=A[t.fields.value],N={role:"button",style:C,tabindex:B?-1:0,class:[Cm("item",{disabled:B,selected:G===t.value}),A.className],onClick:()=>m(T)},U={class:"van-ellipsis",[t.allowHtml?"innerHTML":"textContent"]:I};return R("li",N,[r.option?r.option(A,T):R("div",U,null)])})};return Jn(KR),qt({stopMomentum:b}),su(()=>{const C=n?Math.floor(-u.value/t.optionHeight):t.options.findIndex(I=>I[t.fields.value]===t.value),A=hp(t.options,C),T=-A*t.optionHeight;n&&A<C&&b(),u.value=T}),mn("touchmove",E,{target:l}),()=>R("div",{ref:l,class:Cm(),onTouchstartPassive:w,onTouchend:S,onTouchcancel:S},[R("ul",{ref:c,style:{transform:`translate3d(0, ${u.value+p()}px, 0)`,transitionDuration:`${f.value}ms`,transitionProperty:f.value?"all":"none"},class:Cm("wrapper"),onTransitionend:b},[P()])])}});const[WY]=Pe("picker-toolbar"),_g={title:String,cancelButtonText:String,confirmButtonText:String},XY=["cancel","confirm","title","toolbar"],YY=Object.keys(_g);var KY=we({name:WY,props:_g,emits:["confirm","cancel"],setup(t,{emit:e,slots:r}){const n=()=>{if(r.title)return r.title();if(t.title)return R("div",{class:[Uo("title"),"van-ellipsis"]},[t.title])},i=()=>e("cancel"),o=()=>e("confirm"),s=()=>{var l;const c=(l=t.cancelButtonText)!=null?l:aS("cancel");if(!(!r.cancel&&!c))return R("button",{type:"button",class:[Uo("cancel"),es],onClick:i},[r.cancel?r.cancel():c])},a=()=>{var l;const c=(l=t.confirmButtonText)!=null?l:aS("confirm");if(!(!r.confirm&&!c))return R("button",{type:"button",class:[Uo("confirm"),es],onClick:o},[r.confirm?r.confirm():c])};return()=>R("div",{class:Uo("toolbar")},[r.toolbar?r.toolbar():[s(),n(),a()]])}});const qY=(t,e)=>{const r=Z(t());return ye(t,n=>{n!==r.value&&(r.value=n)}),ye(r,n=>{n!==t()&&e(n)}),r};/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qR=Array.isArray,Xf=t=>typeof t=="string",ZR=t=>t!==null&&typeof t=="object",ZY=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},JY=/\B([A-Z])/g,QY=ZY(t=>t.replace(JY,"-$1").toLowerCase());function JR(t){if(qR(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Xf(n)?nK(n):JR(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(Xf(t)||ZR(t))return t}const eK=/;(?![^(]*\))/g,tK=/:([^]+)/,rK=/\/\*[^]*?\*\//g;function nK(t){const e={};return t.replace(rK,"").split(eK).forEach(r=>{if(r){const n=r.split(tK);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function iK(t){if(!t)return"";if(Xf(t))return t;let e="";for(const r in t){const n=t[r];if(Xf(n)||typeof n=="number"){const i=r.startsWith("--")?r:QY(r);e+=`${i}:${n};`}}return e}function QR(t){let e="";if(Xf(t))e=t;else if(qR(t))for(let r=0;r<t.length;r++){const n=QR(t[r]);n&&(e+=n+" ")}else if(ZR(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function oK(t,e,r){let n,i=0;const o=t.scrollLeft,s=r===0?1:Math.round(r*1e3/16);let a=o;function l(){Td(n)}function c(){a+=(e-o)/s,t.scrollLeft=a,++i<s&&(n=hn(c))}return c(),l}function sK(t,e,r,n){let i,o=Id(t);const s=o<e,a=r===0?1:Math.round(r*1e3/16),l=(e-o)/a;function c(){Td(i)}function u(){o+=l,(s&&o>e||!s&&o<e)&&(o=e),Jp(t,o),s&&o<e||!s&&o>e?i=hn(u):n&&(i=hn(n))}return u(),c}let aK=0;function Ab(){const t=bt(),{name:e="unknown"}=(t==null?void 0:t.type)||{};return`${e}-${++aK}`}function e8(){const t=Z([]),e=[];return J0(()=>{t.value=[]}),[t,n=>(e[n]||(e[n]=i=>{t.value[n]=i}),e[n])]}function t8(t,e){if(!ho||!window.IntersectionObserver)return;const r=new IntersectionObserver(o=>{e(o[0].intersectionRatio>0)},{root:document.body}),n=()=>{t.value&&r.observe(t.value)},i=()=>{t.value&&r.unobserve(t.value)};xo(i),Zn(i),cu(n)}const[lK,cK]=Pe("sticky"),uK={zIndex:Ce,position:De("top"),container:Object,offsetTop:ze(0),offsetBottom:ze(0)};var fK=we({name:lK,props:uK,emits:["scroll","change"],setup(t,{emit:e,slots:r}){const n=Z(),i=Pd(n),o=Bt({fixed:!1,width:0,height:0,transform:0}),s=Z(!1),a=ne(()=>Eb(t.position==="top"?t.offsetTop:t.offsetBottom)),l=ne(()=>{if(s.value)return;const{fixed:d,height:h,width:p}=o;if(d)return{width:`${p}px`,height:`${h}px`}}),c=ne(()=>{if(!o.fixed||s.value)return;const d=We(DR(t.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[t.position]:`${a.value}px`});return o.transform&&(d.transform=`translate3d(0, ${o.transform}px, 0)`),d}),u=d=>e("scroll",{scrollTop:d,isFixed:o.fixed}),f=()=>{if(!n.value||Lc(n))return;const{container:d,position:h}=t,p=br(n),y=Id(window);if(o.width=p.width,o.height=p.height,h==="top")if(d){const g=br(d),m=g.bottom-a.value-o.height;o.fixed=a.value>p.top&&g.bottom>0,o.transform=m<0?m:0}else o.fixed=a.value>p.top;else{const{clientHeight:g}=document.documentElement;if(d){const m=br(d),v=g-m.top-a.value-o.height;o.fixed=g-a.value<p.bottom&&g>m.top,o.transform=v<0?-v:0}else o.fixed=g-a.value<p.bottom}u(y)};return ye(()=>o.fixed,d=>e("change",d)),mn("scroll",f,{target:i,passive:!0}),t8(n,f),ye([Vo,zs],()=>{!n.value||Lc(n)||!o.fixed||(s.value=!0,Ye(()=>{const d=br(n);o.width=d.width,o.height=d.height,s.value=!1}))}),()=>{var d;return R("div",{ref:n,style:l.value},[R("div",{class:cK({fixed:o.fixed&&!s.value}),style:c.value},[(d=r.default)==null?void 0:d.call(r)])])}}});const dK=Be(fK),[r8,gh]=Pe("swipe"),hK={loop:_e,width:Ce,height:Ce,vertical:Boolean,autoplay:ze(0),duration:ze(500),touchable:_e,lazyRender:Boolean,initialSwipe:ze(0),indicatorColor:String,showIndicators:_e,stopPropagation:_e},n8=Symbol(r8);var pK=we({name:r8,props:hK,emits:["change","dragStart","dragEnd"],setup(t,{emit:e,slots:r}){const n=Z(),i=Z(),o=Bt({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let s=!1;const a=Bl(),{children:l,linkChildren:c}=$i(n8),u=ne(()=>l.length),f=ne(()=>o[t.vertical?"height":"width"]),d=ne(()=>t.vertical?a.deltaY.value:a.deltaX.value),h=ne(()=>o.rect?(t.vertical?o.rect.height:o.rect.width)-f.value*u.value:0),p=ne(()=>f.value?Math.ceil(Math.abs(h.value)/f.value):u.value),y=ne(()=>u.value*f.value),g=ne(()=>(o.active+u.value)%u.value),m=ne(()=>{const ue=t.vertical?"vertical":"horizontal";return a.direction.value===ue}),v=ne(()=>{const ue={transitionDuration:`${o.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(f.value){const Y=t.vertical?"height":"width",ie=t.vertical?"width":"height";ue[Y]=`${y.value}px`,ue[ie]=t[ie]?`${t[ie]}px`:""}return ue}),_=ue=>{const{active:Y}=o;return ue?t.loop?Lr(Y+ue,-1,u.value):Lr(Y+ue,0,p.value):Y},x=(ue,Y=0)=>{let ie=ue*f.value;t.loop||(ie=Math.min(ie,-h.value));let ge=Y-ie;return t.loop||(ge=Lr(ge,h.value,0)),ge},b=({pace:ue=0,offset:Y=0,emitChange:ie})=>{if(u.value<=1)return;const{active:ge}=o,F=_(ue),q=x(F,Y);if(t.loop){if(l[0]&&q!==h.value){const L=q<h.value;l[0].setOffset(L?y.value:0)}if(l[u.value-1]&&q!==0){const L=q>0;l[u.value-1].setOffset(L?-y.value:0)}}o.active=F,o.offset=q,ie&&F!==ge&&e("change",g.value)},w=()=>{o.swiping=!0,o.active<=-1?b({pace:u.value}):o.active>=u.value&&b({pace:-u.value})},E=()=>{w(),a.reset(),ka(()=>{o.swiping=!1,b({pace:-1,emitChange:!0})})},S=()=>{w(),a.reset(),ka(()=>{o.swiping=!1,b({pace:1,emitChange:!0})})};let P;const C=()=>clearTimeout(P),A=()=>{C(),+t.autoplay>0&&u.value>1&&(P=setTimeout(()=>{S(),A()},+t.autoplay))},T=(ue=+t.initialSwipe)=>{if(!n.value)return;const Y=()=>{var ie,ge;if(!Lc(n)){const F={width:n.value.offsetWidth,height:n.value.offsetHeight};o.rect=F,o.width=+((ie=t.width)!=null?ie:F.width),o.height=+((ge=t.height)!=null?ge:F.height)}u.value&&(ue=Math.min(u.value-1,ue),ue===-1&&(ue=u.value-1)),o.active=ue,o.swiping=!0,o.offset=x(ue),l.forEach(F=>{F.setOffset(0)}),A()};Lc(n)?Ye().then(Y):Y()},I=()=>T(o.active);let B;const G=ue=>{!t.touchable||ue.touches.length>1||(a.start(ue),s=!1,B=Date.now(),C(),w())},N=ue=>{t.touchable&&o.swiping&&(a.move(ue),m.value&&(!t.loop&&(o.active===0&&d.value>0||o.active===u.value-1&&d.value<0)||(Dr(ue,t.stopPropagation),b({offset:d.value}),s||(e("dragStart",{index:g.value}),s=!0))))},U=()=>{if(!t.touchable||!o.swiping)return;const ue=Date.now()-B,Y=d.value/ue;if((Math.abs(Y)>.25||Math.abs(d.value)>f.value/2)&&m.value){const ge=t.vertical?a.offsetY.value:a.offsetX.value;let F=0;t.loop?F=ge>0?d.value>0?-1:1:0:F=-Math[d.value>0?"ceil":"floor"](d.value/f.value),b({pace:F,emitChange:!0})}else d.value&&b({pace:0});s=!1,o.swiping=!1,e("dragEnd",{index:g.value}),A()},W=(ue,Y={})=>{w(),a.reset(),ka(()=>{let ie;t.loop&&ue===u.value?ie=o.active===0?0:ue:ie=ue%u.value,Y.immediate?ka(()=>{o.swiping=!1}):o.swiping=!1,b({pace:ie-o.active,emitChange:!0})})},K=(ue,Y)=>{const ie=Y===g.value,ge=ie?{backgroundColor:t.indicatorColor}:void 0;return R("i",{style:ge,class:gh("indicator",{active:ie})},null)},fe=()=>{if(r.indicator)return r.indicator({active:g.value,total:u.value});if(t.showIndicators&&u.value>1)return R("div",{class:gh("indicators",{vertical:t.vertical})},[Array(u.value).fill("").map(K)])};return qt({prev:E,next:S,state:o,resize:I,swipeTo:W}),c({size:f,props:t,count:u,activeIndicator:g}),ye(()=>t.initialSwipe,ue=>T(+ue)),ye(u,()=>T(o.active)),ye(()=>t.autoplay,A),ye([Vo,zs,()=>t.width,()=>t.height],I),ye(Q4(),ue=>{ue==="visible"?A():C()}),zt(T),as(()=>T(o.active)),Sb(()=>T(o.active)),xo(C),Zn(C),mn("touchmove",N,{target:i}),()=>{var ue;return R("div",{ref:n,class:gh()},[R("div",{ref:i,style:v.value,class:gh("track",{vertical:t.vertical}),onTouchstartPassive:G,onTouchend:U,onTouchcancel:U},[(ue=r.default)==null?void 0:ue.call(r)]),fe()])}}});const i8=Be(pK),[gK,fS]=Pe("tabs");var mK=we({name:gK,props:{count:un(Number),inited:Boolean,animated:Boolean,duration:un(Ce),swipeable:Boolean,lazyRender:Boolean,currentIndex:un(Number)},emits:["change"],setup(t,{emit:e,slots:r}){const n=Z(),i=a=>e("change",a),o=()=>{var a;const l=(a=r.default)==null?void 0:a.call(r);return t.animated||t.swipeable?R(i8,{ref:n,loop:!1,class:fS("track"),duration:+t.duration*1e3,touchable:t.swipeable,lazyRender:t.lazyRender,showIndicators:!1,onChange:i},{default:()=>[l]}):l},s=a=>{const l=n.value;l&&l.state.active!==a&&l.swipeTo(a,{immediate:!t.inited})};return ye(()=>t.currentIndex,s),zt(()=>{s(t.currentIndex)}),qt({swipeRef:n}),()=>R("div",{class:fS("content",{animated:t.animated||t.swipeable})},[o()])}});const[o8,mh]=Pe("tabs"),vK={type:De("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ze(0),duration:ze(.3),animated:Boolean,ellipsis:_e,swipeable:Boolean,scrollspy:Boolean,offsetTop:ze(0),background:String,lazyRender:_e,showHeader:_e,lineWidth:Ce,lineHeight:Ce,beforeChange:Function,swipeThreshold:ze(5),titleActiveColor:String,titleInactiveColor:String},s8=Symbol(o8);var yK=we({name:o8,props:vK,emits:["change","scroll","rendered","clickTab","update:active"],setup(t,{emit:e,slots:r}){let n,i,o,s,a;const l=Z(),c=Z(),u=Z(),f=Z(),d=Ab(),h=Pd(l),[p,y]=e8(),{children:g,linkChildren:m}=$i(s8),v=Bt({inited:!1,position:"",lineStyle:{},currentIndex:-1}),_=ne(()=>g.length>+t.swipeThreshold||!t.ellipsis||t.shrink),x=ne(()=>({borderColor:t.color,background:t.background})),b=(F,q)=>{var L;return(L=F.name)!=null?L:q},w=ne(()=>{const F=g[v.currentIndex];if(F)return b(F,v.currentIndex)}),E=ne(()=>Eb(t.offsetTop)),S=ne(()=>t.sticky?E.value+n:0),P=F=>{const q=c.value,L=p.value;if(!_.value||!q||!L||!L[v.currentIndex])return;const ee=L[v.currentIndex].$el,J=ee.offsetLeft-(q.offsetWidth-ee.offsetWidth)/2;s&&s(),s=oK(q,J,F?0:+t.duration)},C=()=>{const F=v.inited;Ye(()=>{const q=p.value;if(!q||!q[v.currentIndex]||t.type!=="line"||Lc(l.value))return;const L=q[v.currentIndex].$el,{lineWidth:ee,lineHeight:J}=t,de=L.offsetLeft+L.offsetWidth/2,pe={width:rt(ee),backgroundColor:t.color,transform:`translateX(${de}px) translateX(-50%)`};if(F&&(pe.transitionDuration=`${t.duration}s`),Ut(J)){const xe=rt(J);pe.height=xe,pe.borderRadius=xe}v.lineStyle=pe})},A=F=>{const q=F<v.currentIndex?-1:1;for(;F>=0&&F<g.length;){if(!g[F].disabled)return F;F+=q}},T=(F,q)=>{const L=A(F);if(!Ut(L))return;const ee=g[L],J=b(ee,L),de=v.currentIndex!==null;v.currentIndex!==L&&(v.currentIndex=L,q||P(),C()),J!==t.active&&(e("update:active",J),de&&e("change",J,ee.title)),o&&!t.scrollspy&&wb(Math.ceil(KE(l.value)-E.value))},I=(F,q)=>{const L=g.findIndex((ee,J)=>b(ee,J)===F);T(L===-1?0:L,q)},B=(F=!1)=>{if(t.scrollspy){const q=g[v.currentIndex].$el;if(q&&h.value){const L=KE(q,h.value)-S.value;i=!0,a&&a(),a=sK(h.value,L,F?0:+t.duration,()=>{i=!1})}}},G=(F,q,L)=>{const{title:ee,disabled:J}=g[q],de=b(g[q],q);J||(uu(t.beforeChange,{args:[de],done:()=>{T(q),B()}}),jR(F)),e("clickTab",{name:de,title:ee,event:L,disabled:J})},N=F=>{o=F.isFixed,e("scroll",F)},U=F=>{Ye(()=>{I(F),B(!0)})},W=()=>{for(let F=0;F<g.length;F++){const{top:q}=br(g[F].$el);if(q>S.value)return F===0?0:F-1}return g.length-1},K=()=>{if(t.scrollspy&&!i){const F=W();T(F)}},fe=()=>{if(t.type==="line"&&g.length)return R("div",{class:mh("line"),style:v.lineStyle},null)},ue=()=>{var F,q,L;const{type:ee,border:J,sticky:de}=t,pe=[R("div",{ref:de?void 0:u,class:[mh("wrap"),{[LR]:ee==="line"&&J}]},[R("div",{ref:c,role:"tablist",class:mh("nav",[ee,{shrink:t.shrink,complete:_.value}]),style:x.value,"aria-orientation":"horizontal"},[(F=r["nav-left"])==null?void 0:F.call(r),g.map(xe=>xe.renderTitle(G)),fe(),(q=r["nav-right"])==null?void 0:q.call(r)])]),(L=r["nav-bottom"])==null?void 0:L.call(r)];return de?R("div",{ref:u},[pe]):pe},Y=()=>{C(),Ye(()=>{var F,q;P(!0),(q=(F=f.value)==null?void 0:F.swipeRef.value)==null||q.resize()})};ye(()=>[t.color,t.duration,t.lineWidth,t.lineHeight],C),ye(Vo,Y),ye(()=>t.active,F=>{F!==w.value&&I(F)}),ye(()=>g.length,()=>{v.inited&&(I(t.active),C(),Ye(()=>{P(!0)}))});const ie=()=>{I(t.active,!0),Ye(()=>{v.inited=!0,u.value&&(n=br(u.value).height),P(!0)})},ge=(F,q)=>e("rendered",F,q);return qt({resize:Y,scrollTo:U}),as(C),Sb(C),cu(ie),t8(l,C),mn("scroll",K,{target:h,passive:!0}),m({id:d,props:t,setLine:C,scrollable:_,onRendered:ge,currentName:w,setTitleRefs:y,scrollIntoView:P}),()=>R("div",{ref:l,class:mh([t.type])},[t.showHeader?t.sticky?R(dK,{container:l.value,offsetTop:E.value,onScroll:N},{default:()=>[ue()]}):ue():null,R(mK,{ref:f,count:g.length,inited:v.inited,animated:t.animated,duration:t.duration,swipeable:t.swipeable,lazyRender:t.lazyRender,currentIndex:v.currentIndex,onChange:T},{default:()=>{var F;return[(F=r.default)==null?void 0:F.call(r)]}})])}});const _K=Symbol(),a8=Symbol(),l8=()=>fr(a8,null),xK=t=>{const e=l8();hi(_K,t),hi(a8,ne(()=>(e==null||e.value)&&t.value))},[bK,dS]=Pe("tab"),wK=we({name:bK,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:Ce,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:_e},setup(t,{slots:e}){const r=ne(()=>{const i={},{type:o,color:s,disabled:a,isActive:l,activeColor:c,inactiveColor:u}=t;s&&o==="card"&&(i.borderColor=s,a||(l?i.backgroundColor=s:i.color=s));const d=l?c:u;return d&&(i.color=d),i}),n=()=>{const i=R("span",{class:dS("text",{ellipsis:!t.scrollable})},[e.title?e.title():t.title]);return t.dot||Ut(t.badge)&&t.badge!==""?R(yg,{dot:t.dot,content:t.badge,showZero:t.showZeroBadge},{default:()=>[i]}):i};return()=>R("div",{id:t.id,role:"tab",class:[dS([t.type,{grow:t.scrollable&&!t.shrink,shrink:t.shrink,active:t.isActive,disabled:t.disabled}])],style:r.value,tabindex:t.disabled?void 0:t.isActive?0:-1,"aria-selected":t.isActive,"aria-disabled":t.disabled||void 0,"aria-controls":t.controls,"data-allow-mismatch":"attribute"},[n()])}}),[EK,SK]=Pe("swipe-item");var CK=we({name:EK,setup(t,{slots:e}){let r;const n=Bt({offset:0,inited:!1,mounted:!1}),{parent:i,index:o}=Jn(n8);if(!i){console.error("[Vant] <SwipeItem> must be a child component of <Swipe>.");return}const s=ne(()=>{const c={},{vertical:u}=i.props;return i.size.value&&(c[u?"height":"width"]=`${i.size.value}px`),n.offset&&(c.transform=`translate${u?"Y":"X"}(${n.offset}px)`),c}),a=ne(()=>{const{loop:c,lazyRender:u}=i.props;if(!u||r)return!0;if(!n.mounted)return!1;const f=i.activeIndicator.value,d=i.count.value-1,h=f===0&&c?d:f-1,p=f===d&&c?0:f+1;return r=o.value===f||o.value===h||o.value===p,r}),l=c=>{n.offset=c};return zt(()=>{Ye(()=>{n.mounted=!0})}),qt({setOffset:l}),()=>{var c;return R("div",{class:SK(),style:s.value},[a.value?(c=e.default)==null?void 0:c.call(e):null])}}});const c8=Be(CK),[AK,Am]=Pe("tab"),TK=We({},fu,{dot:Boolean,name:Ce,badge:Ce,title:String,disabled:Boolean,titleClass:dr,titleStyle:[String,Object],showZeroBadge:_e});var PK=we({name:AK,props:TK,setup(t,{slots:e}){const r=Ab(),n=Z(!1),i=bt(),{parent:o,index:s}=Jn(s8);if(!o){console.error("[Vant] <Tab> must be a child component of <Tabs>.");return}const a=()=>{var p;return(p=t.name)!=null?p:s.value},l=()=>{n.value=!0,o.props.lazyRender&&Ye(()=>{o.onRendered(a(),t.title)})},c=ne(()=>{const p=a()===o.currentName.value;return p&&!n.value&&l(),p}),u=Z(""),f=Z("");su(()=>{const{titleClass:p,titleStyle:y}=t;u.value=p?QR(p):"",f.value=y&&typeof y!="string"?iK(JR(y)):y});const d=p=>R(wK,lt({key:r,id:`${o.id}-${s.value}`,ref:o.setTitleRefs(s.value),style:f.value,class:u.value,isActive:c.value,controls:r,scrollable:o.scrollable.value,activeColor:o.props.titleActiveColor,inactiveColor:o.props.titleInactiveColor,onClick:y=>p(i.proxy,s.value,y)},Gt(o.props,["type","color","shrink"]),Gt(t,["dot","badge","title","disabled","showZeroBadge"])),{title:e.title}),h=Z(!c.value);return ye(c,p=>{p?h.value=!1:ka(()=>{h.value=!0})}),ye(()=>t.title,()=>{o.setLine(),o.scrollIntoView()}),xK(c),qt({id:r,renderTitle:d}),()=>{var p;const y=`${o.id}-${s.value}`,{animated:g,swipeable:m,scrollspy:v,lazyRender:_}=o.props;if(!e.default&&!g)return;const x=v||c.value;if(g||m)return R(c8,{id:r,role:"tabpanel",class:Am("panel-wrapper",{inactive:h.value}),tabindex:c.value?0:-1,"aria-hidden":!c.value,"aria-labelledby":y,"data-allow-mismatch":"attribute"},{default:()=>{var E;return[R("div",{class:Am("panel")},[(E=e.default)==null?void 0:E.call(e)])]}});const w=n.value||v||!_?(p=e.default)==null?void 0:p.call(e):null;return di(R("div",{id:r,role:"tabpanel",class:Am("panel"),tabindex:x?0:-1,"aria-labelledby":y,"data-allow-mismatch":"attribute"},[w]),[[pi,x]])}}});const MCe=Be(PK),DCe=Be(yK),[IK,BCe]=Pe("picker-group"),OK=Symbol(IK);We({tabs:Qo(),activeTab:ze(0),nextStepText:String,showToolbar:_e},_g);const Tb=We({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:ze(44),showToolbar:_e,swipeDuration:ze(1e3),visibleOptionNum:ze(6)},_g),RK=We({},Tb,{columns:Qo(),modelValue:Qo(),toolbarPosition:De("top"),columnsFieldNames:Object});var MK=we({name:$Y,props:RK,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(t,{emit:e,slots:r}){const n=Z(),i=Z(t.modelValue.slice(0)),{parent:o}=Jn(OK),{children:s,linkChildren:a}=$i(KR);a();const l=ne(()=>VY(t.columnsFieldNames)),c=ne(()=>Eb(t.optionHeight)),u=ne(()=>UY(t.columns,l.value)),f=ne(()=>{const{columns:T}=t;switch(u.value){case"multiple":return T;case"cascade":return GY(T,l.value,i);default:return[T]}}),d=ne(()=>f.value.some(T=>T.length)),h=ne(()=>f.value.map((T,I)=>_y(T,i.value[I],l.value))),p=ne(()=>f.value.map((T,I)=>T.findIndex(B=>B[l.value.value]===i.value[I]))),y=(T,I)=>{if(i.value[T]!==I){const B=i.value.slice(0);B[T]=I,i.value=B}},g=()=>({selectedValues:i.value.slice(0),selectedOptions:h.value,selectedIndexes:p.value}),m=(T,I)=>{y(I,T),u.value==="cascade"&&i.value.forEach((B,G)=>{const N=f.value[G];lS(N,B,l.value)||y(G,N.length?N[0][l.value.value]:void 0)}),Ye(()=>{e("change",We({columnIndex:I},g()))})},v=(T,I)=>{const B={columnIndex:I,currentOption:T};e("clickOption",We(g(),B)),e("scrollInto",B)},_=()=>{s.forEach(I=>I.stopMomentum());const T=g();return Ye(()=>{const I=g();e("confirm",I)}),T},x=()=>e("cancel",g()),b=()=>f.value.map((T,I)=>R(jY,{value:i.value[I],fields:l.value,options:T,readonly:t.readonly,allowHtml:t.allowHtml,optionHeight:c.value,swipeDuration:t.swipeDuration,visibleOptionNum:t.visibleOptionNum,onChange:B=>m(B,I),onClickOption:B=>v(B,I),onScrollInto:B=>{e("scrollInto",{currentOption:B,columnIndex:I})}},{option:r.option})),w=T=>{if(d.value){const I={height:`${c.value}px`},B={backgroundSize:`100% ${(T-c.value)/2}px`};return[R("div",{class:Uo("mask"),style:B},null),R("div",{class:[qX,Uo("frame")],style:I},null)]}},E=()=>{const T=c.value*+t.visibleOptionNum,I={height:`${T}px`};return!t.loading&&!d.value&&r.empty?r.empty():R("div",{ref:n,class:Uo("columns"),style:I},[b(),w(T)])},S=()=>{if(t.showToolbar&&!o)return R(KY,lt(Gt(t,YY),{onConfirm:_,onCancel:x}),Gt(r,XY))},P=T=>{T.forEach((I,B)=>{I.length&&!lS(I,i.value[B],l.value)&&y(B,XR(I)[l.value.value])})};ye(f,T=>P(T),{immediate:!0});let C;return ye(()=>t.modelValue,T=>{!Vs(T,i.value)&&!Vs(T,C)&&(i.value=T.slice(0),C=T.slice(0)),t.modelValue.length===0&&P(f.value)},{deep:!0}),ye(i,T=>{Vs(T,t.modelValue)||(C=T.slice(0),e("update:modelValue",C))},{immediate:!0}),mn("touchmove",Dr,{target:n}),qt({confirm:_,getSelectedOptions:()=>h.value}),()=>{var T,I;return R("div",{class:Uo()},[t.toolbarPosition==="top"?S():null,t.loading?R(us,{class:Uo("loading")},null):null,(T=r["columns-top"])==null?void 0:T.call(r),E(),(I=r["columns-bottom"])==null?void 0:I.call(r),t.toolbarPosition==="bottom"?S():null])}}});const DK=Be(MK),[BK,Wl]=Pe("cell"),xg={tag:De("div"),icon:String,size:String,title:Ce,value:Ce,label:Ce,center:Boolean,isLink:Boolean,border:_e,iconPrefix:String,valueClass:dr,labelClass:dr,titleClass:dr,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},kK=We({},xg,fu);var NK=we({name:BK,props:kK,setup(t,{slots:e}){const r=Od(),n=()=>{if(e.label||Ut(t.label))return R("div",{class:[Wl("label"),t.labelClass]},[e.label?e.label():t.label])},i=()=>{var l;if(e.title||Ut(t.title)){const c=(l=e.title)==null?void 0:l.call(e);return Array.isArray(c)&&c.length===0?void 0:R("div",{class:[Wl("title"),t.titleClass],style:t.titleStyle},[c||R("span",null,[t.title]),n()])}},o=()=>{const l=e.value||e.default;if(l||Ut(t.value))return R("div",{class:[Wl("value"),t.valueClass]},[l?l():R("span",null,[t.value])])},s=()=>{if(e.icon)return e.icon();if(t.icon)return R(rr,{name:t.icon,class:Wl("left-icon"),classPrefix:t.iconPrefix},null)},a=()=>{if(e["right-icon"])return e["right-icon"]();if(t.isLink){const l=t.arrowDirection&&t.arrowDirection!=="right"?`arrow-${t.arrowDirection}`:"arrow";return R(rr,{name:l,class:Wl("right-icon")},null)}};return()=>{var l;const{tag:c,size:u,center:f,border:d,isLink:h,required:p}=t,y=(l=t.clickable)!=null?l:h,g={center:f,required:!!p,clickable:y,borderless:!d};return u&&(g[u]=!!u),R(c,{class:Wl(g),role:y?"button":void 0,tabindex:y?0:void 0,onClick:r},{default:()=>{var m;return[s(),i(),o(),a(),(m=e.extra)==null?void 0:m.call(e)]}})}}});const u8=Be(NK),[FK,LK]=Pe("form"),$K={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:Ce,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:_e,showErrorMessage:_e,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var UK=we({name:FK,props:$K,emits:["submit","failed"],setup(t,{emit:e,slots:r}){const{children:n,linkChildren:i}=$i($R),o=g=>g?n.filter(m=>g.includes(m.name)):n,s=g=>new Promise((m,v)=>{const _=[];o(g).reduce((b,w)=>b.then(()=>{if(!_.length)return w.validate().then(E=>{E&&_.push(E)})}),Promise.resolve()).then(()=>{_.length?v(_):m()})}),a=g=>new Promise((m,v)=>{const _=o(g);Promise.all(_.map(x=>x.validate())).then(x=>{x=x.filter(Boolean),x.length?v(x):m()})}),l=g=>{const m=n.find(v=>v.name===g);return m?new Promise((v,_)=>{m.validate().then(x=>{x?_(x):v()})}):Promise.reject()},c=g=>typeof g=="string"?l(g):t.validateFirst?s(g):a(g),u=g=>{typeof g=="string"&&(g=[g]),o(g).forEach(v=>{v.resetValidation()})},f=()=>n.reduce((g,m)=>(g[m.name]=m.getValidationStatus(),g),{}),d=(g,m)=>{n.some(v=>v.name===g?(v.$el.scrollIntoView(m),!0):!1)},h=()=>n.reduce((g,m)=>(m.name!==void 0&&(g[m.name]=m.formValue.value),g),{}),p=()=>{const g=h();c().then(()=>e("submit",g)).catch(m=>{e("failed",{values:g,errors:m});const{scrollToError:v,scrollToErrorPosition:_}=t;v&&m[0].name&&d(m[0].name,_?{block:_}:void 0)})},y=g=>{Dr(g),p()};return i({props:t}),qt({submit:p,validate:c,getValues:h,scrollToField:d,resetValidation:u,getValidationStatus:f}),()=>{var g;return R("form",{class:LK(),onSubmit:y},[(g=r.default)==null?void 0:g.call(r)])}}});const kCe=Be(UK);function f8(t){return Array.isArray(t)?!t.length:t===0?!1:!t}function GK(t,e){if(f8(t)){if(e.required)return!1;if(e.validateEmpty===!1)return!0}return!(e.pattern&&!e.pattern.test(String(t)))}function HK(t,e){return new Promise(r=>{const n=e.validator(t,e);if(xb(n)){n.then(r);return}r(n)})}function hS(t,e){const{message:r}=e;return Fc(r)?r(t,e):r||""}function VK({target:t}){t.composing=!0}function pS({target:t}){t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}function zK(t,e){const r=bb();t.style.height="auto";let n=t.scrollHeight;if(po(e)){const{maxHeight:i,minHeight:o}=e;i!==void 0&&(n=Math.min(n,i)),o!==void 0&&(n=Math.max(n,o))}n&&(t.style.height=`${n}px`,wb(r))}function jK(t,e){return t==="number"&&(t="text",e??(e="decimal")),t==="digit"&&(t="tel",e??(e="numeric")),{type:t,inputmode:e}}function Co(t){return[...t].length}function Tm(t,e){return[...t].slice(0,e).join("")}const[WK,ni]=Pe("field"),XK={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Ce,max:Number,min:Number,formatter:Function,clearIcon:De("clear"),modelValue:ze(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:De("focus"),formatTrigger:De("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},YK=We({},xg,XK,{rows:Ce,type:De("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Ce,labelClass:dr,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var KK=we({name:WK,props:YK,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(t,{emit:e,slots:r}){const n=Ab(),i=Bt({status:"unvalidated",focused:!1,validateMessage:""}),o=Z(),s=Z(),a=Z(),{parent:l}=Jn($R),c=()=>{var L;return String((L=t.modelValue)!=null?L:"")},u=L=>{if(Ut(t[L]))return t[L];if(l&&Ut(l.props[L]))return l.props[L]},f=ne(()=>{const L=u("readonly");if(t.clearable&&!L){const ee=c()!=="",J=t.clearTrigger==="always"||t.clearTrigger==="focus"&&i.focused;return ee&&J}return!1}),d=ne(()=>a.value&&r.input?a.value():t.modelValue),h=ne(()=>{var L;const ee=u("required");return ee==="auto"?(L=t.rules)==null?void 0:L.some(J=>J.required):ee}),p=L=>L.reduce((ee,J)=>ee.then(()=>{if(i.status==="failed")return;let{value:de}=d;if(J.formatter&&(de=J.formatter(de,J)),!GK(de,J)){i.status="failed",i.validateMessage=hS(de,J);return}if(J.validator)return f8(de)&&J.validateEmpty===!1?void 0:HK(de,J).then(pe=>{pe&&typeof pe=="string"?(i.status="failed",i.validateMessage=pe):pe===!1&&(i.status="failed",i.validateMessage=hS(de,J))})}),Promise.resolve()),y=()=>{i.status="unvalidated",i.validateMessage=""},g=()=>e("endValidate",{status:i.status,message:i.validateMessage}),m=(L=t.rules)=>new Promise(ee=>{y(),L?(e("startValidate"),p(L).then(()=>{i.status==="failed"?(ee({name:t.name,message:i.validateMessage}),g()):(i.status="passed",ee(),g())})):ee()}),v=L=>{if(l&&t.rules){const{validateTrigger:ee}=l.props,J=Zp(ee).includes(L),de=t.rules.filter(pe=>pe.trigger?Zp(pe.trigger).includes(L):J);de.length&&m(de)}},_=L=>{var ee;const{maxlength:J}=t;if(Ut(J)&&Co(L)>+J){const de=c();if(de&&Co(de)===+J)return de;const pe=(ee=o.value)==null?void 0:ee.selectionEnd;if(i.focused&&pe){const xe=[...L],O=xe.length-+J;return xe.splice(pe-O,O),xe.join("")}return Tm(L,+J)}return L},x=(L,ee="onChange")=>{var J,de;const pe=L;L=_(L);const xe=Co(pe)-Co(L);if(t.type==="number"||t.type==="digit"){const $=t.type==="number";if(L=my(L,$,$),ee==="onBlur"&&L!==""&&(t.min!==void 0||t.max!==void 0)){const j=Lr(+L,(J=t.min)!=null?J:-1/0,(de=t.max)!=null?de:1/0);+L!==j&&(L=j.toString())}}let O=0;if(t.formatter&&ee===t.formatTrigger){const{formatter:$,maxlength:j}=t;if(L=$(L),Ut(j)&&Co(L)>+j&&(L=Tm(L,+j)),o.value&&i.focused){const{selectionEnd:ae}=o.value,ce=Tm(pe,ae);O=Co($(ce))-Co(ce)}}if(o.value&&o.value.value!==L)if(i.focused){let{selectionStart:$,selectionEnd:j}=o.value;if(o.value.value=L,Ut($)&&Ut(j)){const ae=Co(L);xe?($-=xe,j-=xe):O&&($+=O,j+=O),o.value.setSelectionRange(Math.min($,ae),Math.min(j,ae))}}else o.value.value=L;L!==t.modelValue&&e("update:modelValue",L)},b=L=>{L.target.composing||x(L.target.value)},w=()=>{var L;return(L=o.value)==null?void 0:L.blur()},E=()=>{var L;return(L=o.value)==null?void 0:L.focus()},S=()=>{const L=o.value;t.type==="textarea"&&t.autosize&&L&&zK(L,t.autosize)},P=L=>{i.focused=!0,e("focus",L),Ye(S),u("readonly")&&w()},C=L=>{i.focused=!1,x(c(),"onBlur"),e("blur",L),!u("readonly")&&(v("onBlur"),Ye(S),RR())},A=L=>e("clickInput",L),T=L=>e("clickLeftIcon",L),I=L=>e("clickRightIcon",L),B=L=>{Dr(L),e("update:modelValue",""),e("clear",L)},G=ne(()=>{if(typeof t.error=="boolean")return t.error;if(l&&l.props.showError&&i.status==="failed")return!0}),N=ne(()=>{const L=u("labelWidth"),ee=u("labelAlign");if(L&&ee!=="top")return{width:rt(L)}}),U=L=>{L.keyCode===13&&(!(l&&l.props.submitOnEnter)&&t.type!=="textarea"&&Dr(L),t.type==="search"&&w()),e("keypress",L)},W=()=>t.id||`${n}-input`,K=()=>i.status,fe=()=>{const L=ni("control",[u("inputAlign"),{error:G.value,custom:!!r.input,"min-height":t.type==="textarea"&&!t.autosize}]);if(r.input)return R("div",{class:L,onClick:A},[r.input()]);const ee={id:W(),ref:o,name:t.name,rows:t.rows!==void 0?+t.rows:void 0,class:L,disabled:u("disabled"),readonly:u("readonly"),autofocus:t.autofocus,placeholder:t.placeholder,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,enterkeyhint:t.enterkeyhint,spellcheck:t.spellcheck,"aria-labelledby":t.label?`${n}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:C,onFocus:P,onInput:b,onClick:A,onChange:pS,onKeypress:U,onCompositionend:pS,onCompositionstart:VK};return t.type==="textarea"?R("textarea",lt(ee,{inputmode:t.inputmode}),null):R("input",lt(jK(t.type,t.inputmode),ee),null)},ue=()=>{const L=r["left-icon"];if(t.leftIcon||L)return R("div",{class:ni("left-icon"),onClick:T},[L?L():R(rr,{name:t.leftIcon,classPrefix:t.iconPrefix},null)])},Y=()=>{const L=r["right-icon"];if(t.rightIcon||L)return R("div",{class:ni("right-icon"),onClick:I},[L?L():R(rr,{name:t.rightIcon,classPrefix:t.iconPrefix},null)])},ie=()=>{if(t.showWordLimit&&t.maxlength){const L=Co(c());return R("div",{class:ni("word-limit")},[R("span",{class:ni("word-num")},[L]),rg("/"),t.maxlength])}},ge=()=>{if(l&&l.props.showErrorMessage===!1)return;const L=t.errorMessage||i.validateMessage;if(L){const ee=r["error-message"],J=u("errorMessageAlign");return R("div",{class:ni("error-message",J)},[ee?ee({message:L}):L])}},F=()=>{const L=u("labelWidth"),ee=u("labelAlign"),J=u("colon")?":":"";if(r.label)return[r.label(),J];if(t.label)return R("label",{id:`${n}-label`,for:r.input?void 0:W(),"data-allow-mismatch":"attribute",onClick:de=>{Dr(de),E()},style:ee==="top"&&L?{width:rt(L)}:void 0},[t.label+J])},q=()=>[R("div",{class:ni("body")},[fe(),f.value&&R(rr,{ref:s,name:t.clearIcon,class:ni("clear")},null),Y(),r.button&&R("div",{class:ni("button")},[r.button()])]),ie(),ge()];return qt({blur:w,focus:E,validate:m,formValue:d,resetValidation:y,getValidationStatus:K}),hi(zx,{customValue:a,resetValidation:y,validateWithTrigger:v}),ye(()=>t.modelValue,()=>{x(c()),y(),v("onChange"),Ye(S)}),zt(()=>{x(c(),t.formatTrigger),Ye(S)}),mn("touchstart",B,{target:ne(()=>{var L;return(L=s.value)==null?void 0:L.$el})}),()=>{const L=u("disabled"),ee=u("labelAlign"),J=ue(),de=()=>{const pe=F();return ee==="top"?[J,pe].filter(Boolean):pe||[]};return R(u8,{size:t.size,class:ni({error:G.value,disabled:L,[`label-${ee}`]:ee}),center:t.center,border:t.border,isLink:t.isLink,clickable:t.clickable,titleStyle:N.value,valueClass:ni("value"),titleClass:[ni("label",[ee,{required:h.value}]),t.labelClass],arrowDirection:t.arrowDirection},{icon:J&&ee!=="top"?()=>J:null,title:de,value:q,extra:r.extra})}}});const NCe=Be(KK);let Iu=0;function qK(t){t?(Iu||document.body.classList.add("van-toast--unclickable"),Iu++):Iu&&(Iu--,Iu||document.body.classList.remove("van-toast--unclickable"))}const[ZK,Xl]=Pe("toast"),JK=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],QK={icon:String,show:Boolean,type:De("text"),overlay:Boolean,message:Ce,iconSize:Ce,duration:vg(2e3),position:De("middle"),teleport:[String,Object],wordBreak:String,className:dr,iconPrefix:String,transition:De("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:dr,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Ce};var d8=we({name:ZK,props:QK,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const o=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,qK(i))},s=f=>e("update:show",f),a=()=>{t.closeOnClick&&s(!1)},l=()=>clearTimeout(n),c=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:p,loadingType:y}=t;if(f||d==="success"||d==="fail")return R(rr,{name:f||d,size:h,class:Xl("icon"),classPrefix:p},null);if(d==="loading")return R(us,{class:Xl("loading"),size:h,type:y},null)},u=()=>{const{type:f,message:d}=t;if(r.message)return R("div",{class:Xl("text")},[r.message()]);if(Ut(d)&&d!=="")return f==="html"?R("div",{key:0,class:Xl("text"),innerHTML:String(d)},null):R("div",{class:Xl("text")},[d])};return ye(()=>[t.show,t.forbidClick],o),ye(()=>[t.show,t.type,t.message,t.duration],()=>{l(),t.show&&t.duration>0&&(n=setTimeout(()=>{s(!1)},t.duration))}),zt(o),cs(o),()=>R(kl,lt({class:[Xl([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:l,"onUpdate:show":s},Gt(t,JK)),{default:()=>[c(),u()]})}});function bg(){const t=Bt({show:!1}),e=i=>{t.show=i},r=i=>{We(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return qt({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function wg(t){const e=A4(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}const eq={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ds=[],tq=!1,xy=We({},eq);const h8=new Map;function p8(t){return po(t)?t:{message:t}}function rq(){const{instance:t,unmount:e}=wg({setup(){const r=Z(""),{open:n,state:i,close:o,toggle:s}=bg(),a=()=>{},l=()=>R(d8,lt(i,{onClosed:a,"onUpdate:show":s}),null);return ye(r,c=>{i.message=c}),bt().render=l,{open:n,close:o,message:r}}});return t}function nq(){if(!Ds.length||tq){const t=rq();Ds.push(t)}return Ds[Ds.length-1]}function by(t={}){if(!ho)return{};const e=nq(),r=p8(t);return e.open(We({},xy,h8.get(r.type||xy.type),r)),e}const Pb=t=>e=>by(We({type:t},p8(e))),FCe=Pb("loading"),LCe=Pb("success"),$Ce=Pb("fail"),UCe=t=>{Ds.length&&(t?(Ds.forEach(e=>{e.close()}),Ds=[]):Ds[0].close())};function GCe(t,e){typeof t=="string"?h8.set(t,e):We(xy,t)}const HCe=Be(d8),[iq,Pm]=Pe("switch"),oq={size:Ce,loading:Boolean,disabled:Boolean,modelValue:dr,activeColor:String,inactiveColor:String,activeValue:{type:dr,default:!0},inactiveValue:{type:dr,default:!1}};var sq=we({name:iq,props:oq,emits:["change","update:modelValue"],setup(t,{emit:e,slots:r}){const n=()=>t.modelValue===t.activeValue,i=()=>{if(!t.disabled&&!t.loading){const s=n()?t.inactiveValue:t.activeValue;e("update:modelValue",s),e("change",s)}},o=()=>{if(t.loading){const s=n()?t.activeColor:t.inactiveColor;return R(us,{class:Pm("loading"),color:s},null)}if(r.node)return r.node()};return Ml(()=>t.modelValue),()=>{var s;const{size:a,loading:l,disabled:c,activeColor:u,inactiveColor:f}=t,d=n(),h={fontSize:rt(a),backgroundColor:d?u:f};return R("div",{role:"switch",class:Pm({on:d,loading:l,disabled:c}),style:h,tabindex:c?void 0:0,"aria-checked":d,onClick:i},[R("div",{class:Pm("node")},[o()]),(s=r.background)==null?void 0:s.call(r)])}}});const VCe=Be(sq),[g8,aq]=Pe("radio-group"),lq={shape:String,disabled:Boolean,iconSize:Ce,direction:String,modelValue:dr,checkedColor:String},m8=Symbol(g8);var cq=we({name:g8,props:lq,emits:["change","update:modelValue"],setup(t,{emit:e,slots:r}){const{linkChildren:n}=$i(m8),i=o=>e("update:modelValue",o);return ye(()=>t.modelValue,o=>e("change",o)),n({props:t,updateValue:i}),Ml(()=>t.modelValue),()=>{var o;return R("div",{class:aq([t.direction]),role:"radiogroup"},[(o=r.default)==null?void 0:o.call(r)])}}});const zCe=Be(cq),[uq,jCe]=Pe("checkbox-group"),fq=Symbol(uq),Ib={name:dr,disabled:Boolean,iconSize:Ce,modelValue:dr,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var v8=we({props:We({},Ib,{bem:un(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:_e,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(t,{emit:e,slots:r}){const n=Z(),i=d=>{if(t.parent&&t.bindGroup)return t.parent.props[d]},o=ne(()=>{if(t.parent&&t.bindGroup){const d=i("disabled")||t.disabled;if(t.role==="checkbox"){const h=i("modelValue").length,p=i("max"),y=p&&h>=+p;return d||y&&!t.checked}return d}return t.disabled}),s=ne(()=>i("direction")),a=ne(()=>{const d=t.checkedColor||i("checkedColor");if(d&&(t.checked||t.indeterminate)&&!o.value)return{borderColor:d,backgroundColor:d}}),l=ne(()=>t.shape||i("shape")||"round"),c=d=>{const{target:h}=d,p=n.value,y=p===h||(p==null?void 0:p.contains(h));!o.value&&(y||!t.labelDisabled)&&e("toggle"),e("click",d)},u=()=>{var d,h;const{bem:p,checked:y,indeterminate:g}=t,m=t.iconSize||i("iconSize");return R("div",{ref:n,class:p("icon",[l.value,{disabled:o.value,checked:y,indeterminate:g}]),style:l.value!=="dot"?{fontSize:rt(m)}:{width:rt(m),height:rt(m),borderColor:(d=a.value)==null?void 0:d.borderColor}},[r.icon?r.icon({checked:y,disabled:o.value}):l.value!=="dot"?R(rr,{name:g?"minus":"success",style:a.value},null):R("div",{class:p("icon--dot__icon"),style:{backgroundColor:(h=a.value)==null?void 0:h.backgroundColor}},null)])},f=()=>{const{checked:d}=t;if(r.default)return R("span",{class:t.bem("label",[t.labelPosition,{disabled:o.value}])},[r.default({checked:d,disabled:o.value})])};return()=>{const d=t.labelPosition==="left"?[f(),u()]:[u(),f()];return R("div",{role:t.role,class:t.bem([{disabled:o.value,"label-disabled":t.labelDisabled},s.value]),tabindex:o.value?void 0:0,"aria-checked":t.checked,onClick:c},[d])}}});const dq=We({},Ib,{shape:String}),[hq,pq]=Pe("radio");var gq=we({name:hq,props:dq,emits:["update:modelValue"],setup(t,{emit:e,slots:r}){const{parent:n}=Jn(m8),i=()=>(n?n.props.modelValue:t.modelValue)===t.name,o=()=>{n?n.updateValue(t.name):e("update:modelValue",t.name)};return()=>R(v8,lt({bem:pq,role:"radio",parent:n,checked:i(),onToggle:o},t),Gt(r,["default","icon"]))}});const WCe=Be(gq),[mq,vq]=Pe("checkbox"),yq=We({},Ib,{shape:String,bindGroup:_e,indeterminate:{type:Boolean,default:null}});var _q=we({name:mq,props:yq,emits:["change","update:modelValue"],setup(t,{emit:e,slots:r}){const{parent:n}=Jn(fq),i=a=>{const{name:l}=t,{max:c,modelValue:u}=n.props,f=u.slice();if(a)!(c&&f.length>=+c)&&!f.includes(l)&&(f.push(l),t.bindGroup&&n.updateValue(f));else{const d=f.indexOf(l);d!==-1&&(f.splice(d,1),t.bindGroup&&n.updateValue(f))}},o=ne(()=>n&&t.bindGroup?n.props.modelValue.indexOf(t.name)!==-1:!!t.modelValue),s=(a=!o.value)=>{n&&t.bindGroup?i(a):e("update:modelValue",a),t.indeterminate!==null&&e("change",a)};return ye(()=>t.modelValue,a=>{t.indeterminate===null&&e("change",a)}),qt({toggle:s,props:t,checked:o}),Ml(()=>t.modelValue),()=>R(v8,lt({bem:vq,role:"checkbox",parent:n,checked:o.value,onToggle:s},t),Gt(r,["default","icon"]))}});const XCe=Be(_q),[xq,er,zo]=Pe("calendar"),bq=t=>zo("monthTitle",t.getFullYear(),t.getMonth()+1);function Na(t,e){const r=t.getFullYear(),n=e.getFullYear();if(r===n){const i=t.getMonth(),o=e.getMonth();return i===o?0:i>o?1:-1}return r>n?1:-1}function xn(t,e){const r=Na(t,e);if(r===0){const n=t.getDate(),i=e.getDate();return n===i?0:n>i?1:-1}return r}const $c=t=>new Date(t),gS=t=>Array.isArray(t)?t.map($c):$c(t);function Ob(t,e){const r=$c(t);return r.setDate(r.getDate()+e),r}function Rb(t,e){const r=$c(t);return r.setMonth(r.getMonth()+e),r.getDate()!==t.getDate()&&r.setDate(0),r}function y8(t,e){const r=$c(t);return r.setFullYear(r.getFullYear()+e),r.getDate()!==t.getDate()&&r.setDate(0),r}const wy=t=>Ob(t,-1),Ey=t=>Ob(t,1),mS=t=>Rb(t,-1),vS=t=>Rb(t,1),yS=t=>y8(t,-1),_S=t=>y8(t,1),vh=()=>{const t=new Date;return t.setHours(0,0,0,0),t};function wq(t){const e=t[0].getTime();return(t[1].getTime()-e)/(1e3*60*60*24)+1}function Eq(t,e=0){const r=new Date(t.getFullYear(),t.getMonth()+1,0),n=e+t.getDate()-1,i=e+r.getDate()-1;return Math.floor(n/7)===Math.floor(i/7)}const Sq=We({},Tb,{modelValue:Qo(),filter:Function,formatter:{type:Function,default:(t,e)=>e}}),Cq=Object.keys(Tb);function Aq(t,e){if(t<0)return[];const r=Array(t);let n=-1;for(;++n<t;)r[n]=e(n);return r}const _8=(t,e)=>32-new Date(t,e-1,32).getDate(),Im=(t,e,r,n,i,o)=>{const s=Aq(e-t+1,a=>{const l=Ma(t+a);return n(r,{text:l,value:l})});return i?i(r,s,o):s},Tq=(t,e)=>t.map((r,n)=>{const i=e[n];if(i.length){const o=+i[0].value,s=+i[i.length-1].value;return Ma(Lr(+r,o,s))}return r}),[Pq]=Pe("calendar-day");var Iq=we({name:Pq,props:{item:un(Object),color:String,index:Number,offset:vg(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(t,{emit:e,slots:r}){const n=ne(()=>{const{item:c,index:u,color:f,offset:d,rowHeight:h}=t,p={height:h};if(c.type==="placeholder")return p.width="100%",p;if(u===0&&(p.marginLeft=`${100*d/7}%`),f)switch(c.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":p.background=f;break;case"middle":p.color=f;break}return c.date&&Eq(c.date,d)&&(p.marginBottom=0),p}),i=()=>{t.item.type!=="disabled"?e("click",t.item):e("clickDisabledDate",t.item)},o=()=>{const{topInfo:c}=t.item;if(c||r["top-info"])return R("div",{class:er("top-info")},[r["top-info"]?r["top-info"](t.item):c])},s=()=>{const{bottomInfo:c}=t.item;if(c||r["bottom-info"])return R("div",{class:er("bottom-info")},[r["bottom-info"]?r["bottom-info"](t.item):c])},a=()=>r.text?r.text(t.item):t.item.text,l=()=>{const{item:c,color:u,rowHeight:f}=t,{type:d}=c,h=[o(),a(),s()];return d==="selected"?R("div",{class:er("selected-day"),style:{width:f,height:f,background:u}},[h]):h};return()=>{const{type:c,className:u}=t.item;return c==="placeholder"?R("div",{class:er("day"),style:n.value},null):R("div",{role:"gridcell",style:n.value,class:[er("day",c),u],tabindex:c==="disabled"?void 0:-1,onClick:i},[l()])}}});const[Oq]=Pe("calendar-month"),Rq={date:un(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:Ce,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var Mq=we({name:Oq,props:Rq,emits:["click","clickDisabledDate"],setup(t,{emit:e,slots:r}){const[n,i]=W4(),o=Z(),s=Z(),a=HR(s),l=ne(()=>bq(t.date)),c=ne(()=>rt(t.rowHeight)),u=ne(()=>{const C=t.date.getDate(),T=(t.date.getDay()-C%7+8)%7;return t.firstDayOfWeek?(T+7-t.firstDayOfWeek)%7:T}),f=ne(()=>_8(t.date.getFullYear(),t.date.getMonth()+1)),d=ne(()=>n.value||!t.lazyRender),h=()=>l.value,p=C=>{const A=T=>t.currentDate.some(I=>xn(I,T)===0);if(A(C)){const T=wy(C),I=Ey(C),B=A(T),G=A(I);return B&&G?"multiple-middle":B?"end":G?"start":"multiple-selected"}return""},y=C=>{const[A,T]=t.currentDate;if(!A)return"";const I=xn(C,A);if(!T)return I===0?"start":"";const B=xn(C,T);return t.allowSameDay&&I===0&&B===0?"start-end":I===0?"start":B===0?"end":I>0&&B<0?"middle":""},g=C=>{const{type:A,minDate:T,maxDate:I,currentDate:B}=t;if(T&&xn(C,T)<0||I&&xn(C,I)>0)return"disabled";if(B===null)return"";if(Array.isArray(B)){if(A==="multiple")return p(C);if(A==="range")return y(C)}else if(A==="single")return xn(C,B)===0?"selected":"";return""},m=C=>{if(t.type==="range"){if(C==="start"||C==="end")return zo(C);if(C==="start-end")return`${zo("start")}/${zo("end")}`}},v=()=>{if(t.showMonthTitle)return R("div",{class:er("month-title")},[r["month-title"]?r["month-title"]({date:t.date,text:l.value}):l.value])},_=()=>{if(t.showMark&&d.value)return R("div",{class:er("month-mark")},[t.date.getMonth()+1])},x=ne(()=>{const C=Math.ceil((f.value+u.value)/7);return Array(C).fill({type:"placeholder"})}),b=ne(()=>{const C=[],A=t.date.getFullYear(),T=t.date.getMonth();for(let I=1;I<=f.value;I++){const B=new Date(A,T,I),G=g(B);let N={date:B,type:G,text:I,bottomInfo:m(G)};t.formatter&&(N=t.formatter(N)),C.push(N)}return C}),w=ne(()=>b.value.filter(C=>C.type==="disabled")),E=(C,A)=>{if(o.value){const T=br(o.value),I=x.value.length,G=(Math.ceil((A.getDate()+u.value)/7)-1)*T.height/I;Jp(C,T.top+G+C.scrollTop-br(C).top)}},S=(C,A)=>R(Iq,{item:C,index:A,color:t.color,offset:u.value,rowHeight:c.value,onClick:T=>e("click",T),onClickDisabledDate:T=>e("clickDisabledDate",T)},Gt(r,["top-info","bottom-info","text"])),P=()=>R("div",{ref:o,role:"grid",class:er("days")},[_(),(d.value?b:x).value.map(S)]);return qt({getTitle:h,getHeight:()=>a.value,setVisible:i,scrollToDate:E,disabledDays:w}),()=>R("div",{class:er("month"),ref:s},[v(),P()])}});const[Dq]=Pe("calendar-header");var Bq=we({name:Dq,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:De("none")},emits:["clickSubtitle","panelChange"],setup(t,{slots:e,emit:r}){const n=ne(()=>t.date&&t.minDate&&Na(mS(t.date),t.minDate)<0),i=ne(()=>t.date&&t.minDate&&Na(yS(t.date),t.minDate)<0),o=ne(()=>t.date&&t.maxDate&&Na(vS(t.date),t.maxDate)>0),s=ne(()=>t.date&&t.maxDate&&Na(_S(t.date),t.maxDate)>0),a=()=>{if(t.showTitle){const h=t.title||zo("title"),p=e.title?e.title():h;return R("div",{class:er("header-title")},[p])}},l=h=>r("clickSubtitle",h),c=h=>r("panelChange",h),u=h=>{const p=t.switchMode==="year-month",y=e[h?"next-month":"prev-month"],g=e[h?"next-year":"prev-year"],m=h?o.value:n.value,v=h?s.value:i.value,_=h?"arrow":"arrow-left",x=h?"arrow-double-right":"arrow-double-left",b=()=>c((h?vS:mS)(t.date)),w=()=>c((h?_S:yS)(t.date)),E=R("view",{class:er("header-action",{disabled:m}),onClick:m?void 0:b},[y?y({disabled:m}):R(rr,{class:{[es]:!m},name:_},null)]),S=p&&R("view",{class:er("header-action",{disabled:v}),onClick:v?void 0:w},[g?g({disabled:v}):R(rr,{class:{[es]:!v},name:x},null)]);return h?[E,S]:[S,E]},f=()=>{if(t.showSubtitle){const h=e.subtitle?e.subtitle({date:t.date,text:t.subtitle}):t.subtitle,p=t.switchMode!=="none";return R("div",{class:er("header-subtitle",{"with-switch":p}),onClick:l},[p?[u(),R("div",{class:er("header-subtitle-text")},[h]),u(!0)]:h])}},d=()=>{const{firstDayOfWeek:h}=t,p=zo("weekdays"),y=[...p.slice(h,7),...p.slice(0,h)];return R("div",{class:er("weekdays")},[y.map(g=>R("span",{class:er("weekday")},[g]))])};return()=>R("div",{class:er("header")},[a(),f(),d()])}});const kq={show:Boolean,type:De("single"),switchMode:De("none"),title:String,color:String,round:_e,readonly:Boolean,poppable:_e,maxRange:ze(null),position:De("bottom"),teleport:[String,Object],showMark:_e,showTitle:_e,formatter:Function,rowHeight:Ce,confirmText:String,rangePrompt:String,lazyRender:_e,showConfirm:_e,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:_e,closeOnPopstate:_e,showRangePrompt:_e,confirmDisabledText:String,closeOnClickOverlay:_e,safeAreaInsetTop:Boolean,safeAreaInsetBottom:_e,minDate:{type:Date,validator:Wf},maxDate:{type:Date,validator:Wf},firstDayOfWeek:{type:Ce,default:0,validator:t=>t>=0&&t<=6}};var Nq=we({name:xq,props:kq,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(t,{emit:e,slots:r}){const n=ne(()=>t.switchMode!=="none"),i=ne(()=>!t.minDate&&!n.value?vh():t.minDate),o=ne(()=>!t.maxDate&&!n.value?Rb(vh(),6):t.maxDate),s=(Y,ie=i.value,ge=o.value)=>ie&&xn(Y,ie)===-1?ie:ge&&xn(Y,ge)===1?ge:Y,a=(Y=t.defaultDate)=>{const{type:ie,allowSameDay:ge}=t;if(Y===null)return Y;const F=vh();if(ie==="range"){Array.isArray(Y)||(Y=[]),Y.length===1&&xn(Y[0],F)===1&&(Y=[]);const q=i.value,L=o.value,ee=s(Y[0]||F,q,L?ge?L:wy(L):void 0),J=s(Y[1]||(ge?F:Ey(F)),q?ge?q:Ey(q):void 0);return[ee,J]}return ie==="multiple"?Array.isArray(Y)?Y.map(q=>s(q)):[s(F)]:((!Y||Array.isArray(Y))&&(Y=F),s(Y))},l=()=>{const Y=Array.isArray(f.value)?f.value[0]:f.value;return Y||s(vh())};let c;const u=Z(),f=Z(a()),d=Z(l()),h=Z(),[p,y]=e8(),g=ne(()=>t.firstDayOfWeek?+t.firstDayOfWeek%7:0),m=ne(()=>{const Y=[];if(!i.value||!o.value)return Y;const ie=new Date(i.value);ie.setDate(1);do Y.push(new Date(ie)),ie.setMonth(ie.getMonth()+1);while(Na(ie,o.value)!==1);return Y}),v=ne(()=>{if(f.value){if(t.type==="range")return!f.value[0]||!f.value[1];if(t.type==="multiple")return!f.value.length}return!f.value}),_=()=>f.value,x=()=>{const Y=Id(u.value),ie=Y+c,ge=m.value.map((J,de)=>p.value[de].getHeight()),F=ge.reduce((J,de)=>J+de,0);if(ie>F&&Y>0)return;let q=0,L;const ee=[-1,-1];for(let J=0;J<m.value.length;J++){const de=p.value[J];q<=ie&&q+ge[J]>=Y&&(ee[1]=J,L||(L=de,ee[0]=J),p.value[J].showed||(p.value[J].showed=!0,e("monthShow",{date:de.date,title:de.getTitle()}))),q+=ge[J]}m.value.forEach((J,de)=>{const pe=de>=ee[0]-1&&de<=ee[1]+1;p.value[de].setVisible(pe)}),L&&(h.value=L)},b=Y=>{n.value?d.value=Y:hn(()=>{m.value.some((ie,ge)=>Na(ie,Y)===0?(u.value&&p.value[ge].scrollToDate(u.value,Y),!0):!1),x()})},w=()=>{if(!(t.poppable&&!t.show))if(f.value){const Y=t.type==="single"?f.value:f.value[0];Wf(Y)&&b(Y)}else n.value||hn(x)},E=()=>{t.poppable&&!t.show||(n.value||hn(()=>{c=Math.floor(br(u).height)}),w())},S=(Y=a())=>{f.value=Y,w()},P=Y=>{const{maxRange:ie,rangePrompt:ge,showRangePrompt:F}=t;return ie&&wq(Y)>+ie?(F&&by(ge||zo("rangePrompt",ie)),e("overRange"),!1):!0},C=Y=>{d.value=Y,e("panelChange",{date:Y})},A=()=>{var Y;return e("confirm",(Y=f.value)!=null?Y:gS(f.value))},T=(Y,ie)=>{const ge=F=>{f.value=F,e("select",gS(F))};if(ie&&t.type==="range"&&!P(Y)){ge([Y[0],Ob(Y[0],+t.maxRange-1)]);return}ge(Y),ie&&!t.showConfirm&&A()},I=(Y,ie,ge)=>{var F;return(F=Y.find(q=>xn(ie,q.date)===-1&&xn(q.date,ge)===-1))==null?void 0:F.date},B=ne(()=>p.value.reduce((Y,ie)=>{var ge,F;return Y.push(...(F=(ge=ie.disabledDays)==null?void 0:ge.value)!=null?F:[]),Y},[])),G=Y=>{if(t.readonly||!Y.date)return;const{date:ie}=Y,{type:ge}=t;if(ge==="range"){if(!f.value){T([ie]);return}const[F,q]=f.value;if(F&&!q){const L=xn(ie,F);if(L===1){const ee=I(B.value,F,ie);if(ee){const J=wy(ee);xn(F,J)===-1?T([F,J]):T([ie])}else T([F,ie],!0)}else L===-1?T([ie]):t.allowSameDay&&T([ie,ie],!0)}else T([ie])}else if(ge==="multiple"){if(!f.value){T([ie]);return}const F=f.value,q=F.findIndex(L=>xn(L,ie)===0);if(q!==-1){const[L]=F.splice(q,1);e("unselect",$c(L))}else t.maxRange&&F.length>=+t.maxRange?by(t.rangePrompt||zo("rangePrompt",t.maxRange)):T([...F,ie])}else T(ie,!0)},N=Y=>e("clickOverlay",Y),U=Y=>e("update:show",Y),W=(Y,ie)=>{const ge=ie!==0||!t.showSubtitle;return R(Mq,lt({ref:n.value?h:y(ie),date:Y,currentDate:f.value,showMonthTitle:ge,firstDayOfWeek:g.value,lazyRender:n.value?!1:t.lazyRender,maxDate:o.value,minDate:i.value},Gt(t,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:G,onClickDisabledDate:F=>e("clickDisabledDate",F)}),Gt(r,["top-info","bottom-info","month-title","text"]))},K=()=>{if(r.footer)return r.footer();if(t.showConfirm){const Y=r["confirm-text"],ie=v.value,ge=ie?t.confirmDisabledText:t.confirmText;return R(Qp,{round:!0,block:!0,type:"primary",color:t.color,class:er("confirm"),disabled:ie,nativeType:"button",onClick:A},{default:()=>[Y?Y({disabled:ie}):ge||zo("confirm")]})}},fe=()=>R("div",{class:[er("footer"),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[K()]),ue=()=>{var Y,ie;return R("div",{class:er()},[R(Bq,{date:(Y=h.value)==null?void 0:Y.date,maxDate:o.value,minDate:i.value,title:t.title,subtitle:(ie=h.value)==null?void 0:ie.getTitle(),showTitle:t.showTitle,showSubtitle:t.showSubtitle,switchMode:t.switchMode,firstDayOfWeek:g.value,onClickSubtitle:ge=>e("clickSubtitle",ge),onPanelChange:C},Gt(r,["title","subtitle","prev-month","prev-year","next-month","next-year"])),R("div",{ref:u,class:er("body"),onScroll:n.value?void 0:x},[n.value?W(d.value,0):m.value.map(W)]),fe()])};return ye(()=>t.show,E),ye(()=>[t.type,t.minDate,t.maxDate,t.switchMode],()=>S(a(f.value))),ye(()=>t.defaultDate,Y=>{S(Y)}),qt({reset:S,scrollToDate:b,getSelectedDate:_}),cu(E),()=>t.poppable?R(kl,{show:t.show,class:er("popup"),round:t.round,position:t.position,closeable:t.showTitle||t.showSubtitle,teleport:t.teleport,closeOnPopstate:t.closeOnPopstate,safeAreaInsetTop:t.safeAreaInsetTop,closeOnClickOverlay:t.closeOnClickOverlay,onClickOverlay:N,"onUpdate:show":U},{default:ue}):ue()}});const YCe=Be(Nq),[Fq,Yl]=Pe("image"),Lq={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:Ce,height:Ce,radius:Ce,lazyLoad:Boolean,iconSize:Ce,showError:_e,errorIcon:De("photo-fail"),iconPrefix:String,showLoading:_e,loadingIcon:De("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var $q=we({name:Fq,props:Lq,emits:["load","error"],setup(t,{emit:e,slots:r}){const n=Z(!1),i=Z(!0),o=Z(),{$Lazyload:s}=bt().proxy,a=ne(()=>{const g={width:rt(t.width),height:rt(t.height)};return Ut(t.radius)&&(g.overflow="hidden",g.borderRadius=rt(t.radius)),g});ye(()=>t.src,()=>{n.value=!1,i.value=!0});const l=g=>{i.value&&(i.value=!1,e("load",g))},c=()=>{const g=new Event("load");Object.defineProperty(g,"target",{value:o.value,enumerable:!0}),l(g)},u=g=>{n.value=!0,i.value=!1,e("error",g)},f=(g,m,v)=>v?v():R(rr,{name:g,size:t.iconSize,class:m,classPrefix:t.iconPrefix},null),d=()=>{if(i.value&&t.showLoading)return R("div",{class:Yl("loading")},[f(t.loadingIcon,Yl("loading-icon"),r.loading)]);if(n.value&&t.showError)return R("div",{class:Yl("error")},[f(t.errorIcon,Yl("error-icon"),r.error)])},h=()=>{if(n.value||!t.src)return;const g={alt:t.alt,class:Yl("img"),decoding:t.decoding,style:{objectFit:t.fit,objectPosition:t.position},crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy};return t.lazyLoad?di(R("img",lt({ref:o},g),null),[[MI("lazy"),t.src]]):R("img",lt({ref:o,src:t.src,onLoad:l,onError:u},g),null)},p=({el:g})=>{const m=()=>{g===o.value&&i.value&&c()};o.value?m():Ye(m)},y=({el:g})=>{g===o.value&&!n.value&&u()};return s&&ho&&(s.$on("loaded",p),s.$on("error",y),Zn(()=>{s.$off("loaded",p),s.$off("error",y)})),zt(()=>{Ye(()=>{var g;(g=o.value)!=null&&g.complete&&!t.lazyLoad&&c()})}),()=>{var g;return R("div",{class:Yl({round:t.round,block:t.block}),style:a.value},[h(),d(),(g=r.default)==null?void 0:g.call(r)])}}});const x8=Be($q),[Uq,yh]=Pe("circle");let Gq=0;const xS=t=>Math.min(Math.max(+t,0),100);function Hq(t,e){const r=t?1:0;return`M ${e/2} ${e/2} m 0, -500 a 500, 500 0 1, ${r} 0, 1000 a 500, 500 0 1, ${r} 0, -1000`}const Vq={text:String,size:Ce,fill:De("none"),rate:ze(100),speed:ze(0),color:[String,Object],clockwise:_e,layerColor:String,currentRate:vg(0),strokeWidth:ze(40),strokeLinecap:String,startPosition:De("top")};var zq=we({name:Uq,props:Vq,emits:["update:currentRate"],setup(t,{emit:e,slots:r}){const n=`van-circle-${Gq++}`,i=ne(()=>+t.strokeWidth+1e3),o=ne(()=>Hq(t.clockwise,i.value)),s=ne(()=>{const d={top:0,right:90,bottom:180,left:270}[t.startPosition];if(d)return{transform:`rotate(${d}deg)`}});ye(()=>t.rate,f=>{let d;const h=Date.now(),p=t.currentRate,y=xS(f),g=Math.abs((p-y)*1e3/+t.speed),m=()=>{const v=Date.now(),x=Math.min((v-h)/g,1)*(y-p)+p;e("update:currentRate",xS(parseFloat(x.toFixed(1)))),(y>p?x<y:x>y)&&(d=hn(m))};t.speed?(d&&Td(d),d=hn(m)):e("update:currentRate",y)},{immediate:!0});const a=()=>{const{strokeWidth:d,currentRate:h,strokeLinecap:p}=t,y=3140*h/100,g=po(t.color)?`url(#${n})`:t.color,m={stroke:g,strokeWidth:`${+d+1}px`,strokeLinecap:p,strokeDasharray:`${y}px 3140px`};return R("path",{d:o.value,style:m,class:yh("hover"),stroke:g},null)},l=()=>{const f={fill:t.fill,stroke:t.layerColor,strokeWidth:`${t.strokeWidth}px`};return R("path",{class:yh("layer"),style:f,d:o.value},null)},c=()=>{const{color:f}=t;if(!po(f))return;const d=Object.keys(f).sort((h,p)=>parseFloat(h)-parseFloat(p)).map((h,p)=>R("stop",{key:p,offset:h,"stop-color":f[h]},null));return R("defs",null,[R("linearGradient",{id:n,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[d])])},u=()=>{if(r.default)return r.default();if(t.text)return R("div",{class:yh("text")},[t.text])};return()=>R("div",{class:yh(),style:Dl(t.size)},[R("svg",{viewBox:`0 0 ${i.value} ${i.value}`,style:s.value},[c(),l(),a()]),u()])}});const KCe=Be(zq),[b8,jq]=Pe("row"),w8=Symbol(b8),Wq={tag:De("div"),wrap:_e,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var Xq=we({name:b8,props:Wq,setup(t,{slots:e}){const{children:r,linkChildren:n}=$i(w8),i=ne(()=>{const a=[[]];let l=0;return r.forEach((c,u)=>{l+=Number(c.span),l>24?(a.push([u]),l-=24):a[a.length-1].push(u)}),a}),o=ne(()=>{let a=0;Array.isArray(t.gutter)?a=Number(t.gutter[0])||0:a=Number(t.gutter);const l=[];return a&&i.value.forEach(c=>{const u=a*(c.length-1)/c.length;c.forEach((f,d)=>{if(d===0)l.push({right:u});else{const h=a-l[f-1].right,p=u-h;l.push({left:h,right:p})}})}),l}),s=ne(()=>{const{gutter:a}=t,l=[];if(Array.isArray(a)&&a.length>1){const c=Number(a[1])||0;if(c<=0)return l;i.value.forEach((u,f)=>{f!==i.value.length-1&&u.forEach(()=>{l.push({bottom:c})})})}return l});return n({spaces:o,verticalSpaces:s}),()=>{const{tag:a,wrap:l,align:c,justify:u}=t;return R(a,{class:jq({[`align-${c}`]:c,[`justify-${u}`]:u,nowrap:!l})},{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e)]}})}}});const[Yq,Kq]=Pe("col"),qq={tag:De("div"),span:ze(0),offset:Ce};var Zq=we({name:Yq,props:qq,setup(t,{slots:e}){const{parent:r,index:n}=Jn(w8),i=ne(()=>{if(!r)return;const{spaces:o,verticalSpaces:s}=r;let a={};if(o&&o.value&&o.value[n.value]){const{left:c,right:u}=o.value[n.value];a={paddingLeft:c?`${c}px`:null,paddingRight:u?`${u}px`:null}}const{bottom:l}=s.value[n.value]||{};return We(a,{marginBottom:l?`${l}px`:null})});return()=>{const{tag:o,span:s,offset:a}=t;return R(o,{style:i.value,class:Kq({[s]:s,[`offset-${a}`]:a})},{default:()=>{var l;return[(l=e.default)==null?void 0:l.call(e)]}})}}});const qCe=Be(Zq),[E8,Jq]=Pe("collapse"),S8=Symbol(E8),Qq={border:_e,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};function eZ(t,e){return e&&Array.isArray(t)?(console.error('[Vant] Collapse: "v-model" should not be Array in accordion mode'),!1):!e&&!Array.isArray(t)?(console.error('[Vant] Collapse: "v-model" should be Array in non-accordion mode'),!1):!0}var tZ=we({name:E8,props:Qq,emits:["change","update:modelValue"],setup(t,{emit:e,slots:r}){const{linkChildren:n,children:i}=$i(S8),o=c=>{e("change",c),e("update:modelValue",c)},s=(c,u)=>{const{accordion:f,modelValue:d}=t;o(f?c===d?"":c:u?d.concat(c):d.filter(h=>h!==c))},a=(c={})=>{if(t.accordion)return;typeof c=="boolean"&&(c={expanded:c});const{expanded:u,skipDisabled:f}=c,h=i.filter(p=>p.disabled&&f?p.expanded.value:u??!p.expanded.value).map(p=>p.itemName.value);o(h)},l=c=>{const{accordion:u,modelValue:f}=t;return eZ(f,u)?u?f===c:f.includes(c):!1};return qt({toggleAll:a}),n({toggle:s,isExpanded:l}),()=>{var c;return R("div",{class:[Jq(),{[LR]:t.border}]},[(c=r.default)==null?void 0:c.call(r)])}}});const ZCe=Be(tZ),[rZ,_h]=Pe("collapse-item"),nZ=["icon","title","value","label","right-icon"],iZ=We({},xg,{name:Ce,isLink:_e,disabled:Boolean,readonly:Boolean,lazyRender:_e});var oZ=we({name:rZ,props:iZ,setup(t,{slots:e}){const r=Z(),n=Z(),{parent:i,index:o}=Jn(S8);if(!i){console.error("[Vant] <CollapseItem> must be a child component of <Collapse>.");return}const s=ne(()=>{var y;return(y=t.name)!=null?y:o.value}),a=ne(()=>i.isExpanded(s.value)),l=Z(a.value),c=Cb(()=>l.value||!t.lazyRender),u=()=>{a.value?r.value&&(r.value.style.height=""):l.value=!1};ye(a,(y,g)=>{if(g===null)return;y&&(l.value=!0),(y?Ye:hn)(()=>{if(!n.value||!r.value)return;const{offsetHeight:v}=n.value;if(v){const _=`${v}px`;r.value.style.height=y?"0":_,ka(()=>{r.value&&(r.value.style.height=y?_:"0")})}else u()})});const f=(y=!a.value)=>{i.toggle(s.value,y)},d=()=>{!t.disabled&&!t.readonly&&f()},h=()=>{const{border:y,disabled:g,readonly:m}=t,v=Gt(t,Object.keys(xg));return m&&(v.isLink=!1),(g||m)&&(v.clickable=!1),R(u8,lt({role:"button",class:_h("title",{disabled:g,expanded:a.value,borderless:!y}),"aria-expanded":String(a.value),onClick:d},v),Gt(e,nZ))},p=c(()=>{var y;return di(R("div",{ref:r,class:_h("wrapper"),onTransitionend:u},[R("div",{ref:n,class:_h("content")},[(y=e.default)==null?void 0:y.call(e)])]),[[pi,l.value]])});return qt({toggle:f,expanded:a,itemName:s}),()=>R("div",{class:[_h({border:o.value&&t.border})]},[h(),p()])}});const JCe=Be(oZ);function sZ(t,e){const{days:r}=e;let{hours:n,minutes:i,seconds:o,milliseconds:s}=e;if(t.includes("DD")?t=t.replace("DD",Ma(r)):n+=r*24,t.includes("HH")?t=t.replace("HH",Ma(n)):i+=n*60,t.includes("mm")?t=t.replace("mm",Ma(i)):o+=i*60,t.includes("ss")?t=t.replace("ss",Ma(o)):s+=o*1e3,t.includes("S")){const a=Ma(s,3);t.includes("SSS")?t=t.replace("SSS",a):t.includes("SS")?t=t.replace("SS",a.slice(0,2)):t=t.replace("S",a.charAt(0))}return t}const[aZ,lZ]=Pe("count-down"),cZ={time:ze(0),format:De("HH:mm:ss"),autoStart:_e,millisecond:Boolean};var uZ=we({name:aZ,props:cZ,emits:["change","finish"],setup(t,{emit:e,slots:r}){const{start:n,pause:i,reset:o,current:s}=K4({time:+t.time,millisecond:t.millisecond,onChange:c=>e("change",c),onFinish:()=>e("finish")}),a=ne(()=>sZ(t.format,s.value)),l=()=>{o(+t.time),t.autoStart&&n()};return ye(()=>t.time,l,{immediate:!0}),qt({start:n,pause:i,reset:l}),()=>R("div",{role:"timer",class:lZ()},[r.default?r.default(s.value):a.value])}});const QCe=Be(uZ),bS=new Date().getFullYear(),[fZ]=Pe("date-picker"),dZ=We({},Sq,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(bS-10,0,1),validator:Wf},maxDate:{type:Date,default:()=>new Date(bS+10,11,31),validator:Wf}});var hZ=we({name:fZ,props:dZ,emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:e,slots:r}){const n=Z(t.modelValue),i=Z(!1),o=Z(),s=ne(()=>i.value?t.modelValue:n.value),a=b=>b===t.minDate.getFullYear(),l=b=>b===t.maxDate.getFullYear(),c=b=>b===t.minDate.getMonth()+1,u=b=>b===t.maxDate.getMonth()+1,f=b=>{const{minDate:w,columnsType:E}=t,S=E.indexOf(b),P=s.value[S];if(P)return+P;switch(b){case"year":return w.getFullYear();case"month":return w.getMonth()+1;case"day":return w.getDate()}},d=()=>{const b=t.minDate.getFullYear(),w=t.maxDate.getFullYear();return Im(b,w,"year",t.formatter,t.filter,s.value)},h=()=>{const b=f("year"),w=a(b)?t.minDate.getMonth()+1:1,E=l(b)?t.maxDate.getMonth()+1:12;return Im(w,E,"month",t.formatter,t.filter,s.value)},p=()=>{const b=f("year"),w=f("month"),E=a(b)&&c(w)?t.minDate.getDate():1,S=l(b)&&u(w)?t.maxDate.getDate():_8(b,w);return Im(E,S,"day",t.formatter,t.filter,s.value)},y=()=>{var b;return(b=o.value)==null?void 0:b.confirm()},g=()=>n.value,m=ne(()=>t.columnsType.map(b=>{switch(b){case"year":return d();case"month":return h();case"day":return p();default:throw new Error(`[Vant] DatePicker: unsupported columns type: ${b}`)}}));ye(n,b=>{Vs(b,t.modelValue)||e("update:modelValue",b)}),ye(()=>t.modelValue,(b,w)=>{i.value=Vs(w,n.value),b=Tq(b,m.value),Vs(b,n.value)||(n.value=b),i.value=!1},{immediate:!0});const v=(...b)=>e("change",...b),_=(...b)=>e("cancel",...b),x=(...b)=>e("confirm",...b);return qt({confirm:y,getSelectedDate:g}),()=>R(DK,lt({ref:o,modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,columns:m.value,onChange:v,onCancel:_,onConfirm:x},Gt(t,Cq)),r)}});const eAe=Be(hZ),[pZ,xi,xh]=Pe("dialog"),gZ=We({},Rd,{title:String,theme:String,width:Ce,message:[String,Function],callback:Function,allowHtml:Boolean,className:dr,transition:De("van-dialog-bounce"),messageAlign:String,closeOnPopstate:_e,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:_e,closeOnClickOverlay:Boolean,keyboardEnabled:_e,destroyOnClose:Boolean}),mZ=[...WR,"transition","closeOnPopstate","destroyOnClose"];var C8=we({name:pZ,props:gZ,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:e,slots:r}){const n=Z(),i=Bt({confirm:!1,cancel:!1}),o=m=>e("update:show",m),s=m=>{var v;o(!1),(v=t.callback)==null||v.call(t,m)},a=m=>()=>{t.show&&(e(m),t.beforeClose?(i[m]=!0,uu(t.beforeClose,{args:[m],done(){s(m),i[m]=!1},canceled(){i[m]=!1}})):s(m))},l=a("cancel"),c=a("confirm"),u=b4(m=>{var v,_;if(!t.keyboardEnabled||m.target!==((_=(v=n.value)==null?void 0:v.popupRef)==null?void 0:_.value))return;({Enter:t.showConfirmButton?c:gy,Escape:t.showCancelButton?l:gy})[m.key](),e("keydown",m)},["enter","esc"]),f=()=>{const m=r.title?r.title():t.title;if(m)return R("div",{class:xi("header",{isolated:!t.message&&!r.default})},[m])},d=m=>{const{message:v,allowHtml:_,messageAlign:x}=t,b=xi("message",{"has-title":m,[x]:x}),w=Fc(v)?v():v;return _&&typeof w=="string"?R("div",{class:b,innerHTML:w},null):R("div",{class:b},[w])},h=()=>{if(r.default)return R("div",{class:xi("content")},[r.default()]);const{title:m,message:v,allowHtml:_}=t;if(v){const x=!!(m||r.title);return R("div",{key:_?1:0,class:xi("content",{isolated:!x})},[d(x)])}},p=()=>R("div",{class:[FR,xi("footer")]},[t.showCancelButton&&R(Qp,{size:"large",text:t.cancelButtonText||xh("cancel"),class:xi("cancel"),style:{color:t.cancelButtonColor},loading:i.cancel,disabled:t.cancelButtonDisabled,onClick:l},null),t.showConfirmButton&&R(Qp,{size:"large",text:t.confirmButtonText||xh("confirm"),class:[xi("confirm"),{[XX]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:i.confirm,disabled:t.confirmButtonDisabled,onClick:c},null)]),y=()=>R(eY,{class:xi("footer")},{default:()=>[t.showCancelButton&&R(iS,{type:"warning",text:t.cancelButtonText||xh("cancel"),class:xi("cancel"),color:t.cancelButtonColor,loading:i.cancel,disabled:t.cancelButtonDisabled,onClick:l},null),t.showConfirmButton&&R(iS,{type:"danger",text:t.confirmButtonText||xh("confirm"),class:xi("confirm"),color:t.confirmButtonColor,loading:i.confirm,disabled:t.confirmButtonDisabled,onClick:c},null)]}),g=()=>r.footer?r.footer():t.theme==="round-button"?y():p();return()=>{const{width:m,title:v,theme:_,message:x,className:b}=t;return R(kl,lt({ref:n,role:"dialog",class:[xi([_]),b],style:{width:rt(m)},tabindex:0,"aria-labelledby":v||x,onKeydown:u,"onUpdate:show":o},Gt(t,mZ)),{default:()=>[f(),h(),g()]})}}});let Sy;const vZ={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let yZ=We({},vZ);function _Z(){({instance:Sy}=wg({setup(){const{state:e,toggle:r}=bg();return()=>R(C8,lt(e,{"onUpdate:show":r}),null)}}))}function xZ(t){return ho?new Promise((e,r)=>{Sy||_Z(),Sy.open(We({},yZ,t,{callback:n=>{(n==="confirm"?e:r)(n)}}))}):Promise.resolve(void 0)}const tAe=t=>xZ(We({showCancelButton:!0},t)),rAe=Be(C8),[bZ,wZ]=Pe("divider"),EZ={dashed:Boolean,hairline:_e,vertical:Boolean,contentPosition:De("center")};var SZ=we({name:bZ,props:EZ,setup(t,{slots:e}){return()=>{var r;return R("div",{role:"separator",class:wZ({dashed:t.dashed,hairline:t.hairline,vertical:t.vertical,[`content-${t.contentPosition}`]:!!e.default&&!t.vertical})},[!t.vertical&&((r=e.default)==null?void 0:r.call(e))])}}});const nAe=Be(SZ),CZ={gap:{type:[Number,Object],default:24},icon:String,axis:De("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[AZ,wS]=Pe("floating-bubble");var TZ=we({name:AZ,inheritAttrs:!1,props:CZ,emits:["click","update:offset","offsetChange"],setup(t,{slots:e,emit:r,attrs:n}){const i=Z(),o=Z({x:0,y:0,width:0,height:0}),s=ne(()=>po(t.gap)?t.gap.x:t.gap),a=ne(()=>po(t.gap)?t.gap.y:t.gap),l=ne(()=>({top:a.value,right:Vo.value-o.value.width-s.value,bottom:zs.value-o.value.height-a.value,left:s.value})),c=Z(!1);let u=!1;const f=ne(()=>{const b={},w=rt(o.value.x),E=rt(o.value.y);return b.transform=`translate3d(${w}, ${E}, 0)`,(c.value||!u)&&(b.transition="none"),b}),d=()=>{if(!x.value)return;const{width:b,height:w}=br(i.value),{offset:E}=t;o.value={x:E?E.x:Vo.value-b-s.value,y:E?E.y:zs.value-w-a.value,width:b,height:w}},h=Bl();let p=0,y=0;const g=b=>{h.start(b),c.value=!0,p=o.value.x,y=o.value.y};mn("touchmove",b=>{if(b.preventDefault(),h.move(b),t.axis!=="lock"&&!h.isTap.value){if(t.axis==="x"||t.axis==="xy"){let E=p+h.deltaX.value;E<l.value.left&&(E=l.value.left),E>l.value.right&&(E=l.value.right),o.value.x=E}if(t.axis==="y"||t.axis==="xy"){let E=y+h.deltaY.value;E<l.value.top&&(E=l.value.top),E>l.value.bottom&&(E=l.value.bottom),o.value.y=E}const w=Gt(o.value,["x","y"]);r("update:offset",w)}},{target:i});const v=()=>{c.value=!1,Ye(()=>{if(t.magnetic==="x"){const b=eS([l.value.left,l.value.right],o.value.x);o.value.x=b}if(t.magnetic==="y"){const b=eS([l.value.top,l.value.bottom],o.value.y);o.value.y=b}if(!h.isTap.value){const b=Gt(o.value,["x","y"]);r("update:offset",b),(p!==b.x||y!==b.y)&&r("offsetChange",b)}})},_=b=>{h.isTap.value?r("click",b):b.stopPropagation()};zt(()=>{d(),Ye(()=>{u=!0})}),ye([Vo,zs,s,a,()=>t.offset],d,{deep:!0});const x=Z(!0);return as(()=>{x.value=!0}),xo(()=>{t.teleport&&(x.value=!1)}),()=>{const b=di(R("div",lt({class:wS(),ref:i,onTouchstartPassive:g,onTouchend:v,onTouchcancel:v,onClickCapture:_,style:f.value},n),[e.default?e.default():R(dY,{name:t.icon,class:wS("icon")},null)]),[[pi,x.value]]);return t.teleport?R(Q0,{to:t.teleport},{default:()=>[b]}):b}}});const iAe=Be(TZ),[A8,PZ]=Pe("grid"),IZ={square:Boolean,center:_e,border:_e,gutter:Ce,reverse:Boolean,iconSize:Ce,direction:String,clickable:Boolean,columnNum:ze(4)},T8=Symbol(A8);var OZ=we({name:A8,props:IZ,setup(t,{slots:e}){const{linkChildren:r}=$i(T8);return r({props:t}),()=>{var n;return R("div",{style:{paddingLeft:rt(t.gutter)},class:[PZ(),{[FR]:t.border&&!t.gutter}]},[(n=e.default)==null?void 0:n.call(e)])}}});const oAe=Be(OZ),[RZ,bh]=Pe("grid-item"),MZ=We({},fu,{dot:Boolean,text:String,icon:String,badge:Ce,iconColor:String,iconPrefix:String,badgeProps:Object});var DZ=we({name:RZ,props:MZ,setup(t,{slots:e}){const{parent:r,index:n}=Jn(T8),i=Od();if(!r){console.error("[Vant] <GridItem> must be a child component of <Grid>.");return}const o=ne(()=>{const{square:u,gutter:f,columnNum:d}=r.props,h=`${100/+d}%`,p={flexBasis:h};if(u)p.paddingTop=h;else if(f){const y=rt(f);p.paddingRight=y,n.value>=+d&&(p.marginTop=y)}return p}),s=ne(()=>{const{square:u,gutter:f}=r.props;if(u&&f){const d=rt(f);return{right:d,bottom:d,height:"auto"}}}),a=()=>{if(e.icon)return R(yg,lt({dot:t.dot,content:t.badge},t.badgeProps),{default:e.icon});if(t.icon)return R(rr,{dot:t.dot,name:t.icon,size:r.props.iconSize,badge:t.badge,class:bh("icon"),color:t.iconColor,badgeProps:t.badgeProps,classPrefix:t.iconPrefix},null)},l=()=>{if(e.text)return e.text();if(t.text)return R("span",{class:bh("text")},[t.text])},c=()=>e.default?e.default():[a(),l()];return()=>{const{center:u,border:f,square:d,gutter:h,reverse:p,direction:y,clickable:g}=r.props,m=[bh("content",[y,{center:u,square:d,reverse:p,clickable:g,surround:f&&h}]),{[aa]:f}];return R("div",{class:[bh({square:d})],style:o.value},[R("div",{role:g?"button":void 0,class:m,style:s.value,tabindex:g?0:void 0,onClick:i},[c()])])}}});const sAe=Be(DZ),ES=t=>Math.sqrt((t[0].clientX-t[1].clientX)**2+(t[0].clientY-t[1].clientY)**2),BZ=t=>({x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2}),Om=Pe("image-preview")[1],SS=2.6,kZ={src:String,show:Boolean,active:Number,minZoom:un(Ce),maxZoom:un(Ce),rootWidth:un(Number),rootHeight:un(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var NZ=we({props:kZ,emits:["scale","close","longPress"],setup(t,{emit:e,slots:r}){const n=Bt({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),i=Bl(),o=Z(),s=Z(),a=Z(!1),l=Z(!1);let c=0;const u=ne(()=>{const{scale:N,moveX:U,moveY:W,moving:K,zooming:fe,initializing:ue}=n,Y={transitionDuration:fe||K||ue?"0s":".3s"};return(N!==1||l.value)&&(Y.transform=`matrix(${N}, 0, 0, ${N}, ${U}, ${W})`),Y}),f=ne(()=>{if(n.imageRatio){const{rootWidth:N,rootHeight:U}=t,W=a.value?U/n.imageRatio:N;return Math.max(0,(n.scale*W-N)/2)}return 0}),d=ne(()=>{if(n.imageRatio){const{rootWidth:N,rootHeight:U}=t,W=a.value?U:N*n.imageRatio;return Math.max(0,(n.scale*W-U)/2)}return 0}),h=(N,U)=>{var W;if(N=Lr(N,+t.minZoom,+t.maxZoom+1),N!==n.scale){const K=N/n.scale;if(n.scale=N,U){const fe=br((W=o.value)==null?void 0:W.$el),ue={x:fe.width*.5,y:fe.height*.5},Y=n.moveX-(U.x-fe.left-ue.x)*(K-1),ie=n.moveY-(U.y-fe.top-ue.y)*(K-1);n.moveX=Lr(Y,-f.value,f.value),n.moveY=Lr(ie,-d.value,d.value)}else n.moveX=0,n.moveY=l.value?c:0;e("scale",{scale:N,index:t.active})}},p=()=>{h(1)},y=()=>{const N=n.scale>1?1:2;h(N,N===2||l.value?{x:i.startX.value,y:i.startY.value}:void 0)};let g,m,v,_,x,b,w,E,S=!1;const P=N=>{const{touches:U}=N;if(g=U.length,g===2&&t.disableZoom)return;const{offsetX:W}=i;i.start(N),m=n.moveX,v=n.moveY,E=Date.now(),S=!1,n.moving=g===1&&(n.scale!==1||l.value),n.zooming=g===2&&!W.value,n.zooming&&(_=n.scale,x=ES(U))},C=N=>{const{touches:U}=N;if(i.move(N),n.moving){const{deltaX:W,deltaY:K}=i,fe=W.value+m,ue=K.value+v;if((t.vertical?i.isVertical()&&Math.abs(ue)>d.value:i.isHorizontal()&&Math.abs(fe)>f.value)&&!S){n.moving=!1;return}S=!0,Dr(N,!0),n.moveX=Lr(fe,-f.value,f.value),n.moveY=Lr(ue,-d.value,d.value)}if(n.zooming&&(Dr(N,!0),U.length===2)){const W=ES(U),K=_*W/x;b=BZ(U),h(K,b)}},A=N=>{var U;const W=(U=s.value)==null?void 0:U.$el;if(!W)return;const K=W.firstElementChild,fe=N.target===W,ue=K==null?void 0:K.contains(N.target);!t.closeOnClickImage&&ue||!t.closeOnClickOverlay&&fe||e("close")},T=N=>{if(g>1)return;const U=Date.now()-E,W=250;i.isTap.value&&(U<W?t.doubleScale?w?(clearTimeout(w),w=null,y()):w=setTimeout(()=>{A(N),w=null},W):A(N):U>UR&&e("longPress"))},I=N=>{let U=!1;if((n.moving||n.zooming)&&(U=!0,n.moving&&m===n.moveX&&v===n.moveY&&(U=!1),!N.touches.length)){n.zooming&&(n.moveX=Lr(n.moveX,-f.value,f.value),n.moveY=Lr(n.moveY,-d.value,d.value),n.zooming=!1),n.moving=!1,m=0,v=0,_=1,n.scale<1&&p();const W=+t.maxZoom;n.scale>W&&h(W,b)}Dr(N,U),T(N),i.reset()},B=()=>{const{rootWidth:N,rootHeight:U}=t,W=U/N,{imageRatio:K}=n;a.value=n.imageRatio>W&&K<SS,l.value=n.imageRatio>W&&K>=SS,l.value&&(c=(K*N-U)/2,n.moveY=c,n.initializing=!0,hn(()=>{n.initializing=!1})),p()},G=N=>{const{naturalWidth:U,naturalHeight:W}=N.target;n.imageRatio=W/U,B()};return ye(()=>t.active,p),ye(()=>t.show,N=>{N||p()}),ye(()=>[t.rootWidth,t.rootHeight],B),mn("touchmove",C,{target:ne(()=>{var N;return(N=s.value)==null?void 0:N.$el})}),qt({resetScale:p}),()=>{const N={loading:()=>R(us,{type:"spinner"},null)};return R(c8,{ref:s,class:Om("swipe-item"),onTouchstartPassive:P,onTouchend:I,onTouchcancel:I},{default:()=>[r.image?R("div",{class:Om("image-wrap")},[r.image({src:t.src,onLoad:G,style:u.value})]):R(x8,{ref:o,src:t.src,fit:"contain",class:Om("image",{vertical:a.value}),style:u.value,onLoad:G},N)]})}}});const[FZ,Kl]=Pe("image-preview"),LZ=["show","teleport","transition","overlayStyle","closeOnPopstate"],$Z={show:Boolean,loop:_e,images:Qo(),minZoom:ze(1/3),maxZoom:ze(3),overlay:_e,vertical:Boolean,closeable:Boolean,showIndex:_e,className:dr,closeIcon:De("clear"),transition:String,beforeClose:Function,doubleScale:_e,overlayClass:dr,overlayStyle:Object,swipeDuration:ze(300),startPosition:ze(0),showIndicators:Boolean,closeOnPopstate:_e,closeOnClickImage:_e,closeOnClickOverlay:_e,closeIconPosition:De("top-right"),teleport:[String,Object]};var P8=we({name:FZ,props:$Z,emits:["scale","close","closed","change","longPress","update:show"],setup(t,{emit:e,slots:r}){const n=Z(),i=Z(),o=Bt({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),s=()=>{if(n.value){const _=br(n.value.$el);o.rootWidth=_.width,o.rootHeight=_.height,n.value.resize()}},a=_=>e("scale",_),l=_=>e("update:show",_),c=()=>{uu(t.beforeClose,{args:[o.active],done:()=>l(!1)})},u=_=>{_!==o.active&&(o.active=_,e("change",_))},f=()=>{if(t.showIndex)return R("div",{class:Kl("index")},[r.index?r.index({index:o.active}):`${o.active+1} / ${t.images.length}`])},d=()=>{if(r.cover)return R("div",{class:Kl("cover")},[r.cover()])},h=()=>{o.disableZoom=!0},p=()=>{o.disableZoom=!1},y=()=>R(i8,{ref:n,lazyRender:!0,loop:t.loop,class:Kl("swipe"),vertical:t.vertical,duration:t.swipeDuration,initialSwipe:t.startPosition,showIndicators:t.showIndicators,indicatorColor:"white",onChange:u,onDragEnd:p,onDragStart:h},{default:()=>[t.images.map((_,x)=>R(NZ,{ref:b=>{x===o.active&&(i.value=b)},src:_,show:t.show,active:o.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:o.rootWidth,rootHeight:o.rootHeight,disableZoom:o.disableZoom,doubleScale:t.doubleScale,closeOnClickImage:t.closeOnClickImage,closeOnClickOverlay:t.closeOnClickOverlay,vertical:t.vertical,onScale:a,onClose:c,onLongPress:()=>e("longPress",{index:x})},{image:r.image}))]}),g=()=>{if(t.closeable)return R(rr,{role:"button",name:t.closeIcon,class:[Kl("close-icon",t.closeIconPosition),es],onClick:c},null)},m=()=>e("closed"),v=(_,x)=>{var b;return(b=n.value)==null?void 0:b.swipeTo(_,x)};return qt({resetScale:()=>{var _;(_=i.value)==null||_.resetScale()},swipeTo:v}),zt(s),ye([Vo,zs],s),ye(()=>t.startPosition,_=>u(+_)),ye(()=>t.show,_=>{const{images:x,startPosition:b}=t;_?(u(+b),Ye(()=>{s(),v(+b,{immediate:!0})})):e("close",{index:o.active,url:x[o.active]})}),()=>R(kl,lt({class:[Kl(),t.className],overlayClass:[Kl("overlay"),t.overlayClass],onClosed:m,"onUpdate:show":l},Gt(t,LZ)),{default:()=>[g(),y(),f(),d()]})}});let pp;const UZ={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function GZ(){({instance:pp}=wg({setup(){const{state:t,toggle:e}=bg(),r=()=>{t.images=[]};return()=>R(P8,lt(t,{onClosed:r,"onUpdate:show":e}),null)}}))}const HZ=(t,e=0)=>{if(ho)return pp||GZ(),t=Array.isArray(t)?{images:t,startPosition:e}:t,pp.open(We({},UZ,t)),pp};Be(P8);const[VZ,ql,zZ]=Pe("list"),jZ={error:Boolean,offset:ze(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:De("down"),loadingText:String,finishedText:String,immediateCheck:_e};var WZ=we({name:VZ,props:jZ,emits:["load","update:error","update:loading"],setup(t,{emit:e,slots:r}){const n=Z(t.loading),i=Z(),o=Z(),s=l8(),a=Pd(i),l=ne(()=>t.scroller||a.value),c=()=>{Ye(()=>{if(n.value||t.finished||t.disabled||t.error||(s==null?void 0:s.value)===!1)return;const{direction:p}=t,y=+t.offset,g=br(l);if(!g.height||Lc(i))return;let m=!1;const v=br(o);p==="up"?m=g.top-v.top<=y:m=v.bottom-g.bottom<=y,m&&(n.value=!0,e("update:loading",!0),e("load"))})},u=()=>{if(t.finished){const p=r.finished?r.finished():t.finishedText;if(p)return R("div",{class:ql("finished-text")},[p])}},f=()=>{e("update:error",!1),c()},d=()=>{if(t.error){const p=r.error?r.error():t.errorText;if(p)return R("div",{role:"button",class:ql("error-text"),tabindex:0,onClick:f},[p])}},h=()=>{if(n.value&&!t.finished&&!t.disabled)return R("div",{class:ql("loading")},[r.loading?r.loading():R(us,{class:ql("loading-icon")},{default:()=>[t.loadingText||zZ("loading")]})])};return ye(()=>[t.loading,t.finished,t.error],c),s&&ye(s,p=>{p&&c()}),Ol(()=>{n.value=t.loading}),zt(()=>{t.immediateCheck&&c()}),qt({check:c}),mn("scroll",c,{target:l,passive:!0}),()=>{var p;const y=(p=r.default)==null?void 0:p.call(r),g=R("div",{ref:o,class:ql("placeholder")},null);return R("div",{ref:i,role:"feed",class:ql(),"aria-busy":n.value},[t.direction==="down"?y:g,h(),u(),d(),t.direction==="up"?y:g])}}});const aAe=Be(WZ),[XZ,YZ]=Pe("notify"),KZ=["lockScroll","position","show","teleport","zIndex"],qZ=We({},Rd,{type:De("danger"),color:String,message:Ce,position:De("top"),className:dr,background:String,lockScroll:Boolean});var I8=we({name:XZ,props:qZ,emits:["update:show"],setup(t,{emit:e,slots:r}){const n=i=>e("update:show",i);return()=>R(kl,lt({class:[YZ([t.type]),t.className],style:{color:t.color,background:t.background},overlay:!1,duration:.2,"onUpdate:show":n},Gt(t,KZ)),{default:()=>[r.default?r.default():t.message]})}});let CS,Tc;const ZZ=t=>po(t)?t:{message:t};function JZ(){({instance:Tc}=wg({setup(){const{state:t,toggle:e}=bg();return()=>R(I8,lt(t,{"onUpdate:show":e}),null)}}))}const QZ=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let eJ=QZ();const tJ=()=>{Tc&&Tc.toggle(!1)};function lAe(t){if(ho)return Tc||JZ(),t=We({},eJ,ZZ(t)),Tc.open(t),clearTimeout(CS),t.duration>0&&(CS=setTimeout(tJ,t.duration)),Tc}Be(I8);const[rJ,Zl,AS]=Pe("pagination"),Rm=(t,e,r)=>({number:t,text:e,active:r}),nJ={mode:De("multi"),prevText:String,nextText:String,pageCount:ze(0),modelValue:vg(0),totalItems:ze(0),showPageSize:ze(5),itemsPerPage:ze(10),forceEllipses:Boolean,showPrevButton:_e,showNextButton:_e};var iJ=we({name:rJ,props:nJ,emits:["change","update:modelValue"],setup(t,{emit:e,slots:r}){const n=ne(()=>{const{pageCount:u,totalItems:f,itemsPerPage:d}=t,h=+u||Math.ceil(+f/+d);return Math.max(1,h)}),i=ne(()=>{const u=[],f=n.value,d=+t.showPageSize,{modelValue:h,forceEllipses:p}=t;let y=1,g=f;const m=d<f;m&&(y=Math.max(h-Math.floor(d/2),1),g=y+d-1,g>f&&(g=f,y=g-d+1));for(let v=y;v<=g;v++){const _=Rm(v,v,v===h);u.push(_)}if(m&&d>0&&p){if(y>1){const v=Rm(y-1,"...");u.unshift(v)}if(g<f){const v=Rm(g+1,"...");u.push(v)}}return u}),o=(u,f)=>{u=Lr(u,1,n.value),t.modelValue!==u&&(e("update:modelValue",u),f&&e("change",u))};su(()=>o(t.modelValue));const s=()=>R("li",{class:Zl("page-desc")},[r.pageDesc?r.pageDesc():`${t.modelValue}/${n.value}`]),a=()=>{const{mode:u,modelValue:f,showPrevButton:d}=t;if(!d)return;const h=r["prev-text"],p=f===1;return R("li",{class:[Zl("item",{disabled:p,border:u==="simple",prev:!0}),dp]},[R("button",{type:"button",disabled:p,onClick:()=>o(f-1,!0)},[h?h():t.prevText||AS("prev")])])},l=()=>{const{mode:u,modelValue:f,showNextButton:d}=t;if(!d)return;const h=r["next-text"],p=f===n.value;return R("li",{class:[Zl("item",{disabled:p,border:u==="simple",next:!0}),dp]},[R("button",{type:"button",disabled:p,onClick:()=>o(f+1,!0)},[h?h():t.nextText||AS("next")])])},c=()=>i.value.map(u=>R("li",{class:[Zl("item",{active:u.active,page:!0}),dp]},[R("button",{type:"button","aria-current":u.active||void 0,onClick:()=>o(u.number,!0)},[r.page?r.page(u):u.text])]));return()=>R("nav",{role:"navigation",class:Zl()},[R("ul",{class:Zl("items")},[a(),t.mode==="simple"?s():c(),l()])])}});const cAe=Be(iJ);function Ui(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Mb(t){var e=Ui(t).Element;return t instanceof e||t instanceof Element}function ki(t){var e=Ui(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function O8(t){if(typeof ShadowRoot>"u")return!1;var e=Ui(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Uc=Math.round;function Cy(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function oJ(){return!/^((?!chrome|android).)*safari/i.test(Cy())}function e0(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&ki(t)&&(i=t.offsetWidth>0&&Uc(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Uc(n.height)/t.offsetHeight||1);var s=Mb(t)?Ui(t):window,a=s.visualViewport,l=!oJ()&&r,c=(n.left+(l&&a?a.offsetLeft:0))/i,u=(n.top+(l&&a?a.offsetTop:0))/o,f=n.width/i,d=n.height/o;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function R8(t){var e=Ui(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function sJ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function aJ(t){return t===Ui(t)||!ki(t)?R8(t):sJ(t)}function ts(t){return t?(t.nodeName||"").toLowerCase():null}function Eg(t){return((Mb(t)?t.ownerDocument:t.document)||window.document).documentElement}function lJ(t){return e0(Eg(t)).left+R8(t).scrollLeft}function rs(t){return Ui(t).getComputedStyle(t)}function Db(t){var e=rs(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function cJ(t){var e=t.getBoundingClientRect(),r=Uc(e.width)/t.offsetWidth||1,n=Uc(e.height)/t.offsetHeight||1;return r!==1||n!==1}function uJ(t,e,r){r===void 0&&(r=!1);var n=ki(e),i=ki(e)&&cJ(e),o=Eg(e),s=e0(t,i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((ts(e)!=="body"||Db(o))&&(a=aJ(e)),ki(e)?(l=e0(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=lJ(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function fJ(t){var e=e0(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Bb(t){return ts(t)==="html"?t:t.assignedSlot||t.parentNode||(O8(t)?t.host:null)||Eg(t)}function M8(t){return["html","body","#document"].indexOf(ts(t))>=0?t.ownerDocument.body:ki(t)&&Db(t)?t:M8(Bb(t))}function gp(t,e){var r;e===void 0&&(e=[]);var n=M8(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=Ui(n),s=i?[o].concat(o.visualViewport||[],Db(n)?n:[]):n,a=e.concat(s);return i?a:a.concat(gp(Bb(s)))}function dJ(t){return["table","td","th"].indexOf(ts(t))>=0}function TS(t){return!ki(t)||rs(t).position==="fixed"?null:t.offsetParent}function hJ(t){var e=/firefox/i.test(Cy()),r=/Trident/i.test(Cy());if(r&&ki(t)){var n=rs(t);if(n.position==="fixed")return null}var i=Bb(t);for(O8(i)&&(i=i.host);ki(i)&&["html","body"].indexOf(ts(i))<0;){var o=rs(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function D8(t){for(var e=Ui(t),r=TS(t);r&&dJ(r)&&rs(r).position==="static";)r=TS(r);return r&&(ts(r)==="html"||ts(r)==="body"&&rs(r).position==="static")?e:r||hJ(t)||e}var Pc="top",t0="bottom",Yf="right",Qa="left",B8="auto",pJ=[Pc,t0,Yf,Qa],k8="start",r0="end",gJ=[].concat(pJ,[B8]).reduce(function(t,e){return t.concat([e,e+"-"+k8,e+"-"+r0])},[]),mJ="beforeRead",vJ="read",yJ="afterRead",_J="beforeMain",xJ="main",bJ="afterMain",wJ="beforeWrite",EJ="write",SJ="afterWrite",Ay=[mJ,vJ,yJ,_J,xJ,bJ,wJ,EJ,SJ];function CJ(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function AJ(t){var e=CJ(t);return Ay.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function TJ(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function ms(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return[].concat(r).reduce(function(i,o){return i.replace(/%s/,o)},t)}var va='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',PJ='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',PS=["name","enabled","phase","fn","effect","requires","options"];function IJ(t){t.forEach(function(e){[].concat(Object.keys(e),PS).filter(function(r,n,i){return i.indexOf(r)===n}).forEach(function(r){switch(r){case"name":typeof e.name!="string"&&console.error(ms(va,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(ms(va,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":Ay.indexOf(e.phase)<0&&console.error(ms(va,e.name,'"phase"',"either "+Ay.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(ms(va,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(ms(va,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(ms(va,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(ms(va,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+PS.map(function(n){return'"'+n+'"'}).join(", ")+'; but "'+r+'" was provided.')}e.requires&&e.requires.forEach(function(n){t.find(function(i){return i.name===n})==null&&console.error(ms(PJ,String(e.name),n,n))})})})}function OJ(t,e){var r=new Set;return t.filter(function(n){var i=e(n);if(!r.has(i))return r.add(i),!0})}function Sg(t){return t.split("-")[0]}function RJ(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}function N8(t){return t.split("-")[1]}function MJ(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function DJ(t){var e=t.reference,r=t.element,n=t.placement,i=n?Sg(n):null,o=n?N8(n):null,s=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case Pc:l={x:s,y:e.y-r.height};break;case t0:l={x:s,y:e.y+e.height};break;case Yf:l={x:e.x+e.width,y:a};break;case Qa:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?MJ(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case k8:l[c]=l[c]-(e[u]/2-r[u]/2);break;case r0:l[c]=l[c]+(e[u]/2-r[u]/2);break}}return l}var IS="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",BJ="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",OS={placement:"bottom",modifiers:[],strategy:"absolute"};function RS(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function kJ(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?OS:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},OS,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(m){var v=typeof m=="function"?m(u.options):m;y(),u.options=Object.assign({},o,u.options,v),u.scrollParents={reference:Mb(a)?gp(a):a.contextElement?gp(a.contextElement):[],popper:gp(l)};var _=AJ(RJ([].concat(n,u.options.modifiers)));u.orderedModifiers=_.filter(function(A){return A.enabled});{var x=OJ([].concat(_,u.options.modifiers),function(A){var T=A.name;return T});if(IJ(x),Sg(u.options.placement)===B8){var b=u.orderedModifiers.find(function(A){var T=A.name;return T==="flip"});b||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var w=rs(l),E=w.marginTop,S=w.marginRight,P=w.marginBottom,C=w.marginLeft;[E,S,P,C].some(function(A){return parseFloat(A)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return p(),h.update()},forceUpdate:function(){if(!d){var m=u.elements,v=m.reference,_=m.popper;if(!RS(v,_)){console.error(IS);return}u.rects={reference:uJ(v,D8(_),u.options.strategy==="fixed"),popper:fJ(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(A){return u.modifiersData[A.name]=Object.assign({},A.data)});for(var x=0,b=0;b<u.orderedModifiers.length;b++){if(x+=1,x>100){console.error(BJ);break}if(u.reset===!0){u.reset=!1,b=-1;continue}var w=u.orderedModifiers[b],E=w.fn,S=w.options,P=S===void 0?{}:S,C=w.name;typeof E=="function"&&(u=E({state:u,options:P,name:C,instance:h})||u)}}},update:TJ(function(){return new Promise(function(g){h.forceUpdate(),g(u)})}),destroy:function(){y(),d=!0}};if(!RS(a,l))return console.error(IS),h;h.setOptions(c).then(function(g){!d&&c.onFirstUpdate&&c.onFirstUpdate(g)});function p(){u.orderedModifiers.forEach(function(g){var m=g.name,v=g.options,_=v===void 0?{}:v,x=g.effect;if(typeof x=="function"){var b=x({state:u,name:m,instance:h,options:_}),w=function(){};f.push(b||w)}})}function y(){f.forEach(function(g){return g()}),f=[]}return h}}var wh={passive:!0};function NJ(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,l=Ui(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",r.update,wh)}),a&&l.addEventListener("resize",r.update,wh),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",r.update,wh)}),a&&l.removeEventListener("resize",r.update,wh)}}var FJ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:NJ,data:{}};function LJ(t){var e=t.state,r=t.name;e.modifiersData[r]=DJ({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var $J={name:"popperOffsets",enabled:!0,phase:"read",fn:LJ,data:{}},UJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GJ(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:Uc(e*i)/i||0,y:Uc(r*i)/i||0}}function MS(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,d=s.x,h=d===void 0?0:d,p=s.y,y=p===void 0?0:p,g=typeof u=="function"?u({x:h,y}):{x:h,y};h=g.x,y=g.y;var m=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),_=Qa,x=Pc,b=window;if(c){var w=D8(r),E="clientHeight",S="clientWidth";if(w===Ui(r)&&(w=Eg(r),rs(w).position!=="static"&&a==="absolute"&&(E="scrollHeight",S="scrollWidth")),w=w,i===Pc||(i===Qa||i===Yf)&&o===r0){x=t0;var P=f&&w===b&&b.visualViewport?b.visualViewport.height:w[E];y-=P-n.height,y*=l?1:-1}if(i===Qa||(i===Pc||i===t0)&&o===r0){_=Yf;var C=f&&w===b&&b.visualViewport?b.visualViewport.width:w[S];h-=C-n.width,h*=l?1:-1}}var A=Object.assign({position:a},c&&UJ),T=u===!0?GJ({x:h,y}):{x:h,y};if(h=T.x,y=T.y,l){var I;return Object.assign({},A,(I={},I[x]=v?"0":"",I[_]=m?"0":"",I.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",I))}return Object.assign({},A,(e={},e[x]=v?y+"px":"",e[_]=m?h+"px":"",e.transform="",e))}function HJ(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,l=a===void 0?!0:a;{var c=rs(e.elements.popper).transitionProperty||"";s&&["transform","top","right","bottom","left"].some(function(f){return c.indexOf(f)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:Sg(e.placement),variation:N8(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,MS(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,MS(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var VJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HJ,data:{}};function zJ(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!ki(o)||!ts(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function jJ(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=s.reduce(function(l,c){return l[c]="",l},{});!ki(i)||!ts(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var WJ={name:"applyStyles",enabled:!0,phase:"write",fn:zJ,effect:jJ,requires:["computeStyles"]},XJ=[FJ,$J,VJ,WJ],YJ=kJ({defaultModifiers:XJ});function KJ(t,e,r){var n=Sg(t),i=[Qa,Pc].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Qa,Yf].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function qJ(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,s=gJ.reduce(function(u,f){return u[f]=KJ(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}var ZJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:qJ};const[JJ,ya]=Pe("popover"),QJ=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],eQ={show:Boolean,theme:De("light"),overlay:Boolean,actions:Qo(),actionsDirection:De("vertical"),trigger:De("click"),duration:Ce,showArrow:_e,placement:De("bottom"),iconPrefix:String,overlayClass:dr,overlayStyle:Object,closeOnClickAction:_e,closeOnClickOverlay:_e,closeOnClickOutside:_e,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var tQ=we({name:JJ,props:eQ,emits:["select","touchstart","update:show"],setup(t,{emit:e,slots:r,attrs:n}){let i;const o=Z(),s=Z(),a=Z(),l=qY(()=>t.show,v=>e("update:show",v)),c=()=>({placement:t.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},We({},ZJ,{options:{offset:t.offset}})]}),u=()=>s.value&&a.value?YJ(s.value,a.value.popupRef.value,c()):null,f=()=>{Ye(()=>{l.value&&(i?i.setOptions(c()):(i=u(),ho&&(window.addEventListener("animationend",f),window.addEventListener("transitionend",f))))})},d=v=>{l.value=v},h=()=>{t.trigger==="click"&&(l.value=!l.value)},p=(v,_)=>{v.disabled||(e("select",v,_),t.closeOnClickAction&&(l.value=!1))},y=()=>{l.value&&t.closeOnClickOutside&&(!t.overlay||t.closeOnClickOverlay)&&(l.value=!1)},g=(v,_)=>r.action?r.action({action:v,index:_}):[v.icon&&R(rr,{name:v.icon,classPrefix:t.iconPrefix,class:ya("action-icon")},null),R("div",{class:[ya("action-text"),{[KX]:t.actionsDirection==="vertical"}]},[v.text])],m=(v,_)=>{const{icon:x,color:b,disabled:w,className:E}=v;return R("div",{role:"menuitem",class:[ya("action",{disabled:w,"with-icon":x}),{[YX]:t.actionsDirection==="horizontal"},E],style:{color:b},tabindex:w?void 0:0,"aria-disabled":w||void 0,onClick:()=>p(v,_)},[g(v,_)])};return zt(()=>{f(),su(()=>{var v;o.value=(v=a.value)==null?void 0:v.popupRef.value})}),Zn(()=>{i&&(ho&&(window.removeEventListener("animationend",f),window.removeEventListener("transitionend",f)),i.destroy(),i=null)}),ye(()=>[l.value,t.offset,t.placement],f),q4([s,o],y,{eventName:"touchstart"}),()=>{var v;return R($t,null,[R("span",{ref:s,class:ya("wrapper"),onClick:h},[(v=r.reference)==null?void 0:v.call(r)]),R(kl,lt({ref:a,show:l.value,class:ya([t.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":d},n,yy(),Gt(t,QJ)),{default:()=>[t.showArrow&&R("div",{class:ya("arrow")},null),R("div",{role:"menu",class:ya("content",t.actionsDirection)},[r.default?r.default():t.actions.map(m)])]})])}}});const uAe=Be(tQ),[rQ,Mm]=Pe("progress"),nQ={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:_e,pivotColor:String,trackColor:String,strokeWidth:Ce,percentage:{type:Ce,default:0,validator:t=>+t>=0&&+t<=100}};var iQ=we({name:rQ,props:nQ,setup(t){const e=ne(()=>t.inactive?void 0:t.color),r=i=>Math.min(Math.max(+i,0),100),n=()=>{const{textColor:i,pivotText:o,pivotColor:s,percentage:a}=t,l=r(a),c=o??`${a}%`;if(t.showPivot&&c){const u={color:i,left:`${l}%`,transform:`translate(-${l}%,-50%)`,background:s||e.value};return R("span",{style:u,class:Mm("pivot",{inactive:t.inactive})},[c])}};return()=>{const{trackColor:i,percentage:o,strokeWidth:s}=t,a=r(o),l={background:i,height:rt(s)},c={width:`${a}%`,background:e.value};return R("div",{class:Mm(),style:l},[R("span",{class:Mm("portion",{inactive:t.inactive}),style:c},null),n()])}}});const fAe=Be(iQ),[oQ,Ou,sQ]=Pe("pull-refresh"),F8=50,aQ=["pulling","loosing","success"],lQ={disabled:Boolean,modelValue:Boolean,headHeight:ze(F8),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Ce,successDuration:ze(500),animationDuration:ze(300)};var cQ=we({name:oQ,props:lQ,emits:["change","refresh","update:modelValue"],setup(t,{emit:e,slots:r}){let n;const i=Z(),o=Z(),s=Pd(i),a=Bt({status:"normal",distance:0,duration:0}),l=Bl(),c=()=>{if(t.headHeight!==F8)return{height:`${t.headHeight}px`}},u=()=>a.status!=="loading"&&a.status!=="success"&&!t.disabled,f=x=>{const b=+(t.pullDistance||t.headHeight);return x>b&&(x<b*2?x=b+(x-b)/2:x=b*1.5+(x-b*2)/4),Math.round(x)},d=(x,b)=>{const w=+(t.pullDistance||t.headHeight);a.distance=x,b?a.status="loading":x===0?a.status="normal":x<w?a.status="pulling":a.status="loosing",e("change",{status:a.status,distance:x})},h=()=>{const{status:x}=a;return x==="normal"?"":t[`${x}Text`]||sQ(x)},p=()=>{const{status:x,distance:b}=a;if(r[x])return r[x]({distance:b});const w=[];return aQ.includes(x)&&w.push(R("div",{class:Ou("text")},[h()])),x==="loading"&&w.push(R(us,{class:Ou("loading")},{default:h})),w},y=()=>{a.status="success",setTimeout(()=>{d(0)},+t.successDuration)},g=x=>{n=Id(s.value)===0,n&&(a.duration=0,l.start(x))},m=x=>{u()&&g(x)},v=x=>{if(u()){n||g(x);const{deltaY:b}=l;l.move(x),n&&b.value>=0&&l.isVertical()&&(Dr(x),d(f(b.value)))}},_=()=>{n&&l.deltaY.value&&u()&&(a.duration=+t.animationDuration,a.status==="loosing"?(d(+t.headHeight,!0),e("update:modelValue",!0),Ye(()=>e("refresh"))):d(0))};return ye(()=>t.modelValue,x=>{a.duration=+t.animationDuration,x?d(+t.headHeight,!0):r.success||t.successText?y():d(0,!1)}),mn("touchmove",v,{target:o}),()=>{var x;const b={transitionDuration:`${a.duration}ms`,transform:a.distance?`translate3d(0,${a.distance}px, 0)`:""};return R("div",{ref:i,class:Ou()},[R("div",{ref:o,class:Ou("track"),style:b,onTouchstartPassive:m,onTouchend:_,onTouchcancel:_},[R("div",{class:Ou("head"),style:c()},[p()]),(x=r.default)==null?void 0:x.call(r)])])}}});const dAe=Be(cQ),hAe=Be(Xq),[L8,uQ]=Pe("sidebar"),$8=Symbol(L8),fQ={modelValue:ze(0)};var dQ=we({name:L8,props:fQ,emits:["change","update:modelValue"],setup(t,{emit:e,slots:r}){const{linkChildren:n}=$i($8),i=()=>+t.modelValue;return n({getActive:i,setActive:s=>{s!==i()&&(e("update:modelValue",s),e("change",s))}}),()=>{var s;return R("div",{role:"tablist",class:uQ()},[(s=r.default)==null?void 0:s.call(r)])}}});const pAe=Be(dQ),[hQ,DS]=Pe("sidebar-item"),pQ=We({},fu,{dot:Boolean,title:String,badge:Ce,disabled:Boolean,badgeProps:Object});var gQ=we({name:hQ,props:pQ,emits:["click"],setup(t,{emit:e,slots:r}){const n=Od(),{parent:i,index:o}=Jn($8);if(!i){console.error("[Vant] <SidebarItem> must be a child component of <Sidebar>.");return}const s=()=>{t.disabled||(e("click",o.value),i.setActive(o.value),n())};return()=>{const{dot:a,badge:l,title:c,disabled:u}=t,f=o.value===i.getActive();return R("div",{role:"tab",class:DS({select:f,disabled:u}),tabindex:u?void 0:0,"aria-selected":f,onClick:s},[R(yg,lt({dot:a,class:DS("text"),content:l},t.badgeProps),{default:()=>[r.title?r.title():c]})])}}});const gAe=Be(gQ),[mQ,vQ]=Pe("skeleton-title"),yQ={round:Boolean,titleWidth:Ce};var _Q=we({name:mQ,props:yQ,setup(t){return()=>R("h3",{class:vQ([{round:t.round}]),style:{width:rt(t.titleWidth)}},null)}});const xQ=Be(_Q);var bQ=xQ;const[wQ,EQ]=Pe("skeleton-avatar"),SQ={avatarSize:Ce,avatarShape:De("round")};var CQ=we({name:wQ,props:SQ,setup(t){return()=>R("div",{class:EQ([t.avatarShape]),style:Dl(t.avatarSize)},null)}});const AQ=Be(CQ);var TQ=AQ;const kb="100%",PQ={round:Boolean,rowWidth:{type:Ce,default:kb}},[IQ,OQ]=Pe("skeleton-paragraph");var RQ=we({name:IQ,props:PQ,setup(t){return()=>R("div",{class:OQ([{round:t.round}]),style:{width:t.rowWidth}},null)}});const MQ=Be(RQ);var DQ=MQ;const[BQ,BS]=Pe("skeleton"),kQ="60%",NQ={row:ze(0),round:Boolean,title:Boolean,titleWidth:Ce,avatar:Boolean,avatarSize:Ce,avatarShape:De("round"),loading:_e,animate:_e,rowWidth:{type:[Number,String,Array],default:kb}};var FQ=we({name:BQ,inheritAttrs:!1,props:NQ,setup(t,{slots:e,attrs:r}){const n=()=>{if(t.avatar)return R(TQ,{avatarShape:t.avatarShape,avatarSize:t.avatarSize},null)},i=()=>{if(t.title)return R(bQ,{round:t.round,titleWidth:t.titleWidth},null)},o=l=>{const{rowWidth:c}=t;return c===kb&&l===+t.row-1?kQ:Array.isArray(c)?c[l]:c},s=()=>Array(+t.row).fill("").map((l,c)=>R(DQ,{key:c,round:t.round,rowWidth:rt(o(c))},null)),a=()=>e.template?e.template():R($t,null,[n(),R("div",{class:BS("content")},[i(),s()])]);return()=>{var l;return t.loading?R("div",lt({class:BS({animate:t.animate,round:t.round})},r),[a()]):(l=e.default)==null?void 0:l.call(e)}}});const mAe=Be(FQ),[LQ,Ru]=Pe("slider"),$Q={min:ze(0),max:ze(100),step:ze(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Ce,buttonSize:Ce,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var UQ=we({name:LQ,props:$Q,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:e,slots:r}){let n,i,o;const s=Z(),a=[Z(),Z()],l=Z(),c=Bl(),u=ne(()=>Number(t.max)-Number(t.min)),f=ne(()=>{const A=t.vertical?"width":"height";return{background:t.inactiveColor,[A]:rt(t.barHeight)}}),d=A=>t.range&&Array.isArray(A),h=()=>{const{modelValue:A,min:T}=t;return d(A)?`${(A[1]-A[0])*100/u.value}%`:`${(A-Number(T))*100/u.value}%`},p=()=>{const{modelValue:A,min:T}=t;return d(A)?`${(A[0]-Number(T))*100/u.value}%`:"0%"},y=ne(()=>{const T={[t.vertical?"height":"width"]:h(),background:t.activeColor};l.value&&(T.transition="none");const I=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return T[I()]=p(),T}),g=A=>{const T=+t.min,I=+t.max,B=+t.step;A=Lr(A,T,I);const G=Math.round((A-T)/B)*B;return kR(T,G)},m=()=>{const A=t.modelValue;d(A)?o=A.map(g):o=g(A)},v=A=>{var T,I;const B=(T=A[0])!=null?T:Number(t.min),G=(I=A[1])!=null?I:Number(t.max);return B>G?[G,B]:[B,G]},_=(A,T)=>{d(A)?A=v(A).map(g):A=g(A),Vs(A,t.modelValue)||e("update:modelValue",A),T&&!Vs(A,o)&&e("change",A)},x=A=>{if(A.stopPropagation(),t.disabled||t.readonly)return;m();const{min:T,reverse:I,vertical:B,modelValue:G}=t,N=br(s),U=()=>B?I?N.bottom-A.clientY:A.clientY-N.top:I?N.right-A.clientX:A.clientX-N.left,W=B?N.height:N.width,K=Number(T)+U()/W*u.value;if(d(G)){const[fe,ue]=G,Y=(fe+ue)/2;K<=Y?_([K,ue],!0):_([fe,K],!0)}else _(K,!0)},b=A=>{t.disabled||t.readonly||(c.start(A),i=t.modelValue,m(),l.value="start")},w=A=>{if(t.disabled||t.readonly)return;l.value==="start"&&e("dragStart",A),Dr(A,!0),c.move(A),l.value="dragging";const T=br(s),I=t.vertical?c.deltaY.value:c.deltaX.value,B=t.vertical?T.height:T.width;let G=I/B*u.value;if(t.reverse&&(G=-G),d(o)){const N=t.reverse?1-n:n;i[N]=o[N]+G}else i=o+G;_(i)},E=A=>{t.disabled||t.readonly||(l.value==="dragging"&&(_(i,!0),e("dragEnd",A)),l.value="")},S=A=>typeof A=="number"?Ru("button-wrapper",["left","right"][A]):Ru("button-wrapper",t.reverse?"left":"right"),P=(A,T)=>{const I=l.value==="dragging";if(typeof T=="number"){const B=r[T===0?"left-button":"right-button"];let G;if(I&&Array.isArray(i)&&(G=i[0]>i[1]?n^1:n),B)return B({value:A,dragging:I,dragIndex:G})}return r.button?r.button({value:A,dragging:I}):R("div",{class:Ru("button"),style:Dl(t.buttonSize)},null)},C=A=>{const T=typeof A=="number"?t.modelValue[A]:t.modelValue;return R("div",{ref:a[A??0],role:"slider",class:S(A),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":T,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:I=>{typeof A=="number"&&(n=A),b(I)},onTouchend:E,onTouchcancel:E,onClick:MR},[P(T,A)])};return _(t.modelValue),Ml(()=>t.modelValue),a.forEach(A=>{mn("touchmove",w,{target:A})}),()=>R("div",{ref:s,style:f.value,class:Ru({vertical:t.vertical,disabled:t.disabled}),onClick:x},[R("div",{class:Ru("bar"),style:y.value},[t.range?[C(0),C(1)]:C()])])}});const vAe=Be(UQ),[kS,GQ]=Pe("space"),HQ={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function U8(t=[]){const e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...r):r.type===$t?e.push(...U8(r.children)):e.push(r)}),e.filter(r=>{var n;return!(r&&(r.type===tr||r.type===$t&&((n=r.children)==null?void 0:n.length)===0||r.type===uo&&r.children.trim()===""))})}var VQ=we({name:kS,props:HQ,setup(t,{slots:e}){const r=ne(()=>{var o;return(o=t.align)!=null?o:t.direction==="horizontal"?"center":""}),n=o=>typeof o=="number"?o+"px":o,i=o=>{const s={},a=`${n(Array.isArray(t.size)?t.size[0]:t.size)}`,l=`${n(Array.isArray(t.size)?t.size[1]:t.size)}`;return o?t.wrap?{marginBottom:l}:{}:(t.direction==="horizontal"&&(s.marginRight=a),(t.direction==="vertical"||t.wrap)&&(s.marginBottom=l),s)};return()=>{var o;const s=U8((o=e.default)==null?void 0:o.call(e));return R("div",{class:[GQ({[t.direction]:t.direction,[`align-${r.value}`]:r.value,wrap:t.wrap,fill:t.fill})]},[s.map((a,l)=>R("div",{key:`item-${l}`,class:`${kS}-item`,style:i(l===s.length-1)},[a]))])}}});const yAe=Be(VQ),[zQ,Eh]=Pe("stepper"),jQ=200,Sh=(t,e)=>String(t)===String(e),WQ={min:ze(1),max:ze(1/0),name:ze(""),step:ze(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:_e,showMinus:_e,showInput:_e,longPress:_e,autoFixed:_e,allowEmpty:Boolean,modelValue:Ce,inputWidth:Ce,buttonSize:Ce,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:ze(1),decimalLength:Ce};var XQ=we({name:zQ,props:WQ,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(t,{emit:e}){const r=(S,P=!0)=>{const{min:C,max:A,allowEmpty:T,decimalLength:I}=t;return T&&S===""||(S=my(String(S),!t.integer),S=S===""?0:+S,S=Number.isNaN(S)?+C:S,S=P?Math.max(Math.min(+A,S),+C):S,Ut(I)&&(S=S.toFixed(+I))),S},n=()=>{var S;const P=(S=t.modelValue)!=null?S:t.defaultValue,C=r(P);return Sh(C,t.modelValue)||e("update:modelValue",C),C};let i;const o=Z(),s=Z(n()),a=ne(()=>t.disabled||t.disableMinus||+s.value<=+t.min),l=ne(()=>t.disabled||t.disablePlus||+s.value>=+t.max),c=ne(()=>({width:rt(t.inputWidth),height:rt(t.buttonSize)})),u=ne(()=>Dl(t.buttonSize)),f=()=>{const S=r(s.value);Sh(S,s.value)||(s.value=S)},d=S=>{t.beforeChange?uu(t.beforeChange,{args:[S],done(){s.value=S}}):s.value=S},h=()=>{if(i==="plus"&&l.value||i==="minus"&&a.value){e("overlimit",i);return}const S=i==="minus"?-t.step:+t.step,P=r(kR(+s.value,S));d(P),e(i)},p=S=>{const P=S.target,{value:C}=P,{decimalLength:A}=t;let T=my(String(C),!t.integer);if(Ut(A)&&T.includes(".")){const B=T.split(".");T=`${B[0]}.${B[1].slice(0,+A)}`}t.beforeChange?P.value=String(s.value):Sh(C,T)||(P.value=T);const I=T===String(+T);d(I?+T:T)},y=S=>{var P;t.disableInput?(P=o.value)==null||P.blur():e("focus",S)},g=S=>{const P=S.target,C=r(P.value,t.autoFixed);P.value=String(C),s.value=C,Ye(()=>{e("blur",S),RR()})};let m,v;const _=()=>{v=setTimeout(()=>{h(),_()},jQ)},x=()=>{t.longPress&&(m=!1,clearTimeout(v),v=setTimeout(()=>{m=!0,h(),_()},UR))},b=S=>{t.longPress&&(clearTimeout(v),m&&Dr(S))},w=S=>{t.disableInput&&Dr(S)},E=S=>({onClick:P=>{Dr(P),i=S,h()},onTouchstartPassive:()=>{i=S,x()},onTouchend:b,onTouchcancel:b});return ye(()=>[t.max,t.min,t.integer,t.decimalLength],f),ye(()=>t.modelValue,S=>{Sh(S,s.value)||(s.value=r(S))}),ye(s,S=>{e("update:modelValue",S),e("change",S,{name:t.name})}),Ml(()=>t.modelValue),()=>R("div",{role:"group",class:Eh([t.theme])},[di(R("button",lt({type:"button",style:u.value,class:[Eh("minus",{disabled:a.value}),{[es]:!a.value}],"aria-disabled":a.value||void 0},E("minus")),null),[[pi,t.showMinus]]),di(R("input",{ref:o,type:t.integer?"tel":"text",role:"spinbutton",class:Eh("input"),value:s.value,style:c.value,disabled:t.disabled,readonly:t.disableInput,inputmode:t.integer?"numeric":"decimal",placeholder:t.placeholder,autocomplete:"off","aria-valuemax":t.max,"aria-valuemin":t.min,"aria-valuenow":s.value,onBlur:g,onInput:p,onFocus:y,onMousedown:w},null),[[pi,t.showInput]]),di(R("button",lt({type:"button",style:u.value,class:[Eh("plus",{disabled:l.value}),{[es]:!l.value}],"aria-disabled":l.value||void 0},E("plus")),null),[[pi,t.showPlus]])])}});const _Ae=Be(XQ),[YQ,vr,KQ]=Pe("uploader");function NS(t,e){return new Promise(r=>{if(e==="file"){r();return}const n=new FileReader;n.onload=i=>{r(i.target.result)},e==="dataUrl"?n.readAsDataURL(t):e==="text"&&n.readAsText(t)})}function G8(t,e){return Zp(t).some(r=>r.file?Fc(e)?e(r.file):r.file.size>+e:!1)}function qQ(t,e){const r=[],n=[];return t.forEach(i=>{G8(i,e)?n.push(i):r.push(i)}),{valid:r,invalid:n}}const ZQ=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,JQ=t=>ZQ.test(t);function H8(t){return t.isImage?!0:t.file&&t.file.type?t.file.type.indexOf("image")===0:t.url?JQ(t.url):typeof t.content=="string"?t.content.indexOf("data:image")===0:!1}var QQ=we({props:{name:Ce,item:un(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(t,{emit:e,slots:r}){const n=()=>{const{status:u,message:f}=t.item;if(u==="uploading"||u==="failed"){const d=u==="failed"?R(rr,{name:"close",class:vr("mask-icon")},null):R(us,{class:vr("loading")},null),h=Ut(f)&&f!=="";return R("div",{class:vr("mask")},[d,h&&R("div",{class:vr("mask-message")},[f])])}},i=u=>{const{name:f,item:d,index:h,beforeDelete:p}=t;u.stopPropagation(),uu(p,{args:[d,{name:f,index:h}],done:()=>e("delete")})},o=()=>e("preview"),s=()=>e("reupload"),a=()=>{if(t.deletable&&t.item.status!=="uploading"){const u=r["preview-delete"];return R("div",{role:"button",class:vr("preview-delete",{shadow:!u}),tabindex:0,"aria-label":KQ("delete"),onClick:i},[u?u():R(rr,{name:"cross",class:vr("preview-delete-icon")},null)])}},l=()=>{if(r["preview-cover"]){const{index:u,item:f}=t;return R("div",{class:vr("preview-cover")},[r["preview-cover"](We({index:u},f))])}},c=()=>{const{item:u,lazyLoad:f,imageFit:d,previewSize:h,reupload:p}=t;return H8(u)?R(x8,{fit:d,src:u.objectUrl||u.content||u.url,class:vr("preview-image"),width:Array.isArray(h)?h[0]:h,height:Array.isArray(h)?h[1]:h,lazyLoad:f,onClick:p?s:o},{default:l}):R("div",{class:vr("file"),style:Dl(t.previewSize)},[R(rr,{class:vr("file-icon"),name:"description"},null),R("div",{class:[vr("file-name"),"van-ellipsis"]},[u.file?u.file.name:u.url]),l()])};return()=>R("div",{class:vr("preview")},[c(),n(),a()])}});const eee={name:ze(""),accept:De("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:ze(1/0),imageFit:De("cover"),resultType:De("dataUrl"),uploadIcon:De("photograph"),uploadText:String,deletable:_e,reupload:Boolean,afterRead:Function,showUpload:_e,modelValue:Qo(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:_e,previewOptions:Object,previewFullImage:_e,maxSize:{type:[Number,String,Function],default:1/0}};var tee=we({name:YQ,props:eee,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(t,{emit:e,slots:r}){const n=Z(),i=[],o=Z(-1),s=Z(!1),a=(S=t.modelValue.length)=>({name:t.name,index:S}),l=()=>{n.value&&(n.value.value="")},c=S=>{if(l(),G8(S,t.maxSize))if(Array.isArray(S)){const P=qQ(S,t.maxSize);if(S=P.valid,e("oversize",P.invalid,a()),!S.length)return}else{e("oversize",S,a());return}if(S=Bt(S),o.value>-1){const P=[...t.modelValue];P.splice(o.value,1,S),e("update:modelValue",P),o.value=-1}else e("update:modelValue",[...t.modelValue,...Zp(S)]);t.afterRead&&t.afterRead(S,a())},u=S=>{const{maxCount:P,modelValue:C,resultType:A}=t;if(Array.isArray(S)){const T=+P-C.length;S.length>T&&(S=S.slice(0,T)),Promise.all(S.map(I=>NS(I,A))).then(I=>{const B=S.map((G,N)=>{const U={file:G,status:"",message:"",objectUrl:URL.createObjectURL(G)};return I[N]&&(U.content=I[N]),U});c(B)})}else NS(S,A).then(T=>{const I={file:S,status:"",message:"",objectUrl:URL.createObjectURL(S)};T&&(I.content=T),c(I)})},f=S=>{const{files:P}=S.target;if(t.disabled||!P||!P.length)return;const C=P.length===1?P[0]:[].slice.call(P);if(t.beforeRead){const A=t.beforeRead(C,a());if(!A){l();return}if(xb(A)){A.then(T=>{u(T||C)}).catch(l);return}}u(C)};let d;const h=()=>e("closePreview"),p=S=>{if(t.previewFullImage){const P=t.modelValue.filter(H8),C=P.map(A=>(A.objectUrl&&!A.url&&A.status!=="failed"&&(A.url=A.objectUrl,i.push(A.url)),A.url)).filter(Boolean);d=HZ(We({images:C,startPosition:P.indexOf(S),onClose:h},t.previewOptions))}},y=()=>{d&&d.close()},g=(S,P)=>{const C=t.modelValue.slice(0);C.splice(P,1),e("update:modelValue",C),e("delete",S,a(P))},m=S=>{s.value=!0,o.value=S,Ye(()=>E())},v=()=>{s.value||(o.value=-1),s.value=!1},_=(S,P)=>{const C=["imageFit","deletable","reupload","previewSize","beforeDelete"],A=We(Gt(t,C),Gt(S,C,!0));return R(QQ,lt({item:S,index:P,onClick:()=>e(t.reupload?"clickReupload":"clickPreview",S,a(P)),onDelete:()=>g(S,P),onPreview:()=>p(S),onReupload:()=>m(P)},Gt(t,["name","lazyLoad"]),A),Gt(r,["preview-cover","preview-delete"]))},x=()=>{if(t.previewImage)return t.modelValue.map(_)},b=S=>e("clickUpload",S),w=()=>{const S=t.modelValue.length<+t.maxCount,P=t.readonly?null:R("input",{ref:n,type:"file",class:vr("input"),accept:t.accept,capture:t.capture,multiple:t.multiple&&o.value===-1,disabled:t.disabled,onChange:f,onClick:v},null);return r.default?di(R("div",{class:vr("input-wrapper"),onClick:b},[r.default(),P]),[[pi,S]]):di(R("div",{class:vr("upload",{readonly:t.readonly}),style:Dl(t.previewSize),onClick:b},[R(rr,{name:t.uploadIcon,class:vr("upload-icon")},null),t.uploadText&&R("span",{class:vr("upload-text")},[t.uploadText]),P]),[[pi,t.showUpload&&S]])},E=()=>{n.value&&!t.disabled&&n.value.click()};return Zn(()=>{i.forEach(S=>URL.revokeObjectURL(S))}),qt({chooseFile:E,reuploadFile:m,closeImagePreview:y}),Ml(()=>t.modelValue),()=>R("div",{class:vr()},[R("div",{class:vr("wrapper",{disabled:t.disabled})},[x(),w()])])}});const xAe=Be(tee);/*!
  * shared v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function go(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const FS={};function Nb(t){FS[t]||(FS[t]=!0,go(t))}const Fi=typeof window<"u";let Hn,cl;{const t=Fi&&window.performance;t&&t.mark&&t.measure&&t.clearMarks&&t.clearMeasures&&(Hn=e=>{t.mark(e)},cl=(e,r,n)=>{t.measure(e,r,n),t.clearMarks(r),t.clearMarks(n)})}const ree=/\{([0-9a-zA-Z]+)\}/g;function Cg(t,...e){return e.length===1&&at(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(ree,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const wo=(t,e=!1)=>e?Symbol.for(t):Symbol(t),nee=(t,e,r)=>iee({l:t,k:e,s:r}),iee=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),cr=t=>typeof t=="number"&&isFinite(t),oee=t=>Fb(t)==="[object Date]",Gc=t=>Fb(t)==="[object RegExp]",Ag=t=>Ze(t)&&Object.keys(t).length===0,Er=Object.assign,see=Object.create,Tt=(t=null)=>see(t);let LS;const Fa=()=>LS||(LS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Tt());function $S(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function US(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function aee(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,i,o)=>`${i}="${US(o)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,i,o)=>`${i}='${US(o)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(go("Potentially dangerous event handlers detected in translation. Consider removing onclick, onerror, etc. from your translation messages."),t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{t=t.replace(n,"$1javascript&#58;")}),t}const lee=Object.prototype.hasOwnProperty;function Mi(t,e){return lee.call(t,e)}const Yt=Array.isArray,Pt=t=>typeof t=="function",Ee=t=>typeof t=="string",ut=t=>typeof t=="boolean",at=t=>t!==null&&typeof t=="object",cee=t=>at(t)&&Pt(t.then)&&Pt(t.catch),V8=Object.prototype.toString,Fb=t=>V8.call(t),Ze=t=>Fb(t)==="[object Object]",uee=t=>t==null?"":Yt(t)||Ze(t)&&t.toString===V8?JSON.stringify(t,null,2):String(t);function Lb(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const GS=2;function fee(t,e=0,r=t.length){const n=t.split(/\r?\n/);let i=0;const o=[];for(let s=0;s<n.length;s++)if(i+=n[s].length+1,i>=e){for(let a=s-GS;a<=s+GS||r>i;a++){if(a<0||a>=n.length)continue;const l=a+1;o.push(`${l}${" ".repeat(3-String(l).length)}|  ${n[a]}`);const c=n[a].length;if(a===s){const u=e-(i-c)+1,f=Math.max(1,r>i?c-u:r-e);o.push("   |  "+" ".repeat(u)+"^".repeat(f))}else if(a>s){if(r>i){const u=Math.max(Math.min(r-i,c),1);o.push("   |  "+"^".repeat(u))}i+=c+1}}break}return o.join(`
`)}function $b(){const t=new Map;return{events:t,on(r,n){const i=t.get(r);i&&i.push(n)||t.set(r,[n])},off(r,n){const i=t.get(r);i&&i.splice(i.indexOf(n)>>>0,1)},emit(r,n){(t.get(r)||[]).slice().map(i=>i(n)),(t.get("*")||[]).slice().map(i=>i(r,n))}}}const Ch=t=>!at(t)||Yt(t);function mp(t,e){if(Ch(t)||Ch(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(o=>{o!=="__proto__"&&(at(n[o])&&!at(i[o])&&(i[o]=Array.isArray(n[o])?[]:Tt()),Ch(i[o])||Ch(n[o])?i[o]=n[o]:r.push({src:n[o],des:i[o]}))})}}/*!
  * message-compiler v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function dee(t,e,r){return{line:t,column:e,offset:r}}function Ty(t,e,r){const n={start:t,end:e};return r!=null&&(n.source=r),n}const Ve={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},hee=17,pee={[Ve.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ve.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ve.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ve.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ve.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ve.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ve.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ve.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ve.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ve.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ve.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ve.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ve.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ve.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ve.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ve.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function du(t,e,r={}){const{domain:n,messages:i,args:o}=r,s=Cg((i||pee)[t]||"",...o||[]),a=new SyntaxError(String(s));return a.code=t,e&&(a.location=e),a.domain=n,a}function gee(t){throw t}const mee=/<\/?[\w\s="/.':;#-\/]+>/,vee=t=>mee.test(t),Ao=" ",yee="\r",sn=`
`,_ee=String.fromCharCode(8232),xee=String.fromCharCode(8233);function bee(t){const e=t;let r=0,n=1,i=1,o=0;const s=E=>e[E]===yee&&e[E+1]===sn,a=E=>e[E]===sn,l=E=>e[E]===xee,c=E=>e[E]===_ee,u=E=>s(E)||a(E)||l(E)||c(E),f=()=>r,d=()=>n,h=()=>i,p=()=>o,y=E=>s(E)||l(E)||c(E)?sn:e[E],g=()=>y(r),m=()=>y(r+o);function v(){return o=0,u(r)&&(n++,i=0),s(r)&&r++,r++,i++,e[r]}function _(){return s(r+o)&&o++,o++,e[r+o]}function x(){r=0,n=1,i=1,o=0}function b(E=0){o=E}function w(){const E=r+o;for(;E!==r;)v();o=0}return{index:f,line:d,column:h,peekOffset:p,charAt:y,currentChar:g,currentPeek:m,next:v,peek:_,reset:x,resetPeek:b,skipToPeek:w}}const vs=void 0,wee=".",HS="'",Eee="tokenizer";function See(t,e={}){const r=e.location!==!1,n=bee(t),i=()=>n.index(),o=()=>dee(n.line(),n.column(),n.index()),s=o(),a=i(),l={currentType:13,offset:a,startLoc:s,endLoc:s,lastType:13,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function f(M,k,H,...Q){const le=c();if(k.column+=H,k.offset+=H,u){const ve=r?Ty(le.startLoc,k):null,he=du(M,ve,{domain:Eee,args:Q});u(he)}}function d(M,k,H){M.endLoc=o(),M.currentType=k;const Q={type:k};return r&&(Q.loc=Ty(M.startLoc,M.endLoc)),H!=null&&(Q.value=H),Q}const h=M=>d(M,13);function p(M,k){return M.currentChar()===k?(M.next(),k):(f(Ve.EXPECTED_TOKEN,o(),0,k),"")}function y(M){let k="";for(;M.currentPeek()===Ao||M.currentPeek()===sn;)k+=M.currentPeek(),M.peek();return k}function g(M){const k=y(M);return M.skipToPeek(),k}function m(M){if(M===vs)return!1;const k=M.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function v(M){if(M===vs)return!1;const k=M.charCodeAt(0);return k>=48&&k<=57}function _(M,k){const{currentType:H}=k;if(H!==2)return!1;y(M);const Q=m(M.currentPeek());return M.resetPeek(),Q}function x(M,k){const{currentType:H}=k;if(H!==2)return!1;y(M);const Q=M.currentPeek()==="-"?M.peek():M.currentPeek(),le=v(Q);return M.resetPeek(),le}function b(M,k){const{currentType:H}=k;if(H!==2)return!1;y(M);const Q=M.currentPeek()===HS;return M.resetPeek(),Q}function w(M,k){const{currentType:H}=k;if(H!==7)return!1;y(M);const Q=M.currentPeek()===".";return M.resetPeek(),Q}function E(M,k){const{currentType:H}=k;if(H!==8)return!1;y(M);const Q=m(M.currentPeek());return M.resetPeek(),Q}function S(M,k){const{currentType:H}=k;if(!(H===7||H===11))return!1;y(M);const Q=M.currentPeek()===":";return M.resetPeek(),Q}function P(M,k){const{currentType:H}=k;if(H!==9)return!1;const Q=()=>{const ve=M.currentPeek();return ve==="{"?m(M.peek()):ve==="@"||ve==="|"||ve===":"||ve==="."||ve===Ao||!ve?!1:ve===sn?(M.peek(),Q()):A(M,!1)},le=Q();return M.resetPeek(),le}function C(M){y(M);const k=M.currentPeek()==="|";return M.resetPeek(),k}function A(M,k=!0){const H=(le=!1,ve="")=>{const he=M.currentPeek();return he==="{"||he==="@"||!he?le:he==="|"?!(ve===Ao||ve===sn):he===Ao?(M.peek(),H(!0,Ao)):he===sn?(M.peek(),H(!0,sn)):!0},Q=H();return k&&M.resetPeek(),Q}function T(M,k){const H=M.currentChar();return H===vs?vs:k(H)?(M.next(),H):null}function I(M){const k=M.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function B(M){return T(M,I)}function G(M){const k=M.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function N(M){return T(M,G)}function U(M){const k=M.charCodeAt(0);return k>=48&&k<=57}function W(M){return T(M,U)}function K(M){const k=M.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function fe(M){return T(M,K)}function ue(M){let k="",H="";for(;k=W(M);)H+=k;return H}function Y(M){let k="";for(;;){const H=M.currentChar();if(H==="{"||H==="}"||H==="@"||H==="|"||!H)break;if(H===Ao||H===sn)if(A(M))k+=H,M.next();else{if(C(M))break;k+=H,M.next()}else k+=H,M.next()}return k}function ie(M){g(M);let k="",H="";for(;k=N(M);)H+=k;return M.currentChar()===vs&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),H}function ge(M){g(M);let k="";return M.currentChar()==="-"?(M.next(),k+=`-${ue(M)}`):k+=ue(M),M.currentChar()===vs&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),k}function F(M){return M!==HS&&M!==sn}function q(M){g(M),p(M,"'");let k="",H="";for(;k=T(M,F);)k==="\\"?H+=L(M):H+=k;const Q=M.currentChar();return Q===sn||Q===vs?(f(Ve.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),Q===sn&&(M.next(),p(M,"'")),H):(p(M,"'"),H)}function L(M){const k=M.currentChar();switch(k){case"\\":case"'":return M.next(),`\\${k}`;case"u":return ee(M,k,4);case"U":return ee(M,k,6);default:return f(Ve.UNKNOWN_ESCAPE_SEQUENCE,o(),0,k),""}}function ee(M,k,H){p(M,k);let Q="";for(let le=0;le<H;le++){const ve=fe(M);if(!ve){f(Ve.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${k}${Q}${M.currentChar()}`);break}Q+=ve}return`\\${k}${Q}`}function J(M){return M!=="{"&&M!=="}"&&M!==Ao&&M!==sn}function de(M){g(M);let k="",H="";for(;k=T(M,J);)H+=k;return H}function pe(M){let k="",H="";for(;k=B(M);)H+=k;return H}function xe(M){const k=H=>{const Q=M.currentChar();return Q==="{"||Q==="@"||Q==="|"||Q==="("||Q===")"||!Q||Q===Ao?H:(H+=Q,M.next(),k(H))};return k("")}function O(M){g(M);const k=p(M,"|");return g(M),k}function $(M,k){let H=null;switch(M.currentChar()){case"{":return k.braceNest>=1&&f(Ve.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),M.next(),H=d(k,2,"{"),g(M),k.braceNest++,H;case"}":return k.braceNest>0&&k.currentType===2&&f(Ve.EMPTY_PLACEHOLDER,o(),0),M.next(),H=d(k,3,"}"),k.braceNest--,k.braceNest>0&&g(M),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),H;case"@":return k.braceNest>0&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),H=j(M,k)||h(k),k.braceNest=0,H;default:{let le=!0,ve=!0,he=!0;if(C(M))return k.braceNest>0&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),H=d(k,1,O(M)),k.braceNest=0,k.inLinked=!1,H;if(k.braceNest>0&&(k.currentType===4||k.currentType===5||k.currentType===6))return f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),k.braceNest=0,ae(M,k);if(le=_(M,k))return H=d(k,4,ie(M)),g(M),H;if(ve=x(M,k))return H=d(k,5,ge(M)),g(M),H;if(he=b(M,k))return H=d(k,6,q(M)),g(M),H;if(!le&&!ve&&!he)return H=d(k,12,de(M)),f(Ve.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,H.value),g(M),H;break}}return H}function j(M,k){const{currentType:H}=k;let Q=null;const le=M.currentChar();switch((H===7||H===8||H===11||H===9)&&(le===sn||le===Ao)&&f(Ve.INVALID_LINKED_FORMAT,o(),0),le){case"@":return M.next(),Q=d(k,7,"@"),k.inLinked=!0,Q;case".":return g(M),M.next(),d(k,8,".");case":":return g(M),M.next(),d(k,9,":");default:return C(M)?(Q=d(k,1,O(M)),k.braceNest=0,k.inLinked=!1,Q):w(M,k)||S(M,k)?(g(M),j(M,k)):E(M,k)?(g(M),d(k,11,pe(M))):P(M,k)?(g(M),le==="{"?$(M,k)||Q:d(k,10,xe(M))):(H===7&&f(Ve.INVALID_LINKED_FORMAT,o(),0),k.braceNest=0,k.inLinked=!1,ae(M,k))}}function ae(M,k){let H={type:13};if(k.braceNest>0)return $(M,k)||h(k);if(k.inLinked)return j(M,k)||h(k);switch(M.currentChar()){case"{":return $(M,k)||h(k);case"}":return f(Ve.UNBALANCED_CLOSING_BRACE,o(),0),M.next(),d(k,3,"}");case"@":return j(M,k)||h(k);default:{if(C(M))return H=d(k,1,O(M)),k.braceNest=0,k.inLinked=!1,H;if(A(M))return d(k,0,Y(M));break}}return H}function ce(){const{currentType:M,offset:k,startLoc:H,endLoc:Q}=l;return l.lastType=M,l.lastOffset=k,l.lastStartLoc=H,l.lastEndLoc=Q,l.offset=i(),l.startLoc=o(),n.currentChar()===vs?d(l,13):ae(n,l)}return{nextToken:ce,currentOffset:i,currentPosition:o,context:c}}const Cee="parser",Aee=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Tee(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function Pee(t={}){const e=t.location!==!1,{onError:r}=t;function n(m,v,_,x,...b){const w=m.currentPosition();if(w.offset+=x,w.column+=x,r){const E=e?Ty(_,w):null,S=du(v,E,{domain:Cee,args:b});r(S)}}function i(m,v,_){const x={type:m};return e&&(x.start=v,x.end=v,x.loc={start:_,end:_}),x}function o(m,v,_,x){e&&(m.end=v,m.loc&&(m.loc.end=_))}function s(m,v){const _=m.context(),x=i(3,_.offset,_.startLoc);return x.value=v,o(x,m.currentOffset(),m.currentPosition()),x}function a(m,v){const _=m.context(),{lastOffset:x,lastStartLoc:b}=_,w=i(5,x,b);return w.index=parseInt(v,10),m.nextToken(),o(w,m.currentOffset(),m.currentPosition()),w}function l(m,v){const _=m.context(),{lastOffset:x,lastStartLoc:b}=_,w=i(4,x,b);return w.key=v,m.nextToken(),o(w,m.currentOffset(),m.currentPosition()),w}function c(m,v){const _=m.context(),{lastOffset:x,lastStartLoc:b}=_,w=i(9,x,b);return w.value=v.replace(Aee,Tee),m.nextToken(),o(w,m.currentOffset(),m.currentPosition()),w}function u(m){const v=m.nextToken(),_=m.context(),{lastOffset:x,lastStartLoc:b}=_,w=i(8,x,b);return v.type!==11?(n(m,Ve.UNEXPECTED_EMPTY_LINKED_MODIFIER,_.lastStartLoc,0),w.value="",o(w,x,b),{nextConsumeToken:v,node:w}):(v.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,zi(v)),w.value=v.value||"",o(w,m.currentOffset(),m.currentPosition()),{node:w})}function f(m,v){const _=m.context(),x=i(7,_.offset,_.startLoc);return x.value=v,o(x,m.currentOffset(),m.currentPosition()),x}function d(m){const v=m.context(),_=i(6,v.offset,v.startLoc);let x=m.nextToken();if(x.type===8){const b=u(m);_.modifier=b.node,x=b.nextConsumeToken||m.nextToken()}switch(x.type!==9&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(x)),x=m.nextToken(),x.type===2&&(x=m.nextToken()),x.type){case 10:x.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(x)),_.key=f(m,x.value||"");break;case 4:x.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(x)),_.key=l(m,x.value||"");break;case 5:x.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(x)),_.key=a(m,x.value||"");break;case 6:x.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(x)),_.key=c(m,x.value||"");break;default:{n(m,Ve.UNEXPECTED_EMPTY_LINKED_KEY,v.lastStartLoc,0);const b=m.context(),w=i(7,b.offset,b.startLoc);return w.value="",o(w,b.offset,b.startLoc),_.key=w,o(_,b.offset,b.startLoc),{nextConsumeToken:x,node:_}}}return o(_,m.currentOffset(),m.currentPosition()),{node:_}}function h(m){const v=m.context(),_=v.currentType===1?m.currentOffset():v.offset,x=v.currentType===1?v.endLoc:v.startLoc,b=i(2,_,x);b.items=[];let w=null;do{const P=w||m.nextToken();switch(w=null,P.type){case 0:P.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(P)),b.items.push(s(m,P.value||""));break;case 5:P.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(P)),b.items.push(a(m,P.value||""));break;case 4:P.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(P)),b.items.push(l(m,P.value||""));break;case 6:P.value==null&&n(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,zi(P)),b.items.push(c(m,P.value||""));break;case 7:{const C=d(m);b.items.push(C.node),w=C.nextConsumeToken||null;break}}}while(v.currentType!==13&&v.currentType!==1);const E=v.currentType===1?v.lastOffset:m.currentOffset(),S=v.currentType===1?v.lastEndLoc:m.currentPosition();return o(b,E,S),b}function p(m,v,_,x){const b=m.context();let w=x.items.length===0;const E=i(1,v,_);E.cases=[],E.cases.push(x);do{const S=h(m);w||(w=S.items.length===0),E.cases.push(S)}while(b.currentType!==13);return w&&n(m,Ve.MUST_HAVE_MESSAGES_IN_PLURAL,_,0),o(E,m.currentOffset(),m.currentPosition()),E}function y(m){const v=m.context(),{offset:_,startLoc:x}=v,b=h(m);return v.currentType===13?b:p(m,_,x,b)}function g(m){const v=See(m,Er({},t)),_=v.context(),x=i(0,_.offset,_.startLoc);return e&&x.loc&&(x.loc.source=m),x.body=y(v),t.onCacheKey&&(x.cacheKey=t.onCacheKey(m)),_.currentType!==13&&n(v,Ve.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,m[_.offset]||""),o(x,v.currentOffset(),v.currentPosition()),x}return{parse:g}}function zi(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function Iee(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:o=>(r.helpers.add(o),o)}}function VS(t,e){for(let r=0;r<t.length;r++)Ub(t[r],e)}function Ub(t,e){switch(t.type){case 1:VS(t.cases,e),e.helper("plural");break;case 2:VS(t.items,e);break;case 6:{Ub(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Oee(t,e={}){const r=Iee(t);r.helper("normalize"),t.body&&Ub(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function Ree(t){const e=t.body;return e.type===2?zS(e):e.cases.forEach(r=>zS(r)),t}function zS(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=Lb(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const Mee="minifier";function uc(t){switch(t.t=t.type,t.type){case 0:{const e=t;uc(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)uc(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)uc(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;uc(e.key),e.k=e.key,delete e.key,e.modifier&&(uc(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw du(Ve.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Mee,args:[t.type]})}delete t.type}const Dee="parser";function Bee(t,e){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:o}=e,s=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};s&&t.loc&&(a.source=t.loc.source);const l=()=>a;function c(g,m){a.code+=g}function u(g,m=!0){const v=m?i:"";c(o?v+"  ".repeat(g):v)}function f(g=!0){const m=++a.indentLevel;g&&u(m)}function d(g=!0){const m=--a.indentLevel;g&&u(m)}function h(){u(a.indentLevel)}return{context:l,push:c,indent:f,deindent:d,newline:h,helper:g=>`_${g}`,needIndent:()=>a.needIndent}}function kee(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),Hc(t,e.key),e.modifier?(t.push(", "),Hc(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Nee(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let o=0;o<i&&(Hc(t,e.items[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}function Fee(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let o=0;o<i&&(Hc(t,e.cases[o]),o!==i-1);o++)t.push(", ");t.deindent(n()),t.push("])")}}function Lee(t,e){e.body?Hc(t,e.body):t.push("null")}function Hc(t,e){const{helper:r}=t;switch(e.type){case 0:Lee(t,e);break;case 1:Fee(t,e);break;case 2:Nee(t,e);break;case 6:kee(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw du(Ve.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Dee,args:[e.type]})}}const $ee=(t,e={})=>{const r=Ee(e.mode)?e.mode:"normal",n=Ee(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,o=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",a=t.helpers||[],l=Bee(t,{mode:r,filename:n,sourceMap:i,breakLineCode:o,needIndent:s});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${Lb(a.map(f=>`${f}: _${f}`),", ")} } = ctx`),l.newline()),l.push("return "),Hc(l,t),l.deindent(s),l.push("}"),delete t.helpers;const{code:c,map:u}=l.context();return{ast:t,code:c,map:u?u.toJSON():void 0}};function Uee(t,e={}){const r=Er({},e),n=!!r.jit,i=!!r.minify,o=r.optimize==null?!0:r.optimize,a=Pee(r).parse(t);return n?(o&&Ree(a),i&&uc(a),{ast:a,code:""}):(Oee(a,r),$ee(a,r))}/*!
  * core-base v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Gee(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Fa().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Fa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function gi(t){return at(t)&&Gb(t)===0&&(Mi(t,"b")||Mi(t,"body"))}const z8=["b","body"];function Hee(t){return la(t,z8)}const j8=["c","cases"];function Vee(t){return la(t,j8,[])}const W8=["s","static"];function zee(t){return la(t,W8)}const X8=["i","items"];function jee(t){return la(t,X8,[])}const Y8=["t","type"];function Gb(t){return la(t,Y8)}const K8=["v","value"];function Ah(t,e){const r=la(t,K8);if(r!=null)return r;throw Kf(e)}const q8=["m","modifier"];function Wee(t){return la(t,q8)}const Z8=["k","key"];function Xee(t){const e=la(t,Z8);if(e)return e;throw Kf(6)}function la(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(Mi(t,i)&&t[i]!=null)return t[i]}return r}const J8=[...z8,...j8,...W8,...X8,...Z8,...q8,...K8,...Y8];function Kf(t){return new Error(`unhandled node type: ${t}`)}function Dm(t){return r=>Yee(r,t)}function Yee(t,e){const r=Hee(e);if(r==null)throw Kf(0);if(Gb(r)===1){const o=Vee(r);return t.plural(o.reduce((s,a)=>[...s,jS(t,a)],[]))}else return jS(t,r)}function jS(t,e){const r=zee(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const n=jee(e).reduce((i,o)=>[...i,Py(t,o)],[]);return t.normalize(n)}}function Py(t,e){const r=Gb(e);switch(r){case 3:return Ah(e,r);case 9:return Ah(e,r);case 4:{const n=e;if(Mi(n,"k")&&n.k)return t.interpolate(t.named(n.k));if(Mi(n,"key")&&n.key)return t.interpolate(t.named(n.key));throw Kf(r)}case 5:{const n=e;if(Mi(n,"i")&&cr(n.i))return t.interpolate(t.list(n.i));if(Mi(n,"index")&&cr(n.index))return t.interpolate(t.list(n.index));throw Kf(r)}case 6:{const n=e,i=Wee(n),o=Xee(n);return t.linked(Py(t,o),i?Py(t,i):void 0,t.type)}case 7:return Ah(e,r);case 8:return Ah(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const Kee="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function qee(t,e){e&&vee(t)&&go(Cg(Kee,{source:t}))}const Zee=t=>t;let Th=Tt();function Jee(t,e={}){let r=!1;const n=e.onError||gee;return e.onError=i=>{r=!0,n(i)},{...Uee(t,e),detectError:r}}function Qee(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ee(t)){const r=ut(e.warnHtmlMessage)?e.warnHtmlMessage:!0;qee(t,r);const i=(e.onCacheKey||Zee)(t),o=Th[i];if(o)return o;const{ast:s,detectError:a}=Jee(t,{...e,location:!0,jit:!0}),l=Dm(s);return a?l:Th[i]=l}else{if(!gi(t))return go(`the message that is resolve with key '${e.key}' is not supported for jit compilation`),()=>t;const r=t.cacheKey;if(r){const n=Th[r];return n||(Th[r]=Dm(t))}else return Dm(t)}}let qf=null;function ete(t){qf=t}function tte(t,e,r){qf&&qf.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const rte=nte("function:translate");function nte(t){return e=>qf&&qf.emit(t,e)}const Xr={INVALID_ARGUMENT:hee,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},ite=24;function Ho(t){return du(t,null,{messages:ote})}const ote={[Xr.INVALID_ARGUMENT]:"Invalid arguments",[Xr.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[Xr.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[Xr.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[Xr.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[Xr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[Xr.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function Hb(t,e){return e.locale!=null?WS(e.locale):WS(t.locale)}let Bm;function WS(t){if(Ee(t))return t;if(Pt(t)){if(t.resolvedOnce&&Bm!=null)return Bm;if(t.constructor.name==="Function"){const e=t();if(cee(e))throw Ho(Xr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Bm=e}else throw Ho(Xr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Ho(Xr.NOT_SUPPORT_LOCALE_TYPE)}function ste(t,e,r){return[...new Set([r,...Yt(e)?e:at(e)?Object.keys(e):Ee(e)?[e]:[r]])]}function Q8(t,e,r){const n=Ee(r)?r:Zf,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(n);if(!o){o=[];let s=[r];for(;Yt(s);)s=XS(o,s,e);const a=Yt(e)||!Ze(e)?e:e.default?e.default:null;s=Ee(a)?[a]:a,Yt(s)&&XS(o,s,!1),i.__localeChainCache.set(n,o)}return o}function XS(t,e,r){let n=!0;for(let i=0;i<e.length&&ut(n);i++){const o=e[i];Ee(o)&&(n=ate(t,e[i],r))}return n}function ate(t,e,r){let n;const i=e.split("-");do{const o=i.join("-");n=lte(t,o,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function lte(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Yt(r)||Ze(r))&&r[i]&&(n=r[i])}return n}const ca=[];ca[0]={w:[0],i:[3,0],"[":[4],o:[7]};ca[1]={w:[1],".":[2],"[":[4],o:[7]};ca[2]={w:[2],i:[3,0],0:[3,0]};ca[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ca[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ca[5]={"'":[4,0],o:8,l:[5,0]};ca[6]={'"':[4,0],o:8,l:[6,0]};const cte=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ute(t){return cte.test(t)}function fte(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function dte(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function hte(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:ute(e)?fte(e):"*"+e}function pte(t){const e=[];let r=-1,n=0,i=0,o,s,a,l,c,u,f;const d=[];d[0]=()=>{s===void 0?s=a:s+=a},d[1]=()=>{s!==void 0&&(e.push(s),s=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,n=4,d[0]();else{if(i=0,s===void 0||(s=hte(s),s===!1))return!1;d[1]()}};function h(){const p=t[r+1];if(n===5&&p==="'"||n===6&&p==='"')return r++,a="\\"+p,d[0](),!0}for(;n!==null;)if(r++,o=t[r],!(o==="\\"&&h())){if(l=dte(o),f=ca[n],c=f[l]||f.l||8,c===8||(n=c[0],c[1]!==void 0&&(u=d[c[1]],u&&(a=o,u()===!1))))return;if(n===7)return e}}const YS=new Map;function gte(t,e){return at(t)?t[e]:null}function mte(t,e){if(!at(t))return null;let r=YS.get(e);if(r||(r=pte(e),r&&YS.set(e,r)),!r)return null;const n=r.length;let i=t,o=0;for(;o<n;){const s=r[o];if(J8.includes(s)&&gi(i))return null;const a=i[s];if(a===void 0||Pt(i))return null;i=a,o++}return i}const bn={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7},vte=8,yte={[bn.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[bn.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[bn.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[bn.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[bn.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[bn.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[bn.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function ul(t,...e){return Cg(yte[t],...e)}const _te="11.1.11",Tg=-1,Zf="en-US",n0="",KS=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function xte(){return{upper:(t,e)=>e==="text"&&Ee(t)?t.toUpperCase():e==="vnode"&&at(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ee(t)?t.toLowerCase():e==="vnode"&&at(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ee(t)?KS(t):e==="vnode"&&at(t)&&"__v_isVNode"in t?KS(t.children):t}}let eM;function bte(t){eM=t}let tM;function wte(t){tM=t}let rM;function Ete(t){rM=t}let nM=null;const Ste=t=>{nM=t},Cte=()=>nM;let iM=null;const qS=t=>{iM=t},Ate=()=>iM;let ZS=0;function Tte(t={}){const e=Pt(t.onWarn)?t.onWarn:go,r=Ee(t.version)?t.version:_te,n=Ee(t.locale)||Pt(t.locale)?t.locale:Zf,i=Pt(n)?Zf:n,o=Yt(t.fallbackLocale)||Ze(t.fallbackLocale)||Ee(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,s=Ze(t.messages)?t.messages:km(i),a=Ze(t.datetimeFormats)?t.datetimeFormats:km(i),l=Ze(t.numberFormats)?t.numberFormats:km(i),c=Er(Tt(),t.modifiers,xte()),u=t.pluralRules||Tt(),f=Pt(t.missing)?t.missing:null,d=ut(t.missingWarn)||Gc(t.missingWarn)?t.missingWarn:!0,h=ut(t.fallbackWarn)||Gc(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,y=!!t.unresolving,g=Pt(t.postTranslation)?t.postTranslation:null,m=Ze(t.processor)?t.processor:null,v=ut(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,x=Pt(t.messageCompiler)?t.messageCompiler:eM;Pt(t.messageCompiler)&&Nb(ul(bn.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const b=Pt(t.messageResolver)?t.messageResolver:tM||gte,w=Pt(t.localeFallbacker)?t.localeFallbacker:rM||ste,E=at(t.fallbackContext)?t.fallbackContext:void 0,S=t,P=at(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,C=at(S.__numberFormatters)?S.__numberFormatters:new Map,A=at(S.__meta)?S.__meta:{};ZS++;const T={version:r,cid:ZS,locale:n,fallbackLocale:o,messages:s,modifiers:c,pluralRules:u,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:p,unresolving:y,postTranslation:g,processor:m,warnHtmlMessage:v,escapeParameter:_,messageCompiler:x,messageResolver:b,localeFallbacker:w,fallbackContext:E,onWarn:e,__meta:A};return T.datetimeFormats=a,T.numberFormats=l,T.__datetimeFormatters=P,T.__numberFormatters=C,T.__v_emitter=S.__v_emitter!=null?S.__v_emitter:void 0,tte(T,r,A),T}const km=t=>({[t]:Tt()});function Pg(t,e){return t instanceof RegExp?t.test(e):t}function oM(t,e){return t instanceof RegExp?t.test(e):t}function Vb(t,e,r,n,i){const{missing:o,onWarn:s}=t;{const a=t.__v_emitter;a&&a.emit("missing",{locale:r,key:e,type:i,groupId:`${i}:${e}`})}if(o!==null){const a=o(t,r,e,i);return Ee(a)?a:e}else return oM(n,e)&&s(ul(bn.NOT_FOUND_KEY,{key:e,locale:r})),e}function Mu(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function sM(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Pte(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(sM(t,e[n]))return!0;return!1}const JS=typeof Intl<"u",aM={dateTimeFormat:JS&&typeof Intl.DateTimeFormat<"u",numberFormat:JS&&typeof Intl.NumberFormat<"u"};function QS(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__datetimeFormatters:a}=t;if(!aM.dateTimeFormat)return o(ul(bn.CANNOT_FORMAT_DATE)),n0;const[l,c,u,f]=Iy(...e),d=ut(u.missingWarn)?u.missingWarn:t.missingWarn,h=ut(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,p=!!u.part,y=Hb(t,u),g=s(t,i,y);if(!Ee(l)||l==="")return new Intl.DateTimeFormat(y,f).format(c);let m={},v,_=null,x=y,b=null;const w="datetime format";for(let P=0;P<g.length;P++){if(v=b=g[P],y!==v&&Pg(h,l)&&o(ul(bn.FALLBACK_TO_DATE_FORMAT,{key:l,target:v})),y!==v){const C=t.__v_emitter;C&&C.emit("fallback",{type:w,key:l,from:x,to:b,groupId:`${w}:${l}`})}if(m=r[v]||{},_=m[l],Ze(_))break;Vb(t,l,v,d,w),x=b}if(!Ze(_)||!Ee(v))return n?Tg:l;let E=`${v}__${l}`;Ag(f)||(E=`${E}__${JSON.stringify(f)}`);let S=a.get(E);return S||(S=new Intl.DateTimeFormat(v,Er({},_,f)),a.set(E,S)),p?S.formatToParts(c):S.format(c)}const lM=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Iy(...t){const[e,r,n,i]=t,o=Tt();let s=Tt(),a;if(Ee(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Ho(Xr.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Ho(Xr.INVALID_ISO_DATE_ARGUMENT)}}else if(oee(e)){if(isNaN(e.getTime()))throw Ho(Xr.INVALID_DATE_ARGUMENT);a=e}else if(cr(e))a=e;else throw Ho(Xr.INVALID_ARGUMENT);return Ee(r)?o.key=r:Ze(r)&&Object.keys(r).forEach(l=>{lM.includes(l)?s[l]=r[l]:o[l]=r[l]}),Ee(n)?o.locale=n:Ze(n)&&(s=n),Ze(i)&&(s=i),[o.key||"",a,o,s]}function eC(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__datetimeFormatters.has(o)&&n.__datetimeFormatters.delete(o)}}function tC(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__numberFormatters:a}=t;if(!aM.numberFormat)return o(ul(bn.CANNOT_FORMAT_NUMBER)),n0;const[l,c,u,f]=Oy(...e),d=ut(u.missingWarn)?u.missingWarn:t.missingWarn,h=ut(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,p=!!u.part,y=Hb(t,u),g=s(t,i,y);if(!Ee(l)||l==="")return new Intl.NumberFormat(y,f).format(c);let m={},v,_=null,x=y,b=null;const w="number format";for(let P=0;P<g.length;P++){if(v=b=g[P],y!==v&&Pg(h,l)&&o(ul(bn.FALLBACK_TO_NUMBER_FORMAT,{key:l,target:v})),y!==v){const C=t.__v_emitter;C&&C.emit("fallback",{type:w,key:l,from:x,to:b,groupId:`${w}:${l}`})}if(m=r[v]||{},_=m[l],Ze(_))break;Vb(t,l,v,d,w),x=b}if(!Ze(_)||!Ee(v))return n?Tg:l;let E=`${v}__${l}`;Ag(f)||(E=`${E}__${JSON.stringify(f)}`);let S=a.get(E);return S||(S=new Intl.NumberFormat(v,Er({},_,f)),a.set(E,S)),p?S.formatToParts(c):S.format(c)}const cM=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Oy(...t){const[e,r,n,i]=t,o=Tt();let s=Tt();if(!cr(e))throw Ho(Xr.INVALID_ARGUMENT);const a=e;return Ee(r)?o.key=r:Ze(r)&&Object.keys(r).forEach(l=>{cM.includes(l)?s[l]=r[l]:o[l]=r[l]}),Ee(n)?o.locale=n:Ze(n)&&(s=n),Ze(i)&&(s=i),[o.key||"",a,o,s]}function rC(t,e,r){const n=t;for(const i in r){const o=`${e}__${i}`;n.__numberFormatters.has(o)&&n.__numberFormatters.delete(o)}}const Ite=t=>t,Ote=t=>"",Rte="text",Mte=t=>t.length===0?"":Lb(t),Dte=uee;function nC(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Bte(t){const e=cr(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(cr(t.named.count)||cr(t.named.n))?cr(t.named.count)?t.named.count:cr(t.named.n)?t.named.n:e:e}function kte(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Nte(t={}){const e=t.locale,r=Bte(t),n=at(t.pluralRules)&&Ee(e)&&Pt(t.pluralRules[e])?t.pluralRules[e]:nC,i=at(t.pluralRules)&&Ee(e)&&Pt(t.pluralRules[e])?nC:void 0,o=m=>m[n(r,m.length,i)],s=t.list||[],a=m=>s[m],l=t.named||Tt();cr(t.pluralIndex)&&kte(r,l);const c=m=>l[m];function u(m,v){const _=Pt(t.messages)?t.messages(m,!!v):at(t.messages)?t.messages[m]:!1;return _||(t.parent?t.parent.message(m):Ote)}const f=m=>t.modifiers?t.modifiers[m]:Ite,d=Ze(t.processor)&&Pt(t.processor.normalize)?t.processor.normalize:Mte,h=Ze(t.processor)&&Pt(t.processor.interpolate)?t.processor.interpolate:Dte,p=Ze(t.processor)&&Ee(t.processor.type)?t.processor.type:Rte,g={list:a,named:c,plural:o,linked:(m,...v)=>{const[_,x]=v;let b="text",w="";v.length===1?at(_)?(w=_.modifier||w,b=_.type||b):Ee(_)&&(w=_||w):v.length===2&&(Ee(_)&&(w=_||w),Ee(x)&&(b=x||b));const E=u(m,!0)(g),S=b==="vnode"&&Yt(E)&&w?E[0]:E;return w?f(w)(S,b):S},message:u,type:p,interpolate:h,normalize:d,values:Er(Tt(),s,l)};return g}const iC=()=>"",ai=t=>Pt(t);function oC(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=t,[l,c]=Ry(...e),u=ut(c.missingWarn)?c.missingWarn:t.missingWarn,f=ut(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,d=ut(c.escapeParameter)?c.escapeParameter:t.escapeParameter,h=!!c.resolvedMessage,p=Ee(c.default)||ut(c.default)?ut(c.default)?o?l:()=>l:c.default:r?o?l:()=>l:null,y=r||p!=null&&(Ee(p)||Pt(p)),g=Hb(t,c);d&&Fte(c);let[m,v,_]=h?[l,g,a[g]||Tt()]:uM(t,l,g,s,f,u),x=m,b=l;if(!h&&!(Ee(x)||gi(x)||ai(x))&&y&&(x=p,b=x),!h&&(!(Ee(x)||gi(x)||ai(x))||!Ee(v)))return i?Tg:l;if(Ee(x)&&t.messageCompiler==null)return go(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${l}'.`),l;let w=!1;const E=()=>{w=!0},S=ai(x)?x:fM(t,l,v,x,b,E);if(w)return x;const P=Gte(t,v,_,c),C=Nte(P),A=Lte(t,S,C);let T=n?n(A,l):A;d&&Ee(T)&&(T=aee(T));{const I={timestamp:Date.now(),key:Ee(l)?l:ai(x)?x.key:"",locale:v||(ai(x)?x.locale:""),format:Ee(x)?x:ai(x)?x.source:"",message:T};I.meta=Er({},t.__meta,Cte()||{}),rte(I)}return T}function Fte(t){Yt(t.list)?t.list=t.list.map(e=>Ee(e)?$S(e):e):at(t.named)&&Object.keys(t.named).forEach(e=>{Ee(t.named[e])&&(t.named[e]=$S(t.named[e]))})}function uM(t,e,r,n,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,n,r);let f=Tt(),d,h=null,p=r,y=null;const g="translate";for(let m=0;m<u.length;m++){if(d=y=u[m],r!==d&&!sM(r,d)&&Pg(i,e)&&a(ul(bn.FALLBACK_TO_TRANSLATE,{key:e,target:d})),r!==d){const b=t.__v_emitter;b&&b.emit("fallback",{type:g,key:e,from:p,to:y,groupId:`${g}:${e}`})}f=s[d]||Tt();let v=null,_,x;if(Fi&&(v=window.performance.now(),_="intlify-message-resolve-start",x="intlify-message-resolve-end",Hn&&Hn(_)),(h=l(f,e))===null&&(h=f[e]),Fi){const b=window.performance.now(),w=t.__v_emitter;w&&v&&h&&w.emit("message-resolve",{type:"message-resolve",key:e,message:h,time:b-v,groupId:`${g}:${e}`}),_&&x&&Hn&&cl&&(Hn(x),cl("intlify message resolve",_,x))}if(Ee(h)||gi(h)||ai(h))break;if(!Pte(d,u)){const b=Vb(t,e,d,o,g);b!==e&&(h=b)}p=y}return[h,d,f]}function fM(t,e,r,n,i,o){const{messageCompiler:s,warnHtmlMessage:a}=t;if(ai(n)){const d=n;return d.locale=d.locale||r,d.key=d.key||e,d}if(s==null){const d=()=>n;return d.locale=r,d.key=e,d}let l=null,c,u;Fi&&(l=window.performance.now(),c="intlify-message-compilation-start",u="intlify-message-compilation-end",Hn&&Hn(c));const f=s(n,$te(t,r,i,n,a,o));if(Fi){const d=window.performance.now(),h=t.__v_emitter;h&&l&&h.emit("message-compilation",{type:"message-compilation",message:n,time:d-l,groupId:`translate:${e}`}),c&&u&&Hn&&cl&&(Hn(u),cl("intlify message compilation",c,u))}return f.locale=r,f.key=e,f.source=n,f}function Lte(t,e,r){let n=null,i,o;Fi&&(n=window.performance.now(),i="intlify-message-evaluation-start",o="intlify-message-evaluation-end",Hn&&Hn(i));const s=e(r);if(Fi){const a=window.performance.now(),l=t.__v_emitter;l&&n&&l.emit("message-evaluation",{type:"message-evaluation",value:s,time:a-n,groupId:`translate:${e.key}`}),i&&o&&Hn&&cl&&(Hn(o),cl("intlify message evaluation",i,o))}return s}function Ry(...t){const[e,r,n]=t,i=Tt();if(!Ee(e)&&!cr(e)&&!ai(e)&&!gi(e))throw Ho(Xr.INVALID_ARGUMENT);const o=cr(e)?String(e):(ai(e),e);return cr(r)?i.plural=r:Ee(r)?i.default=r:Ze(r)&&!Ag(r)?i.named=r:Yt(r)&&(i.list=r),cr(n)?i.plural=n:Ee(n)?i.default=n:Ze(n)&&Er(i,n),[o,i]}function $te(t,e,r,n,i,o){return{locale:e,key:r,warnHtmlMessage:i,onError:s=>{o&&o(s);{const a=Ute(n),l=`Message compilation error: ${s.message}`,c=s.location&&a&&fee(a,s.location.start.offset,s.location.end.offset),u=t.__v_emitter;u&&a&&u.emit("compile-error",{message:a,error:s.message,start:s.location&&s.location.start.offset,end:s.location&&s.location.end.offset,groupId:`translate:${r}`}),console.error(c?`${l}
${c}`:l)}},onCacheKey:s=>nee(e,r,s)}}function Ute(t){if(Ee(t))return t;if(t.loc&&t.loc.source)return t.loc.source}function Gte(t,e,r,n){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,d={locale:e,modifiers:i,pluralRules:o,messages:(h,p)=>{let y=s(r,h);if(y==null&&(u||p)){const[,,g]=uM(u||t,h,e,a,l,c);y=s(g,h)}if(Ee(y)||gi(y)){let g=!1;const v=fM(t,h,e,y,h,()=>{g=!0});return g?iC:v}else return ai(y)?y:iC}};return t.processor&&(d.processor=t.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),cr(n.plural)&&(d.pluralIndex=n.plural),d}Gee();/*!
  * vue-i18n v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Hte="11.1.11";function Vte(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Fa().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Fa().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Fa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Fa().__INTLIFY_PROD_DEVTOOLS__=!1)}const Ot={UNEXPECTED_RETURN_TYPE:ite,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function Dn(t,...e){return du(t,null,{messages:zte,args:e})}const zte={[Ot.UNEXPECTED_RETURN_TYPE]:"Unexpected return type in composer",[Ot.INVALID_ARGUMENT]:"Invalid argument",[Ot.MUST_BE_CALL_SETUP_TOP]:"Must be called at the top of a `setup` function",[Ot.NOT_INSTALLED]:"Need to install with `app.use` function",[Ot.UNEXPECTED_ERROR]:"Unexpected error",[Ot.REQUIRED_VALUE]:"Required in value: {0}",[Ot.INVALID_VALUE]:"Invalid value",[Ot.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]:"Cannot setup vue-devtools plugin",[Ot.NOT_INSTALLED_WITH_PROVIDE]:"Need to install with `provide` function",[Ot.NOT_COMPATIBLE_LEGACY_VUE_I18N]:"Not compatible legacy VueI18n.",[Ot.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly"},My=wo("__translateVNode"),Dy=wo("__datetimeParts"),By=wo("__numberParts"),fl=wo("__enableEmitter"),Jf=wo("__disableEmitter"),dM=wo("__setPluralRules"),hM=wo("__injectWithOption"),ky=wo("__dispose"),li={FALLBACK_TO_ROOT:vte,NOT_FOUND_PARENT_SCOPE:9,IGNORE_OBJ_FLATTEN:10,DEPRECATE_LEGACY_MODE:11,DEPRECATE_TRANSLATE_CUSTOME_DIRECTIVE:12,DUPLICATE_USE_I18N_CALLING:13},jte={[li.FALLBACK_TO_ROOT]:"Fall back to {type} '{key}' with root locale.",[li.NOT_FOUND_PARENT_SCOPE]:"Not found parent scope. use the global scope.",[li.IGNORE_OBJ_FLATTEN]:"Ignore object flatten: '{key}' key has an string value",[li.DEPRECATE_LEGACY_MODE]:`Legacy API mode has been deprecated in v11. Use Composition API mode instead.
About how to use the Composition API mode, see https://vue-i18n.intlify.dev/guide/advanced/composition.html`,[li.DEPRECATE_TRANSLATE_CUSTOME_DIRECTIVE]:"'v-t' has been deprecated in v11. Use translate APIs ('t' or '$t') instead.",[li.DUPLICATE_USE_I18N_CALLING]:"Duplicate `useI18n` calling by local scope. Please don't call it on local scope, due to it does not work properly in component."};function Vc(t,...e){return Cg(jte[t],...e)}function Qf(t){if(!at(t)||gi(t))return t;for(const e in t)if(Mi(t,e))if(!e.includes("."))at(t[e])&&Qf(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,o=!1;for(let s=0;s<n;s++){if(r[s]==="__proto__")throw new Error(`unsafe key: ${r[s]}`);if(r[s]in i||(i[r[s]]=Tt()),!at(i[r[s]])){go(Vc(li.IGNORE_OBJ_FLATTEN,{key:r[s]})),o=!0;break}i=i[r[s]]}if(o||(gi(i)?J8.includes(r[n])||delete t[e]:(i[r[n]]=t[e],delete t[e])),!gi(i)){const s=i[r[n]];at(s)&&Qf(s)}}return t}function zb(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:o}=e,s=Ze(r)?r:Yt(n)?Tt():{[t]:Tt()};if(Yt(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(s[l]=s[l]||Tt(),mp(c,s[l])):mp(c,s)}else Ee(a)&&mp(JSON.parse(a),s)}),i==null&&o)for(const a in s)Mi(s,a)&&Qf(s[a]);return s}function pM(t){return t.type}function gM(t,e,r){let n=at(e.messages)?e.messages:Tt();"__i18nGlobal"in r&&(n=zb(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(o=>{t.mergeLocaleMessage(o,n[o])});{if(at(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(s=>{t.mergeDateTimeFormat(s,e.datetimeFormats[s])})}if(at(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(s=>{t.mergeNumberFormat(s,e.numberFormats[s])})}}}function sC(t){return R(uo,null,t,0)}const aC="__INTLIFY_META__",lC=()=>[],Wte=()=>!1;let cC=0;function uC(t){return(e,r,n,i)=>t(r,n,bt()||void 0,i)}const Xte=()=>{const t=bt();let e=null;return t&&(e=pM(t)[aC])?{[aC]:e}:null};function jb(t={}){const{__root:e,__injectWithOption:r}=t,n=e===void 0,i=t.flatJson,o=Fi?Z:W0;let s=ut(t.inheritLocale)?t.inheritLocale:!0;const a=o(e&&s?e.locale.value:Ee(t.locale)?t.locale:Zf),l=o(e&&s?e.fallbackLocale.value:Ee(t.fallbackLocale)||Yt(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),c=o(zb(a.value,t)),u=o(Ze(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),f=o(Ze(t.numberFormats)?t.numberFormats:{[a.value]:{}});let d=e?e.missingWarn:ut(t.missingWarn)||Gc(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:ut(t.fallbackWarn)||Gc(t.fallbackWarn)?t.fallbackWarn:!0,p=e?e.fallbackRoot:ut(t.fallbackRoot)?t.fallbackRoot:!0,y=!!t.fallbackFormat,g=Pt(t.missing)?t.missing:null,m=Pt(t.missing)?uC(t.missing):null,v=Pt(t.postTranslation)?t.postTranslation:null,_=e?e.warnHtmlMessage:ut(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter;const b=e?e.modifiers:Ze(t.modifiers)?t.modifiers:{};let w=t.pluralRules||e&&e.pluralRules,E;E=(()=>{n&&qS(null);const z={version:Hte,locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:b,pluralRules:w,missing:m===null?void 0:m,missingWarn:d,fallbackWarn:h,fallbackFormat:y,unresolving:!0,postTranslation:v===null?void 0:v,warnHtmlMessage:_,escapeParameter:x,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};z.datetimeFormats=u.value,z.numberFormats=f.value,z.__datetimeFormatters=Ze(E)?E.__datetimeFormatters:void 0,z.__numberFormatters=Ze(E)?E.__numberFormatters:void 0,z.__v_emitter=Ze(E)?E.__v_emitter:void 0;const re=Tte(z);return n&&qS(re),re})(),Mu(E,a.value,l.value);function P(){return[a.value,l.value,c.value,u.value,f.value]}const C=ne({get:()=>a.value,set:z=>{E.locale=z,a.value=z}}),A=ne({get:()=>l.value,set:z=>{E.fallbackLocale=z,l.value=z,Mu(E,a.value,z)}}),T=ne(()=>c.value),I=ne(()=>u.value),B=ne(()=>f.value);function G(){return Pt(v)?v:null}function N(z){v=z,E.postTranslation=z}function U(){return g}function W(z){z!==null&&(m=uC(z)),g=z,E.missing=m}function K(z,re){return z!=="translate"||!re.resolvedMessage}const fe=(z,re,Ae,He,tt,kt)=>{P();let Cr;try{n||(E.fallbackContext=e?Ate():void 0),Cr=z(E)}finally{n||(E.fallbackContext=void 0)}if(Ae!=="translate exists"&&cr(Cr)&&Cr===Tg||Ae==="translate exists"&&!Cr){const[vn,eh]=re();if(e&&Ee(vn)&&K(Ae,eh)){p&&(Pg(h,vn)||oM(d,vn))&&go(Vc(li.FALLBACK_TO_ROOT,{key:vn,type:Ae}));{const{__v_emitter:fs}=E;fs&&p&&fs.emit("fallback",{type:Ae,key:vn,to:"global",groupId:`${Ae}:${vn}`})}}return e&&p?He(e):tt(vn)}else{if(kt(Cr))return Cr;throw Dn(Ot.UNEXPECTED_RETURN_TYPE)}};function ue(...z){return fe(re=>Reflect.apply(oC,null,[re,...z]),()=>Ry(...z),"translate",re=>Reflect.apply(re.t,re,[...z]),re=>re,re=>Ee(re))}function Y(...z){const[re,Ae,He]=z;if(He&&!at(He))throw Dn(Ot.INVALID_ARGUMENT);return ue(re,Ae,Er({resolvedMessage:!0},He||{}))}function ie(...z){return fe(re=>Reflect.apply(QS,null,[re,...z]),()=>Iy(...z),"datetime format",re=>Reflect.apply(re.d,re,[...z]),()=>n0,re=>Ee(re)||Yt(re))}function ge(...z){return fe(re=>Reflect.apply(tC,null,[re,...z]),()=>Oy(...z),"number format",re=>Reflect.apply(re.n,re,[...z]),()=>n0,re=>Ee(re)||Yt(re))}function F(z){return z.map(re=>Ee(re)||cr(re)||ut(re)?sC(String(re)):re)}const L={normalize:F,interpolate:z=>z,type:"vnode"};function ee(...z){return fe(re=>{let Ae;const He=re;try{He.processor=L,Ae=Reflect.apply(oC,null,[He,...z])}finally{He.processor=null}return Ae},()=>Ry(...z),"translate",re=>re[My](...z),re=>[sC(re)],re=>Yt(re))}function J(...z){return fe(re=>Reflect.apply(tC,null,[re,...z]),()=>Oy(...z),"number format",re=>re[By](...z),lC,re=>Ee(re)||Yt(re))}function de(...z){return fe(re=>Reflect.apply(QS,null,[re,...z]),()=>Iy(...z),"datetime format",re=>re[Dy](...z),lC,re=>Ee(re)||Yt(re))}function pe(z){w=z,E.pluralRules=w}function xe(z,re){return fe(()=>{if(!z)return!1;const Ae=Ee(re)?re:a.value,He=j(Ae),tt=E.messageResolver(He,z);return gi(tt)||ai(tt)||Ee(tt)},()=>[z],"translate exists",Ae=>Reflect.apply(Ae.te,Ae,[z,re]),Wte,Ae=>ut(Ae))}function O(z){let re=null;const Ae=Q8(E,l.value,a.value);for(let He=0;He<Ae.length;He++){const tt=c.value[Ae[He]]||{},kt=E.messageResolver(tt,z);if(kt!=null){re=kt;break}}return re}function $(z){const re=O(z);return re??(e?e.tm(z)||{}:{})}function j(z){return c.value[z]||{}}function ae(z,re){if(i){const Ae={[z]:re};for(const He in Ae)Mi(Ae,He)&&Qf(Ae[He]);re=Ae[z]}c.value[z]=re,E.messages=c.value}function ce(z,re){c.value[z]=c.value[z]||{};const Ae={[z]:re};if(i)for(const He in Ae)Mi(Ae,He)&&Qf(Ae[He]);re=Ae[z],mp(re,c.value[z]),E.messages=c.value}function M(z){return u.value[z]||{}}function k(z,re){u.value[z]=re,E.datetimeFormats=u.value,eC(E,z,re)}function H(z,re){u.value[z]=Er(u.value[z]||{},re),E.datetimeFormats=u.value,eC(E,z,re)}function Q(z){return f.value[z]||{}}function le(z,re){f.value[z]=re,E.numberFormats=f.value,rC(E,z,re)}function ve(z,re){f.value[z]=Er(f.value[z]||{},re),E.numberFormats=f.value,rC(E,z,re)}cC++,e&&Fi&&(ye(e.locale,z=>{s&&(a.value=z,E.locale=z,Mu(E,a.value,l.value))}),ye(e.fallbackLocale,z=>{s&&(l.value=z,E.fallbackLocale=z,Mu(E,a.value,l.value))}));const he={id:cC,locale:C,fallbackLocale:A,get inheritLocale(){return s},set inheritLocale(z){s=z,z&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,Mu(E,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:T,get modifiers(){return b},get pluralRules(){return w||{}},get isGlobal(){return n},get missingWarn(){return d},set missingWarn(z){d=z,E.missingWarn=d},get fallbackWarn(){return h},set fallbackWarn(z){h=z,E.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(z){p=z},get fallbackFormat(){return y},set fallbackFormat(z){y=z,E.fallbackFormat=y},get warnHtmlMessage(){return _},set warnHtmlMessage(z){_=z,E.warnHtmlMessage=z},get escapeParameter(){return x},set escapeParameter(z){x=z,E.escapeParameter=z},t:ue,getLocaleMessage:j,setLocaleMessage:ae,mergeLocaleMessage:ce,getPostTranslationHandler:G,setPostTranslationHandler:N,getMissingHandler:U,setMissingHandler:W,[dM]:pe};return he.datetimeFormats=I,he.numberFormats=B,he.rt=Y,he.te=xe,he.tm=$,he.d=ie,he.n=ge,he.getDateTimeFormat=M,he.setDateTimeFormat=k,he.mergeDateTimeFormat=H,he.getNumberFormat=Q,he.setNumberFormat=le,he.mergeNumberFormat=ve,he[hM]=r,he[My]=ee,he[Dy]=de,he[By]=J,he[fl]=z=>{E.__v_emitter=z},he[Jf]=()=>{E.__v_emitter=void 0},he}const mM="vue-i18n: composer properties",Nm={"vue-devtools-plugin-vue-i18n":"Vue I18n DevTools","vue-i18n-resource-inspector":"Vue I18n DevTools","vue-i18n-timeline":"Vue I18n"},Yte={"vue-i18n-resource-inspector":"Search for scopes ..."},Kte={"vue-i18n-timeline":16764185};let Ny;async function qte(t,e){return new Promise((r,n)=>{try{sg({id:"vue-devtools-plugin-vue-i18n",label:Nm["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[mM],app:t},i=>{Ny=i,i.on.visitComponentTree(({componentInstance:s,treeNode:a})=>{Zte(s,a,e)}),i.on.inspectComponent(({componentInstance:s,instanceData:a})=>{s.vnode.el&&s.vnode.el.__VUE_I18N__&&a&&(e.mode==="legacy"?s.vnode.el.__VUE_I18N__!==e.global.__composer&&fC(a,s.vnode.el.__VUE_I18N__):fC(a,s.vnode.el.__VUE_I18N__))}),i.addInspector({id:"vue-i18n-resource-inspector",label:Nm["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:Yte["vue-i18n-resource-inspector"]}),i.on.getInspectorTree(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&rre(s,e)});const o=new Map;i.on.getInspectorState(async s=>{if(s.app===t&&s.inspectorId==="vue-i18n-resource-inspector")if(i.unhighlightElement(),ire(s,e),s.nodeId==="global"){if(!o.has(s.app)){const[a]=await i.getComponentInstances(s.app);o.set(s.app,a)}i.highlightElement(o.get(s.app))}else{const a=nre(s.nodeId,e);a&&i.highlightElement(a)}}),i.on.editInspectorState(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&sre(s,e)}),i.addTimelineLayer({id:"vue-i18n-timeline",label:Nm["vue-i18n-timeline"],color:Kte["vue-i18n-timeline"]}),r(!0)})}catch(i){console.error(i),n(!1)}})}function vM(t){return t.type.name||t.type.displayName||t.type.__file||"Anonymous"}function Zte(t,e,r){const n=r.mode==="composition"?r.global:r.global.__composer;if(t&&t.vnode.el&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==n){const i={label:`i18n (${vM(t)} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(i)}}function fC(t,e){const r=mM;t.state.push({type:r,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:r,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:r,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:r,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:r,key:"messages",editable:!1,value:Wb(e.messages.value)}),t.state.push({type:r,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:r,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function Wb(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];Pt(n)&&"source"in n?e[r]=tre(n):gi(n)&&n.loc&&n.loc.source?e[r]=n.loc.source:at(n)?e[r]=Wb(n):e[r]=n}),e}const Jte={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function Qte(t){return t.replace(/[<>"&]/g,ere)}function ere(t){return Jte[t]||t}function tre(t){return{_custom:{type:"function",display:`<span></span> ${t.source?`("${Qte(t.source)}")`:"(?)"}`}}}function rre(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const r=e.mode==="composition"?e.global:e.global.__composer;for(const[n,i]of e.__instances){const o=e.mode==="composition"?i:i.__composer;r!==o&&t.rootNodes.push({id:o.id.toString(),label:`${vM(n)} Scope`})}}function nre(t,e){let r=null;if(t!=="global"){for(const[n,i]of e.__instances.entries())if(i.id.toString()===t){r=n;break}}return r}function yM(t,e){if(t==="global")return e.mode==="composition"?e.global:e.global.__composer;{const r=Array.from(e.__instances.values()).find(n=>n.id.toString()===t);return r?e.mode==="composition"?r:r.__composer:null}}function ire(t,e){const r=yM(t.nodeId,e);return r&&(t.state=ore(r)),null}function ore(t){const e={},r="Locale related info",n=[{type:r,key:"locale",editable:!0,value:t.locale.value},{type:r,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:r,key:"availableLocales",editable:!1,value:t.availableLocales},{type:r,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[r]=n;const i="Locale messages info",o=[{type:i,key:"messages",editable:!1,value:Wb(t.messages.value)}];e[i]=o;{const s="Datetime formats info",a=[{type:s,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[s]=a;const l="Datetime formats info",c=[{type:l,key:"numberFormats",editable:!1,value:t.numberFormats.value}];e[l]=c}return e}function ed(t,e){if(Ny){let r;e&&"groupId"in e&&(r=e.groupId,delete e.groupId),Ny.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:r,time:Date.now(),meta:{},data:e||{},logType:t==="compile-error"?"error":t==="fallback"||t==="missing"?"warning":"default"}})}}function sre(t,e){const r=yM(t.nodeId,e);if(r){const[n]=t.path;n==="locale"&&Ee(t.state.value)?r.locale.value=t.state.value:n==="fallbackLocale"&&(Ee(t.state.value)||Yt(t.state.value)||at(t.state.value))?r.fallbackLocale.value=t.state.value:n==="inheritLocale"&&ut(t.state.value)&&(r.inheritLocale=t.state.value)}}function are(t){const e=Ee(t.locale)?t.locale:Zf,r=Ee(t.fallbackLocale)||Yt(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=Pt(t.missing)?t.missing:void 0,i=ut(t.silentTranslationWarn)||Gc(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=ut(t.silentFallbackWarn)||Gc(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,s=ut(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Ze(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=Pt(t.postTranslation)?t.postTranslation:void 0,f=Ee(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,h=ut(t.sync)?t.sync:!0;let p=t.messages;if(Ze(t.sharedMessages)){const b=t.sharedMessages;p=Object.keys(b).reduce((E,S)=>{const P=E[S]||(E[S]={});return Er(P,b[S]),E},p||{})}const{__i18n:y,__root:g,__injectWithOption:m}=t,v=t.datetimeFormats,_=t.numberFormats,x=t.flatJson;return{locale:e,fallbackLocale:r,messages:p,flatJson:x,datetimeFormats:v,numberFormats:_,missing:n,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:f,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:h,__i18n:y,__root:g,__injectWithOption:m}}function Fy(t={}){const e=jb(are(t)),{__extender:r}=t,n={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return ut(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=ut(i)?!i:i},get silentFallbackWarn(){return ut(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=ut(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},te(i,o){return e.te(i,o)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,o){e.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){e.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,o){e.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){e.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,o){e.setNumberFormat(i,o)},mergeNumberFormat(i,o){e.mergeNumberFormat(i,o)}};return n.__extender=r,n.__enableEmitter=i=>{const o=e;o[fl]&&o[fl](i)},n.__disableEmitter=()=>{const i=e;i[Jf]&&i[Jf]()},n}function lre(t,e,r){return{beforeCreate(){const n=bt();if(!n)throw Dn(Ot.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const o=i.i18n;if(i.__i18n&&(o.__i18n=i.__i18n),o.__root=e,this===this.$root)this.$i18n=dC(t,o);else{o.__injectWithOption=!0,o.__extender=r.__vueI18nExtend,this.$i18n=Fy(o);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=dC(t,i);else{this.$i18n=Fy({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&gM(e,i,i),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$te=(o,s)=>this.$i18n.te(o,s),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),r.__setInstance(n,this.$i18n)},mounted(){if(this.$el&&this.$i18n){const n=this.$i18n;this.$el.__VUE_I18N__=n.__composer;const i=this.__v_emitter=$b();n.__enableEmitter&&n.__enableEmitter(i),i.on("*",ed)}},unmounted(){const n=bt();if(!n)throw Dn(Ot.UNEXPECTED_ERROR);const i=this.$i18n;this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",ed),delete this.__v_emitter),this.$i18n&&(i.__disableEmitter&&i.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function dC(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[dM](e.pluralizationRules||t.pluralizationRules);const r=zb(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const Xb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function cre({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===$t?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},Tt())}function _M(){return $t}const ure=we({name:"i18n-t",props:Er({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>cr(t)||!isNaN(t)}},Xb),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||Yb({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(r).filter(f=>f[0]!=="_"),s=Tt();t.locale&&(s.locale=t.locale),t.plural!==void 0&&(s.plural=Ee(t.plural)?+t.plural:t.plural);const a=cre(e,o),l=i[My](t.keypath,a,s),c=Er(Tt(),n),u=Ee(t.tag)||at(t.tag)?t.tag:_M();return Rr(u,c,l)}}}),hC=ure;function fre(t){return Yt(t)&&!Ee(t[0])}function xM(t,e,r,n){const{slots:i,attrs:o}=e;return()=>{const s={part:!0};let a=Tt();t.locale&&(s.locale=t.locale),Ee(t.format)?s.key=t.format:at(t.format)&&(Ee(t.format.key)&&(s.key=t.format.key),a=Object.keys(t.format).reduce((d,h)=>r.includes(h)?Er(Tt(),d,{[h]:t.format[h]}):d,Tt()));const l=n(t.value,s,a);let c=[s.key];Yt(l)?c=l.map((d,h)=>{const p=i[d.type],y=p?p({[d.type]:d.value,index:h,parts:l}):[d.value];return fre(y)&&(y[0].key=`${d.type}-${h}`),y}):Ee(l)&&(c=[l]);const u=Er(Tt(),o),f=Ee(t.tag)||at(t.tag)?t.tag:_M();return Rr(f,u,c)}}const dre=we({name:"i18n-n",props:Er({value:{type:Number,required:!0},format:{type:[String,Object]}},Xb),setup(t,e){const r=t.i18n||Yb({useScope:t.scope,__useComponent:!0});return xM(t,e,cM,(...n)=>r[By](...n))}}),pC=dre;function hre(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function pre(t){const e=s=>{Nb(Vc(li.DEPRECATE_TRANSLATE_CUSTOME_DIRECTIVE));const{instance:a,value:l}=s;if(!a||!a.$)throw Dn(Ot.UNEXPECTED_ERROR);const c=hre(t,a.$),u=gC(l);return[Reflect.apply(c.t,c,[...mC(u)]),c]};return{created:(s,a)=>{const[l,c]=e(a);Fi&&t.global===c&&(s.__i18nWatcher=ye(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),s.__composer=c,s.textContent=l},unmounted:s=>{Fi&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:a})=>{if(s.__composer){const l=s.__composer,c=gC(a);s.textContent=Reflect.apply(l.t,l,[...mC(c)])}},getSSRProps:s=>{const[a]=e(s);return{textContent:a}}}}function gC(t){if(Ee(t))return{path:t};if(Ze(t)){if(!("path"in t))throw Dn(Ot.REQUIRED_VALUE,"path");return t}else throw Dn(Ot.INVALID_VALUE)}function mC(t){const{path:e,locale:r,args:n,choice:i,plural:o}=t,s={},a=n||{};return Ee(r)&&(s.locale=r),cr(i)&&(s.plural=i),cr(o)&&(s.plural=o),[e,a,s]}function gre(t,e,...r){const n=Ze(r[0])?r[0]:{};(ut(n.globalInstall)?n.globalInstall:!0)&&([hC.name,"I18nT"].forEach(o=>t.component(o,hC)),[pC.name,"I18nN"].forEach(o=>t.component(o,pC)),[yC.name,"I18nD"].forEach(o=>t.component(o,yC))),t.directive("t",pre(e))}const mre=wo("global-vue-i18n");function bAe(t={}){const e=__VUE_I18N_LEGACY_API__&&ut(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__;e&&Nb(Vc(li.DEPRECATE_LEGACY_MODE));const r=ut(t.globalInjection)?t.globalInjection:!0,n=new Map,[i,o]=vre(t,e),s=wo("vue-i18n");function a(f){return n.get(f)||null}function l(f,d){n.set(f,d)}function c(f){n.delete(f)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(f,...d){if(f.__VUE_I18N__=u,f.__VUE_I18N_SYMBOL__=s,f.provide(f.__VUE_I18N_SYMBOL__,u),Ze(d[0])){const y=d[0];u.__composerExtend=y.__composerExtend,u.__vueI18nExtend=y.__vueI18nExtend}let h=null;!e&&r&&(h=Cre(f,u.global)),__VUE_I18N_FULL_INSTALL__&&gre(f,u,...d),__VUE_I18N_LEGACY_API__&&e&&f.mixin(lre(o,o.__composer,u));const p=f.unmount;f.unmount=()=>{h&&h(),u.dispose(),p()};{if(!await qte(f,u))throw Dn(Ot.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const g=$b();if(e){const m=o;m.__enableEmitter&&m.__enableEmitter(g)}else{const m=o;m[fl]&&m[fl](g)}g.on("*",ed)}},get global(){return o},dispose(){i.stop()},__instances:n,__getInstance:a,__setInstance:l,__deleteInstance:c};return u}function Yb(t={}){const e=bt();if(e==null)throw Dn(Ot.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Dn(Ot.NOT_INSTALLED);const r=yre(e),n=xre(r),i=pM(e),o=_re(t,i);if(o==="global")return gM(n,t,i),n;if(o==="parent"){let l=bre(r,e,t.__useComponent);return l==null&&(go(Vc(li.NOT_FOUND_PARENT_SCOPE)),l=n),l}const s=r;let a=s.__getInstance(e);if(a==null){const l=Er({},t);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),a=jb(l),s.__composerExtend&&(a[ky]=s.__composerExtend(a)),Ere(s,e,a),s.__setInstance(e,a)}else o==="local"&&go(Vc(li.DUPLICATE_USE_I18N_CALLING));return a}function vre(t,e){const r=xd(),n=__VUE_I18N_LEGACY_API__&&e?r.run(()=>Fy(t)):r.run(()=>jb(t));if(n==null)throw Dn(Ot.UNEXPECTED_ERROR);return[r,n]}function yre(t){const e=fr(t.isCE?mre:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Dn(t.isCE?Ot.NOT_INSTALLED_WITH_PROVIDE:Ot.UNEXPECTED_ERROR);return e}function _re(t,e){return Ag(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function xre(t){return t.mode==="composition"?t.global:t.global.__composer}function bre(t,e,r=!1){let n=null;const i=e.root;let o=wre(e,r);for(;o!=null;){const s=t;if(t.mode==="composition")n=s.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const a=s.__getInstance(o);a!=null&&(n=a.__composer,r&&n&&!n[hM]&&(n=null))}if(n!=null||i===o)break;o=o.parent}return n}function wre(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function Ere(t,e,r){let n=null;zt(()=>{if(e.vnode.el){e.vnode.el.__VUE_I18N__=r,n=$b();const i=r;i[fl]&&i[fl](n),n.on("*",ed)}},e),cs(()=>{const i=r;e.vnode.el&&e.vnode.el.__VUE_I18N__&&(n&&n.off("*",ed),i[Jf]&&i[Jf](),delete e.vnode.el.__VUE_I18N__),t.__deleteInstance(e);const o=i[ky];o&&(o(),delete i[ky])},e)}const Sre=["locale","fallbackLocale","availableLocales"],vC=["t","rt","d","n","tm","te"];function Cre(t,e){const r=Object.create(null);return Sre.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o)throw Dn(Ot.UNEXPECTED_ERROR);const s=vt(o.value)?{get(){return o.value.value},set(a){o.value.value=a}}:{get(){return o.get&&o.get()}};Object.defineProperty(r,i,s)}),t.config.globalProperties.$i18n=r,vC.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o||!o.value)throw Dn(Ot.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,o)}),()=>{delete t.config.globalProperties.$i18n,vC.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}const Are=we({name:"i18n-d",props:Er({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Xb),setup(t,e){const r=t.i18n||Yb({useScope:t.scope,__useComponent:!0});return xM(t,e,lM,(...n)=>r[Dy](...n))}}),yC=Are;Vte();bte(Qee);wte(mte);Ete(Q8);{const t=Fa();t.__INTLIFY__=!0,ete(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var wAe={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Choose no more than ${t} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:t=>`${t*10}% off`,condition:t=>`At least ${t}`},vanCouponCell:{title:"Coupon",count:t=>`You have ${t} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}},EAe={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:" ",nameEmpty:"  ",addContact:" ",telInvalid:"  ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`  ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"  ...",loosing:"  ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t*10}% `,condition:t=>`  ${t}`},vanCouponCell:{title:"",count:t=>`   ${t} `},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:"  ",addressEmpty:"    ",addressDetail:"",defaultAddress:"   "},vanAddressList:{add:" "}},SAe={name:"tn",tel:"in thoi",save:"Cu",clear:"Thng thong",cancel:"Hy b",confirm:"Xc nhn",delete:"Xa",loading:"ang ti ...",noCoupon:"Khng c phiu gim gi",nameEmpty:"Vui lng in vo tn",addContact:"Thm lin h",telInvalid:"S in thoi khng ng nh dng",vanCalendar:{end:"Kt thc",start:"Bt u",title:"Lch",weekdays:["ch nht","th hai","th ba","Th T","Th nm","Th su","th by"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Chn khng qu ${t} ngy`},vanCascader:{select:"Chn"},vanPagination:{prev:"Trc ",next:"Tip theo"},vanPullRefresh:{pulling:"Ko  lm mi ...",loosing:"Loose  lm mi ..."},vanSubmitBar:{label:"Tng:"},vanCoupon:{unlimited:"Khng gii hn",discount:t=>`Chit khu ${t*10}%`,condition:t=>`t nht ${t}`},vanCouponCell:{title:"Phiu gim gi",count:t=>`Bn c ${t} phiu gim gi`},vanCouponList:{exchange:"Trao i",close:"ng",enable:"C sn",disabled:"Khng kh dng",placeholder:"M phiu thng"},vanAddressEdit:{area:"Khu vc",areaEmpty:"Vui lng chn khu vc nhn hng",addressEmpty:"a ch khng c  trng",addressDetail:"a ch",defaultAddress:"t lm a ch mc nh"},vanAddressList:{add:"Thm a ch mi"}},CAe={name:"Nama",tel:"Telepon",save:"Simpan",clear:"Jernih",cancel:"Batal",confirm:"Konfirmasi",delete:"Hapus",loading:"Memuat...",noCoupon:"Tidak ada kupon",nameEmpty:"Silakan isi nama",addContact:"Tambahkan kontak",telInvalid:"Nomor telepon salah format",vanCalendar:{end:"Akhir",start:"Mulai",title:"Kalender",weekdays:["minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Pilih tidak lebih dari ${t} hari`},vanCascader:{select:"Pilih"},vanPagination:{prev:"Sebelumnya",next:"Selanjutnya"},vanPullRefresh:{pulling:"Tarik untuk menyegarkan...",loosing:"Loose untuk menyegarkan..."},vanSubmitBar:{label:"Jumlah:"},vanCoupon:{unlimited:"Tidak terbatas",discount:t=>`${t*10}% off`,condition:t=>`Setidaknya ${t}`},vanCouponCell:{title:"Kupon",count:t=>`Anda memiliki kupon ${t}`},vanCouponList:{exchange:"Pertukaran",close:"Tutup",enable:"Tersedia",disabled:"Tidak tersedia",placeholder:"Kode kupon"},vanAddressEdit:{area:"Daerah",areaEmpty:"Silakan pilih area penerima",addressEmpty:"Alamat tidak boleh kosong",addressDetail:"Alamat",defaultAddress:"Tetapkan sebagai alamat default"},vanAddressList:{add:"Tambahkan alamat baru"}},AAe={name:"",tel:"",save:"",clear:"",cancel:" ",confirm:" ",delete:"",loading:"   ...",noCoupon:"  ",nameEmpty:"  ",addContact:" ",telInvalid:"  ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`${t}     `},vanCascader:{select:" "},vanPagination:{prev:" ",next:""},vanPullRefresh:{pulling:"    ...",loosing:"    ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t*10}% `,condition:t=>`   ${t}`},vanCouponCell:{title:"",count:t=>`  ${t}  `},vanCouponList:{exchange:" ",close:" ",enable:"",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:"   ",addressEmpty:"    ",addressDetail:"",defaultAddress:"      "},vanAddressList:{add:"  "}},TAe={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:" ",discount:t=>`${t}`,condition:t=>` ${t} `},vanCouponCell:{title:"",count:t=>` ${t} `},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}},PAe={name:"Nome",tel:"Fone",save:"Salvar",clear:"Claro",cancel:"Cancelar",confirm:"Confirmar",delete:"Excluir",loading:"Carregando...",noCoupon:"Nenhum cupom",nameEmpty:"Por favor, preencha o nome",addContact:"Adicionar novo contato",telInvalid:"Telefone em formato invlido",vanCalendar:{end:"Fim",start:"Incio",title:"Calendrio",weekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],monthTitle:(t,e)=>`${e}/${t}`,rangePrompt:t=>`Escolha no mximo ${t} dias`},vanCascader:{select:"Selecione"},vanPagination:{prev:"Anterior",next:"Prximo"},vanPullRefresh:{pulling:"Puxe para atualizar...",loosing:"Solte para atualizar..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Ilimitado",discount:t=>`${t*10}% de desconto`,condition:t=>`Pelo menos ${t}`},vanCouponCell:{title:"Cupom",count:t=>`Voc possui ${t} cupom(ns)`},vanCouponList:{exchange:"Usar",close:"Fechar",enable:"Disponvel",disabled:"Indisponvel",placeholder:"Cdigo do cupom"},vanAddressEdit:{area:"rea",areaEmpty:"Por favor, selecione uma rea de recebimento",addressEmpty:"Endereo no pode ser vazio",addressDetail:"Endereo",defaultAddress:"Usar como endereo padro"},vanAddressList:{add:"Adicionar novo endereo"}},IAe={name:"",tel:"",save:" ",clear:"",cancel:"",confirm:" ",delete:"",loading:" ...",noCoupon:"  ",nameEmpty:"    ",addContact:"  ",telInvalid:"  ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`${t}     `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"  ...",loosing:"  ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t*10}% `,condition:t=>` ${t}`},vanCouponCell:{title:"",count:t=>` ${t}  `},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:"      ",addressEmpty:"    ",addressDetail:"",defaultAddress:"    "},vanAddressList:{add:"   "}},OAe={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:" ...",noCoupon:"  ",nameEmpty:"  ",addContact:"  ",telInvalid:"   ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`    ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:" ...",loosing:" ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:" ",discount:t=>`${t*10}% `,condition:t=>`  ${t}`},vanCouponCell:{title:"",count:t=>` ${t} `},vanCouponList:{exchange:"",close:"",enable:"",disabled:" ",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:"   ",addressEmpty:"     ",addressDetail:"",defaultAddress:"  "},vanAddressList:{add:"  "}};/*! Capacitor: https://capacitorjs.com/ - MIT License */var dl;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(dl||(dl={}));class vp extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const Tre=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Pre=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},i=()=>e!==null?e.name:Tre(t),o=()=>i()!=="web",s=f=>{const d=c.get(f);return!!(d!=null&&d.platforms.has(i())||a(f))},a=f=>{var d;return(d=r.PluginHeaders)===null||d===void 0?void 0:d.find(h=>h.name===f)},l=f=>t.console.error(f),c=new Map,u=(f,d={})=>{const h=c.get(f);if(h)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),h.proxy;const p=i(),y=a(f);let g;const m=async()=>(!g&&p in d?g=typeof d[p]=="function"?g=await d[p]():g=d[p]:e!==null&&!g&&"web"in d&&(g=typeof d.web=="function"?g=await d.web():g=d.web),g),v=(S,P)=>{var C,A;if(y){const T=y==null?void 0:y.methods.find(I=>P===I.name);if(T)return T.rtype==="promise"?I=>r.nativePromise(f,P.toString(),I):(I,B)=>r.nativeCallback(f,P.toString(),I,B);if(S)return(C=S[P])===null||C===void 0?void 0:C.bind(S)}else{if(S)return(A=S[P])===null||A===void 0?void 0:A.bind(S);throw new vp(`"${f}" plugin is not implemented on ${p}`,dl.Unimplemented)}},_=S=>{let P;const C=(...A)=>{const T=m().then(I=>{const B=v(I,S);if(B){const G=B(...A);return P=G==null?void 0:G.remove,G}else throw new vp(`"${f}.${S}()" is not implemented on ${p}`,dl.Unimplemented)});return S==="addListener"&&(T.remove=async()=>P()),T};return C.toString=()=>`${S.toString()}() { [capacitor code] }`,Object.defineProperty(C,"name",{value:S,writable:!1,configurable:!1}),C},x=_("addListener"),b=_("removeListener"),w=(S,P)=>{const C=x({eventName:S},P),A=async()=>{const I=await C;b({eventName:S,callbackId:I},P)},T=new Promise(I=>C.then(()=>I({remove:A})));return T.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await A()},T},E=new Proxy({},{get(S,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?w:x;case"removeListener":return b;default:return _(P)}}});return n[f]=E,c.set(f,{name:f,proxy:E,platforms:new Set([...Object.keys(d),...y?[p]:[]])}),E};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=i,r.handleError=l,r.isNativePlatform=o,r.isPluginAvailable=s,r.registerPlugin=u,r.Exception=vp,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Ire=t=>t.Capacitor=Pre(t),i0=Ire(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Md=i0.registerPlugin;class Ig{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),n&&this.sendRetainedArgumentsForEvent(e);const s=async()=>this.removeListener(e,r);return Promise.resolve({remove:s})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let o=this.retainedEventArguments[e];o||(o=[]),o.push(r),this.retainedEventArguments[e]=o}return}i.forEach(o=>o(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new i0.Exception(e,dl.Unimplemented)}unavailable(e="not available"){return new i0.Exception(e,dl.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const Ore=Md("WebView"),_C=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),xC=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Rre extends Ig{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,o]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=xC(i).trim(),o=xC(o).trim(),r[i]=o}),r}async setCookie(e){try{const r=_C(e.key),n=_C(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${o}; ${s};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}const Mre=Md("CapacitorCookies",{web:()=>new Rre}),Dre=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),Bre=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,o,s)=>(i[o]=t[e[s]],i),{})},kre=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[o,s]=i;let a,l;return Array.isArray(s)?(l="",s.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${o}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(s):s,l=`${o}=${a}`),`${n}&${l}`},"").substr(1):null,bM=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Bre(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[s,a]of Object.entries(t.data||{}))o.set(s,a);r.body=o.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{o.append(l,a)});else for(const a of Object.keys(t.data))o.append(a,t.data[a]);r.body=o;const s=new Headers(r.headers);s.delete("content-type"),r.headers=s}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class Nre extends Ig{async request(e){const r=bM(e,e.webFetchExtra),n=kre(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,o=await fetch(i,r),s=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?e:{};s.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await o.blob(),l=await Dre(c);break;case"json":l=await o.json();break;case"document":case"text":default:l=await o.text()}const u={};return o.headers.forEach((f,d)=>{u[d]=f}),{data:l,headers:u,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}const Fre=Md("CapacitorHttp",{web:()=>new Nre}),RAe=Object.freeze(Object.defineProperty({__proto__:null,Capacitor:i0,CapacitorCookies:Mre,CapacitorException:vp,CapacitorHttp:Fre,get ExceptionCode(){return dl},WebPlugin:Ig,WebView:Ore,buildRequestInit:bM,registerPlugin:Md},Symbol.toStringTag,{value:"Module"}));function ea(t){return bd()?(lx(t),!0):!1}function MAe(t){let e=!1,r;const n=xd(!0);return(...i)=>(e||(r=n.run(()=>t(...i)),e=!0),r)}function pn(t){return typeof t=="function"?t():dn(t)}const hl=typeof window<"u"&&typeof document<"u",DAe=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,Lre=t=>typeof t<"u",$re=t=>t!=null,Ure=Object.prototype.toString,Gre=t=>Ure.call(t)==="[object Object]",zn=()=>{},Ly=Hre();function Hre(){var t,e;return hl&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Kb(t,e){function r(...n){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(o)})}return r}const wM=t=>t();function EM(t,e={}){let r,n,i=zn;const o=a=>{clearTimeout(a),i(),i=zn};return a=>{const l=pn(t),c=pn(e.maxWait);return r&&o(r),l<=0||c!==void 0&&c<=0?(n&&(o(n),n=null),Promise.resolve(a())):new Promise((u,f)=>{i=e.rejectOnCancel?f:u,c&&!n&&(n=setTimeout(()=>{r&&o(r),n=null,u(a())},c)),r=setTimeout(()=>{n&&o(n),n=null,u(a())},l)})}}function Vre(...t){let e=0,r,n=!0,i=zn,o,s,a,l,c;!vt(t[0])&&typeof t[0]=="object"?{delay:s,trailing:a=!0,leading:l=!0,rejectOnCancel:c=!1}=t[0]:[s,a=!0,l=!0,c=!1]=t;const u=()=>{r&&(clearTimeout(r),r=void 0,i(),i=zn)};return d=>{const h=pn(s),p=Date.now()-e,y=()=>o=d();return u(),h<=0?(e=Date.now(),y()):(p>h&&(l||!n)?(e=Date.now(),y()):a&&(o=new Promise((g,m)=>{i=c?m:g,r=setTimeout(()=>{e=Date.now(),n=!0,g(y()),u()},Math.max(0,h-p))})),!l&&!r&&(r=setTimeout(()=>n=!0,h)),n=!1,o)}}function zre(t=wM){const e=Z(!0);function r(){e.value=!1}function n(){e.value=!0}const i=(...o)=>{e.value&&t(...o)};return{isActive:Pl(e),pause:r,resume:n,eventFilter:i}}function jre(t){let e;function r(){return e||(e=t()),e}return r.reset=async()=>{const n=e;e=void 0,n&&await n},r}function Wre(t){return t||bt()}function Xre(...t){if(t.length!==1)return sf(...t);const e=t[0];return typeof e=="function"?Pl(lI(()=>({get:e,set:zn}))):Z(e)}function BAe(t,e=200,r={}){return Kb(EM(e,r),t)}function kAe(t,e=200,r=!1,n=!0,i=!1){return Kb(Vre(e,r,n,i),t)}function SM(t,e,r={}){const{eventFilter:n=wM,...i}=r;return ye(t,Kb(n,e),i)}function CM(t,e,r={}){const{eventFilter:n,...i}=r,{eventFilter:o,pause:s,resume:a,isActive:l}=zre(n);return{stop:SM(t,e,{...i,eventFilter:o}),pause:s,resume:a,isActive:l}}function qb(t,e=!0,r){Wre()?zt(t,r):e?t():Ye(t)}function NAe(t,e){return ne(()=>pn(t).map(r=>pn(r)).filter(e))}function FAe(t,e=1e3,r={}){const{immediate:n=!0,immediateCallback:i=!1}=r;let o=null;const s=Z(!1);function a(){o&&(clearInterval(o),o=null)}function l(){s.value=!1,a()}function c(){const u=pn(e);u<=0||(s.value=!0,i&&t(),a(),o=setInterval(t,u))}if(n&&hl&&c(),vt(e)||typeof e=="function"){const u=ye(e,()=>{s.value&&hl&&c()});ea(u)}return ea(l),{isActive:s,pause:l,resume:c}}function Yre(t,e,r={}){const{immediate:n=!0}=r,i=Z(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){i.value=!1,s()}function l(...c){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,t(...c)},pn(e))}return n&&(i.value=!0,hl&&l()),ea(a),{isPending:Pl(i),start:l,stop:a}}function LAe(t,e,r={}){const{debounce:n=0,maxWait:i=void 0,...o}=r;return SM(t,e,{...o,eventFilter:EM(n,{maxWait:i})})}function no(t){var e;const r=pn(t);return(e=r==null?void 0:r.$el)!=null?e:r}const mo=hl?window:void 0,AM=hl?window.document:void 0,TM=hl?window.navigator:void 0;function qr(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=mo):[e,r,n,i]=t,!e)return zn;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(u=>u()),o.length=0},a=(u,f,d,h)=>(u.addEventListener(f,d,h),()=>u.removeEventListener(f,d,h)),l=ye(()=>[no(e),pn(i)],([u,f])=>{if(s(),!u)return;const d=Gre(f)?{...f}:f;o.push(...r.flatMap(h=>n.map(p=>a(u,h,p,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return ea(c),c}let bC=!1;function $Ae(t,e,r={}){const{window:n=mo,ignore:i=[],capture:o=!0,detectIframe:s=!1}=r;if(!n)return zn;Ly&&!bC&&(bC=!0,Array.from(n.document.body.children).forEach(d=>d.addEventListener("click",zn)),n.document.documentElement.addEventListener("click",zn));let a=!0;const l=d=>i.some(h=>{if(typeof h=="string")return Array.from(n.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=no(h);return p&&(d.target===p||d.composedPath().includes(p))}}),u=[qr(n,"click",d=>{const h=no(t);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:o}),qr(n,"pointerdown",d=>{const h=no(t);a=!l(d)&&!!(h&&!d.composedPath().includes(h))},{passive:!0}),s&&qr(n,"blur",d=>{setTimeout(()=>{var h;const p=no(t);((h=n.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(n.document.activeElement))&&e(d)},0)})].filter(Boolean);return()=>u.forEach(d=>d())}function Kre(){const t=Z(!1),e=bt();return e&&zt(()=>{t.value=!0},e),t}function Og(t){const e=Kre();return ne(()=>(e.value,!!t()))}function qre(t,e,r={}){const{window:n=mo,...i}=r;let o;const s=Og(()=>n&&"MutationObserver"in n),a=()=>{o&&(o.disconnect(),o=void 0)},l=ne(()=>{const d=pn(t),h=(Array.isArray(d)?d:[d]).map(no).filter($re);return new Set(h)}),c=ye(()=>l.value,d=>{a(),s.value&&d.size&&(o=new MutationObserver(e),d.forEach(h=>o.observe(h,i)))},{immediate:!0,flush:"post"}),u=()=>o==null?void 0:o.takeRecords(),f=()=>{a(),c()};return ea(f),{isSupported:s,stop:f,takeRecords:u}}function UAe(t,e){const{interrupt:r=!0,onError:n=zn,onFinished:i=zn,signal:o}=e||{},s={aborted:"aborted",fulfilled:"fulfilled",pending:"pending",rejected:"rejected"},a=Array.from(Array.from({length:t.length}),()=>({state:s.pending,data:null})),l=Bt(a),c=Z(-1);if(!t||t.length===0)return i(),{activeIndex:c,result:l};function u(f,d){c.value++,l[c.value].data=d,l[c.value].state=f}return t.reduce((f,d)=>f.then(h=>{var p;if(o!=null&&o.aborted){u(s.aborted,new Error("aborted"));return}if(((p=l[c.value])==null?void 0:p.state)===s.rejected&&r){i();return}const y=d(h).then(g=>(u(s.fulfilled,g),c.value===t.length-1&&i(),g));return o?Promise.race([y,Zre(o)]):y}).catch(h=>o!=null&&o.aborted?(u(s.aborted,h),h):(u(s.rejected,h),n(),h)),Promise.resolve()),{activeIndex:c,result:l}}function Zre(t){return new Promise((e,r)=>{const n=new Error("aborted");t.aborted?r(n):t.addEventListener("abort",()=>r(n),{once:!0})})}function wC(t,e={}){const{controls:r=!1,navigator:n=TM}=e,i=Og(()=>n&&"permissions"in n);let o;const s=typeof t=="string"?{name:t}:t,a=Z(),l=()=>{o&&(a.value=o.state)},c=jre(async()=>{if(i.value){if(!o)try{o=await n.permissions.query(s),qr(o,"change",l),l()}catch{a.value="prompt"}return o}});return c(),r?{state:a,isSupported:i,query:c}:a}function GAe(t={}){const{navigator:e=TM,read:r=!1,source:n,copiedDuring:i=1500,legacy:o=!1}=t,s=Og(()=>e&&"clipboard"in e),a=wC("clipboard-read"),l=wC("clipboard-write"),c=ne(()=>s.value||o),u=Z(""),f=Z(!1),d=Yre(()=>f.value=!1,i);function h(){s.value&&m(a.value)?e.clipboard.readText().then(v=>{u.value=v}):u.value=g()}c.value&&r&&qr(["copy","cut"],h);async function p(v=pn(n)){c.value&&v!=null&&(s.value&&m(l.value)?await e.clipboard.writeText(v):y(v),u.value=v,f.value=!0,d.start())}function y(v){const _=document.createElement("textarea");_.value=v??"",_.style.position="absolute",_.style.opacity="0",document.body.appendChild(_),_.select(),document.execCommand("copy"),_.remove()}function g(){var v,_,x;return(x=(_=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:_.toString())!=null?x:""}function m(v){return v==="granted"||v==="prompt"}return{isSupported:c,text:u,copied:f,copy:p}}function Jre(t){return JSON.parse(JSON.stringify(t))}const Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ih="__vueuse_ssr_handlers__",Qre=ene();function ene(){return Ih in Ph||(Ph[Ih]=Ph[Ih]||{}),Ph[Ih]}function tne(t,e){return Qre[t]||e}function rne(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const nne={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},EC="vueuse-storage";function PM(t,e,r,n={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:f=mo,eventFilter:d,onError:h=C=>{console.error(C)},initOnMounted:p}=n,y=(u?W0:Z)(typeof e=="function"?e():e);if(!r)try{r=tne("getDefaultStorage",()=>{var C;return(C=mo)==null?void 0:C.localStorage})()}catch(C){h(C)}if(!r)return y;const g=pn(e),m=rne(g),v=(i=n.serializer)!=null?i:nne[m],{pause:_,resume:x}=CM(y,()=>w(y.value),{flush:o,deep:s,eventFilter:d});f&&a&&qb(()=>{qr(f,"storage",S),qr(f,EC,P),p&&S()}),p||S();function b(C,A){f&&f.dispatchEvent(new CustomEvent(EC,{detail:{key:t,oldValue:C,newValue:A,storageArea:r}}))}function w(C){try{const A=r.getItem(t);if(C==null)b(A,null),r.removeItem(t);else{const T=v.write(C);A!==T&&(r.setItem(t,T),b(A,T))}}catch(A){h(A)}}function E(C){const A=C?C.newValue:r.getItem(t);if(A==null)return l&&g!=null&&r.setItem(t,v.write(g)),g;if(!C&&c){const T=v.read(A);return typeof c=="function"?c(T,g):m==="object"&&!Array.isArray(T)?{...g,...T}:T}else return typeof A!="string"?A:v.read(A)}function S(C){if(!(C&&C.storageArea!==r)){if(C&&C.key==null){y.value=g;return}if(!(C&&C.key!==t)){_();try{(C==null?void 0:C.newValue)!==v.write(y.value)&&(y.value=E(C))}catch(A){h(A)}finally{C?Ye(x):x()}}}}function P(C){S(C.detail)}return y}function HAe(t={}){const{document:e=AM}=t;if(!e)return Z("visible");const r=Z(e.visibilityState);return qr(e,"visibilitychange",()=>{r.value=e.visibilityState}),r}function ine(t,e,r={}){const{window:n=mo,...i}=r;let o;const s=Og(()=>n&&"ResizeObserver"in n),a=()=>{o&&(o.disconnect(),o=void 0)},l=ne(()=>Array.isArray(t)?t.map(f=>no(f)):[no(t)]),c=ye(l,f=>{if(a(),s.value&&n){o=new ResizeObserver(e);for(const d of f)d&&o.observe(d,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return ea(u),{isSupported:s,stop:u}}function VAe(t,e={}){const{reset:r=!0,windowResize:n=!0,windowScroll:i=!0,immediate:o=!0}=e,s=Z(0),a=Z(0),l=Z(0),c=Z(0),u=Z(0),f=Z(0),d=Z(0),h=Z(0);function p(){const y=no(t);if(!y){r&&(s.value=0,a.value=0,l.value=0,c.value=0,u.value=0,f.value=0,d.value=0,h.value=0);return}const g=y.getBoundingClientRect();s.value=g.height,a.value=g.bottom,l.value=g.left,c.value=g.right,u.value=g.top,f.value=g.width,d.value=g.x,h.value=g.y}return ine(t,p),ye(()=>no(t),y=>!y&&p()),qre(t,p,{attributeFilter:["style","class"]}),i&&qr("scroll",p,{capture:!0,passive:!0}),n&&qr("resize",p,{passive:!0}),qb(()=>{o&&p()}),{height:s,bottom:a,left:l,right:c,top:u,width:f,x:d,y:h,update:p}}const Du=new Map;function zAe(t){const e=bd();function r(a){var l;const c=Du.get(t)||new Set;c.add(a),Du.set(t,c);const u=()=>i(a);return(l=e==null?void 0:e.cleanups)==null||l.push(u),u}function n(a){function l(...c){i(l),a(...c)}return r(l)}function i(a){const l=Du.get(t);l&&(l.delete(a),l.size||o())}function o(){Du.delete(t)}function s(a,l){var c;(c=Du.get(t))==null||c.forEach(u=>u(a,l))}return{on:r,once:n,off:i,emit:s,reset:o}}function Fm(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function jAe(t,e,r={}){const{window:n=mo}=r;return PM(t,e,n==null?void 0:n.localStorage,r)}function IM(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:IM(r)}}function one(t){const e=t||window.event,r=e.target;return IM(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Lm=new WeakMap;function WAe(t,e=!1){const r=Z(e);let n=null,i="";ye(Xre(t),a=>{const l=Fm(pn(a));if(l){const c=l;if(Lm.get(c)||Lm.set(c,c.style.overflow),c.style.overflow!=="hidden"&&(i=c.style.overflow),c.style.overflow==="hidden")return r.value=!0;if(r.value)return c.style.overflow="hidden"}},{immediate:!0});const o=()=>{const a=Fm(pn(t));!a||r.value||(Ly&&(n=qr(a,"touchmove",l=>{one(l)},{passive:!1})),a.style.overflow="hidden",r.value=!0)},s=()=>{const a=Fm(pn(t));!a||!r.value||(Ly&&(n==null||n()),a.style.overflow=i,Lm.delete(a),r.value=!1)};return ea(s),ne({get(){return r.value},set(a){a?o():s()}})}function XAe(t,e,r={}){const{window:n=mo}=r;return PM(t,e,n==null?void 0:n.sessionStorage,r)}let sne=0;function YAe(t,e={}){const r=Z(!1),{document:n=AM,immediate:i=!0,manual:o=!1,id:s=`vueuse_styletag_${++sne}`}=e,a=Z(t);let l=()=>{};const c=()=>{if(!n)return;const f=n.getElementById(s)||n.createElement("style");f.isConnected||(f.id=s,e.media&&(f.media=e.media),n.head.appendChild(f)),!r.value&&(l=ye(a,d=>{f.textContent=d},{immediate:!0}),r.value=!0)},u=()=>{!n||!r.value||(l(),n.head.removeChild(n.getElementById(s)),r.value=!1)};return i&&!o&&qb(c),o||ea(u),{id:s,css:a,unload:u,load:c,isLoaded:Pl(r)}}function KAe(t,e={}){const{threshold:r=50,onSwipe:n,onSwipeEnd:i,onSwipeStart:o,passive:s=!0,window:a=mo}=e,l=Bt({x:0,y:0}),c=Bt({x:0,y:0}),u=ne(()=>l.x-c.x),f=ne(()=>l.y-c.y),{max:d,abs:h}=Math,p=ne(()=>d(h(u.value),h(f.value))>=r),y=Z(!1),g=ne(()=>p.value?h(u.value)>h(f.value)?u.value>0?"left":"right":f.value>0?"up":"down":"none"),m=P=>[P.touches[0].clientX,P.touches[0].clientY],v=(P,C)=>{l.x=P,l.y=C},_=(P,C)=>{c.x=P,c.y=C};let x;const b=ane(a==null?void 0:a.document);s?x=b?{passive:!0}:{capture:!1}:x=b?{passive:!1,capture:!0}:{capture:!0};const w=P=>{y.value&&(i==null||i(P,g.value)),y.value=!1},E=[qr(t,"touchstart",P=>{if(P.touches.length!==1)return;x.capture&&!x.passive&&P.preventDefault();const[C,A]=m(P);v(C,A),_(C,A),o==null||o(P)},x),qr(t,"touchmove",P=>{if(P.touches.length!==1)return;const[C,A]=m(P);_(C,A),!y.value&&p.value&&(y.value=!0),y.value&&(n==null||n(P))},x),qr(t,["touchend","touchcancel"],w,x)];return{isPassiveEventSupported:b,isSwiping:y,direction:g,coordsStart:l,coordsEnd:c,lengthX:u,lengthY:f,stop:()=>E.forEach(P=>P())}}function ane(t){if(!t)return!1;let e=!1;const r={get passive(){return e=!0,!1}};return t.addEventListener("x",zn,r),t.removeEventListener("x",zn),e}function qAe(t="history",e={}){const{initialValue:r={},removeNullishValues:n=!0,removeFalsyValues:i=!1,write:o=!0,window:s=mo}=e;if(!s)return Bt(r);const a=Bt({});function l(){if(t==="history")return s.location.search||"";if(t==="hash"){const m=s.location.hash||"",v=m.indexOf("?");return v>0?m.slice(v):""}else return(s.location.hash||"").replace(/^#/,"")}function c(m){const v=m.toString();if(t==="history")return`${v?`?${v}`:""}${s.location.hash||""}`;if(t==="hash-params")return`${s.location.search||""}${v?`#${v}`:""}`;const _=s.location.hash||"#",x=_.indexOf("?");return x>0?`${_.slice(0,x)}${v?`?${v}`:""}`:`${_}${v?`?${v}`:""}`}function u(){return new URLSearchParams(l())}function f(m){const v=new Set(Object.keys(a));for(const _ of m.keys()){const x=m.getAll(_);a[_]=x.length>1?x:m.get(_)||"",v.delete(_)}Array.from(v).forEach(_=>delete a[_])}const{pause:d,resume:h}=CM(a,()=>{const m=new URLSearchParams("");Object.keys(a).forEach(v=>{const _=a[v];Array.isArray(_)?_.forEach(x=>m.append(v,x)):n&&_==null||i&&!_?m.delete(v):m.set(v,_)}),p(m)},{deep:!0});function p(m,v){d(),v&&f(m),s.history.replaceState(s.history.state,s.document.title,s.location.pathname+c(m)),h()}function y(){o&&p(u(),!0)}qr(s,"popstate",y,!1),t!=="history"&&qr(s,"hashchange",y,!1);const g=u();return g.keys().next().value?f(g):Object.assign(a,r),a}function lne(t,e,r,n={}){var i,o,s;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:f,shouldEmit:d}=n,h=bt(),p=r||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((s=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(h==null?void 0:h.proxy));let y=c;e||(e="modelValue"),y=y||`update:${e.toString()}`;const g=_=>a?typeof a=="function"?a(_):Jre(_):_,m=()=>Lre(t[e])?g(t[e]):f,v=_=>{d?d(_)&&p(y,_):p(y,_)};if(l){const _=m(),x=Z(_);let b=!1;return ye(()=>t[e],w=>{b||(b=!0,x.value=g(w),Ye(()=>b=!1))}),ye(x,w=>{!b&&(w!==t[e]||u)&&v(w)},{deep:u}),x}else return ne({get(){return m()},set(_){v(_)}})}function ZAe(t,e,r={}){const n={};for(const i in t)n[i]=lne(t,i,e,r);return n}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Fo=typeof window<"u";function cne(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const _t=Object.assign;function $m(t,e){const r={};for(const n in e){const i=e[n];r[n]=Yn(i)?i.map(t):t(i)}return r}const vf=()=>{},Yn=Array.isArray;function et(t){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(e))}const une=/\/$/,fne=t=>t.replace(une,"");function Um(t,e,r="/"){let n,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(n=n||e.slice(0,a),s=e.slice(a,e.length)),n=pne(n??e,r),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:s}}function dne(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function SC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function CC(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&ta(e.matched[n],r.matched[i])&&OM(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function ta(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function OM(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!hne(t[r],e[r]))return!1;return!0}function hne(t,e){return Yn(t)?AC(t,e):Yn(e)?AC(e,t):t===e}function AC(t,e){return Yn(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function pne(t,e){if(t.startsWith("/"))return t;if(!e.startsWith("/"))return et(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${e}". It should look like "/${e}".`),t;if(!t)return e;const r=e.split("/"),n=t.split("/");let i=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var td;(function(t){t.pop="pop",t.push="push"})(td||(td={}));var yf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(yf||(yf={}));function gne(t){if(!t)if(Fo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fne(t)}const mne=/^[^#]+#/;function vne(t,e){return t.replace(mne,"#")+e}function yne(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Rg=()=>({left:window.pageXOffset,top:window.pageYOffset});function _ne(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#");if(typeof t.el=="string"&&(!n||!document.getElementById(t.el.slice(1))))try{const o=document.querySelector(t.el);if(n&&o){et(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{et(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i){et(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}e=yne(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function TC(t,e){return(history.state?history.state.position-e:-1)+t}const $y=new Map;function xne(t,e){$y.set(t,e)}function bne(t){const e=$y.get(t);return $y.delete(t),e}let wne=()=>location.protocol+"//"+location.host;function RM(t,e){const{pathname:r,search:n,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),SC(l,"")}return SC(r,t)+n+i}function Ene(t,e,r,n){let i=[],o=[],s=null;const a=({state:d})=>{const h=RM(t,location),p=r.value,y=e.value;let g=0;if(d){if(r.value=h,e.value=d,s&&s===p){s=null;return}g=y?d.position-y.position:0}else n(h);i.forEach(m=>{m(r.value,p,{delta:g,type:td.pop,direction:g?g>0?yf.forward:yf.back:yf.unknown})})};function l(){s=r.value}function c(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(_t({},d.state,{scroll:Rg()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:f}}function PC(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?Rg():null}}function Sne(t){const{history:e,location:r}=window,n={value:RM(t,r)},i={value:e.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:wne()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(h){et("Error with push/replace State",h),r[u?"replace":"assign"](d)}}function s(l,c){const u=_t({},e.state,PC(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,u,!0),n.value=l}function a(l,c){const u=_t({},i.value,e.state,{forward:l,scroll:Rg()});e.state||et(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),o(u.current,u,!0);const f=_t({},PC(n.value,l,null),{position:u.position+1},c);o(l,f,!1),n.value=l}return{location:n,state:i,push:a,replace:s}}function Cne(t){t=gne(t);const e=Sne(t),r=Ene(t,e.state,e.location,e.replace);function n(o,s=!0){s||r.pauseListeners(),history.go(o)}const i=_t({location:"",base:t,go:n,createHref:vne.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function JAe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),!t.endsWith("#/")&&!t.endsWith("#")&&et(`A hash base must end with a "#":
"${t}" should be "${t.replace(/#.*$/,"#")}".`),Cne(t)}function Ane(t){return typeof t=="string"||t&&typeof t=="object"}function MM(t){return typeof t=="string"||typeof t=="symbol"}const ys={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},DM=Symbol("navigation failure");var IC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(IC||(IC={}));const Tne={1({location:t,currentLocation:e}){return`No match for
 ${JSON.stringify(t)}${e?`
while being at
`+JSON.stringify(e):""}`},2({from:t,to:e}){return`Redirected from "${t.fullPath}" to "${Ine(e)}" via a navigation guard.`},4({from:t,to:e}){return`Navigation aborted from "${t.fullPath}" to "${e.fullPath}" via a navigation guard.`},8({from:t,to:e}){return`Navigation cancelled from "${t.fullPath}" to "${e.fullPath}" with a new navigation.`},16({from:t,to:e}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function zc(t,e){return _t(new Error(Tne[t](e)),{type:t,[DM]:!0},e)}function To(t,e){return t instanceof Error&&DM in t&&(e==null||!!(t.type&e))}const Pne=["params","query","hash"];function Ine(t){if(typeof t=="string")return t;if("path"in t)return t.path;const e={};for(const r of Pne)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}const OC="[^/]+?",One={sensitive:!1,strict:!1,start:!0,end:!0},Rne=/[.+*?^${}()[\]/\\]/g;function Mne(t,e){const r=_t({},One,e),n=[];let i=r.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];r.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(Rne,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:y,optional:g,regexp:m}=d;o.push({name:p,repeatable:y,optional:g});const v=m||OC;if(v!==OC){h+=10;try{new RegExp(`(${v})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+x.message)}}let _=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(_=g&&c.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,h+=20,g&&(h+=-8),y&&(h+=-20),v===".*"&&(h+=-50)}u.push(h)}n.push(u)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function a(c){const u=c.match(s),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=o[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:y,optional:g}=h,m=p in c?c[p]:"";if(Yn(m)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Yn(m)?m.join("/"):m;if(!v)if(g)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:s,score:n,keys:o,parse:a,stringify:l}}function Dne(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Bne(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const o=Dne(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(RC(n))return 1;if(RC(i))return-1}return i.length-n.length}function RC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const kne={type:0,value:""},Nne=/[a-zA-Z0-9_]/;function Fne(t){if(!t)return[[]];if(t==="/")return[[kne]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function e(h){throw new Error(`ERR (${r})/"${c}": ${h}`)}let r=0,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(r===0?o.push({type:0,value:c}):r===1||r===2||r===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(c&&f(),s()):l===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:l==="("?r=2:Nne.test(l)?d():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=3:u+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function Lne(t,e,r){const n=Mne(Fne(t.path),r);{const o=new Set;for(const s of n.keys)o.has(s.name)&&et(`Found duplicated params with name "${s.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),o.add(s.name)}const i=_t(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function $ne(t,e){const r=[],n=new Map;e=BC({strict:!1,end:!0,sensitive:!1},e);function i(u){return n.get(u)}function o(u,f,d){const h=!d,p=Une(u);zne(p,f),p.aliasOf=d&&d.record;const y=BC(e,u),g=[p];if("alias"in u){const _=typeof u.alias=="string"?[u.alias]:u.alias;for(const x of _)g.push(_t({},p,{components:d?d.record.components:p.components,path:x,aliasOf:d?d.record:p}))}let m,v;for(const _ of g){const{path:x}=_;if(f&&x[0]!=="/"){const b=f.record.path,w=b[b.length-1]==="/"?"":"/";_.path=f.record.path+(x&&w+x)}if(_.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(m=Lne(_,f,y),f&&x[0]==="/"&&jne(m,f),d?(d.alias.push(m),Vne(d,m)):(v=v||m,v!==m&&v.alias.push(m),h&&u.name&&!DC(m)&&s(u.name)),p.children){const b=p.children;for(let w=0;w<b.length;w++)o(b[w],m,d&&d.children[w])}d=d||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return v?()=>{s(v)}:vf}function s(u){if(MM(u)){const f=n.get(u);f&&(n.delete(u),r.splice(r.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=r.indexOf(u);f>-1&&(r.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return r}function l(u){let f=0;for(;f<r.length&&Bne(u,r[f])>=0&&(u.record.path!==r[f].record.path||!BM(u,r[f]));)f++;r.splice(f,0,u),u.record.name&&!DC(u)&&n.set(u.record.name,u)}function c(u,f){let d,h={},p,y;if("name"in u&&u.name){if(d=n.get(u.name),!d)throw zc(1,{location:u});{const v=Object.keys(u.params||{}).filter(_=>!d.keys.find(x=>x.name===_));v.length&&et(`Discarded invalid param(s) "${v.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}y=d.record.name,h=_t(MC(f.params,d.keys.filter(v=>!v.optional).map(v=>v.name)),u.params&&MC(u.params,d.keys.map(v=>v.name))),p=d.stringify(h)}else if("path"in u)p=u.path,p.startsWith("/")||et(`The Matcher cannot resolve relative paths but received "${p}". Unless you directly called \`matcher.resolve("${p}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),d=r.find(v=>v.re.test(p)),d&&(h=d.parse(p),y=d.record.name);else{if(d=f.name?n.get(f.name):r.find(v=>v.re.test(f.path)),!d)throw zc(1,{location:u,currentLocation:f});y=d.record.name,h=_t({},f.params,u.params),p=d.stringify(h)}const g=[];let m=d;for(;m;)g.unshift(m.record),m=m.parent;return{name:y,path:p,params:h,matched:g,meta:Hne(g)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function MC(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Une(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Gne(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Gne(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function DC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Hne(t){return t.reduce((e,r)=>_t(e,r.meta),{})}function BC(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function Uy(t,e){return t.name===e.name&&t.optional===e.optional&&t.repeatable===e.repeatable}function Vne(t,e){for(const r of t.keys)if(!r.optional&&!e.keys.find(Uy.bind(null,r)))return et(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${r.name}"`);for(const r of e.keys)if(!r.optional&&!t.keys.find(Uy.bind(null,r)))return et(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${r.name}"`)}function zne(t,e){e&&e.record.name&&!t.name&&!t.path&&et(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function jne(t,e){for(const r of e.keys)if(!t.keys.find(Uy.bind(null,r)))return et(`Absolute path "${t.record.path}" must have the exact same param named "${r.name}" as its parent "${e.record.path}".`)}function BM(t,e){return e.children.some(r=>r===t||BM(t,r))}const kM=/#/g,Wne=/&/g,Xne=/\//g,Yne=/=/g,Kne=/\?/g,NM=/\+/g,qne=/%5B/g,Zne=/%5D/g,FM=/%5E/g,Jne=/%60/g,LM=/%7B/g,Qne=/%7C/g,$M=/%7D/g,eie=/%20/g;function Zb(t){return encodeURI(""+t).replace(Qne,"|").replace(qne,"[").replace(Zne,"]")}function tie(t){return Zb(t).replace(LM,"{").replace($M,"}").replace(FM,"^")}function Gy(t){return Zb(t).replace(NM,"%2B").replace(eie,"+").replace(kM,"%23").replace(Wne,"%26").replace(Jne,"`").replace(LM,"{").replace($M,"}").replace(FM,"^")}function rie(t){return Gy(t).replace(Yne,"%3D")}function nie(t){return Zb(t).replace(kM,"%23").replace(Kne,"%3F")}function iie(t){return t==null?"":nie(t).replace(Xne,"%2F")}function rd(t){try{return decodeURIComponent(""+t)}catch{et(`Error decoding "${t}". Using original value`)}return""+t}function oie(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(NM," "),s=o.indexOf("="),a=rd(s<0?o:o.slice(0,s)),l=s<0?null:rd(o.slice(s+1));if(a in e){let c=e[a];Yn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function kC(t){let e="";for(let r in t){const n=t[r];if(r=rie(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Yn(n)?n.map(o=>o&&Gy(o)):[n&&Gy(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+r,o!=null&&(e+="="+o))})}return e}function sie(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Yn(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const UM=Symbol("router view location matched"),NC=Symbol("router view depth"),Mg=Symbol("router"),Jb=Symbol("route location"),Hy=Symbol("router view location");function Bu(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function aie(t,e,r){const n=()=>{t[e].delete(r)};cs(n),xo(n),as(()=>{t[e].add(r)}),t[e].add(r)}function QAe(t){if(!bt()){et("getCurrentInstance() returned null. onBeforeRouteLeave() must be called at the top of a setup function");return}const e=fr(UM,{}).value;if(!e){et("No active route record was found when calling `onBeforeRouteLeave()`. Make sure you call this function inside a component child of <router-view>. Maybe you called it inside of App.vue?");return}aie(e,"leaveGuards",t)}function As(t,e,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const l=f=>{f===!1?a(zc(4,{from:r,to:e})):f instanceof Error?a(f):Ane(f)?a(zc(2,{from:e,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},c=t.call(n&&n.instances[i],e,r,lie(l,e,r));let u=Promise.resolve(c);if(t.length<3&&(u=u.then(l)),t.length>2){const f=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof c=="object"&&"then"in c)u=u.then(d=>l._called?d:(et(f),Promise.reject(new Error("Invalid navigation guard"))));else if(c!==void 0&&!l._called){et(f),a(new Error("Invalid navigation guard"));return}}u.catch(f=>a(f))})}function lie(t,e,r){let n=0;return function(){n++===1&&et(`The "next" callback was called more than once in one navigation guard when going from "${r.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,n===1&&t.apply(null,arguments)}}function Gm(t,e,r,n){const i=[];for(const o of t){!o.components&&!o.children.length&&et(`Record with path "${o.path}" is either missing a "component(s)" or "children" property.`);for(const s in o.components){let a=o.components[s];{if(!a||typeof a!="object"&&typeof a!="function")throw et(`Component "${s}" in record with path "${o.path}" is not a valid component. Received "${String(a)}".`),new Error("Invalid route component");if("then"in a){et(`Component "${s}" in record with path "${o.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const l=a;a=()=>l}else a.__asyncLoader&&!a.__warnedDefineAsync&&(a.__warnedDefineAsync=!0,et(`Component "${s}" in record with path "${o.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(cie(a)){const c=(a.__vccOpts||a)[e];c&&i.push(As(c,r,n,o,s))}else{let l=a();"catch"in l||(et(`Component "${s}" in record with path "${o.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),l=Promise.resolve(l)),i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const u=cne(c)?c.default:c;o.components[s]=u;const d=(u.__vccOpts||u)[e];return d&&As(d,r,n,o,s)()}))}}}return i}function cie(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function FC(t){const e=fr(Mg),r=fr(Jb),n=ne(()=>e.resolve(dn(t.to))),i=ne(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(ta.bind(null,u));if(d>-1)return d;const h=LC(l[c-2]);return c>1&&LC(u)===h&&f[f.length-1].path!==h?f.findIndex(ta.bind(null,l[c-2])):d}),o=ne(()=>i.value>-1&&hie(r.params,n.value.params)),s=ne(()=>i.value>-1&&i.value===r.matched.length-1&&OM(r.params,n.value.params));function a(l={}){return die(l)?e[dn(t.replace)?"replace":"push"](dn(t.to)).catch(vf):Promise.resolve()}if(Fo){const l=bt();if(l){const c={route:n.value,isActive:o.value,isExactActive:s.value};l.__vrl_devtools=l.__vrl_devtools||[],l.__vrl_devtools.push(c),su(()=>{c.route=n.value,c.isActive=o.value,c.isExactActive=s.value},{flush:"post"})}}return{route:n,href:ne(()=>n.value.href),isActive:o,isExactActive:s,navigate:a}}const uie=we({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:FC,setup(t,{slots:e}){const r=Bt(FC(t)),{options:n}=fr(Mg),i=ne(()=>({[$C(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[$C(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=e.default&&e.default(r);return t.custom?o:Rr("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),fie=uie;function die(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function hie(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Yn(i)||i.length!==n.length||n.some((o,s)=>o!==i[s]))return!1}return!0}function LC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $C=(t,e,r)=>t??e??r,pie=we({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){mie();const n=fr(Hy),i=ne(()=>t.route||n.value),o=fr(NC,0),s=ne(()=>{let c=dn(o);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=ne(()=>i.value.matched[s.value]);hi(NC,ne(()=>s.value+1)),hi(UM,a),hi(Hy,i);const l=Z();return ye(()=>[l.value,a.value,t.name],([c,u,f],[d,h,p])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!ta(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return UC(r.default,{Component:d,route:c});const h=f.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,g=Rr(d,_t({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:l}));if(Fo&&g.ref){const m={depth:s.value,name:f.name,path:f.path,meta:f.meta};(Yn(g.ref)?g.ref.map(_=>_.i):[g.ref.i]).forEach(_=>{_.__vrv_devtools=m})}return UC(r.default,{Component:g,route:c})||g}}});function UC(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const gie=pie;function mie(){const t=bt(),e=t.parent&&t.parent.type.name;if(e&&(e==="KeepAlive"||e.includes("Transition"))){const r=e==="KeepAlive"?"keep-alive":"transition";et(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${r}>
    <component :is="Component" />
  </${r}>
</router-view>`)}}function ku(t,e){const r=_t({},t,{matched:t.matched.map(n=>Cie(n,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:e,value:r}}}function Oh(t){return{_custom:{display:t}}}let vie=0;function yie(t,e,r){if(e.__hasDevtools)return;e.__hasDevtools=!0;const n=vie++;sg({id:"org.vuejs.router"+(n?"."+n:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},i=>{typeof i.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent((u,f)=>{u.instanceData&&u.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:ku(e.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:u,componentInstance:f})=>{if(f.__vrv_devtools){const d=f.__vrv_devtools;u.tags.push({label:(d.name?`${d.name.toString()}: `:"")+d.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:GM})}Yn(f.__vrl_devtools)&&(f.__devtoolsApi=i,f.__vrl_devtools.forEach(d=>{let h=zM,p="";d.isExactActive?(h=VM,p="This is exactly active"):d.isActive&&(h=HM,p="This link is active"),u.tags.push({label:d.route.path,textColor:0,tooltip:p,backgroundColor:h})}))}),ye(e.currentRoute,()=>{l(),i.notifyComponentUpdate(),i.sendInspectorTree(a),i.sendInspectorState(a)});const o="router:navigations:"+n;i.addTimelineLayer({id:o,label:`Router${n?" "+n:""} Navigations`,color:4237508}),e.onError((u,f)=>{i.addTimelineEvent({layerId:o,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:i.now(),data:{error:u},groupId:f.meta.__navigationId}})});let s=0;e.beforeEach((u,f)=>{const d={guard:Oh("beforeEach"),from:ku(f,"Current Location during this navigation"),to:ku(u,"Target location")};Object.defineProperty(u.meta,"__navigationId",{value:s++}),i.addTimelineEvent({layerId:o,event:{time:i.now(),title:"Start of navigation",subtitle:u.fullPath,data:d,groupId:u.meta.__navigationId}})}),e.afterEach((u,f,d)=>{const h={guard:Oh("afterEach")};d?(h.failure={_custom:{type:Error,readOnly:!0,display:d?d.message:"",tooltip:"Navigation Failure",value:d}},h.status=Oh("")):h.status=Oh(""),h.from=ku(f,"Current Location during this navigation"),h.to=ku(u,"Target location"),i.addTimelineEvent({layerId:o,event:{title:"End of navigation",subtitle:u.fullPath,time:i.now(),data:h,logType:d?"warning":"default",groupId:u.meta.__navigationId}})});const a="router-inspector:"+n;i.addInspector({id:a,label:"Routes"+(n?" "+n:""),icon:"book",treeFilterPlaceholder:"Search routes"});function l(){if(!c)return;const u=c;let f=r.getRoutes().filter(d=>!d.parent);f.forEach(XM),u.filter&&(f=f.filter(d=>Vy(d,u.filter.toLowerCase()))),f.forEach(d=>WM(d,e.currentRoute.value)),u.rootNodes=f.map(jM)}let c;i.on.getInspectorTree(u=>{c=u,u.app===t&&u.inspectorId===a&&l()}),i.on.getInspectorState(u=>{if(u.app===t&&u.inspectorId===a){const d=r.getRoutes().find(h=>h.record.__vd_id===u.nodeId);d&&(u.state={options:xie(d)})}}),i.sendInspectorTree(a),i.sendInspectorState(a)})}function _ie(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function xie(t){const{record:e}=t,r=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&r.push({editable:!1,key:"name",value:e.name}),r.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&r.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(n=>`${n.name}${_ie(n)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),e.redirect!=null&&r.push({editable:!1,key:"redirect",value:e.redirect}),t.alias.length&&r.push({editable:!1,key:"aliases",value:t.alias.map(n=>n.record.path)}),Object.keys(t.record.meta).length&&r.push({editable:!1,key:"meta",value:t.record.meta}),r.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(n=>n.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),r}const GM=15485081,HM=2450411,VM=8702998,bie=2282478,zM=16486972,wie=6710886;function jM(t){const e=[],{record:r}=t;r.name!=null&&e.push({label:String(r.name),textColor:0,backgroundColor:bie}),r.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:zM}),t.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:GM}),t.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:VM}),t.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:HM}),r.redirect&&e.push({label:typeof r.redirect=="string"?`redirect: ${r.redirect}`:"redirects",textColor:16777215,backgroundColor:wie});let n=r.__vd_id;return n==null&&(n=String(Eie++),r.__vd_id=n),{id:n,label:r.path,tags:e,children:t.children.map(jM)}}let Eie=0;const Sie=/^\/(.*)\/([a-z]*)$/;function WM(t,e){const r=e.matched.length&&ta(e.matched[e.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=r,r||(t.__vd_active=e.matched.some(n=>ta(n,t.record))),t.children.forEach(n=>WM(n,e))}function XM(t){t.__vd_match=!1,t.children.forEach(XM)}function Vy(t,e){const r=String(t.re).match(Sie);if(t.__vd_match=!1,!r||r.length<3)return!1;if(new RegExp(r[1].replace(/\$$/,""),r[2]).test(e))return t.children.forEach(s=>Vy(s,e)),t.record.path!=="/"||e==="/"?(t.__vd_match=t.re.test(e),!0):!1;const i=t.record.path.toLowerCase(),o=rd(i);return!e.startsWith("/")&&(o.includes(e)||i.includes(e))||o.startsWith(e)||i.startsWith(e)||t.record.name&&String(t.record.name).includes(e)?!0:t.children.some(s=>Vy(s,e))}function Cie(t,e){const r={};for(const n in t)e.includes(n)||(r[n]=t[n]);return r}function eTe(t){const e=$ne(t.routes,t),r=t.parseQuery||oie,n=t.stringifyQuery||kC,i=t.history;if(!i)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const o=Bu(),s=Bu(),a=Bu(),l=W0(ys);let c=ys;Fo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$m.bind(null,F=>""+F),f=$m.bind(null,iie),d=$m.bind(null,rd);function h(F,q){let L,ee;return MM(F)?(L=e.getRecordMatcher(F),ee=q):ee=F,e.addRoute(ee,L)}function p(F){const q=e.getRecordMatcher(F);q?e.removeRoute(q):et(`Cannot remove non-existent route "${String(F)}"`)}function y(){return e.getRoutes().map(F=>F.record)}function g(F){return!!e.getRecordMatcher(F)}function m(F,q){if(q=_t({},q||l.value),typeof F=="string"){const xe=Um(r,F,q.path),O=e.resolve({path:xe.path},q),$=i.createHref(xe.fullPath);return $.startsWith("//")?et(`Location "${F}" resolved to "${$}". A resolved location cannot start with multiple slashes.`):O.matched.length||et(`No match found for location with path "${F}"`),_t(xe,O,{params:d(O.params),hash:rd(xe.hash),redirectedFrom:void 0,href:$})}let L;if("path"in F)"params"in F&&!("name"in F)&&Object.keys(F.params).length&&et(`Path "${F.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),L=_t({},F,{path:Um(r,F.path,q.path).path});else{const xe=_t({},F.params);for(const O in xe)xe[O]==null&&delete xe[O];L=_t({},F,{params:f(F.params)}),q.params=f(q.params)}const ee=e.resolve(L,q),J=F.hash||"";J&&!J.startsWith("#")&&et(`A \`hash\` should always start with the character "#". Replace "${J}" with "#${J}".`),ee.params=u(d(ee.params));const de=dne(n,_t({},F,{hash:tie(J),path:ee.path})),pe=i.createHref(de);return pe.startsWith("//")?et(`Location "${F}" resolved to "${pe}". A resolved location cannot start with multiple slashes.`):ee.matched.length||et(`No match found for location with path "${"path"in F?F.path:F}"`),_t({fullPath:de,hash:J,query:n===kC?sie(F.query):F.query||{}},ee,{redirectedFrom:void 0,href:pe})}function v(F){return typeof F=="string"?Um(r,F,l.value.path):_t({},F)}function _(F,q){if(c!==F)return zc(8,{from:q,to:F})}function x(F){return E(F)}function b(F){return x(_t(v(F),{replace:!0}))}function w(F){const q=F.matched[F.matched.length-1];if(q&&q.redirect){const{redirect:L}=q;let ee=typeof L=="function"?L(F):L;if(typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=v(ee):{path:ee},ee.params={}),!("path"in ee)&&!("name"in ee))throw et(`Invalid redirect found:
${JSON.stringify(ee,null,2)}
 when navigating to "${F.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return _t({query:F.query,hash:F.hash,params:"path"in ee?{}:F.params},ee)}}function E(F,q){const L=c=m(F),ee=l.value,J=F.state,de=F.force,pe=F.replace===!0,xe=w(L);if(xe)return E(_t(v(xe),{state:typeof xe=="object"?_t({},J,xe.state):J,force:de,replace:pe}),q||L);const O=L;O.redirectedFrom=q;let $;return!de&&CC(n,ee,L)&&($=zc(16,{to:O,from:ee}),fe(ee,ee,!0,!1)),($?Promise.resolve($):P(O,ee)).catch(j=>To(j)?To(j,2)?j:K(j):U(j,O,ee)).then(j=>{if(j){if(To(j,2))return CC(n,m(j.to),O)&&q&&(q._count=q._count?q._count+1:1)>10?(et(`Detected an infinite redirection in a navigation guard when going from "${ee.fullPath}" to "${O.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):E(_t({replace:pe},v(j.to),{state:typeof j.to=="object"?_t({},J,j.to.state):J,force:de}),q||O)}else j=A(O,ee,!0,pe,J);return C(O,ee,j),j})}function S(F,q){const L=_(F,q);return L?Promise.reject(L):Promise.resolve()}function P(F,q){let L;const[ee,J,de]=Aie(F,q);L=Gm(ee.reverse(),"beforeRouteLeave",F,q);for(const xe of ee)xe.leaveGuards.forEach(O=>{L.push(As(O,F,q))});const pe=S.bind(null,F,q);return L.push(pe),Jl(L).then(()=>{L=[];for(const xe of o.list())L.push(As(xe,F,q));return L.push(pe),Jl(L)}).then(()=>{L=Gm(J,"beforeRouteUpdate",F,q);for(const xe of J)xe.updateGuards.forEach(O=>{L.push(As(O,F,q))});return L.push(pe),Jl(L)}).then(()=>{L=[];for(const xe of F.matched)if(xe.beforeEnter&&!q.matched.includes(xe))if(Yn(xe.beforeEnter))for(const O of xe.beforeEnter)L.push(As(O,F,q));else L.push(As(xe.beforeEnter,F,q));return L.push(pe),Jl(L)}).then(()=>(F.matched.forEach(xe=>xe.enterCallbacks={}),L=Gm(de,"beforeRouteEnter",F,q),L.push(pe),Jl(L))).then(()=>{L=[];for(const xe of s.list())L.push(As(xe,F,q));return L.push(pe),Jl(L)}).catch(xe=>To(xe,8)?xe:Promise.reject(xe))}function C(F,q,L){for(const ee of a.list())ee(F,q,L)}function A(F,q,L,ee,J){const de=_(F,q);if(de)return de;const pe=q===ys,xe=Fo?history.state:{};L&&(ee||pe?i.replace(F.fullPath,_t({scroll:pe&&xe&&xe.scroll},J)):i.push(F.fullPath,J)),l.value=F,fe(F,q,L,pe),K()}let T;function I(){T||(T=i.listen((F,q,L)=>{if(!ge.listening)return;const ee=m(F),J=w(ee);if(J){E(_t(J,{replace:!0}),ee).catch(vf);return}c=ee;const de=l.value;Fo&&xne(TC(de.fullPath,L.delta),Rg()),P(ee,de).catch(pe=>To(pe,12)?pe:To(pe,2)?(E(pe.to,ee).then(xe=>{To(xe,20)&&!L.delta&&L.type===td.pop&&i.go(-1,!1)}).catch(vf),Promise.reject()):(L.delta&&i.go(-L.delta,!1),U(pe,ee,de))).then(pe=>{pe=pe||A(ee,de,!1),pe&&(L.delta&&!To(pe,8)?i.go(-L.delta,!1):L.type===td.pop&&To(pe,20)&&i.go(-1,!1)),C(ee,de,pe)}).catch(vf)}))}let B=Bu(),G=Bu(),N;function U(F,q,L){K(F);const ee=G.list();return ee.length?ee.forEach(J=>J(F,q,L)):(et("uncaught error during route navigation:"),console.error(F)),Promise.reject(F)}function W(){return N&&l.value!==ys?Promise.resolve():new Promise((F,q)=>{B.add([F,q])})}function K(F){return N||(N=!F,I(),B.list().forEach(([q,L])=>F?L(F):q()),B.reset()),F}function fe(F,q,L,ee){const{scrollBehavior:J}=t;if(!Fo||!J)return Promise.resolve();const de=!L&&bne(TC(F.fullPath,0))||(ee||!L)&&history.state&&history.state.scroll||null;return Ye().then(()=>J(F,q,de)).then(pe=>pe&&_ne(pe)).catch(pe=>U(pe,F,q))}const ue=F=>i.go(F);let Y;const ie=new Set,ge={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:g,getRoutes:y,resolve:m,options:t,push:x,replace:b,go:ue,back:()=>ue(-1),forward:()=>ue(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:G.add,isReady:W,install(F){const q=this;F.component("RouterLink",fie),F.component("RouterView",gie),F.config.globalProperties.$router=q,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>dn(l)}),Fo&&!Y&&l.value===ys&&(Y=!0,x(i.location).catch(J=>{et("Unexpected error when starting the router:",J)}));const L={};for(const J in ys)L[J]=ne(()=>l.value[J]);F.provide(Mg,q),F.provide(Jb,Bt(L)),F.provide(Hy,l);const ee=F.unmount;ie.add(F),F.unmount=function(){ie.delete(F),ie.size<1&&(c=ys,T&&T(),T=null,l.value=ys,Y=!1,N=!1),ee()},Fo&&yie(F,q,e)}};return ge}function Jl(t){return t.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function Aie(t,e){const r=[],n=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(c=>ta(c,a))?n.push(a):r.push(a));const l=t.matched[s];l&&(e.matched.find(c=>ta(c,l))||i.push(l))}return[r,n,i]}function tTe(){return fr(Mg)}function rTe(){return fr(Jb)}function YM(t,e){return function(){return t.apply(e,arguments)}}const{toString:Tie}=Object.prototype,{getPrototypeOf:Qb}=Object,{iterator:Dg,toStringTag:KM}=Symbol,Bg=(t=>e=>{const r=Tie.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gi=t=>(t=t.toLowerCase(),e=>Bg(e)===t),kg=t=>e=>typeof e===t,{isArray:hu}=Array,nd=kg("undefined");function Dd(t){return t!==null&&!nd(t)&&t.constructor!==null&&!nd(t.constructor)&&In(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qM=Gi("ArrayBuffer");function Pie(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qM(t.buffer),e}const Iie=kg("string"),In=kg("function"),ZM=kg("number"),Bd=t=>t!==null&&typeof t=="object",Oie=t=>t===!0||t===!1,yp=t=>{if(Bg(t)!=="object")return!1;const e=Qb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KM in t)&&!(Dg in t)},Rie=t=>{if(!Bd(t)||Dd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Mie=Gi("Date"),Die=Gi("File"),Bie=Gi("Blob"),kie=Gi("FileList"),Nie=t=>Bd(t)&&In(t.pipe),Fie=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||In(t.append)&&((e=Bg(t))==="formdata"||e==="object"&&In(t.toString)&&t.toString()==="[object FormData]"))},Lie=Gi("URLSearchParams"),[$ie,Uie,Gie,Hie]=["ReadableStream","Request","Response","Headers"].map(Gi),Vie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),hu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Dd(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function JM(t,e){if(Dd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const La=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),QM=t=>!nd(t)&&t!==La;function zy(){const{caseless:t}=QM(this)&&this||{},e={},r=(n,i)=>{const o=t&&JM(e,i)||i;yp(e[o])&&yp(n)?e[o]=zy(e[o],n):yp(n)?e[o]=zy({},n):hu(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&kd(arguments[n],r);return e}const zie=(t,e,r,{allOwnKeys:n}={})=>(kd(e,(i,o)=>{r&&In(i)?t[o]=YM(i,r):t[o]=i},{allOwnKeys:n}),t),jie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Wie=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Xie=(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&Qb(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Yie=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Kie=t=>{if(!t)return null;if(hu(t))return t;let e=t.length;if(!ZM(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},qie=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Qb(Uint8Array)),Zie=(t,e)=>{const n=(t&&t[Dg]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Jie=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Qie=Gi("HTMLFormElement"),eoe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),GC=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),toe=Gi("RegExp"),eD=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};kd(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},roe=t=>{eD(t,(e,r)=>{if(In(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(In(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},noe=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return hu(t)?n(t):n(String(t).split(e)),r},ioe=()=>{},ooe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function soe(t){return!!(t&&In(t.append)&&t[KM]==="FormData"&&t[Dg])}const aoe=t=>{const e=new Array(10),r=(n,i)=>{if(Bd(n)){if(e.indexOf(n)>=0)return;if(Dd(n))return n;if(!("toJSON"in n)){e[i]=n;const o=hu(n)?[]:{};return kd(n,(s,a)=>{const l=r(s,i+1);!nd(l)&&(o[a]=l)}),e[i]=void 0,o}}return n};return r(t,0)},loe=Gi("AsyncFunction"),coe=t=>t&&(Bd(t)||In(t))&&In(t.then)&&In(t.catch),tD=((t,e)=>t?setImmediate:e?((r,n)=>(La.addEventListener("message",({source:i,data:o})=>{i===La&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),La.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",In(La.postMessage)),uoe=typeof queueMicrotask<"u"?queueMicrotask.bind(La):typeof process<"u"&&process.nextTick||tD,foe=t=>t!=null&&In(t[Dg]),te={isArray:hu,isArrayBuffer:qM,isBuffer:Dd,isFormData:Fie,isArrayBufferView:Pie,isString:Iie,isNumber:ZM,isBoolean:Oie,isObject:Bd,isPlainObject:yp,isEmptyObject:Rie,isReadableStream:$ie,isRequest:Uie,isResponse:Gie,isHeaders:Hie,isUndefined:nd,isDate:Mie,isFile:Die,isBlob:Bie,isRegExp:toe,isFunction:In,isStream:Nie,isURLSearchParams:Lie,isTypedArray:qie,isFileList:kie,forEach:kd,merge:zy,extend:zie,trim:Vie,stripBOM:jie,inherits:Wie,toFlatObject:Xie,kindOf:Bg,kindOfTest:Gi,endsWith:Yie,toArray:Kie,forEachEntry:Zie,matchAll:Jie,isHTMLForm:Qie,hasOwnProperty:GC,hasOwnProp:GC,reduceDescriptors:eD,freezeMethods:roe,toObjectSet:noe,toCamelCase:eoe,noop:ioe,toFiniteNumber:ooe,findKey:JM,global:La,isContextDefined:QM,isSpecCompliantForm:soe,toJSONObject:aoe,isAsyncFn:loe,isThenable:coe,setImmediate:tD,asap:uoe,isIterable:foe};function Xe(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const rD=Xe.prototype,nD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nD[t]={value:t}});Object.defineProperties(Xe,nD);Object.defineProperty(rD,"isAxiosError",{value:!0});Xe.from=(t,e,r,n,i,o)=>{const s=Object.create(rD);return te.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Xe.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const doe=null;function jy(t){return te.isPlainObject(t)||te.isArray(t)}function iD(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function HC(t,e,r){return t?t.concat(e).map(function(i,o){return i=iD(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function hoe(t){return te.isArray(t)&&!t.some(jy)}const poe=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function Ng(t,e,r){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!te.isUndefined(g[y])});const n=r.metaTokens,i=r.visitor||u,o=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(te.isDate(p))return p.toISOString();if(te.isBoolean(p))return p.toString();if(!l&&te.isBlob(p))throw new Xe("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(p)||te.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y,g){let m=p;if(p&&!g&&typeof p=="object"){if(te.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(te.isArray(p)&&hoe(p)||(te.isFileList(p)||te.endsWith(y,"[]"))&&(m=te.toArray(p)))return y=iD(y),m.forEach(function(_,x){!(te.isUndefined(_)||_===null)&&e.append(s===!0?HC([y],x,o):s===null?y:y+"[]",c(_))}),!1}return jy(p)?!0:(e.append(HC(g,y,o),c(p)),!1)}const f=[],d=Object.assign(poe,{defaultVisitor:u,convertValue:c,isVisitable:jy});function h(p,y){if(!te.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),te.forEach(p,function(m,v){(!(te.isUndefined(m)||m===null)&&i.call(e,m,te.isString(v)?v.trim():v,y,d))===!0&&h(m,y?y.concat(v):[v])}),f.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return h(t),e}function VC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ew(t,e){this._pairs=[],t&&Ng(t,this,e)}const oD=ew.prototype;oD.append=function(e,r){this._pairs.push([e,r])};oD.toString=function(e){const r=e?function(n){return e.call(this,n,VC)}:VC;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function goe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sD(t,e,r){if(!e)return t;const n=r&&r.encode||goe;te.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(e,r):o=te.isURLSearchParams(e)?e.toString():new ew(e,r).toString(n),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class moe{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const zC=moe,aD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},voe=typeof URLSearchParams<"u"?URLSearchParams:ew,yoe=typeof FormData<"u"?FormData:null,_oe=typeof Blob<"u"?Blob:null,xoe={isBrowser:!0,classes:{URLSearchParams:voe,FormData:yoe,Blob:_oe},protocols:["http","https","file","blob","url","data"]},tw=typeof window<"u"&&typeof document<"u",Wy=typeof navigator=="object"&&navigator||void 0,boe=tw&&(!Wy||["ReactNative","NativeScript","NS"].indexOf(Wy.product)<0),woe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Eoe=tw&&window.location.href||"http://localhost",Soe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tw,hasStandardBrowserEnv:boe,hasStandardBrowserWebWorkerEnv:woe,navigator:Wy,origin:Eoe},Symbol.toStringTag,{value:"Module"})),Kr={...Soe,...xoe};function Coe(t,e){return Ng(t,new Kr.classes.URLSearchParams,{visitor:function(r,n,i,o){return Kr.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Aoe(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Toe(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function lD(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=r.length;return s=!s&&te.isArray(i)?i.length:s,l?(te.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!te.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&te.isArray(i[s])&&(i[s]=Toe(i[s])),!a)}if(te.isFormData(t)&&te.isFunction(t.entries)){const r={};return te.forEachEntry(t,(n,i)=>{e(Aoe(n),i,r,0)}),r}return null}function Poe(t,e,r){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const rw={transitional:aD,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=te.isObject(e);if(o&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(lD(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Coe(e,this.formSerializer).toString();if((a=te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ng(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),Poe(e)):e}],transformResponse:[function(e){const r=this.transitional||rw.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Xe.from(a,Xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kr.classes.FormData,Blob:Kr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{rw.headers[t]={}});const nw=rw,Ioe=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ooe=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&Ioe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},jC=Symbol("internals");function Nu(t){return t&&String(t).trim().toLowerCase()}function _p(t){return t===!1||t==null?t:te.isArray(t)?t.map(_p):String(t)}function Roe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Moe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hm(t,e,r,n,i){if(te.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!te.isString(e)){if(te.isString(n))return e.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(e)}}function Doe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Boe(t,e){const r=te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}class Fg{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(a,l,c){const u=Nu(l);if(!u)throw new Error("header name must be a non-empty string");const f=te.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=_p(a))}const s=(a,l)=>te.forEach(a,(c,u)=>o(c,u,l));if(te.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(te.isString(e)&&(e=e.trim())&&!Moe(e))s(Ooe(e),r);else if(te.isObject(e)&&te.isIterable(e)){let a={},l,c;for(const u of e){if(!te.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?te.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=Nu(e),e){const n=te.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Roe(i);if(te.isFunction(r))return r.call(this,i,n);if(te.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Nu(e),e){const n=te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Hm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(s){if(s=Nu(s),s){const a=te.findKey(n,s);a&&(!r||Hm(n,n[a],a,r))&&(delete n[a],i=!0)}}return te.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||Hm(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return te.forEach(this,(i,o)=>{const s=te.findKey(n,o);if(s){r[s]=_p(i),delete r[o];return}const a=e?Doe(o):String(o).trim();a!==o&&delete r[o],r[a]=_p(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return te.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[jC]=this[jC]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Nu(s);n[a]||(Boe(i,s),n[a]=!0)}return te.isArray(e)?e.forEach(o):o(e),this}}Fg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Fg.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});te.freezeMethods(Fg);const Ni=Fg;function Vm(t,e){const r=this||nw,n=e||r,i=Ni.from(n.headers);let o=n.data;return te.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function cD(t){return!!(t&&t.__CANCEL__)}function pu(t,e,r){Xe.call(this,t??"canceled",Xe.ERR_CANCELED,e,r),this.name="CanceledError"}te.inherits(pu,Xe,{__CANCEL__:!0});function uD(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Xe("Request failed with status code "+r.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function koe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Noe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=n[o];s||(s=c),r[i]=l,n[i]=c;let f=o,d=0;for(;f!==i;)d+=r[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(d*1e3/h):void 0}}function Foe(t,e){let r=0,n=1e3/e,i,o;const s=(c,u=Date.now())=>{r=u,i=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const u=Date.now(),f=u-r;f>=n?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},n-f)))},()=>i&&s(i)]}const o0=(t,e,r=3)=>{let n=0;const i=Noe(50,250);return Foe(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-n,c=i(l),u=s<=a;n=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},r)},WC=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},XC=t=>(...e)=>te.asap(()=>t(...e)),Loe=Kr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Kr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Kr.origin),Kr.navigator&&/(msie|trident)/i.test(Kr.navigator.userAgent)):()=>!0,$oe=Kr.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];te.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),te.isString(n)&&s.push("path="+n),te.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Uoe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Goe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function fD(t,e,r){let n=!Uoe(e);return t&&(n||r==!1)?Goe(t,e):e}const YC=t=>t instanceof Ni?{...t}:t;function pl(t,e){e=e||{};const r={};function n(c,u,f,d){return te.isPlainObject(c)&&te.isPlainObject(u)?te.merge.call({caseless:d},c,u):te.isPlainObject(u)?te.merge({},u):te.isArray(u)?u.slice():u}function i(c,u,f,d){if(te.isUndefined(u)){if(!te.isUndefined(c))return n(void 0,c,f,d)}else return n(c,u,f,d)}function o(c,u){if(!te.isUndefined(u))return n(void 0,u)}function s(c,u){if(te.isUndefined(u)){if(!te.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,f){if(f in e)return n(c,u);if(f in t)return n(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,f)=>i(YC(c),YC(u),f,!0)};return te.forEach(Object.keys({...t,...e}),function(u){const f=l[u]||i,d=f(t[u],e[u],u);te.isUndefined(d)&&f!==a||(r[u]=d)}),r}const dD=t=>{const e=pl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Ni.from(s),e.url=sD(fD(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(te.isFormData(r)){if(Kr.hasStandardBrowserEnv||Kr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Kr.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(e)),n||n!==!1&&Loe(e.url))){const c=i&&o&&$oe.read(o);c&&s.set(i,c)}return e},Hoe=typeof XMLHttpRequest<"u",Voe=Hoe&&function(t){return new Promise(function(r,n){const i=dD(t);let o=i.data;const s=Ni.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,f,d,h,p;function y(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function m(){if(!g)return;const _=Ni.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),b={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:_,config:t,request:g};uD(function(E){r(E),y()},function(E){n(E),y()},b),g=null}"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(n(new Xe("Request aborted",Xe.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new Xe("Network Error",Xe.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||aD;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),n(new Xe(x,b.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,t,g)),g=null},o===void 0&&s.setContentType(null),"setRequestHeader"in g&&te.forEach(s.toJSON(),function(x,b){g.setRequestHeader(b,x)}),te.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),a&&a!=="json"&&(g.responseType=i.responseType),c&&([d,p]=o0(c,!0),g.addEventListener("progress",d)),l&&g.upload&&([f,h]=o0(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=_=>{g&&(n(!_||_.type?new pu(null,t,g):_),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=koe(i.url);if(v&&Kr.protocols.indexOf(v)===-1){n(new Xe("Unsupported protocol "+v+":",Xe.ERR_BAD_REQUEST,t));return}g.send(o||null)})},zoe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Xe?u:new pu(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new Xe(`timeout ${e} of ms exceeded`,Xe.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=n;return l.unsubscribe=()=>te.asap(a),l}},joe=zoe,Woe=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Xoe=async function*(t,e){for await(const r of Yoe(t))yield*Woe(r,e)},Yoe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},KC=(t,e,r,n)=>{const i=Xoe(t,e);let o=0,s,a=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let f=u.byteLength;if(r){let d=o+=f;r(d)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Lg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hD=Lg&&typeof ReadableStream=="function",Koe=Lg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),pD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qoe=hD&&pD(()=>{let t=!1;const e=new Request(Kr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),qC=64*1024,Xy=hD&&pD(()=>te.isReadableStream(new Response("").body)),s0={stream:Xy&&(t=>t.body)};Lg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!s0[e]&&(s0[e]=te.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Xe(`Response type '${e}' is not supported`,Xe.ERR_NOT_SUPPORT,n)})})})(new Response);const Zoe=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(Kr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await Koe(t)).byteLength},Joe=async(t,e)=>{const r=te.toFiniteNumber(t.getContentLength());return r??Zoe(e)},Qoe=Lg&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=dD(t);c=c?(c+"").toLowerCase():"text";let h=joe([i,o&&o.toAbortSignal()],s),p;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&qoe&&r!=="get"&&r!=="head"&&(g=await Joe(u,n))!==0){let b=new Request(e,{method:"POST",body:n,duplex:"half"}),w;if(te.isFormData(n)&&(w=b.headers.get("content-type"))&&u.setContentType(w),b.body){const[E,S]=WC(g,o0(XC(l)));n=KC(b.body,qC,E,S)}}te.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;p=new Request(e,{...d,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:m?f:void 0});let v=await fetch(p,d);const _=Xy&&(c==="stream"||c==="response");if(Xy&&(a||_&&y)){const b={};["status","statusText","headers"].forEach(P=>{b[P]=v[P]});const w=te.toFiniteNumber(v.headers.get("content-length")),[E,S]=a&&WC(w,o0(XC(a),!0))||[];v=new Response(KC(v.body,qC,E,()=>{S&&S(),y&&y()}),b)}c=c||"text";let x=await s0[te.findKey(s0,c)||"text"](v,t);return!_&&y&&y(),await new Promise((b,w)=>{uD(b,w,{data:x,headers:Ni.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(m){throw y&&y(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,t,p),{cause:m.cause||m}):Xe.from(m,m&&m.code,t,p)}}),Yy={http:doe,xhr:Voe,fetch:Qoe};te.forEach(Yy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZC=t=>`- ${t}`,ese=t=>te.isFunction(t)||t===null||t===!1,gD={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!ese(r)&&(n=Yy[(s=String(r)).toLowerCase()],n===void 0))throw new Xe(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(ZC).join(`
`):" "+ZC(o[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:Yy};function zm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pu(null,t)}function JC(t){return zm(t),t.headers=Ni.from(t.headers),t.data=Vm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gD.getAdapter(t.adapter||nw.adapter)(t).then(function(n){return zm(t),n.data=Vm.call(t,t.transformResponse,n),n.headers=Ni.from(n.headers),n},function(n){return cD(n)||(zm(t),n&&n.response&&(n.response.data=Vm.call(t,t.transformResponse,n.response),n.response.headers=Ni.from(n.response.headers))),Promise.reject(n)})}const mD="1.11.0",$g={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$g[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const QC={};$g.transitional=function(e,r,n){function i(o,s){return"[Axios v"+mD+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new Xe(i(s," has been removed"+(r?" in "+r:"")),Xe.ERR_DEPRECATED);return r&&!QC[s]&&(QC[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};$g.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function tse(t,e,r){if(typeof t!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Xe("option "+o+" must be "+l,Xe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Xe("Unknown option "+o,Xe.ERR_BAD_OPTION)}}const xp={assertOptions:tse,validators:$g},ji=xp.validators;class a0{constructor(e){this.defaults=e||{},this.interceptors={request:new zC,response:new zC}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=pl(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&xp.assertOptions(n,{silentJSONParsing:ji.transitional(ji.boolean),forcedJSONParsing:ji.transitional(ji.boolean),clarifyTimeoutError:ji.transitional(ji.boolean)},!1),i!=null&&(te.isFunction(i)?r.paramsSerializer={serialize:i}:xp.assertOptions(i,{encode:ji.function,serialize:ji.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),xp.assertOptions(r,{baseUrl:ji.spelling("baseURL"),withXsrfToken:ji.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&te.merge(o.common,o[r.method]);o&&te.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=Ni.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,f=0,d;if(!l){const p=[JC.bind(this),void 0];for(p.unshift(...a),p.push(...c),d=p.length,u=Promise.resolve(r);f<d;)u=u.then(p[f++],p[f++]);return u}d=a.length;let h=r;for(f=0;f<d;){const p=a[f++],y=a[f++];try{h=p(h)}catch(g){y.call(this,g);break}}try{u=JC.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=pl(this.defaults,e);const r=fD(e.baseURL,e.url,e.allowAbsoluteUrls);return sD(r,e.params,e.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(e){a0.prototype[e]=function(r,n){return this.request(pl(n||{},{method:e,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(pl(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}a0.prototype[e]=r(),a0.prototype[e+"Form"]=r(!0)});const bp=a0;class iw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new pu(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new iw(function(i){e=i}),cancel:e}}}const rse=iw;function nse(t){return function(r){return t.apply(null,r)}}function ise(t){return te.isObject(t)&&t.isAxiosError===!0}const Ky={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ky).forEach(([t,e])=>{Ky[e]=t});const ose=Ky;function vD(t){const e=new bp(t),r=YM(bp.prototype.request,e);return te.extend(r,bp.prototype,e,{allOwnKeys:!0}),te.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return vD(pl(t,i))},r}const hr=vD(nw);hr.Axios=bp;hr.CanceledError=pu;hr.CancelToken=rse;hr.isCancel=cD;hr.VERSION=mD;hr.toFormData=Ng;hr.AxiosError=Xe;hr.Cancel=hr.CanceledError;hr.all=function(e){return Promise.all(e)};hr.spread=nse;hr.isAxiosError=ise;hr.mergeConfig=pl;hr.AxiosHeaders=Ni;hr.formToJSON=t=>lD(te.isHTMLForm(t)?new FormData(t):t);hr.getAdapter=gD.getAdapter;hr.HttpStatusCode=ose;hr.default=hr;const nTe=hr;var V=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(V||{});const qy=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Rh=(t,e)=>qy(t).priority??e,Ge={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(qy).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(qy).forEach(e=>{e.type.forEach(r=>{var o,s;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var s;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const o=this._queue;return o[t]&&((s=o[t])==null||s.forEach(a=>e(a)),delete o[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(o=>o.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((o,s)=>Rh(s.value,r)-Rh(o.value,r)))},n=>{const i=e.findIndex(o=>o.name===n.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,o)=>Rh(o,r)-Rh(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})},mixin(t,...e){for(const r of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(r))}},sse={extension:{type:V.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Df(()=>Promise.resolve().then(()=>nve),void 0)}},ase={extension:{type:V.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Df(()=>Promise.resolve().then(()=>ive),void 0)}};class Qt{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new Qt(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var yD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},a.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,d,h,p){var y=r?r+c:c;if(!this._events[y])return!1;var g=this._events[y],m=arguments.length,v,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,d),!0;case 5:return g.fn.call(g.context,u,f,d,h),!0;case 6:return g.fn.call(g.context,u,f,d,h,p),!0}for(_=1,v=new Array(m-1);_<m;_++)v[_-1]=arguments[_];g.fn.apply(g.context,v)}else{var x=g.length,b;for(_=0;_<x;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),m){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,u);break;case 3:g[_].fn.call(g[_].context,u,f);break;case 4:g[_].fn.call(g[_].context,u,f,d);break;default:if(!v)for(b=1,v=new Array(m-1);b<m;b++)v[b-1]=arguments[b];g[_].fn.apply(g[_].context,v)}}return!0},a.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&s(this,h);else{for(var y=0,g=[],m=p.length;y<m;y++)(p[y].fn!==u||d&&!p[y].once||f&&p[y].context!==f)&&g.push(p[y]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(yD);var lse=yD.exports;const Qn=lu(lse),cse=Math.PI*2,use=180/Math.PI,fse=Math.PI/180;let Vt=class _D{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new _D(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return jm.x=0,jm.y=0,jm}};const jm=new Vt;class Re{constructor(e=1,r=0,n=0,i=1,o=0,s=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,o,s){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Vt;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Vt;const n=this.a,i=this.b,o=this.c,s=this.d,a=this.tx,l=this.ty,c=1/(n*s+o*-i),u=e.x,f=e.y;return r.x=s*c*u+-o*c*f+(l*o-a*s)*c,r.y=n*c*f+-i*c*u+(-l*n+a*i)*c,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,o=this.c,s=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=s*r-this.ty*n,this.ty=s*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,o=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*o,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*o,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this}appendFrom(e,r){const n=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,l=e.ty,c=r.a,u=r.b,f=r.c,d=r.d;return this.a=n*c+i*f,this.b=n*u+i*d,this.c=o*c+s*f,this.d=o*u+s*d,this.tx=a*c+l*f+r.tx,this.ty=a*u+l*d+r.ty,this}setTransform(e,r,n,i,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,o=this.d,s=e.pivot,a=-Math.atan2(-i,o),l=Math.atan2(n,r),c=Math.abs(a+l);return c<1e-5||Math.abs(cse-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx+(s.x*r+s.y*i),e.position.y=this.ty+(s.x*n+s.y*o),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,s=e*i-r*n;return this.a=i/s,this.b=-r/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-i*o)/s,this.ty=-(e*this.ty-r*o)/s,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Re;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return hse.identity()}static get shared(){return dse.identity()}}const dse=new Re,hse=new Re,Ca=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Aa=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ta=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Pa=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Zy=[],xD=[],Mh=Math.sign;function pse(){for(let t=0;t<16;t++){const e=[];Zy.push(e);for(let r=0;r<16;r++){const n=Mh(Ca[t]*Ca[r]+Ta[t]*Aa[r]),i=Mh(Aa[t]*Ca[r]+Pa[t]*Aa[r]),o=Mh(Ca[t]*Ta[r]+Ta[t]*Pa[r]),s=Mh(Aa[t]*Ta[r]+Pa[t]*Pa[r]);for(let a=0;a<16;a++)if(Ca[a]===n&&Aa[a]===i&&Ta[a]===o&&Pa[a]===s){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Re;e.set(Ca[t],Aa[t],Ta[t],Pa[t],0,0),xD.push(e)}}pse();const At={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ca[t],uY:t=>Aa[t],vX:t=>Ta[t],vY:t=>Pa[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Zy[t][e],sub:(t,e)=>Zy[t][At.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?At.S:At.N:Math.abs(e)*2<=Math.abs(t)?t>0?At.E:At.W:e>0?t>0?At.SE:At.SW:t>0?At.NE:At.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=xD[At.inv(e)];i.tx=r,i.ty=n,t.append(i)},transformRectCoords:(t,e,r,n)=>{const{x:i,y:o,width:s,height:a}=t,{x:l,y:c,width:u,height:f}=e;return r===At.E?(n.set(i+l,o+c,s,a),n):r===At.S?n.set(u-o-a+l,i+c,a,s):r===At.W?n.set(u-i-s+l,f-o-a+c,s,a):r===At.N?n.set(o+l,f-i-s+c,a,s):n.set(i+l,o+c,s,a)}},Dh=[new Vt,new Vt,new Vt,new Vt];class xt{constructor(e=0,r=0,n=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new xt(0,0,0,0)}clone(){return new xt(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n,i=.5){const{width:o,height:s}=this;if(o<=0||s<=0)return!1;const a=this.x,l=this.y,c=n*(1-i),u=n-c,f=a-c,d=a+o+c,h=l-c,p=l+s+c,y=a+u,g=a+o-u,m=l+u,v=l+s-u;return e>=f&&e<=d&&r>=h&&r<=p&&!(e>y&&e<g&&r>m&&r<v)}intersects(e,r){if(!r){const S=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=S)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const n=this.left,i=this.right,o=this.top,s=this.bottom;if(i<=n||s<=o)return!1;const a=Dh[0].set(e.left,e.top),l=Dh[1].set(e.left,e.bottom),c=Dh[2].set(e.right,e.top),u=Dh[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(l,l),r.apply(c,c),r.apply(u,u),Math.max(a.x,l.x,c.x,u.x)<=n||Math.min(a.x,l.x,c.x,u.x)>=i||Math.max(a.y,l.y,c.y,u.y)<=o||Math.min(a.y,l.y,c.y,u.y)>=s))return!1;const d=f*(l.y-a.y),h=f*(a.x-l.x),p=d*n+h*o,y=d*i+h*o,g=d*n+h*s,m=d*i+h*s;if(Math.max(p,y,g,m)<=d*a.x+h*a.y||Math.min(p,y,g,m)>=d*u.x+h*u.y)return!1;const v=f*(a.y-c.y),_=f*(c.x-a.x),x=v*n+_*o,b=v*i+_*o,w=v*n+_*s,E=v*i+_*s;return!(Math.max(x,b,w,E)<=v*a.x+_*a.y||Math.min(x,b,w,E)>=v*u.x+_*u.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}scale(e,r=e){return this.x*=e,this.y*=r,this.width*=e,this.height*=r,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this}getBounds(e){return e||(e=new xt),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const r=e.x,n=e.y,i=e.x+e.width,o=e.y+e.height;return r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height&&i>=this.x&&i<this.x+this.width&&o>=this.y&&o<this.y+this.height}set(e,r,n,i){return this.x=e,this.y=r,this.width=n,this.height=i,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Wm={default:-1};function Ht(t="default"){return Wm[t]===void 0&&(Wm[t]=-1),++Wm[t]}const eA={},ot="8.0.0",gse="8.3.4";function $e(t,e,r=3){if(eA[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),eA[e]=!0}const bD=()=>{};function jc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function tA(t){return!(t&t-1)&&!!t}function wD(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const rA=Object.create(null);function mse(t){const e=rA[t];return e===void 0&&(rA[t]=Ht("resource")),e}const ED=class SD extends Qn{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...SD.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){$e(ot,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=mse(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};ED.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let vo=ED;const CD=class AD extends Qn{constructor(e={}){super(),this.options=e,this.uid=Ht("textureSource"),this._resourceType="textureSource",this._resourceId=Ht("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...AD.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new vo(wD(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var r,n;this.style!==e&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=e,(n=this._style)==null||n.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ht("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n||(n=this._resolution),e||(e=this.width),r||(r=this.height);const i=Math.round(e*n),o=Math.round(r*n);return this.width=i/n,this.height=o/n,this._resolution=n,this.pixelWidth===i&&this.pixelHeight===o?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=o,this.emit("resize",this),this._resourceId=Ht("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=tA(this.pixelWidth)&&tA(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};CD.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Sr=CD;class ow extends Sr{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}ow.extension=V.TextureSource;const nA=new Re;class TD{constructor(e,r){this.mapCoord=new Re,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var r;this.texture!==e&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const o=e[i],s=e[i+1];r[i]=o*n.a+s*n.c+n.tx,r[i+1]=o*n.b+s*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,i=e.trim;i&&(nA.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(nA));const o=e.source,s=this.uClampFrame,a=this.clampMargin/o._resolution,l=this.clampOffset/o._resolution;return s[0]=(e.frame.x+a+l)/o.width,s[1]=(e.frame.y+a+l)/o.height,s[2]=(e.frame.x+e.frame.width-a+l)/o.width,s[3]=(e.frame.y+e.frame.height-a+l)/o.height,this.uClampOffset[0]=this.clampOffset/o.pixelWidth,this.uClampOffset[1]=this.clampOffset/o.pixelHeight,this.isSimple=e.frame.width===o.width&&e.frame.height===o.height&&e.rotate===0,!0}}class Te extends Qn{constructor({source:e,label:r,frame:n,orig:i,trim:o,defaultAnchor:s,defaultBorders:a,rotate:l,dynamic:c}={}){if(super(),this.uid=Ht("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new xt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(e==null?void 0:e.source)??new Sr,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:u,height:f}=this._source;this.frame.width=u,this.frame.height=f}this.orig=i||this.frame,this.trim=o,this.rotate=l??0,this.defaultAnchor=s,this.defaultBorders=a,this.destroyed=!1,this.dynamic=c||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TD(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:i}=this._source,o=r.x/n,s=r.y/i,a=r.width/n,l=r.height/i;let c=this.rotate;if(c){const u=a/2,f=l/2,d=o+u,h=s+f;c=At.add(c,At.NW),e.x0=d+u*At.uX(c),e.y0=h+f*At.uY(c),c=At.add(c,2),e.x1=d+u*At.uX(c),e.y1=h+f*At.uY(c),c=At.add(c,2),e.x2=d+u*At.uX(c),e.y2=h+f*At.uY(c),c=At.add(c,2),e.x3=d+u*At.uX(c),e.y3=h+f*At.uY(c)}else e.x0=o,e.y0=s,e.x1=o+a,e.y1=s,e.x2=o+a,e.y2=s+l,e.x3=o,e.y3=s+l}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return $e(ot,"Texture.baseTexture is now Texture.source"),this._source}}Te.EMPTY=new Te({label:"EMPTY",source:new Sr({label:"EMPTY"})});Te.EMPTY.destroy=bD;Te.WHITE=new Te({source:new ow({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Te.WHITE.destroy=bD;function PD(t,e,r){const{width:n,height:i}=r.orig,o=r.trim;if(o){const s=o.width,a=o.height;t.minX=o.x-e._x*n,t.maxX=t.minX+s,t.minY=o.y-e._y*i,t.maxY=t.minY+a}else t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*i,t.maxY=t.minY+i}const iA=new Re;class Hr{constructor(e=1/0,r=1/0,n=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=iA,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new xt);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=iA,this}set(e,r,n,i){this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(e,r,n,i,o){o||(o=this.matrix);const s=o.a,a=o.b,l=o.c,c=o.d,u=o.tx,f=o.ty;let d=this.minX,h=this.minY,p=this.maxX,y=this.maxY,g=s*e+l*r+u,m=a*e+c*r+f;g<d&&(d=g),m<h&&(h=m),g>p&&(p=g),m>y&&(y=m),g=s*n+l*r+u,m=a*n+c*r+f,g<d&&(d=g),m<h&&(h=m),g>p&&(p=g),m>y&&(y=m),g=s*e+l*i+u,m=a*e+c*i+f,g<d&&(d=g),m<h&&(h=m),g>p&&(p=g),m>y&&(y=m),g=s*n+l*i+u,m=a*n+c*i+f,g<d&&(d=g),m<h&&(h=m),g>p&&(p=g),m>y&&(y=m),this.minX=d,this.minY=h,this.maxX=p,this.maxY=y}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,{a:s,b:a,c:l,d:c,tx:u,ty:f}=e;let d=s*r+l*n+u,h=a*r+c*n+f;this.minX=d,this.minY=h,this.maxX=d,this.maxY=h,d=s*i+l*n+u,h=a*i+c*n+f,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY,d=s*r+l*o+u,h=a*r+c*o+f,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY,d=s*i+l*o+u,h=a*i+c*o+f,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,i){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>i&&(this.maxY=i),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Hr(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,i){let o=this.minX,s=this.minY,a=this.maxX,l=this.maxY;i||(i=this.matrix);const c=i.a,u=i.b,f=i.c,d=i.d,h=i.tx,p=i.ty;for(let y=r;y<n;y+=2){const g=e[y],m=e[y+1],v=c*g+f*m+h,_=u*g+d*m+p;o=v<o?v:o,s=_<s?_:s,a=v>a?v:a,l=_>l?_:l}this.minX=o,this.minY=s,this.maxX=a,this.maxY=l}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var vse={grad:.9,turn:360,rad:360/(2*Math.PI)},Po=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ir=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},ui=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},ID=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},oA=function(t){return{r:ui(t.r,0,255),g:ui(t.g,0,255),b:ui(t.b,0,255),a:ui(t.a)}},Xm=function(t){return{r:Ir(t.r),g:Ir(t.g),b:Ir(t.b),a:Ir(t.a,3)}},yse=/^#([0-9a-f]{3,8})$/i,Bh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},OD=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,o=Math.max(e,r,n),s=o-Math.min(e,r,n),a=s?o===e?(r-n)/s:o===r?2+(n-e)/s:4+(e-r)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},RD=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var o=Math.floor(e),s=n*(1-r),a=n*(1-(e-o)*r),l=n*(1-(1-e+o)*r),c=o%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c],a:i}},sA=function(t){return{h:ID(t.h),s:ui(t.s,0,100),l:ui(t.l,0,100),a:ui(t.a)}},aA=function(t){return{h:Ir(t.h),s:Ir(t.s),l:Ir(t.l),a:Ir(t.a,3)}},lA=function(t){return RD((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},_f=function(t){return{h:(e=OD(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},_se=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xse=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bse=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wse=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jy={string:[[function(t){var e=yse.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ir(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ir(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=bse.exec(t)||wse.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:oA({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=_se.exec(t)||xse.exec(t);if(!e)return null;var r,n,i=sA({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(vse[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return lA(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,o=i===void 0?1:i;return Po(e)&&Po(r)&&Po(n)?oA({r:Number(e),g:Number(r),b:Number(n),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,o=i===void 0?1:i;if(!Po(e)||!Po(r)||!Po(n))return null;var s=sA({h:Number(e),s:Number(r),l:Number(n),a:Number(o)});return lA(s)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,o=i===void 0?1:i;if(!Po(e)||!Po(r)||!Po(n))return null;var s=function(a){return{h:ID(a.h),s:ui(a.s,0,100),v:ui(a.v,0,100),a:ui(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(o)});return RD(s)},"hsv"]]},cA=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Ese=function(t){return typeof t=="string"?cA(t.trim(),Jy.string):typeof t=="object"&&t!==null?cA(t,Jy.object):[null,void 0]},Ym=function(t,e){var r=_f(t);return{h:r.h,s:ui(r.s+100*e,0,100),l:r.l,a:r.a}},Km=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},uA=function(t,e){var r=_f(t);return{h:r.h,s:r.s,l:ui(r.l+100*e,0,100),a:r.a}},Qy=function(){function t(e){this.parsed=Ese(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ir(Km(this.rgba),2)},t.prototype.isDark=function(){return Km(this.rgba)<.5},t.prototype.isLight=function(){return Km(this.rgba)>=.5},t.prototype.toHex=function(){return e=Xm(this.rgba),r=e.r,n=e.g,i=e.b,s=(o=e.a)<1?Bh(Ir(255*o)):"","#"+Bh(r)+Bh(n)+Bh(i)+s;var e,r,n,i,o,s},t.prototype.toRgb=function(){return Xm(this.rgba)},t.prototype.toRgbString=function(){return e=Xm(this.rgba),r=e.r,n=e.g,i=e.b,(o=e.a)<1?"rgba("+r+", "+n+", "+i+", "+o+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,o},t.prototype.toHsl=function(){return aA(_f(this.rgba))},t.prototype.toHslString=function(){return e=aA(_f(this.rgba)),r=e.h,n=e.s,i=e.l,(o=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+o+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,o},t.prototype.toHsv=function(){return e=OD(this.rgba),{h:Ir(e.h),s:Ir(e.s),v:Ir(e.v),a:Ir(e.a,3)};var e},t.prototype.invert=function(){return Xi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Xi(Ym(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Xi(Ym(this.rgba,-e))},t.prototype.grayscale=function(){return Xi(Ym(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Xi(uA(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Xi(uA(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Xi({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ir(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=_f(this.rgba);return typeof e=="number"?Xi({h:e,s:r.s,l:r.l,a:r.a}):Ir(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Xi(e).toHex()},t}(),Xi=function(t){return t instanceof Qy?t:new Qy(t)},fA=[],Sse=function(t){t.forEach(function(e){fA.indexOf(e)<0&&(e(Qy,Jy),fA.push(e))})};function Cse(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var o={};t.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=n[this.toHex()];if(c)return c;if(s!=null&&s.closest){var u=this.toRgb(),f=1/0,d="black";if(!o.length)for(var h in r)o[h]=new t(r[h]).toRgb();for(var p in r){var y=(a=u,l=o[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<f&&(f=y,d=p)}return d}},e.string.push([function(s){var a=s.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}Sse([Cse]);const Wc=class Zu{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Zu)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((o,s)=>o===r[s]);if(e!==null&&r!==null){const o=Object.keys(e),s=Object.keys(r);return o.length!==s.length?!1:o.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[r,n,i,o]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=o,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,o]=Zu._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=o,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,o=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,o=o*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+o}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,i,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const s=e;r=(s>>16&255)/255,n=(s>>8&255)/255,i=(s&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,o=255]=e,r/=255,n/=255,i/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Zu.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const s=Xi(e);s.isValid()&&({r,g:n,b:i,a:o}=s.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=o,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,o)=>{e[o]=Math.min(Math.max(i,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Zu||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Wc.shared=new Wc;Wc._temp=new Wc;Wc.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Dt=Wc;const Ase={cullArea:null,cullable:!1,cullableChildren:!0};let qm=0;const dA=500;function Le(...t){qm!==dA&&(qm++,qm===dA?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}class sw{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var n;let r;return this._index>0?r=this._pool[--this._index]:r=new this._classType,(n=r.init)==null||n.call(r,e),r}return(e){var r;(r=e.reset)==null||r.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class Tse{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new sw(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}}const Gr=new Tse,Pse={get isCachedAsTexture(){var t;return!!((t=this.renderGroup)!=null&&t.isCachedAsTexture)},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){var t;(t=this.renderGroup)==null||t.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){$e("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function MD(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const o=n-r;for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}const Ise={allowChildren:!0,removeChildren(t=0,e){var o;const r=e??this.children.length,n=r-t,i=[];if(n>0&&n<=r){for(let a=r-1;a>=t;a--){const l=this.children[a];l&&(i.push(l),l.parent=null)}MD(this.children,t,r);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let a=0;a<i.length;++a){const l=i[a];(o=l.parentRenderLayer)==null||o.detach(l),this.emit("childRemoved",l,this,a),i[a].emit("removed",this)}return i.length>0&&this._didViewChangeTick++,i}else if(n===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||$e(ot,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const r=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const n=this.worldTransform.clone();return n.invert(),r.prepend(n),t.setFromMatrix(r),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},Ose={collectRenderables(t,e,r){this.parentRenderLayer&&this.parentRenderLayer!==r||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,r):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,r))},collectRenderablesSimple(t,e,r){const n=this.children,i=n.length;for(let o=0;o<i;o++)n[o].collectRenderables(t,e,r)},collectRenderablesWithEffects(t,e,r){const{renderPipes:n}=e;for(let i=0;i<this.effects.length;i++){const o=this.effects[i];n[o.pipe].push(o,this,t)}this.collectRenderablesSimple(t,e,r);for(let i=this.effects.length-1;i>=0;i--){const o=this.effects[i];n[o.pipe].pop(o,this,t)}}};class l0{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Rse{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return Gr.get(n.maskClass,e)}return e}returnMaskEffect(e){Gr.return(e)}}const e_=new Rse;Ge.handleByList(V.MaskEffect,e_._effectClasses);const Mse={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((r,n)=>r.priority-n.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),e_.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=e_.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){var o;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new l0);t=t;const r=(t==null?void 0:t.length)>0,n=((o=e.filters)==null?void 0:o.length)>0,i=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new l0),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},Dse={label:null,get name(){return $e(ot,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){$e(ot,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const i=r[n];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let n=0;n<r.length;n++){const o=r[n].getChildByLabel(t,!0);if(o)return o}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let i=0;i<n.length;i++){const o=n[i];(o.label===t||t instanceof RegExp&&t.test(o.label))&&r.push(o)}if(e)for(let i=0;i<n.length;i++)n[i].getChildrenByLabel(t,!0,r);return r}},fn=new sw(Re),jo=new sw(Hr),Bse=new Re,kse={getFastGlobalBounds(t,e){e||(e=new Hr),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const r=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(r.worldTransform),e},_getGlobalBoundsRecursive(t,e,r){let n=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==r||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(n=jo.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const s=this.bounds;n.addFrame(s.minX,s.minY,s.maxX,s.maxY,this.groupTransform)}const o=this.children;for(let s=0;s<o.length;s++)o[s]._getGlobalBoundsRecursive(t,n,r)}if(i){let o=!1;const s=this.renderGroup||this.parentRenderGroup;for(let a=0;a<this.effects.length;a++)this.effects[a].addBounds&&(o||(o=!0,n.applyMatrix(s.worldTransform)),this.effects[a].addBounds(n,!0));o&&n.applyMatrix(s.worldTransform.copyTo(Bse).invert()),e.addBounds(n),jo.return(n)}else this.renderGroup&&(e.addBounds(n,this.relativeGroupTransform),jo.return(n))}};function aw(t,e,r){r.clear();let n,i;return t.parent?e?n=t.parent.worldTransform:(i=fn.get().identity(),n=lw(t,i)):n=Re.IDENTITY,DD(t,r,n,e),i&&fn.return(i),r.isValid||r.set(0,0,0,0),r}function DD(t,e,r,n){var a,l;if(!t.visible||!t.measurable)return;let i;n?i=t.worldTransform:(t.updateLocalTransform(),i=fn.get(),i.appendFrom(t.localTransform,r));const o=e,s=!!t.effects.length;if(s&&(e=jo.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.bounds&&(e.matrix=i,e.addBounds(t.bounds));for(let c=0;c<t.children.length;c++)DD(t.children[c],e,i,n)}if(s){for(let c=0;c<t.effects.length;c++)(l=(a=t.effects[c]).addBounds)==null||l.call(a,e);o.addBounds(e,Re.IDENTITY),jo.return(e)}n||fn.return(i)}function lw(t,e){const r=t.parent;return r&&(lw(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}function BD(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,i=t&255,o=e>>16&255,s=e>>8&255,a=e&255,l=r*o/255|0,c=n*s/255|0,u=i*a/255|0;return(l<<16)+(c<<8)+u}const hA=16777215;function c0(t,e){return t===hA?e:e===hA?t:BD(t,e)}function xf(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const Nse={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,r=this.parent;for(;r;)e*=r.alpha,r=r.parent;return e},getGlobalTransform(t=new Re,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const r=lw(this,fn.get().identity());return t.appendFrom(this.localTransform,r),fn.return(r),t},getGlobalTint(t){if(t)return this.renderGroup?xf(this.renderGroup.worldColor):this.parentRenderGroup?xf(c0(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,r=this.parent;for(;r;)e=c0(e,r.localColor),r=r.parent;return xf(e)}};function cw(t,e,r){return e.clear(),r||(r=Re.IDENTITY),kD(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function kD(t,e,r,n,i){var l,c;let o;if(i)o=fn.get(),o=r.copyTo(o);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const u=t.localTransform;o=fn.get(),o.appendFrom(u,r)}const s=e,a=!!t.effects.length;if(a&&(e=jo.get().clear()),t.boundsArea)e.addRect(t.boundsArea,o);else{t.renderPipeId&&(e.matrix=o,e.addBounds(t.bounds));const u=t.children;for(let f=0;f<u.length;f++)kD(u[f],e,o,n,!1)}if(a){for(let u=0;u<t.effects.length;u++)(c=(l=t.effects[u]).addLocalBounds)==null||c.call(l,e,n);s.addBounds(e,Re.IDENTITY),jo.return(e)}fn.return(o)}function ND(t,e){const r=t.children;for(let n=0;n<r.length;n++){const i=r[n],o=i.uid,s=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,a=e.index;(e.data[a]!==o||e.data[a+1]!==s)&&(e.data[e.index]=o,e.data[e.index+1]=s,e.didChange=!0),e.index=a+2,i.children.length&&ND(i,e)}return e.didChange}const Fse=new Re,Lse={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Hr});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),ND(this,t),t.didChange&&cw(this,t.localBounds,Fse),t.localBounds},getBounds(t,e){return aw(this,t,e||new Hr)}},$se={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},Use={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Gse))}};function Gse(t,e){return t._zIndex-e._zIndex}const Hse={getGlobalPosition(t=new Vt,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){const n=this.getGlobalTransform(fn.get(),r);return e=n.apply(t,e),fn.return(n),e},toLocal(t,e,r,n){e&&(t=e.toGlobal(t,r,n));const i=this.getGlobalTransform(fn.get(),n);return r=i.applyInverse(t,r),fn.return(i),r}};class FD{constructor(){this.uid=Ht("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Vse=0;class zse{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new vo(this.textureOptions)}createTexture(e,r,n){const i=new Sr({...this.textureOptions,width:e,height:r,resolution:1,antialias:n,autoGarbageCollect:!1});return new Te({source:i,label:`texturePool_${Vse++}`})}getOptimalTexture(e,r,n=1,i){let o=Math.ceil(e*n-1e-6),s=Math.ceil(r*n-1e-6);o=jc(o),s=jc(s);const a=(o<<17)+(s<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(o,s,i)),l.source._resolution=n,l.source.width=o/n,l.source.height=s/n,l.source.pixelWidth=o,l.source.pixelHeight=s,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=r,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(e,r=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,r)}returnTexture(e,r=!1){const n=this._poolKeyHash[e.uid];r&&(e.source.style=this.textureStyle),this._texturePool[n].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const n=this._texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this._texturePool={}}}const lr=new zse;class jse{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Re,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new FD,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++){const i=r[n];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(lr.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const r=this.childrenToUpdate[e];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let r=0;r<this._onRenderContainers.length;r++)this._onRenderContainers[r]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let i=0;i<n.length;i++)this._getChildren(n[i],r);return r}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Re),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Re),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Re),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function t_(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const Zm=new Qt(null),kh=new Qt(null),Jm=new Qt(null,1,1),Nh=new Qt(null),u0=1,uw=2,bf=4;class Kn extends Qn{constructor(e={}){var r,n;super(),this.uid=Ht("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Re,this.relativeGroupTransform=new Re,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Qt(this,0,0),this._scale=Jm,this._pivot=kh,this._origin=Nh,this._skew=Zm,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],t_(this,e,{children:!0,parent:!0,effects:!0}),(r=e.children)==null||r.forEach(i=>this.addChild(i)),(n=e.parent)==null||n.addChild(this)}static mixin(e){$e("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Ge.mixin(Kn,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||$e(ot,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const r=e[0],n=this.renderGroup||this.parentRenderGroup;return r.parent===this?(this.children.splice(this.children.indexOf(r),1),this.children.push(r),n&&(n.structureDidChange=!0),r):(r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15,n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parentRenderLayer&&r.parentRenderLayer.detach(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=Gr.get(jse,this),this.groupTransform=Re.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),Gr.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Re),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*use}set angle(e){this.rotation=e*fse}get pivot(){return this._pivot===kh&&(this._pivot=new Qt(this,0,0)),this._pivot}set pivot(e){this._pivot===kh&&(this._pivot=new Qt(this,0,0),this._origin!==Nh&&Le("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===Zm&&(this._skew=new Qt(this,0,0)),this._skew}set skew(e){this._skew===Zm&&(this._skew=new Qt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===Jm&&(this._scale=new Qt(this,1,1)),this._scale}set scale(e){this._scale===Jm&&(this._scale=new Qt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===Nh&&(this._origin=new Qt(this,0,0)),this._origin}set origin(e){this._origin===Nh&&(this._origin=new Qt(this,0,0),this._pivot!==kh&&Le("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,n.width),r!==void 0&&this._setHeight(r,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const r=this.localTransform,n=this._scale,i=this._pivot,o=this._origin,s=this._position,a=n._x,l=n._y,c=i._x,u=i._y,f=-o._x,d=-o._y;r.a=this._cx*a,r.b=this._sx*a,r.c=this._cy*l,r.d=this._sy*l,r.tx=s._x-(c*r.a+u*r.c)+(f*r.a+d*r.c)-f,r.ty=s._y-(c*r.b+u*r.d)+(f*r.b+d*r.d)-d}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=u0,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=Dt.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=u0,this._onUpdate())}get tint(){return xf(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=uw,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=bf,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=bf,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=bf,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var i;if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&r)for(let o=0;o<r.length;++o)r[o].destroy(e);(i=this.renderGroup)==null||i.destroy(),this.renderGroup=null}}Ge.mixin(Kn,Ise,kse,Hse,$se,Lse,Mse,Dse,Use,Ase,Pse,Nse,Ose);class Nd extends Kn{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Hr(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const r=this.bounds,{x:n,y:i}=e;return n>=r.minX&&n<=r.maxX&&i>=r.minY&&i<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var r,n;super.destroy(e),this._bounds=null;for(const i in this._gpuData)(n=(r=this._gpuData[i]).destroy)==null||n.call(r);this._gpuData=null}collectRenderablesSimple(e,r,n){const{renderPipes:i}=r;i.blendMode.setBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const s=this.children,a=s.length;for(let l=0;l<a;l++)s[l].collectRenderables(e,r,n)}}class gl extends Nd{constructor(e=Te.EMPTY){e instanceof Te&&(e={texture:e});const{texture:r=Te.EMPTY,anchor:n,roundPixels:i,width:o,height:s,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Qt({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=i??!1,o!==void 0&&(this.width=o),s!==void 0&&(this.height=s)}static from(e,r=!1){return e instanceof Te?new gl(e):new gl(Te.from(e,r))}set texture(e){e||(e=Te.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return PD(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return $e("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,r=this._texture,n=this._bounds,{width:i,height:o}=r.orig;n.minX=-e._x*i,n.maxX=n.minX+i,n.minY=-e._y*o,n.maxY=n.minY+o}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const Wse=new Hr;function LD(t,e,r){const n=Wse;t.measurable=!0,aw(t,r,n),e.addBoundsMask(n),t.measurable=!1}function $D(t,e,r){const n=jo.get();t.measurable=!0;const i=fn.get().identity(),o=UD(t,r,i);cw(t,n,o),t.measurable=!1,e.addBoundsMask(n),fn.return(i),jo.return(n)}function UD(t,e,r){return t?(t!==e&&(UD(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(Le("Mask bounds, renderable is not inside the root container"),r)}class GD{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof gl),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,r){this.inverse||LD(this.mask,e,r)}addLocalBounds(e,r){$D(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof gl}}GD.extension=V.MaskEffect;class HD{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}HD.extension=V.MaskEffect;class VD{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,r){LD(this.mask,e,r)}addLocalBounds(e,r){$D(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof Kn}}VD.extension=V.MaskEffect;const Xse={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let pA=Xse;const je={get(){return pA},set(t){pA=t}};class ao extends Sr{constructor(e){e.resource||(e.resource=je.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const i=super.resize(e,r,n);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}ao.extension=V.TextureSource;class ml extends Sr{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}ml.extension=V.TextureSource;var vl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(vl||{});class Qm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=i}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const zD=class Fn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Qm(null,null,1/0),this.deltaMS=1/Fn.targetFPMS,this.elapsedMS=1/Fn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=vl.NORMAL){return this._addListener(new Qm(e,r,n))}addOnce(e,r,n=vl.NORMAL){return this._addListener(new Qm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Fn.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Fn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Fn._shared){const e=Fn._shared=new Fn;e.autoStart=!0,e._protected=!0}return Fn._shared}static get system(){if(!Fn._system){const e=Fn._system=new Fn;e.autoStart=!0,e._protected=!0}return Fn._system}};zD.targetFPMS=.06;let $r=zD,ev;async function jD(){return ev??(ev=(async()=>{var s;const e=je.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const o=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,o),e.deleteFramebuffer(i),e.deleteTexture(n),(s=e.getExtension("WEBGL_lose_context"))==null||s.loseContext(),o[0]<=o[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),ev}const Ug=class WD extends Sr{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...WD.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=$r.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await jD(),this._load=new Promise((n,i)=>{this.isValid?n(this):(this._resolve=n,this._reject=i,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&($r.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||($r.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&($r.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Ug.extension=V.TextureSource;Ug.defaultOptions={...Sr.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Ug.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let wf=Ug;const Pi=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class Yse{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||Le(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Pi(e);let i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}const o=new Map(Object.entries(i||{}));i||n.forEach(l=>{o.set(l,r)});const s=[...o.keys()],a={cacheKeys:s,keys:n};n.forEach(l=>{this._cacheMap.set(l,a)}),s.forEach(l=>{const c=i?i[l]:r;this._cache.has(l)&&this._cache.get(l)!==c&&Le("[Cache] already has key:",l),this._cache.set(l,o.get(l))})}remove(e){if(!this._cacheMap.has(e)){Le(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const St=new Yse,r_=[];Ge.handleByList(V.TextureSource,r_);function XD(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let i=0;i<r_.length;i++){const o=r_[i];if(o.test(r))return new o(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function Kse(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,i=r?t:{resource:t};if(!e&&St.has(n))return St.get(n);const o=new Te({source:XD(i)});return o.on("destroy",()=>{St.has(n)&&St.remove(n)}),e||St.set(n,o),o}function qse(t,e=!1){return typeof t=="string"?St.get(t):t instanceof Sr?new Te({source:t}):Kse(t,e)}Te.from=qse;Sr.from=XD;Ge.add(GD,HD,VD,wf,ml,ao,ow);var ua=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ua||{});function bi(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Fu(t){return t.split("?")[0].split("#")[0]}function Zse(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Jse(t,e,r){return t.replace(new RegExp(Zse(e),"g"),r)}function Qse(t,e){let r="",n=0,i=-1,o=0,s=-1;for(let a=0;a<=t.length;++a){if(a<t.length)s=t.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,o=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,o=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,o=0}else s===46&&o!==-1?++o:o=-1}return r}const On={toPosix(t){return Jse(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){bi(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(bi(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Fu(this.toPosix(e??je.get().getBaseUrl())),i=Fu(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?On.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(bi(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Qse(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return bi(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(bi(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(bi(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const o=this.getProtocol(t),s=t;t=t.slice(o.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(s)?o+t:o:r&&n===1?"//":o+t.slice(0,n)},rootname(t){bi(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){bi(t),e&&bi(e),t=Fu(this.toPosix(t));let r=0,n=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let s=e.length-1,a=-1;for(o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){r=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(n=o):(s=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===47){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":t.slice(r,n)},extname(t){bi(t),t=Fu(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,o=0;for(let s=t.length-1;s>=0;--s){const a=t.charCodeAt(s);if(a===47){if(!i){r=s+1;break}continue}n===-1&&(i=!1,n=s+1),a===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){bi(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Fu(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let o=-1,s=0,a=-1,l=!0,c=t.length-1,u=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===46?o===-1?o=c:u!==1&&(u=1):o!==-1&&(u=-1)}return o===-1||a===-1||u===0||u===1&&o===a-1&&o===s+1?a!==-1&&(s===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(s,a)):(s===0&&n?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function YD(t,e,r,n,i){const o=e[r];for(let s=0;s<o.length;s++){const a=o[s];r<e.length-1?YD(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function eae(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(o=>{const s=o.substring(1,o.length-1).split(",");i.push(s)}),YD(t,i,0,r,n)}else n.push(t);return n}const f0=t=>!Array.isArray(t);class gu{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return Pi(r||n,o=>typeof o=="string"?o:Array.isArray(o)?o.map(s=>(s==null?void 0:s.src)??s):o!=null&&o.src?o.src:o,!0)}addManifest(e){this._manifest&&Le("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let i=r;Array.isArray(r)||(i=Object.entries(r).map(([o,s])=>typeof s=="string"||Array.isArray(s)?{alias:o,src:s}:{alias:o,...s})),i.forEach(o=>{const s=o.src,a=o.alias;let l;if(typeof a=="string"){const c=this._createBundleAssetId(e,a);n.push(c),l=[a,c]}else{const c=a.map(u=>this._createBundleAssetId(e,u));n.push(...c),l=[...a,...c]}this.add({...o,alias:l,src:s})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=o=>{this.hasKey(o)&&Le(`[Resolver] already has key: ${o} overwriting`)},Pi(r).forEach(o=>{const{src:s}=o;let{data:a,format:l,loadParser:c,parser:u}=o;const f=Pi(s).map(p=>typeof p=="string"?eae(p):Array.isArray(p)?p:[p]),d=this.getAlias(o);Array.isArray(d)?d.forEach(n):n(d);const h=[];f.forEach(p=>{p.forEach(y=>{let g={};if(typeof y!="object"){g.src=y;for(let m=0;m<this._parsers.length;m++){const v=this._parsers[m];if(v.test(y)){g=v.parse(y);break}}}else a=y.data??a,l=y.format??l,(y.loadParser||y.parser)&&(c=y.loadParser??c,u=y.parser??u),g={...g,...y};if(!d)throw new Error(`[Resolver] alias is undefined for this asset: ${g.src}`);g=this._buildResolvedAsset(g,{aliases:d,data:a,format:l,loadParser:c,parser:u}),h.push(g)})}),d.forEach(p=>{this._assetMap[p]=h})})}resolveBundle(e){const r=f0(e);e=Pi(e);const n={};return e.forEach(i=>{const o=this._bundles[i];if(o){const s=this.resolve(o),a={};for(const l in s){const c=s[l];a[this._extractAssetIdFromBundle(i,l)]=c}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=f0(e);e=Pi(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let o=this._assetMap[i];const s=this._getPreferredOrder(o);s==null||s.priority.forEach(a=>{s.params[a].forEach(l=>{const c=o.filter(u=>u[a]?u[a]===l:!1);c.length&&(o=c)})}),this._resolverHash[i]=o[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[r],i=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:o,parser:s,format:a}=r;return(this._basePath||this._rootPath)&&(e.src=On.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=o??e.loadParser,e.parser=s??e.parser,e.format=a??e.format??tae(e.src),e}}gu.RETINA_PREFIX=/@([0-9\.]+)x/;function tae(t){return t.split(".").pop().split("?").shift().split("#").shift()}const n_=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},KD=class Ju{constructor(e,r){this.linkedSheets=[];let n=e;(e==null?void 0:e.source)instanceof Sr&&(n={texture:e,data:r});const{texture:i,data:o,cachePrefix:s=""}=n;this.cachePrefix=s,this._texture=i instanceof Te?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=o;const a=parseFloat(o.meta.scale);a?(this.resolution=a,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Ju.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Ju.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],o=this._frames[i],s=o.frame;if(s){let a=null,l=null;const c=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,u=new xt(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);o.rotated?a=new xt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):a=new xt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(l=new xt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new Te({source:this.textureSource,frame:a,orig:u,trim:l,rotate:o.rotated?2:0,defaultAnchor:o.anchor,defaultBorders:o.borders,label:i.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ju.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ju.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};KD.BATCH_SIZE=1e3;let gA=KD;const rae=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function qD(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=On.dirname(t[0]);e.linkedSheets.forEach((o,s)=>{const a=qD([`${i}/${e.data.meta.related_multi_packs[s]}`],o,!0);Object.assign(n,a)})}return n}const nae={extension:V.Asset,cache:{test:t=>t instanceof gA,getCacheableAssets:(t,e)=>qD(t,e,!1)},resolver:{extension:{type:V.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&rae.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=gu.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:V.LoadParser,priority:ua.Normal,name:"spritesheetLoader"},async testParse(t,e){return On.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,d;const{texture:n,imageFilename:i,textureOptions:o,cachePrefix:s}=(e==null?void 0:e.data)??{};let a=On.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let l;if(n instanceof Te)l=n;else{const h=n_(a+(i??t.meta.image),e.src);l=(await r.load([{src:h,data:o}]))[h]}const c=new gA({texture:l.source,data:t,cachePrefix:s});await c.parse();const u=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(u)){const h=[];for(const y of u){if(typeof y!="string")continue;let g=a+y;(d=e.data)!=null&&d.ignoreMultiPack||(g=n_(g,e.src),h.push(r.load({src:g,data:{textureOptions:o,ignoreMultiPack:!0}})))}const p=await Promise.all(h);c.linkedSheets=p,p.forEach(y=>{y.linkedSheets=[c].concat(c.linkedSheets.filter(g=>g!==y))})}return c},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};Ge.add(nae);class ZD{constructor(e){this._lastTransform="",this._observer=null,this._tickerAttached=!1,this.updateTranslation=()=>{if(!this._canvas)return;const r=this._canvas.getBoundingClientRect(),n=this._canvas.width,i=this._canvas.height,o=r.width/n*this._renderer.resolution,s=r.height/i*this._renderer.resolution,a=r.left,l=r.top,c=`translate(${a}px, ${l}px) scale(${o}, ${s})`;c!==this._lastTransform&&(this._domElement.style.transform=c,this._lastTransform=c)},this._domElement=e.domElement,this._renderer=e.renderer,!(globalThis.OffscreenCanvas&&this._renderer.canvas instanceof OffscreenCanvas)&&(this._canvas=this._renderer.canvas,this._attachObserver())}get canvas(){return this._canvas}ensureAttached(){!this._domElement.parentNode&&this._canvas.parentNode&&(this._canvas.parentNode.appendChild(this._domElement),this.updateTranslation())}_attachObserver(){"ResizeObserver"in globalThis?(this._observer&&(this._observer.disconnect(),this._observer=null),this._observer=new ResizeObserver(e=>{for(const r of e){if(r.target!==this._canvas)continue;const n=this.canvas.width,i=this.canvas.height,o=r.contentRect.width/n*this._renderer.resolution,s=r.contentRect.height/i*this._renderer.resolution;(this._lastScaleX!==o||this._lastScaleY!==s)&&(this.updateTranslation(),this._lastScaleX=o,this._lastScaleY=s)}}),this._observer.observe(this._canvas)):this._tickerAttached||$r.shared.add(this.updateTranslation,this,vl.HIGH)}destroy(){this._observer?(this._observer.disconnect(),this._observer=null):this._tickerAttached&&$r.shared.remove(this.updateTranslation),this._domElement=null,this._renderer=null,this._canvas=null,this._tickerAttached=!1,this._lastTransform="",this._lastScaleX=null,this._lastScaleY=null}}class Fd{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Fd.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Vt,this.page=new Vt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var tv=/iPhone/i,mA=/iPod/i,vA=/iPad/i,yA=/\biOS-universal(?:.+)Mac\b/i,rv=/\bAndroid(?:.+)Mobile\b/i,_A=/Android/i,Ql=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fh=/Silk/i,Io=/Windows Phone/i,xA=/\bWindows(?:.+)ARM\b/i,bA=/BlackBerry/i,wA=/BB10/i,EA=/Opera Mini/i,SA=/\b(CriOS|Chrome)(?:.+)Mobile/i,CA=/Mobile(?:.+)Firefox\b/i,AA=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function iae(t){return function(e){return e.test(t)}}function TA(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=iae(r),o={apple:{phone:i(tv)&&!i(Io),ipod:i(mA),tablet:!i(tv)&&(i(vA)||AA(e))&&!i(Io),universal:i(yA),device:(i(tv)||i(mA)||i(vA)||i(yA)||AA(e))&&!i(Io)},amazon:{phone:i(Ql),tablet:!i(Ql)&&i(Fh),device:i(Ql)||i(Fh)},android:{phone:!i(Io)&&i(Ql)||!i(Io)&&i(rv),tablet:!i(Io)&&!i(Ql)&&!i(rv)&&(i(Fh)||i(_A)),device:!i(Io)&&(i(Ql)||i(Fh)||i(rv)||i(_A))||i(/\bokhttp\b/i)},windows:{phone:i(Io),tablet:i(xA),device:i(Io)||i(xA)},other:{blackberry:i(bA),blackberry10:i(wA),opera:i(EA),firefox:i(CA),chrome:i(SA),device:i(bA)||i(wA)||i(EA)||i(CA)||i(SA)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const oae=TA.default??TA,sae=oae(globalThis.navigator),aae=9,PA=100,lae=0,cae=0,IA=2,OA=1,uae=-1e3,fae=-1e3,dae=2,fw=class JD{constructor(e,r=sae){this._mobileInfo=r,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(r.tablet||r.phone)&&this._createTouchHook(),this._renderer=e}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width=`${OA}px`,e.style.height=`${OA}px`,e.style.position="absolute",e.style.top=`${uae}px`,e.style.left=`${fae}px`,e.style.zIndex=dae.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){if(this._isActive)return;this._isActive=!0,this._div||(this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.top=`${lae}px`,this._div.style.left=`${cae}px`,this._div.style.pointerEvents="none",this._div.style.zIndex=IA.toString(),this._canvasObserver=new ZD({domElement:this._div,renderer:this._renderer})),this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._deactivateOnMouseMove&&(this._onMouseMove=this._onMouseMove.bind(this),globalThis.document.addEventListener("mousemove",this._onMouseMove,!0));const e=this._renderer.view.canvas;if(e.parentNode)this._canvasObserver.ensureAttached(),this._initAccessibilitySetup();else{const r=new MutationObserver(()=>{e.parentNode&&(r.disconnect(),this._canvasObserver.ensureAttached(),this._initAccessibilitySetup())});r.observe(document.body,{childList:!0,subtree:!0})}}_initAccessibilitySetup(){this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(!(!this._isActive||this._isMobileAccessibility)){this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),this._activateOnTab&&globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this);for(const e of this._children)e._accessibleDiv&&e._accessibleDiv.parentNode&&(e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),e._accessibleDiv=null),e._accessibleActive=!1;this._pool.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this._div&&this._div.parentNode&&this._div.parentNode.removeChild(this._div),this._pool=[],this._children=[]}}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this._updateAccessibleObjects(r[n])}init(e){const n={accessibilityOptions:{...JD.defaultOptions,...(e==null?void 0:e.accessibilityOptions)||{}}};this.debug=n.accessibilityOptions.debug,this._activateOnTab=n.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=n.accessibilityOptions.deactivateOnMouseMove,n.accessibilityOptions.enabledByDefault?this._activate():this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount||(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;const r=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(const n of this._children)n._renderId===this._renderId&&r.add(this._children.indexOf(n))}for(let n=this._children.length-1;n>=0;n--){const i=this._children[n];r.has(n)||(i._accessibleDiv&&i._accessibleDiv.parentNode&&(i._accessibleDiv.parentNode.removeChild(i._accessibleDiv),this._pool.push(i._accessibleDiv),i._accessibleDiv=null),i._accessibleActive=!1,MD(this._children,n,1))}this._renderer.renderingToScreen&&this._canvasObserver.ensureAttached();for(let n=0;n<this._children.length;n++){const i=this._children[n];if(!i._accessibleActive||!i._accessibleDiv)continue;const o=i._accessibleDiv,s=i.hitArea||i.getBounds().rectangle;if(i.hitArea){const a=i.worldTransform;o.style.left=`${a.tx+s.x*a.a}px`,o.style.top=`${a.ty+s.y*a.d}px`,o.style.width=`${s.width*a.a}px`,o.style.height=`${s.height*a.d}px`}else this._capHitArea(s),o.style.left=`${s.x}px`,o.style.top=`${s.y}px`,o.style.width=`${s.width}px`,o.style.height=`${s.height}px`}this._renderId++}_updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this._renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}_addChild(e){let r=this._pool.pop();r||(e.accessibleType==="button"?r=document.createElement("button"):(r=document.createElement(e.accessibleType),r.style.cssText=`
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `,e.accessibleText&&(r.innerText=e.accessibleText)),r.style.width=`${PA}px`,r.style.height=`${PA}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=IA.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`container ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e.interactive&&(e._accessibleDiv.tabIndex=e.tabIndex)}_dispatchEvent(e,r){const{container:n}=e.target,i=this._renderer.events.rootBoundary,o=Object.assign(new Fd(i),{target:n});i.rootTarget=this._renderer.lastObjectRendered,r.forEach(s=>i.dispatchEvent(o,s))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode!==aae||!this._activateOnTab||this._activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this._deactivate()}destroy(){var e;this._deactivate(),this._destroyTouchHook(),(e=this._canvasObserver)==null||e.destroy(),this._canvasObserver=null,this._div=null,this._pool=null,this._children=null,this._renderer=null,this._activateOnTab&&globalThis.removeEventListener("keydown",this._onKeyDown)}setAccessibilityEnabled(e){e?this._activate():this._deactivate()}};fw.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"accessibility"};fw.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};let hae=fw;const pae={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1},nv=Object.create(null),RA=Object.create(null);function id(t,e){let r=RA[t];return r===void 0&&(nv[e]===void 0&&(nv[e]=1),RA[t]=r=nv[e]++),r}let ec;function QD(){return(!ec||ec!=null&&ec.isContextLost())&&(ec=je.get().createCanvas().getContext("webgl",{})),ec}let Lh;function gae(){if(!Lh){Lh="mediump";const t=QD();t&&t.getShaderPrecisionFormat&&(Lh=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return Lh}function mae(t,e,r){return e?t:r?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function vae(t,e,r){const n=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&n!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function yae(t,e){return e?`#version 300 es
${t}`:t}const _ae={},xae={};function bae(t,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const n=r?_ae:xae;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function wae(t,e){return e?t.replace("#version 300 es",""):t}const iv={stripVersion:wae,ensurePrecision:vae,addProgramDefines:mae,setProgramName:bae,insertVersion:yae},ov=Object.create(null),e6=class i_{constructor(e){e={...i_.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:gae()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let i=e.fragment,o=e.vertex;Object.keys(iv).forEach(s=>{const a=n[s];i=iv[s](i,a,!0),o=iv[s](o,a,!1)}),this.fragment=i,this.vertex=o,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=id(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return ov[r]||(ov[r]=new i_(e)),ov[r]}};e6.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Nl=e6;const MA={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function ra(t){return MA[t]??MA.float32}const Eae={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function Sae({source:t,entryPoint:e}){const r={},n=t.indexOf(`fn ${e}`);if(n!==-1){const i=t.indexOf("->",n);if(i!==-1){const o=t.substring(n,i),s=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=s.exec(o))!==null;){const l=Eae[a[3]]??"float32";r[a[2]]={location:parseInt(a[1],10),format:l,stride:ra(l).stride,offset:0,instance:!1,start:0}}}}return r}function sv(t){var f,d;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,o=/:\s*(\w+)/,s=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,c=(f=t.match(e))==null?void 0:f.map(h=>({group:parseInt(h.match(r)[1],10),binding:parseInt(h.match(n)[1],10),name:h.match(i)[2],isUniform:h.match(i)[1]==="<uniform>",type:h.match(o)[1]}));if(!c)return{groups:[],structs:[]};const u=((d=t.match(s))==null?void 0:d.map(h=>{const p=h.match(l)[1],y=h.match(a).reduce((g,m)=>{const[v,_]=m.split(":");return g[v.trim()]=_.trim(),g},{});return y?{name:p,members:y}:null}).filter(({name:h})=>c.some(p=>p.type===h)))??[];return{groups:c,structs:u}}var Qu=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(Qu||{});function Cae({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:Qu.VERTEX|Qu.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:Qu.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:Qu.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function Aae({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function Tae(t,e){const r=new Set,n=new Set,i=[...t.structs,...e.structs].filter(s=>r.has(s.name)?!1:(r.add(s.name),!0)),o=[...t.groups,...e.groups].filter(s=>{const a=`${s.name}-${s.binding}`;return n.has(a)?!1:(n.add(a),!0)});return{structs:i,groups:o}}const av=Object.create(null);class fa{constructor(e){var a,l;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:n,layout:i,gpuLayout:o,name:s}=e;if(this.name=s,this.fragment=r,this.vertex=n,r.source===n.source){const c=sv(r.source);this.structsAndGroups=c}else{const c=sv(n.source),u=sv(r.source);this.structsAndGroups=Tae(c,u)}this.layout=i??Aae(this.structsAndGroups),this.gpuLayout=o??Cae(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((l=this.layout[1])==null?void 0:l.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,n=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=id(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=Sae(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return av[r]||(av[r]=new fa(e)),av[r]}}const t6=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Pae=t6.reduce((t,e)=>(t[e]=!0,t),{});function Iae(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const r6=class n6{constructor(e,r){this._touched=0,this.uid=Ht("uniform"),this._resourceType="uniformGroup",this._resourceId=Ht("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...n6.defaultOptions,...r},this.uniformStructures=e;const n={};for(const i in e){const o=e[i];if(o.name=i,o.size=o.size??1,!Pae[o.type])throw new Error(`Uniform type ${o.type} is not supported. Supported uniform types are: ${t6.join(", ")}`);o.value??(o.value=Iae(o.type,o.size)),n[i]=o.value}this.uniforms=n,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=id(Object.keys(n).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};r6.defaultOptions={ubo:!1,isStatic:!1};let gn=r6;class Wo{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in e){const i=e[n];this.setResource(i,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const n in this.resources)e[r++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,r){var i,o;const n=this.resources[r];e!==n&&(n&&((i=e.off)==null||i.call(e,"change",this.onResourceChange,this)),(o=e.on)==null||o.call(e,"change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const r=this.resources;for(const n in r)r[n]._touched=e}destroy(){var r;const e=this.resources;for(const n in e){const i=e[n];(r=i.off)==null||r.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const n in r)r[n]===e&&(r[n]=null)}else this._updateKey()}}var qn=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(qn||{});class yi extends Qn{constructor(e){super(),this.uid=Ht("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:r,glProgram:n,groups:i,resources:o,compatibleRenderers:s,groupMap:a}=e;this.gpuProgram=r,this.glProgram=n,s===void 0&&(s=0,r&&(s|=qn.WEBGPU),n&&(s|=qn.WEBGL)),this.compatibleRenderers=s;const l={};if(!o&&!i&&(o={}),o&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&i&&a)for(const c in a)for(const u in a[c]){const f=a[c][u];l[f]={group:c,binding:u,name:f}}else if(r&&i&&!a){const c=r.structsAndGroups.groups;a={},c.forEach(u=>{a[u.group]=a[u.group]||{},a[u.group][u.binding]=u.name,l[u.name]=u})}else if(o){i={},a={},r&&r.structsAndGroups.groups.forEach(f=>{a[f.group]=a[f.group]||{},a[f.group][f.binding]=f.name,l[f.name]=f});let c=0;for(const u in o)l[u]||(i[99]||(i[99]=new Wo,this._ownedBindGroups.push(i[99])),l[u]={group:99,binding:c,name:u},a[99]=a[99]||{},a[99][c]=u,c++);for(const u in o){const f=u;let d=o[u];!d.source&&!d._resourceType&&(d=new gn(d));const h=l[f];h&&(i[h.group]||(i[h.group]=new Wo,this._ownedBindGroups.push(i[h.group])),i[h.group].setResource(d,h.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,l)}addResource(e,r,n){var i,o;(i=this._uniformBindMap)[r]||(i[r]={}),(o=this._uniformBindMap[r])[n]||(o[n]=e),this.groups[r]||(this.groups[r]=new Wo,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const n={};for(const i in r){const o=r[i];Object.defineProperty(n,o.name,{get(){return e[o.group].getResource(o.binding)},set(s){e[o.group].setResource(s,o.binding)}})}return n}destroy(e=!1){var r,n;this.emit("destroy",this),e&&((r=this.gpuProgram)==null||r.destroy(),(n=this.glProgram)==null||n.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:r,gl:n,...i}=e;let o,s;return r&&(o=fa.from(r)),n&&(s=Nl.from(n)),new yi({gpuProgram:o,glProgram:s,...i})}}const Oae={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},lv=0,cv=1,uv=2,fv=3,dv=4,hv=5,o_=class i6{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<lv)}set blend(e){!!(this.data&1<<lv)!==e&&(this.data^=1<<lv)}get offsets(){return!!(this.data&1<<cv)}set offsets(e){!!(this.data&1<<cv)!==e&&(this.data^=1<<cv)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<uv)}set culling(e){!!(this.data&1<<uv)!==e&&(this.data^=1<<uv)}get depthTest(){return!!(this.data&1<<fv)}set depthTest(e){!!(this.data&1<<fv)!==e&&(this.data^=1<<fv)}get depthMask(){return!!(this.data&1<<hv)}set depthMask(e){!!(this.data&1<<hv)!==e&&(this.data^=1<<hv)}get clockwiseFrontFace(){return!!(this.data&1<<dv)}set clockwiseFrontFace(e){!!(this.data&1<<dv)!==e&&(this.data^=1<<dv)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=Oae[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new i6;return e.depthTest=!1,e.blend=!0,e}};o_.default2d=o_.for2d();let Li=o_;const o6=class s_ extends yi{constructor(e){e={...s_.defaultOptions,...e},super(e),this.enabled=!0,this._state=Li.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1)}apply(e,r,n,i){e.applyFilter(this,r,n,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:r,gl:n,...i}=e;let o,s;return r&&(o=fa.from(r)),n&&(s=Nl.from(n)),new s_({gpuProgram:o,glProgram:s,...i})}};o6.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let dw=o6;const a_=[];Ge.handleByNamedList(V.Environment,a_);async function Rae(t){if(!t)for(let e=0;e<a_.length;e++){const r=a_[e];if(r.value.test()){await r.value.load();return}}}let Lu;function s6(){if(typeof Lu=="boolean")return Lu;try{Lu=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Lu=!1}return Lu}function DA(t,e,r=2){const n=e&&e.length,i=n?e[0]*r:t.length;let o=a6(t,0,i,r,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c;if(n&&(o=Nae(t,e,o,r)),t.length>80*r){a=t[0],l=t[1];let u=a,f=l;for(let d=r;d<i;d+=r){const h=t[d],p=t[d+1];h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>f&&(f=p)}c=Math.max(u-a,f-l),c=c!==0?32767/c:0}return od(o,s,r,a,l,c,0),s}function a6(t,e,r,n,i){let o;if(i===Xae(t,e,r,n)>0)for(let s=e;s<r;s+=n)o=BA(s/n|0,t[s],t[s+1],o);else for(let s=r-n;s>=e;s-=n)o=BA(s/n|0,t[s],t[s+1],o);return o&&Xc(o,o.next)&&(ad(o),o=o.next),o}function yl(t,e){if(!t)return t;e||(e=t);let r=t,n;do if(n=!1,!r.steiner&&(Xc(r,r.next)||Kt(r.prev,r,r.next)===0)){if(ad(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function od(t,e,r,n,i,o,s){if(!t)return;!s&&o&&Gae(t,n,i,o);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?Dae(t,n,i,o):Mae(t)){e.push(l.i,t.i,c.i),ad(t),t=c.next,a=c.next;continue}if(t=c,t===a){s?s===1?(t=Bae(yl(t),e),od(t,e,r,n,i,o,2)):s===2&&kae(t,e,r,n,i,o):od(yl(t),e,r,n,i,o,1);break}}}function Mae(t){const e=t.prev,r=t,n=t.next;if(Kt(e,r,n)>=0)return!1;const i=e.x,o=r.x,s=n.x,a=e.y,l=r.y,c=n.y,u=Math.min(i,o,s),f=Math.min(a,l,c),d=Math.max(i,o,s),h=Math.max(a,l,c);let p=n.next;for(;p!==e;){if(p.x>=u&&p.x<=d&&p.y>=f&&p.y<=h&&ef(i,a,o,l,s,c,p.x,p.y)&&Kt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Dae(t,e,r,n){const i=t.prev,o=t,s=t.next;if(Kt(i,o,s)>=0)return!1;const a=i.x,l=o.x,c=s.x,u=i.y,f=o.y,d=s.y,h=Math.min(a,l,c),p=Math.min(u,f,d),y=Math.max(a,l,c),g=Math.max(u,f,d),m=l_(h,p,e,r,n),v=l_(y,g,e,r,n);let _=t.prevZ,x=t.nextZ;for(;_&&_.z>=m&&x&&x.z<=v;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&ef(a,u,l,f,c,d,_.x,_.y)&&Kt(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=h&&x.x<=y&&x.y>=p&&x.y<=g&&x!==i&&x!==s&&ef(a,u,l,f,c,d,x.x,x.y)&&Kt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=m;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&ef(a,u,l,f,c,d,_.x,_.y)&&Kt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=v;){if(x.x>=h&&x.x<=y&&x.y>=p&&x.y<=g&&x!==i&&x!==s&&ef(a,u,l,f,c,d,x.x,x.y)&&Kt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Bae(t,e){let r=t;do{const n=r.prev,i=r.next.next;!Xc(n,i)&&c6(n,r,r.next,i)&&sd(n,i)&&sd(i,n)&&(e.push(n.i,r.i,i.i),ad(r),ad(r.next),r=t=i),r=r.next}while(r!==t);return yl(r)}function kae(t,e,r,n,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&zae(s,a)){let l=u6(s,a);s=yl(s,s.next),l=yl(l,l.next),od(s,e,r,n,i,o,0),od(l,e,r,n,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function Nae(t,e,r,n){const i=[];for(let o=0,s=e.length;o<s;o++){const a=e[o]*n,l=o<s-1?e[o+1]*n:t.length,c=a6(t,a,l,n,!1);c===c.next&&(c.steiner=!0),i.push(Vae(c))}i.sort(Fae);for(let o=0;o<i.length;o++)r=Lae(i[o],r);return r}function Fae(t,e){let r=t.x-e.x;if(r===0&&(r=t.y-e.y,r===0)){const n=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);r=n-i}return r}function Lae(t,e){const r=$ae(t,e);if(!r)return e;const n=u6(r,t);return yl(n,n.next),yl(r,r.next)}function $ae(t,e){let r=e;const n=t.x,i=t.y;let o=-1/0,s;if(Xc(t,r))return r;do{if(Xc(t,r.next))return r.next;if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){const f=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(f<=n&&f>o&&(o=f,s=r.x<r.next.x?r:r.next,f===n))return s}r=r.next}while(r!==e);if(!s)return null;const a=s,l=s.x,c=s.y;let u=1/0;r=s;do{if(n>=r.x&&r.x>=l&&n!==r.x&&l6(i<c?n:o,i,l,c,i<c?o:n,i,r.x,r.y)){const f=Math.abs(i-r.y)/(n-r.x);sd(r,t)&&(f<u||f===u&&(r.x>s.x||r.x===s.x&&Uae(s,r)))&&(s=r,u=f)}r=r.next}while(r!==a);return s}function Uae(t,e){return Kt(t.prev,t,e.prev)<0&&Kt(e.next,t,t.next)<0}function Gae(t,e,r,n){let i=t;do i.z===0&&(i.z=l_(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Hae(i)}function Hae(t){let e,r=1;do{let n=t,i;t=null;let o=null;for(e=0;n;){e++;let s=n,a=0;for(let c=0;c<r&&(a++,s=s.nextZ,!!s);c++);let l=r;for(;a>0||l>0&&s;)a!==0&&(l===0||!s||n.z<=s.z)?(i=n,n=n.nextZ,a--):(i=s,s=s.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=s}o.nextZ=null,r*=2}while(e>1);return t}function l_(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Vae(t){let e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function l6(t,e,r,n,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(n-a)>=(r-s)*(e-a)&&(r-s)*(o-a)>=(i-s)*(n-a)}function ef(t,e,r,n,i,o,s,a){return!(t===s&&e===a)&&l6(t,e,r,n,i,o,s,a)}function zae(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jae(t,e)&&(sd(t,e)&&sd(e,t)&&Wae(t,e)&&(Kt(t.prev,t,e.prev)||Kt(t,e.prev,e))||Xc(t,e)&&Kt(t.prev,t,t.next)>0&&Kt(e.prev,e,e.next)>0)}function Kt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Xc(t,e){return t.x===e.x&&t.y===e.y}function c6(t,e,r,n){const i=Uh(Kt(t,e,r)),o=Uh(Kt(t,e,n)),s=Uh(Kt(r,n,t)),a=Uh(Kt(r,n,e));return!!(i!==o&&s!==a||i===0&&$h(t,r,e)||o===0&&$h(t,n,e)||s===0&&$h(r,t,n)||a===0&&$h(r,e,n))}function $h(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Uh(t){return t>0?1:t<0?-1:0}function jae(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&c6(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function sd(t,e){return Kt(t.prev,t,t.next)<0?Kt(t,e,t.next)>=0&&Kt(t,t.prev,e)>=0:Kt(t,e,t.prev)<0||Kt(t,t.next,e)<0}function Wae(t,e){let r=t,n=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function u6(t,e){const r=c_(t.i,t.x,t.y),n=c_(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function BA(t,e,r,n){const i=c_(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ad(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function c_(t,e,r){return{i:t,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Xae(t,e,r,n){let i=0;for(let o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}const Yae=DA.default||DA;var Gn=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Gn||{});class f6{constructor(e){this.items=[],this._name=e}emit(e,r,n,i,o,s,a,l){const{name:c,items:u}=this;for(let f=0,d=u.length;f<d;f++)u[f][c](e,r,n,i,o,s,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const Kae=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],d6=class h6 extends Qn{constructor(e){super(),this.uid=Ht("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...Kae,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await Rae(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...h6.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,r){let n=e;if(n instanceof Kn&&(n={container:n},r&&($e(ot,"passing a second argument is deprecated, please use render options instead"),n.target=r.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor??(n.clearColor=this.background.colorRgba),n.clear??(n.clear=this.background.clearBeforeRender)),n.clearColor){const i=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=i?n.clearColor:Dt.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),n.container.enableRenderGroup(),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n)}resize(e,r,n){const i=this.view.resolution;this.view.resize(e,r,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),n!==void 0&&n!==i&&this.runners.resolutionChange.emit(n)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Gn.ALL);const{clear:n,clearColor:i,target:o}=e;Dt.shared.setValue(i??this.background.colorRgba),r.renderTarget.clear(o,n,Dt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new f6(r)})}_addSystems(e){let r;for(r in e){const n=e[r];this._addSystem(n.value,n.name)}}_addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}_addPipes(e,r){const n=r.reduce((i,o)=>(i[o.name]=o.value,i),{});e.forEach(i=>{const o=i.value,s=i.name,a=n[s];this.renderPipes[s]=new o(this,a?new a:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!s6())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};d6.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Gg=d6,Gh;function qae(t){return Gh!==void 0||(Gh=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??Gg.defaultOptions.failIfMajorPerformanceCaveat};try{if(!je.get().getWebGLRenderingContext())return!1;let i=je.get().createCanvas().getContext("webgl",e);const o=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,o}catch{return!1}})()),Gh}let Hh;async function Zae(t={}){return Hh!==void 0||(Hh=await(async()=>{const e=je.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),Hh}const kA=["webgl","webgpu","canvas"];async function Jae(t){let e=[];t.preference?(e.push(t.preference),kA.forEach(o=>{o!==t.preference&&e.push(o)})):e=kA.slice();let r,n={};for(let o=0;o<e.length;o++){const s=e[o];if(s==="webgpu"&&await Zae()){const{WebGPURenderer:a}=await Df(()=>Promise.resolve().then(()=>Jde),void 0);r=a,n={...t,...t.webgpu};break}else if(s==="webgl"&&qae(t.failIfMajorPerformanceCaveat??Gg.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await Df(()=>Promise.resolve().then(()=>Dde),void 0);r=a,n={...t,...t.webgl};break}else if(s==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!r)throw new Error("No available renderer for the current environment");const i=new r;return await i.init(n),i}const d0="8.12.0";class p6{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,d0)}static destroy(){}}p6.extension=V.Application;class g6{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,d0)}destroy(){this._renderer=null}}g6.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"initHook",priority:-10};const m6=class u_{constructor(...e){this.stage=new Kn,e[0]!==void 0&&$e(ot,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await Jae(e),u_._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return $e(ot,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const n=u_._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};m6._plugins=[];let Qae=m6;Ge.handleByList(V.Application,Qae._plugins);Ge.add(p6);class v6{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:o}=this._resizeTo;r=i,n=o}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}v6.extension=V.Application;class y6{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,vl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?$r.shared:new $r,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}y6.extension=V.Application;class _6 extends Qn{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return $e(ot,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return $e(ot,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return $e(ot,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return $e(ot,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return $e(ot,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)(r=this.chars[n].texture)==null||r.destroy();this.chars=null,e&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}const ele=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function h0(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!ele.includes(i)&&(i=`"${i}"`),r[n]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${r.join(",")}`}const pv={willReadFrequently:!0},Eo=class Me{static get experimentalLetterSpacingSupported(){let e=Me._experimentalLetterSpacingSupported;if(e===void 0){const r=je.get().getCanvasRenderingContext2D().prototype;e=Me._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,o,s,a,l,c){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}static measureText(e=" ",r,n=Me._canvas,i=r.wordWrap){var m;const o=h0(r),s=Me.measureFont(o);s.fontSize===0&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);const a=Me.__context;a.font=o;const c=(i?Me._wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(c.length);let f=0;for(let v=0;v<c.length;v++){const _=Me._measureText(c[v],r.letterSpacing,a);u[v]=_,f=Math.max(f,_)}const d=((m=r._stroke)==null?void 0:m.width)||0;let h=f+d;r.dropShadow&&(h+=r.dropShadow.distance);const p=r.lineHeight||s.fontSize;let y=Math.max(p,s.fontSize+d)+(c.length-1)*(p+r.leading);return r.dropShadow&&(y+=r.dropShadow.distance),new Me(e,r,h,y,c,u,p+r.leading,f,s)}static _measureText(e,r,n){let i=!1;Me.experimentalLetterSpacingSupported&&(Me.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));const o=n.measureText(e);let s=o.width;const a=-o.actualBoundingBoxLeft;let c=o.actualBoundingBoxRight-a;if(s>0)if(i)s-=r,c-=r;else{const u=(Me.graphemeSegmenter(e).length-1)*r;s+=u,c+=u}return Math.max(s,c)}static _wordWrap(e,r,n=Me._canvas){const i=n.getContext("2d",pv);let o=0,s="",a="";const l=Object.create(null),{letterSpacing:c,whiteSpace:u}=r,f=Me._collapseSpaces(u),d=Me._collapseNewlines(u);let h=!f;const p=r.wordWrapWidth+c,y=Me._tokenize(e);for(let g=0;g<y.length;g++){let m=y[g];if(Me._isNewline(m)){if(!d){a+=Me._addLine(s),h=!f,s="",o=0;continue}m=" "}if(f){const _=Me.isBreakingSpace(m),x=Me.isBreakingSpace(s[s.length-1]);if(_&&x)continue}const v=Me._getFromCache(m,c,l,i);if(v>p)if(s!==""&&(a+=Me._addLine(s),s="",o=0),Me.canBreakWords(m,r.breakWords)){const _=Me.wordWrapSplit(m);for(let x=0;x<_.length;x++){let b=_[x],w=b,E=1;for(;_[x+E];){const P=_[x+E];if(!Me.canBreakChars(w,P,m,x,r.breakWords))b+=P;else break;w=P,E++}x+=E-1;const S=Me._getFromCache(b,c,l,i);S+o>p&&(a+=Me._addLine(s),h=!1,s="",o=0),s+=b,o+=S}}else{s.length>0&&(a+=Me._addLine(s),s="",o=0);const _=g===y.length-1;a+=Me._addLine(m,!_),h=!1,s="",o=0}else v+o>p&&(h=!1,a+=Me._addLine(s),s="",o=0),(s.length>0||!Me.isBreakingSpace(m)||h)&&(s+=m,o+=v)}return a+=Me._addLine(s,!1),a}static _addLine(e,r=!0){return e=Me._trimRight(e),e=r?`${e}
`:e,e}static _getFromCache(e,r,n,i){let o=n[e];return typeof o!="number"&&(o=Me._measureText(e,r,i)+r,n[e]=o),o}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!Me.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:Me._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:Me._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const o=e[i],s=e[i+1];if(Me.isBreakingSpace(o,s)||Me._isNewline(o)){n!==""&&(r.push(n),n=""),o==="\r"&&s===`
`?(r.push(`\r
`),i++):r.push(o);continue}n+=o}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,o){return!0}static wordWrapSplit(e){return Me.graphemeSegmenter(e)}static measureFont(e){if(Me._fonts[e])return Me._fonts[e];const r=Me._context;r.font=e;const n=r.measureText(Me.METRICS_STRING+Me.BASELINE_SYMBOL),i={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return Me._fonts[e]=i,i}static clearMetrics(e=""){e?delete Me._fonts[e]:Me._fonts={}}static get _canvas(){if(!Me.__canvas){let e;try{const r=new OffscreenCanvas(0,0),n=r.getContext("2d",pv);if(n!=null&&n.measureText)return Me.__canvas=r,r;e=je.get().createCanvas()}catch{e=je.get().createCanvas()}e.width=e.height=10,Me.__canvas=e}return Me.__canvas}static get _context(){return Me.__context||(Me.__context=Me._canvas.getContext("2d",pv)),Me.__context}};Eo.METRICS_STRING="|q";Eo.BASELINE_SYMBOL="M";Eo.BASELINE_MULTIPLIER=1.4;Eo.HEIGHT_MULTIPLIER=2;Eo.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>{const r=t.segment(e),n=[];let i=0;for(const o of r)n[i++]=o.segment;return n}}return t=>[...t]})();Eo.experimentalLetterSpacing=!1;Eo._fonts={};Eo._newlines=[10,13];Eo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Ii=Eo;const NA=[{offset:0,color:"white"},{offset:1,color:"black"}],hw=class f_{constructor(...e){this.uid=Ht("fillGradient"),this.type="linear",this.colorStops=[];let r=tle(e);r={...r.type==="radial"?f_.defaultRadialOptions:f_.defaultLinearOptions,...wD(r)},this._textureSize=r.textureSize,this._wrapMode=r.wrapMode,r.type==="radial"?(this.center=r.center,this.outerCenter=r.outerCenter??this.center,this.innerRadius=r.innerRadius,this.outerRadius=r.outerRadius,this.scale=r.scale,this.rotation=r.rotation):(this.start=r.start,this.end=r.end),this.textureSpace=r.textureSpace,this.type=r.type,r.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,r){return this.colorStops.push({offset:e,color:Dt.shared.setValue(r).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:r}=this.start,{x:n,y:i}=this.end,o=n-e,s=i-r;const a=o<0||s<0;if(this._wrapMode==="clamp-to-edge"){if(o<0){const g=e;e=n,n=g,o*=-1}if(s<0){const g=r;r=i,i=g,s*=-1}}const l=this.colorStops.length?this.colorStops:NA,c=this._textureSize,{canvas:u,context:f}=LA(c,1),d=a?f.createLinearGradient(this._textureSize,0,0,0):f.createLinearGradient(0,0,this._textureSize,0);FA(d,l),f.fillStyle=d,f.fillRect(0,0,c,1),this.texture=new Te({source:new ml({resource:u,addressMode:this._wrapMode})});const h=Math.sqrt(o*o+s*s),p=Math.atan2(s,o),y=new Re;y.scale(h/c,1),y.rotate(p),y.translate(e,r),this.textureSpace==="local"&&y.scale(c,c),this.transform=y}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:NA,r=this._textureSize,{canvas:n,context:i}=LA(r,r),{x:o,y:s}=this.center,{x:a,y:l}=this.outerCenter,c=this.innerRadius,u=this.outerRadius,f=a-u,d=l-u,h=r/(u*2),p=(o-f)*h,y=(s-d)*h,g=i.createRadialGradient(p,y,c*h,(a-f)*h,(l-d)*h,u*h);FA(g,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,r,r),i.fillStyle=g,i.translate(p,y),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-p,-y),i.fillRect(0,0,r,r),this.texture=new Te({source:new ml({resource:n,addressMode:this._wrapMode})});const m=new Re;m.scale(1/h,1/h),m.translate(f,d),this.textureSpace==="local"&&m.scale(r,r),this.transform=m}get styleKey(){return this.uid}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}};hw.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};hw.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let ns=hw;function FA(t,e){for(let r=0;r<e.length;r++){const n=e[r];t.addColorStop(n.offset,n.color)}}function LA(t,e){const r=je.get().createCanvas(t,e),n=r.getContext("2d");return{canvas:r,context:n}}function tle(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&($e("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??ns.defaultLinearOptions.textureSize}),e}const $A={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Hg{constructor(e,r){this.uid=Ht("fillPattern"),this.transform=new Re,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=$A[r].addressModeU,e.source.style.addressModeV=$A[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}}var rle=ile,gv={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},nle=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function ile(t){var e=[];return t.replace(nle,function(r,n,i){var o=n.toLowerCase();for(i=sle(i),o=="m"&&i.length>2&&(e.push([n].concat(i.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(i.length==gv[o])return i.unshift(n),e.push(i);if(i.length<gv[o])throw new Error("malformed path data");e.push([n].concat(i.splice(0,gv[o])))}}),e}var ole=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function sle(t){var e=t.match(ole);return e?e.map(Number):[]}const ale=lu(rle);function lle(t,e){const r=ale(t),n=[];let i=null,o=0,s=0;for(let a=0;a<r.length;a++){const l=r[a],c=l[0],u=l;switch(c){case"M":o=u[1],s=u[2],e.moveTo(o,s);break;case"m":o+=u[1],s+=u[2],e.moveTo(o,s);break;case"H":o=u[1],e.lineTo(o,s);break;case"h":o+=u[1],e.lineTo(o,s);break;case"V":s=u[1],e.lineTo(o,s);break;case"v":s+=u[1],e.lineTo(o,s);break;case"L":o=u[1],s=u[2],e.lineTo(o,s);break;case"l":o+=u[1],s+=u[2],e.lineTo(o,s);break;case"C":o=u[5],s=u[6],e.bezierCurveTo(u[1],u[2],u[3],u[4],o,s);break;case"c":e.bezierCurveTo(o+u[1],s+u[2],o+u[3],s+u[4],o+u[5],s+u[6]),o+=u[5],s+=u[6];break;case"S":o=u[3],s=u[4],e.bezierCurveToShort(u[1],u[2],o,s);break;case"s":e.bezierCurveToShort(o+u[1],s+u[2],o+u[3],s+u[4]),o+=u[3],s+=u[4];break;case"Q":o=u[3],s=u[4],e.quadraticCurveTo(u[1],u[2],o,s);break;case"q":e.quadraticCurveTo(o+u[1],s+u[2],o+u[3],s+u[4]),o+=u[3],s+=u[4];break;case"T":o=u[1],s=u[2],e.quadraticCurveToShort(o,s);break;case"t":o+=u[1],s+=u[2],e.quadraticCurveToShort(o,s);break;case"A":o=u[6],s=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],o,s);break;case"a":o+=u[6],s+=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],o,s);break;case"Z":case"z":e.closePath(),n.length>0&&(i=n.pop(),i?(o=i.startX,s=i.startY):(o=0,s=0)),i=null;break;default:Le(`Unknown SVG path command: ${c}`)}c!=="Z"&&c!=="z"&&i===null&&(i={startX:o,startY:s},n.push(i))}return e}class pw{constructor(e=0,r=0,n=0){this.type="circle",this.x=e,this.y=r,this.radius=n}clone(){return new pw(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,o=this.y-r;return i*=i,o*=o,i+o<=n}strokeContains(e,r,n,i=.5){if(this.radius===0)return!1;const o=this.x-e,s=this.y-r,a=this.radius,l=(1-i)*n,c=Math.sqrt(o*o+s*s);return c<=a+l&&c>a-(n-l)}getBounds(e){return e||(e=new xt),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class gw{constructor(e=0,r=0,n=0,i=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=n,this.halfHeight=i}clone(){return new gw(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,i=(r-this.y)/this.halfHeight;return n*=n,i*=i,n+i<=1}strokeContains(e,r,n,i=.5){const{halfWidth:o,halfHeight:s}=this;if(o<=0||s<=0)return!1;const a=n*(1-i),l=n-a,c=o-l,u=s-l,f=o+a,d=s+a,h=e-this.x,p=r-this.y,y=h*h/(c*c)+p*p/(u*u),g=h*h/(f*f)+p*p/(d*d);return y>1&&g<=1}getBounds(e){return e||(e=new xt),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function cle(t,e,r,n,i,o){const s=t-r,a=e-n,l=i-r,c=o-n,u=s*l+a*c,f=l*l+c*c;let d=-1;f!==0&&(d=u/f);let h,p;d<0?(h=r,p=n):d>1?(h=i,p=o):(h=r+d*l,p=n+d*c);const y=t-h,g=e-p;return y*y+g*g}let ule,fle;class Ef{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,o=r.length;i<o;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.closePath=!0}isClockwise(){let e=0;const r=this.points,n=r.length;for(let i=0;i<n;i+=2){const o=r[i],s=r[i+1],a=r[(i+2)%n],l=r[(i+3)%n];e+=(a-o)*(l+s)}return e<0}containsPolygon(e){const r=this.getBounds(ule),n=e.getBounds(fle);if(!r.containsRect(n))return!1;const i=e.points;for(let o=0;o<i.length;o+=2){const s=i[o],a=i[o+1];if(!this.contains(s,a))return!1}return!0}clone(){const e=this.points.slice(),r=new Ef(e);return r.closePath=this.closePath,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let o=0,s=i-1;o<i;s=o++){const a=this.points[o*2],l=this.points[o*2+1],c=this.points[s*2],u=this.points[s*2+1];l>r!=u>r&&e<(c-a)*((r-l)/(u-l))+a&&(n=!n)}return n}strokeContains(e,r,n,i=.5){const o=n*n,s=o*(1-i),a=o-s,{points:l}=this,c=l.length-(this.closePath?0:2);for(let u=0;u<c;u+=2){const f=l[u],d=l[u+1],h=l[(u+2)%l.length],p=l[(u+3)%l.length],y=cle(e,r,f,d,h,p),g=Math.sign((h-f)*(r-d)-(p-d)*(e-f));if(y<=(g<0?a:s))return!0}return!1}getBounds(e){e||(e=new xt);const r=this.points;let n=1/0,i=-1/0,o=1/0,s=-1/0;for(let a=0,l=r.length;a<l;a+=2){const c=r[a],u=r[a+1];n=c<n?c:n,i=c>i?c:i,o=u<o?u:o,s=u>s?u:s}return e.x=n,e.width=i-n,e.y=o,e.height=s-o,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return $e("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return $e("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Vh=(t,e,r,n,i,o,s)=>{const a=t-r,l=e-n,c=Math.sqrt(a*a+l*l);return c>=i-o&&c<=i+s};class mw{constructor(e=0,r=0,n=0,i=0,o=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=n,this.height=i,this.radius=o}getBounds(e){return e||(e=new xt),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new mw(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),o=r-(this.y+n);const s=n*n;if(i*i+o*o<=s||(i=e-(this.x+this.width-n),i*i+o*o<=s)||(o=r-(this.y+this.height-n),i*i+o*o<=s)||(i=e-(this.x+n),i*i+o*o<=s))return!0}return!1}strokeContains(e,r,n,i=.5){const{x:o,y:s,width:a,height:l,radius:c}=this,u=n*(1-i),f=n-u,d=o+c,h=s+c,p=a-c*2,y=l-c*2,g=o+a,m=s+l;return(e>=o-u&&e<=o+f||e>=g-f&&e<=g+u)&&r>=h&&r<=h+y||(r>=s-u&&r<=s+f||r>=m-f&&r<=m+u)&&e>=d&&e<=d+p?!0:e<d&&r<h&&Vh(e,r,d,h,c,f,u)||e>g-c&&r<h&&Vh(e,r,g-c,h,c,f,u)||e>g-c&&r>m-c&&Vh(e,r,g-c,m-c,c,f,u)||e<d&&r>m-c&&Vh(e,r,d,m-c,c,f,u)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const x6={};function vw(t,e,r){let n=2166136261;for(let i=0;i<e;i++)n^=t[i].uid,n=Math.imul(n,16777619),n>>>=0;return x6[n]||dle(t,e,n,r)}function dle(t,e,r,n){const i={};let o=0;for(let a=0;a<n;a++){const l=a<e?t[a]:Te.EMPTY.source;i[o++]=l.source,i[o++]=l.style}const s=new Wo(i);return x6[r]=s,s}class mc{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function d_(t,e){const r=t.byteLength/8|0,n=new Float64Array(t,0,r);new Float64Array(e,0,r).set(n);const o=t.byteLength-r*8;if(o>0){const s=new Uint8Array(t,r*8,o);new Uint8Array(e,r*8,o).set(s)}}const hle={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var or=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(or||{});function ld(t,e){return e.alphaMode==="no-premultiply-alpha"&&hle[t]||t}const ple=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function gle(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function b6(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const n=ple.replace(/%forloop%/gi,gle(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(r)}return t}let tc=null;function mle(){var e;if(tc)return tc;const t=QD();return tc=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),tc=b6(tc,t),(e=t.getExtension("WEBGL_lose_context"))==null||e.loseContext(),tc}class vle{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class yle{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new vle,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const w6=[];let h_=0;function UA(){return h_>0?w6[--h_]:new yle}function GA(t){w6[h_++]=t}let $u=0;const E6=class S6{constructor(e){this.uid=Ht("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...S6.defaultOptions,...e},e.maxTextures||($e("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=mle());const{maxTextures:r,attributesInitialSize:n,indicesInitialSize:i}=e;this.attributeBuffer=new mc(n*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=r}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)GA(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,r){const n=e._batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(e._textureId=n,e.texture=r,!0)}updateElement(e){this.dirty=!0;const r=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId)}break(e){const r=this._elements;if(!r[this.elementStart])return;let n=UA(),i=n.textures;i.clear();const o=r[this.elementStart];let s=ld(o.blendMode,o.texture._source),a=o.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,c=this.attributeBuffer.uint32View,u=this.indexBuffer;let f=this._batchIndexSize,d=this._batchIndexStart,h="startBatch";const p=this.maxTextures;for(let y=this.elementStart;y<this.elementSize;++y){const g=r[y];r[y]=null;const v=g.texture._source,_=ld(g.blendMode,v),x=s!==_||a!==g.topology;if(v._batchTick===$u&&!x){g._textureId=v._textureBindLocation,f+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,l,c,g._attributeStart,g._textureId),this.packQuadIndex(u,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,l,c,g._attributeStart,g._textureId),this.packIndex(g,u,g._indexStart,g._attributeStart/this.vertexSize)),g._batch=n;continue}v._batchTick=$u,(i.count>=p||x)&&(this._finishBatch(n,d,f-d,i,s,a,e,h),h="renderBatch",d=f,s=_,a=g.topology,n=UA(),i=n.textures,i.clear(),++$u),g._textureId=v._textureBindLocation=i.count,i.ids[v.uid]=i.count,i.textures[i.count++]=v,g._batch=n,f+=g.indexSize,g.packAsQuad?(this.packQuadAttributes(g,l,c,g._attributeStart,g._textureId),this.packQuadIndex(u,g._indexStart,g._attributeStart/this.vertexSize)):(this.packAttributes(g,l,c,g._attributeStart,g._textureId),this.packIndex(g,u,g._indexStart,g._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(n,d,f-d,i,s,a,e,h),d=f,++$u),this.elementStart=this.elementSize,this._batchIndexStart=d,this._batchIndexSize=f}_finishBatch(e,r,n,i,o,s,a,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=i,e.blendMode=o,e.topology=s,e.start=r,e.size=n,++$u,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),n=new mc(r);d_(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const r=this.indexBuffer;let n=Math.max(e,r.length*1.5);n+=n%2;const i=n>65535?new Uint32Array(n):new Uint16Array(n);if(i.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let o=0;o<r.length;o++)i[o]=r[o];else d_(r.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,r,n){e[r]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3}packIndex(e,r,n,i){const o=e.indices,s=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let c=0;c<s;c++)r[n++]=i+o[c+a]-l}destroy(){for(let e=0;e<this.batches.length;e++)GA(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};E6.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let _le=E6;var st=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(st||{});let jn=class extends Qn{constructor(e){let{data:r,size:n}=e;const{usage:i,label:o,shrinkToFit:s}=e;super(),this.uid=Ht("buffer"),this._resourceType="buffer",this._resourceId=Ht("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n??(n=r==null?void 0:r.byteLength);const a=!!r;this.descriptor={size:n,usage:i,mappedAtCreation:a,label:o},this.shrinkToFit=s??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&st.STATIC)}set static(e){e?this.descriptor.usage|=st.STATIC:this.descriptor.usage&=~st.STATIC}setDataWithSize(e,r,n){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Ht("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function C6(t,e){if(!(t instanceof jn)){let r=e?st.INDEX:st.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),r=st.INDEX|st.COPY_DST):(t=new Float32Array(t),r=st.VERTEX|st.COPY_DST)),t=new jn({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return t}function xle(t,e,r){const n=t.getAttribute(e);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const i=n.buffer.data;let o=1/0,s=1/0,a=-1/0,l=-1/0;const c=i.BYTES_PER_ELEMENT,u=(n.offset||0)/c,f=(n.stride||2*4)/c;for(let d=u;d<i.length;d+=f){const h=i[d],p=i[d+1];h>a&&(a=h),p>l&&(l=p),h<o&&(o=h),p<s&&(s=p)}return r.minX=o,r.minY=s,r.maxX=a,r.maxY=l,r}function ble(t){return(t instanceof jn||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=C6(t.buffer,!1),t}class Ld extends Qn{constructor(e={}){super(),this.uid=Ht("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Hr,this._boundsDirty=!0;const{attributes:r,indexBuffer:n,topology:i}=e;if(this.buffers=[],this.attributes={},r)for(const o in r)this.addAttribute(o,r[o]);this.instanceCount=e.instanceCount??1,n&&this.addIndex(n),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}addAttribute(e,r){const n=ble(r);this.buffers.indexOf(n.buffer)===-1&&(this.buffers.push(n.buffer),n.buffer.on("update",this.onBufferUpdate,this),n.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=n}addIndex(e){this.indexBuffer=C6(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,xle(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(r=>r.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const wle=new Float32Array(1),Ele=new Uint32Array(1);class Sle extends Ld{constructor(){const r=new jn({data:wle,label:"attribute-batch-buffer",usage:st.VERTEX|st.COPY_DST,shrinkToFit:!1}),n=new jn({data:Ele,label:"index-batch-buffer",usage:st.INDEX|st.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:i,offset:0},aUV:{buffer:r,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:r,format:"unorm8x4",stride:i,offset:4*4},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:i,offset:5*4}},indexBuffer:n})}}function HA(t,e,r){if(t)for(const n in t){const i=n.toLocaleLowerCase(),o=e[i];if(o){let s=t[n];n==="header"&&(s=s.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&o.push(`//----${r}----//`),o.push(s)}else Le(`${n} placement hook does not exist in shader`)}}const Cle=/\{\{(.*?)\}\}/g;function VA(t){var n;const e={};return(((n=t.match(Cle))==null?void 0:n.map(i=>i.replace(/[{()}]/g,"")))??[]).forEach(i=>{e[i]=[]}),e}function zA(t,e){let r;const n=/@in\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function jA(t,e,r=!1){const n=[];zA(e,n),t.forEach(a=>{a.header&&zA(a.header,n)});const i=n;r&&i.sort();const o=i.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let s=e.replace(/@in\s+[^;]+;\s*/g,"");return s=s.replace("{{in}}",`
${o}
`),s}function WA(t,e){let r;const n=/@out\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function Ale(t){const r=/\b(\w+)\s*:/g.exec(t);return r?r[1]:""}function Tle(t){const e=/@.*?\s+/g;return t.replace(e,"")}function Ple(t,e){const r=[];WA(e,r),t.forEach(l=>{l.header&&WA(l.header,r)});let n=0;const i=r.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${n++}) ${l}`).join(`,
`),o=r.sort().map(l=>`       var ${Tle(l)};`).join(`
`),s=`return VSOutput(
            ${r.sort().map(l=>` ${Ale(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${o}
`),a=a.replace("{{return}}",`
${s}
`),a}function XA(t,e){let r=t;for(const n in e){const i=e[n];i.join(`
`).length?r=r.replace(`{{${n}}}`,`//-----${n} START-----//
${i.join(`
`)}
//----${n} FINISH----//`):r=r.replace(`{{${n}}}`,"")}return r}const Bs=Object.create(null),mv=new Map;let Ile=0;function Ole({template:t,bits:e}){const r=A6(t,e);if(Bs[r])return Bs[r];const{vertex:n,fragment:i}=Mle(t,e);return Bs[r]=T6(n,i,e),Bs[r]}function Rle({template:t,bits:e}){const r=A6(t,e);return Bs[r]||(Bs[r]=T6(t.vertex,t.fragment,e)),Bs[r]}function Mle(t,e){const r=e.map(s=>s.vertex).filter(s=>!!s),n=e.map(s=>s.fragment).filter(s=>!!s);let i=jA(r,t.vertex,!0);i=Ple(r,i);const o=jA(n,t.fragment,!0);return{vertex:i,fragment:o}}function A6(t,e){return e.map(r=>(mv.has(r)||mv.set(r,Ile++),mv.get(r))).sort((r,n)=>r-n).join("-")+t.vertex+t.fragment}function T6(t,e,r){const n=VA(t),i=VA(e);return r.forEach(o=>{HA(o.vertex,n,o.name),HA(o.fragment,i,o.name)}),{vertex:XA(t,n),fragment:XA(e,i)}}const Dle=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Ble=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,kle=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Nle=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,Fle={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Lle={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function $d({bits:t,name:e}){const r=Ole({template:{fragment:Ble,vertex:Dle},bits:[Fle,...t]});return fa.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function Ud({bits:t,name:e}){return new Nl({name:e,...Rle({template:{vertex:kle,fragment:Nle},bits:[Lle,...t]})})}const yw={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},_w={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},vv={};function $le(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${r++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function Ule(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<t;r++)r===t-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function xw(t){return vv[t]||(vv[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${$le(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Ule(t)}
            `}}),vv[t]}const yv={};function Gle(t){const e=[];for(let r=0;r<t;r++)r>0&&e.push("else"),r<t-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function bw(t){return yv[t]||(yv[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${Gle(t)}
            `}}),yv[t]}const Gd={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Hd={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},YA={};function ww(t){let e=YA[t];if(e)return e;const r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=n;return e=YA[t]=new gn({uTextures:{value:r,type:"i32",size:t}},{isStatic:!0}),e}class Hle extends yi{constructor(e){const r=Ud({name:"batch",bits:[_w,bw(e),Hd]}),n=$d({name:"batch",bits:[yw,xw(e),Gd]});super({glProgram:r,gpuProgram:n,resources:{batchSamplers:ww(e)}})}}let _v=null;const P6=class I6 extends _le{constructor(e){super(e),this.geometry=new Sle,this.name=I6.extension.name,this.vertexSize=6,_v??(_v=new Hle(e.maxTextures)),this.shader=_v}packAttributes(e,r,n,i,o){const s=o<<16|e.roundPixels&65535,a=e.transform,l=a.a,c=a.b,u=a.c,f=a.d,d=a.tx,h=a.ty,{positions:p,uvs:y}=e,g=e.color,m=e.attributeOffset,v=m+e.attributeSize;for(let _=m;_<v;_++){const x=_*2,b=p[x],w=p[x+1];r[i++]=l*b+u*w+d,r[i++]=f*w+c*b+h,r[i++]=y[x],r[i++]=y[x+1],n[i++]=g,n[i++]=s}}packQuadAttributes(e,r,n,i,o){const s=e.texture,a=e.transform,l=a.a,c=a.b,u=a.c,f=a.d,d=a.tx,h=a.ty,p=e.bounds,y=p.maxX,g=p.minX,m=p.maxY,v=p.minY,_=s.uvs,x=e.color,b=o<<16|e.roundPixels&65535;r[i+0]=l*g+u*v+d,r[i+1]=f*v+c*g+h,r[i+2]=_.x0,r[i+3]=_.y0,n[i+4]=x,n[i+5]=b,r[i+6]=l*y+u*v+d,r[i+7]=f*v+c*y+h,r[i+8]=_.x1,r[i+9]=_.y1,n[i+10]=x,n[i+11]=b,r[i+12]=l*y+u*m+d,r[i+13]=f*m+c*y+h,r[i+14]=_.x2,r[i+15]=_.y2,n[i+16]=x,n[i+17]=b,r[i+18]=l*g+u*m+d,r[i+19]=f*m+c*g+h,r[i+20]=_.x3,r[i+21]=_.y3,n[i+22]=x,n[i+23]=b}};P6.extension={type:[V.Batcher],name:"default"};let Ew=P6;function Vle(t,e,r,n,i,o,s,a=null){let l=0;r*=e,i*=o;const c=a.a,u=a.b,f=a.c,d=a.d,h=a.tx,p=a.ty;for(;l<s;){const y=t[r],g=t[r+1];n[i]=c*y+f*g+h,n[i+1]=u*y+d*g+p,i+=o,r+=e,l++}}function zle(t,e,r,n){let i=0;for(e*=r;i<n;)t[e]=0,t[e+1]=0,e+=r,i++}function O6(t,e,r,n,i){const o=e.a,s=e.b,a=e.c,l=e.d,c=e.tx,u=e.ty;r||(r=0),n||(n=2),i||(i=t.length/n-r);let f=r*n;for(let d=0;d<i;d++){const h=t[f],p=t[f+1];t[f]=o*h+a*p+c,t[f+1]=s*h+l*p+u,f+=n}}const jle=new Re;class Sw{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,r=e>>16|e&65280|(e&255)<<16,n=this.renderable;return n?BD(r,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):r+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||jle}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const cd={extension:{type:V.ShapeBuilder,name:"circle"},build(t,e){let r,n,i,o,s,a;if(t.type==="circle"){const x=t;if(s=a=x.radius,s<=0)return!1;r=x.x,n=x.y,i=o=0}else if(t.type==="ellipse"){const x=t;if(s=x.halfWidth,a=x.halfHeight,s<=0||a<=0)return!1;r=x.x,n=x.y,i=o=0}else{const x=t,b=x.width/2,w=x.height/2;r=x.x+b,n=x.y+w,s=a=Math.max(0,Math.min(x.radius,Math.min(b,w))),i=b-s,o=w-a}if(i<0||o<0)return!1;const l=Math.ceil(2.3*Math.sqrt(s+a)),c=l*8+(i?4:0)+(o?4:0);if(c===0)return!1;if(l===0)return e[0]=e[6]=r+i,e[1]=e[3]=n+o,e[2]=e[4]=r-i,e[5]=e[7]=n-o,!0;let u=0,f=l*4+(i?2:0)+2,d=f,h=c,p=i+s,y=o,g=r+p,m=r-p,v=n+y;if(e[u++]=g,e[u++]=v,e[--f]=v,e[--f]=m,o){const x=n-y;e[d++]=m,e[d++]=x,e[--h]=x,e[--h]=g}for(let x=1;x<l;x++){const b=Math.PI/2*(x/l),w=i+Math.cos(b)*s,E=o+Math.sin(b)*a,S=r+w,P=r-w,C=n+E,A=n-E;e[u++]=S,e[u++]=C,e[--f]=C,e[--f]=P,e[d++]=P,e[d++]=A,e[--h]=A,e[--h]=S}p=i,y=o+a,g=r+p,m=r-p,v=n+y;const _=n-y;return e[u++]=g,e[u++]=v,e[--h]=_,e[--h]=g,i&&(e[u++]=m,e[u++]=v,e[--h]=_,e[--h]=m),!0},triangulate(t,e,r,n,i,o){if(t.length===0)return;let s=0,a=0;for(let u=0;u<t.length;u+=2)s+=t[u],a+=t[u+1];s/=t.length/2,a/=t.length/2;let l=n;e[l*r]=s,e[l*r+1]=a;const c=l++;for(let u=0;u<t.length;u+=2)e[l*r]=t[u],e[l*r+1]=t[u+1],u>0&&(i[o++]=l,i[o++]=c,i[o++]=l-1),l++;i[o++]=c+1,i[o++]=c,i[o++]=l-1}},Wle={...cd,extension:{...cd.extension,name:"ellipse"}},Xle={...cd,extension:{...cd.extension,name:"roundedRectangle"}},R6=1e-4,KA=1e-4;function Yle(t){const e=t.length;if(e<6)return 1;let r=0;for(let n=0,i=t[e-2],o=t[e-1];n<e;n+=2){const s=t[n],a=t[n+1];r+=(s-i)*(a+o),i=s,o=a}return r<0?-1:1}function qA(t,e,r,n,i,o,s,a){const l=t-r*i,c=e-n*i,u=t+r*o,f=e+n*o;let d,h;s?(d=n,h=-r):(d=-n,h=r);const p=l+d,y=c+h,g=u+d,m=f+h;return a.push(p,y),a.push(g,m),2}function _a(t,e,r,n,i,o,s,a){const l=r-t,c=n-e;let u=Math.atan2(l,c),f=Math.atan2(i-t,o-e);a&&u<f?u+=Math.PI*2:!a&&u>f&&(f+=Math.PI*2);let d=u;const h=f-u,p=Math.abs(h),y=Math.sqrt(l*l+c*c),g=(15*p*Math.sqrt(y)/Math.PI>>0)+1,m=h/g;if(d+=m,a){s.push(t,e),s.push(r,n);for(let v=1,_=d;v<g;v++,_+=m)s.push(t,e),s.push(t+Math.sin(_)*y,e+Math.cos(_)*y);s.push(t,e),s.push(i,o)}else{s.push(r,n),s.push(t,e);for(let v=1,_=d;v<g;v++,_+=m)s.push(t+Math.sin(_)*y,e+Math.cos(_)*y),s.push(t,e);s.push(i,o),s.push(t,e)}return g*2}function Kle(t,e,r,n,i,o){const s=R6;if(t.length===0)return;const a=e;let l=a.alignment;if(e.alignment!==.5){let K=Yle(t);r&&(K*=-1),l=(l-.5)*K+.5}const c=new Vt(t[0],t[1]),u=new Vt(t[t.length-2],t[t.length-1]),f=n,d=Math.abs(c.x-u.x)<s&&Math.abs(c.y-u.y)<s;if(f){t=t.slice(),d&&(t.pop(),t.pop(),u.set(t[t.length-2],t[t.length-1]));const K=(c.x+u.x)*.5,fe=(u.y+c.y)*.5;t.unshift(K,fe),t.push(K,fe)}const h=i,p=t.length/2;let y=t.length;const g=h.length/2,m=a.width/2,v=m*m,_=a.miterLimit*a.miterLimit;let x=t[0],b=t[1],w=t[2],E=t[3],S=0,P=0,C=-(b-E),A=x-w,T=0,I=0,B=Math.sqrt(C*C+A*A);C/=B,A/=B,C*=m,A*=m;const G=l,N=(1-G)*2,U=G*2;f||(a.cap==="round"?y+=_a(x-C*(N-U)*.5,b-A*(N-U)*.5,x-C*N,b-A*N,x+C*U,b+A*U,h,!0)+2:a.cap==="square"&&(y+=qA(x,b,C,A,N,U,!0,h))),h.push(x-C*N,b-A*N),h.push(x+C*U,b+A*U);for(let K=1;K<p-1;++K){x=t[(K-1)*2],b=t[(K-1)*2+1],w=t[K*2],E=t[K*2+1],S=t[(K+1)*2],P=t[(K+1)*2+1],C=-(b-E),A=x-w,B=Math.sqrt(C*C+A*A),C/=B,A/=B,C*=m,A*=m,T=-(E-P),I=w-S,B=Math.sqrt(T*T+I*I),T/=B,I/=B,T*=m,I*=m;const fe=w-x,ue=b-E,Y=w-S,ie=P-E,ge=fe*Y+ue*ie,F=ue*Y-ie*fe,q=F<0;if(Math.abs(F)<.001*Math.abs(ge)){h.push(w-C*N,E-A*N),h.push(w+C*U,E+A*U),ge>=0&&(a.join==="round"?y+=_a(w,E,w-C*N,E-A*N,w-T*N,E-I*N,h,!1)+4:y+=2,h.push(w-T*U,E-I*U),h.push(w+T*N,E+I*N));continue}const L=(-C+x)*(-A+E)-(-C+w)*(-A+b),ee=(-T+S)*(-I+E)-(-T+w)*(-I+P),J=(fe*ee-Y*L)/F,de=(ie*L-ue*ee)/F,pe=(J-w)*(J-w)+(de-E)*(de-E),xe=w+(J-w)*N,O=E+(de-E)*N,$=w-(J-w)*U,j=E-(de-E)*U,ae=Math.min(fe*fe+ue*ue,Y*Y+ie*ie),ce=q?N:U,M=ae+ce*ce*v;pe<=M?a.join==="bevel"||pe/v>_?(q?(h.push(xe,O),h.push(w+C*U,E+A*U),h.push(xe,O),h.push(w+T*U,E+I*U)):(h.push(w-C*N,E-A*N),h.push($,j),h.push(w-T*N,E-I*N),h.push($,j)),y+=2):a.join==="round"?q?(h.push(xe,O),h.push(w+C*U,E+A*U),y+=_a(w,E,w+C*U,E+A*U,w+T*U,E+I*U,h,!0)+4,h.push(xe,O),h.push(w+T*U,E+I*U)):(h.push(w-C*N,E-A*N),h.push($,j),y+=_a(w,E,w-C*N,E-A*N,w-T*N,E-I*N,h,!1)+4,h.push(w-T*N,E-I*N),h.push($,j)):(h.push(xe,O),h.push($,j)):(h.push(w-C*N,E-A*N),h.push(w+C*U,E+A*U),a.join==="round"?q?y+=_a(w,E,w+C*U,E+A*U,w+T*U,E+I*U,h,!0)+2:y+=_a(w,E,w-C*N,E-A*N,w-T*N,E-I*N,h,!1)+2:a.join==="miter"&&pe/v<=_&&(q?(h.push($,j),h.push($,j)):(h.push(xe,O),h.push(xe,O)),y+=2),h.push(w-T*N,E-I*N),h.push(w+T*U,E+I*U),y+=2)}x=t[(p-2)*2],b=t[(p-2)*2+1],w=t[(p-1)*2],E=t[(p-1)*2+1],C=-(b-E),A=x-w,B=Math.sqrt(C*C+A*A),C/=B,A/=B,C*=m,A*=m,h.push(w-C*N,E-A*N),h.push(w+C*U,E+A*U),f||(a.cap==="round"?y+=_a(w-C*(N-U)*.5,E-A*(N-U)*.5,w-C*N,E-A*N,w+C*U,E+A*U,h,!1)+2:a.cap==="square"&&(y+=qA(w,E,C,A,N,U,!1,h)));const W=KA*KA;for(let K=g;K<y+g-2;++K)x=h[K*2],b=h[K*2+1],w=h[(K+1)*2],E=h[(K+1)*2+1],S=h[(K+2)*2],P=h[(K+2)*2+1],!(Math.abs(x*(E-P)+w*(P-b)+S*(b-E))<W)&&o.push(K,K+1,K+2)}function qle(t,e,r,n){const i=R6;if(t.length===0)return;const o=t[0],s=t[1],a=t[t.length-2],l=t[t.length-1],c=e||Math.abs(o-a)<i&&Math.abs(s-l)<i,u=r,f=t.length/2,d=u.length/2;for(let h=0;h<f;h++)u.push(t[h*2]),u.push(t[h*2+1]);for(let h=0;h<f-1;h++)n.push(d+h,d+h+1);c&&n.push(d+f-1,d)}function M6(t,e,r,n,i,o,s){const a=Yae(t,e,2);if(!a)return;for(let c=0;c<a.length;c+=3)o[s++]=a[c]+i,o[s++]=a[c+1]+i,o[s++]=a[c+2]+i;let l=i*n;for(let c=0;c<t.length;c+=2)r[l]=t[c],r[l+1]=t[c+1],l+=n}const Zle=[],Jle={extension:{type:V.ShapeBuilder,name:"polygon"},build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return!0},triangulate(t,e,r,n,i,o){M6(t,Zle,e,r,n,i,o)}},Qle={extension:{type:V.ShapeBuilder,name:"rectangle"},build(t,e){const r=t,n=r.x,i=r.y,o=r.width,s=r.height;return o>0&&s>0?(e[0]=n,e[1]=i,e[2]=n+o,e[3]=i,e[4]=n+o,e[5]=i+s,e[6]=n,e[7]=i+s,!0):!1},triangulate(t,e,r,n,i,o){let s=0;n*=r,e[n+s]=t[0],e[n+s+1]=t[1],s+=r,e[n+s]=t[2],e[n+s+1]=t[3],s+=r,e[n+s]=t[6],e[n+s+1]=t[7],s+=r,e[n+s]=t[4],e[n+s+1]=t[5],s+=r;const a=n/r;i[o++]=a,i[o++]=a+1,i[o++]=a+2,i[o++]=a+1,i[o++]=a+3,i[o++]=a+2}},ece={extension:{type:V.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,r,n,i,o){let s=0;n*=r,e[n+s]=t[0],e[n+s+1]=t[1],s+=r,e[n+s]=t[2],e[n+s+1]=t[3],s+=r,e[n+s]=t[4],e[n+s+1]=t[5];const a=n/r;i[o++]=a,i[o++]=a+1,i[o++]=a+2}},tce=new Re,rce=new xt;function nce(t,e,r,n){const i=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const s=r.getBounds(rce);e.width&&s.pad(e.width);const{x:a,y:l}=s,c=1/s.width,u=1/s.height,f=-a*c,d=-l*u,h=i.a,p=i.b,y=i.c,g=i.d;i.a*=c,i.b*=c,i.c*=u,i.d*=u,i.tx=f*h+d*y+i.tx,i.ty=f*p+d*g+i.ty}else i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const o=e.texture.source.style;return!(e.fill instanceof ns)&&o.addressMode==="clamp-to-edge"&&(o.addressMode="repeat",o.update()),n&&i.append(tce.copyFrom(n).invert()),i}const Vg={};Ge.handleByMap(V.ShapeBuilder,Vg);Ge.add(Qle,Jle,ece,cd,Wle,Xle);const ice=new xt,oce=new Re;function sce(t,e){const{geometryData:r,batches:n}=e;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const o=t.instructions[i];if(o.action==="texture")ace(o.data,n,r);else if(o.action==="fill"||o.action==="stroke"){const s=o.action==="stroke",a=o.data.path.shapePath,l=o.data.style,c=o.data.hole;s&&c&&ZA(c.shapePath,l,!0,n,r),c&&(a.shapePrimitives[a.shapePrimitives.length-1].holes=c.shapePath.shapePrimitives),ZA(a,l,s,n,r)}}}function ace(t,e,r){const n=[],i=Vg.rectangle,o=ice;o.x=t.dx,o.y=t.dy,o.width=t.dw,o.height=t.dh;const s=t.transform;if(!i.build(o,n))return;const{vertices:a,uvs:l,indices:c}=r,u=c.length,f=a.length/2;s&&O6(n,s),i.triangulate(n,a,2,f,c,u);const d=t.image,h=d.uvs;l.push(h.x0,h.y0,h.x1,h.y1,h.x3,h.y3,h.x2,h.y2);const p=Gr.get(Sw);p.indexOffset=u,p.indexSize=c.length-u,p.attributeOffset=f,p.attributeSize=a.length/2-f,p.baseColor=t.style,p.alpha=t.alpha,p.texture=d,p.geometryData=r,e.push(p)}function ZA(t,e,r,n,i){const{vertices:o,uvs:s,indices:a}=i;t.shapePrimitives.forEach(({shape:l,transform:c,holes:u})=>{const f=[],d=Vg[l.type];if(!d.build(l,f))return;const h=a.length,p=o.length/2;let y="triangle-list";if(c&&O6(f,c),r){const _=l.closePath??!0,x=e;x.pixelLine?(qle(f,_,o,a),y="line-list"):Kle(f,x,!1,_,o,a)}else if(u){const _=[],x=f.slice();lce(u).forEach(w=>{_.push(x.length/2),x.push(...w)}),M6(x,_,o,2,p,a,h)}else d.triangulate(f,o,2,p,a,h);const g=s.length/2,m=e.texture;if(m!==Te.WHITE){const _=nce(oce,e,l,c);Vle(o,2,p,s,g,2,o.length/2-p,_)}else zle(s,g,2,o.length/2-p);const v=Gr.get(Sw);v.indexOffset=h,v.indexSize=a.length-h,v.attributeOffset=p,v.attributeSize=o.length/2-p,v.baseColor=e.color,v.alpha=e.alpha,v.texture=m,v.geometryData=i,v.topology=y,n.push(v)})}function lce(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r].shape,i=[];Vg[n.type].build(n,i)&&e.push(i)}return e}class cce{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class uce{constructor(){this.instructions=new FD}init(e){this.batcher=new Ew({maxTextures:e}),this.instructions.reset()}get geometry(){return $e(gse,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Cw=class p_{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){p_.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??p_.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let r=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){r?this._cleanGraphicsContextData(e):r=this._initContext(e),sce(e,r);const n=e.batchMode;e.customShader||n==="no-batch"?r.isBatchable=!1:n==="auto"?r.isBatchable=r.geometryData.vertices.length<400:r.isBatchable=!0,e.dirty=!1}return r}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const r=Gr.get(uce,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:n,geometryData:i}=this._gpuContextHash[e.uid],o=i.vertices.length,s=i.indices.length;for(let u=0;u<n.length;u++)n[u].applyTransform=!1;const a=r.batcher;a.ensureAttributeBuffer(o),a.ensureIndexBuffer(s),a.begin();for(let u=0;u<n.length;u++){const f=n[u];a.add(f)}a.finish(r.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const c=a.batches;for(let u=0;u<c.length;u++){const f=c[u];f.bindGroup=vw(f.textures.textures,f.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=r,r}_initContext(e){const r=new cce;return r.context=e,this._gpuContextHash[e.uid]=r,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const r=this._gpuContextHash[e.uid];r.isBatchable||this._graphicsDataContextHash[e.uid]&&(Gr.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),r.batches&&r.batches.forEach(n=>{Gr.return(n)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};Cw.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"graphicsContext"};Cw.defaultOptions={bezierSmoothness:.5};let Aw=Cw;const fce=8,zh=11920929e-14,dce=1;function D6(t,e,r,n,i,o,s,a,l,c){const f=Math.min(.99,Math.max(0,c??Aw.defaultOptions.bezierSmoothness));let d=(dce-f)/1;return d*=d,hce(e,r,n,i,o,s,a,l,t,d),t}function hce(t,e,r,n,i,o,s,a,l,c){g_(t,e,r,n,i,o,s,a,l,c,0),l.push(s,a)}function g_(t,e,r,n,i,o,s,a,l,c,u){if(u>fce)return;const f=(t+r)/2,d=(e+n)/2,h=(r+i)/2,p=(n+o)/2,y=(i+s)/2,g=(o+a)/2,m=(f+h)/2,v=(d+p)/2,_=(h+y)/2,x=(p+g)/2,b=(m+_)/2,w=(v+x)/2;if(u>0){let E=s-t,S=a-e;const P=Math.abs((r-s)*S-(n-a)*E),C=Math.abs((i-s)*S-(o-a)*E);if(P>zh&&C>zh){if((P+C)*(P+C)<=c*(E*E+S*S)){l.push(b,w);return}}else if(P>zh){if(P*P<=c*(E*E+S*S)){l.push(b,w);return}}else if(C>zh){if(C*C<=c*(E*E+S*S)){l.push(b,w);return}}else if(E=b-(t+s)/2,S=w-(e+a)/2,E*E+S*S<=c){l.push(b,w);return}}g_(t,e,f,d,m,v,b,w,l,c,u+1),g_(b,w,_,x,y,g,s,a,l,c,u+1)}const pce=8,gce=11920929e-14,mce=1;function vce(t,e,r,n,i,o,s,a){const c=Math.min(.99,Math.max(0,a??Aw.defaultOptions.bezierSmoothness));let u=(mce-c)/1;return u*=u,yce(e,r,n,i,o,s,t,u),t}function yce(t,e,r,n,i,o,s,a){m_(s,t,e,r,n,i,o,a,0),s.push(i,o)}function m_(t,e,r,n,i,o,s,a,l){if(l>pce)return;const c=(e+n)/2,u=(r+i)/2,f=(n+o)/2,d=(i+s)/2,h=(c+f)/2,p=(u+d)/2;let y=o-e,g=s-r;const m=Math.abs((n-o)*g-(i-s)*y);if(m>gce){if(m*m<=a*(y*y+g*g)){t.push(h,p);return}}else if(y=h-(e+o)/2,g=p-(r+s)/2,y*y+g*g<=a){t.push(h,p);return}m_(t,e,r,c,u,h,p,a,l+1),m_(t,h,p,f,d,o,s,a,l+1)}function B6(t,e,r,n,i,o,s,a){let l=Math.abs(i-o);(!s&&i>o||s&&o>i)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(n,1/3)*(l/Math.PI)))),a=Math.max(a,3);let c=l/a,u=i;c*=s?-1:1;for(let f=0;f<a+1;f++){const d=Math.cos(u),h=Math.sin(u),p=e+d*n,y=r+h*n;t.push(p,y),u+=c}}function _ce(t,e,r,n,i,o){const s=t[t.length-2],l=t[t.length-1]-r,c=s-e,u=i-r,f=n-e,d=Math.abs(l*f-c*u);if(d<1e-8||o===0){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}const h=l*l+c*c,p=u*u+f*f,y=l*u+c*f,g=o*Math.sqrt(h)/d,m=o*Math.sqrt(p)/d,v=g*y/h,_=m*y/p,x=g*f+m*c,b=g*u+m*l,w=c*(m+v),E=l*(m+v),S=f*(g+_),P=u*(g+_),C=Math.atan2(E-b,w-x),A=Math.atan2(P-b,S-x);B6(t,x+e,b+r,o,C,A,c*u>f*l)}const Sf=Math.PI*2,xv={centerX:0,centerY:0,ang1:0,ang2:0},bv=({x:t,y:e},r,n,i,o,s,a,l)=>{t*=r,e*=n;const c=i*t-o*e,u=o*t+i*e;return l.x=c+s,l.y=u+a,l};function xce(t,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:r,i=Math.cos(t),o=Math.sin(t),s=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-o*n,y:o+i*n},{x:s+a*n,y:a-s*n},{x:s,y:a}]}const JA=(t,e,r,n)=>{const i=t*n-e*r<0?-1:1;let o=t*r+e*n;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)},bce=(t,e,r,n,i,o,s,a,l,c,u,f,d)=>{const h=Math.pow(i,2),p=Math.pow(o,2),y=Math.pow(u,2),g=Math.pow(f,2);let m=h*p-h*g-p*y;m<0&&(m=0),m/=h*g+p*y,m=Math.sqrt(m)*(s===a?-1:1);const v=m*i/o*f,_=m*-o/i*u,x=c*v-l*_+(t+r)/2,b=l*v+c*_+(e+n)/2,w=(u-v)/i,E=(f-_)/o,S=(-u-v)/i,P=(-f-_)/o,C=JA(1,0,w,E);let A=JA(w,E,S,P);a===0&&A>0&&(A-=Sf),a===1&&A<0&&(A+=Sf),d.centerX=x,d.centerY=b,d.ang1=C,d.ang2=A};function wce(t,e,r,n,i,o,s,a=0,l=0,c=0){if(o===0||s===0)return;const u=Math.sin(a*Sf/360),f=Math.cos(a*Sf/360),d=f*(e-n)/2+u*(r-i)/2,h=-u*(e-n)/2+f*(r-i)/2;if(d===0&&h===0)return;o=Math.abs(o),s=Math.abs(s);const p=Math.pow(d,2)/Math.pow(o,2)+Math.pow(h,2)/Math.pow(s,2);p>1&&(o*=Math.sqrt(p),s*=Math.sqrt(p)),bce(e,r,n,i,o,s,l,c,u,f,d,h,xv);let{ang1:y,ang2:g}=xv;const{centerX:m,centerY:v}=xv;let _=Math.abs(g)/(Sf/4);Math.abs(1-_)<1e-7&&(_=1);const x=Math.max(Math.ceil(_),1);g/=x;let b=t[t.length-2],w=t[t.length-1];const E={x:0,y:0};for(let S=0;S<x;S++){const P=xce(y,g),{x:C,y:A}=bv(P[0],o,s,f,u,m,v,E),{x:T,y:I}=bv(P[1],o,s,f,u,m,v,E),{x:B,y:G}=bv(P[2],o,s,f,u,m,v,E);D6(t,b,w,C,A,T,I,B,G),b=B,w=G,y+=g}}function Ece(t,e,r){const n=(s,a)=>{const l=a.x-s.x,c=a.y-s.y,u=Math.sqrt(l*l+c*c),f=l/u,d=c/u;return{len:u,nx:f,ny:d}},i=(s,a)=>{s===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let o=e[e.length-1];for(let s=0;s<e.length;s++){const a=e[s%e.length],l=a.radius??r;if(l<=0){i(s,a),o=a;continue}const c=e[(s+1)%e.length],u=n(a,o),f=n(a,c);if(u.len<1e-4||f.len<1e-4){i(s,a),o=a;continue}let d=Math.asin(u.nx*f.ny-u.ny*f.nx),h=1,p=!1;u.nx*f.nx-u.ny*-f.ny<0?d<0?d=Math.PI+d:(d=Math.PI-d,h=-1,p=!0):d>0&&(h=-1,p=!0);const y=d/2;let g,m=Math.abs(Math.cos(y)*l/Math.sin(y));m>Math.min(u.len/2,f.len/2)?(m=Math.min(u.len/2,f.len/2),g=Math.abs(m*Math.sin(y)/Math.cos(y))):g=l;const v=a.x+f.nx*m+-f.ny*g*h,_=a.y+f.ny*m+f.nx*g*h,x=Math.atan2(u.ny,u.nx)+Math.PI/2*h,b=Math.atan2(f.ny,f.nx)-Math.PI/2*h;s===0&&t.moveTo(v+Math.cos(x)*g,_+Math.sin(x)*g),t.arc(v,_,g,x,b,p),o=a}}function Sce(t,e,r,n){const i=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),o=(a,l,c)=>({x:a.x+(l.x-a.x)*c,y:a.y+(l.y-a.y)*c}),s=e.length;for(let a=0;a<s;a++){const l=e[(a+1)%s],c=l.radius??r;if(c<=0){a===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y);continue}const u=e[a],f=e[(a+2)%s],d=i(u,l);let h;if(d<1e-4)h=l;else{const g=Math.min(d/2,c);h=o(l,u,g/d)}const p=i(f,l);let y;if(p<1e-4)y=l;else{const g=Math.min(p/2,c);y=o(l,f,g/p)}a===0?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y),t.quadraticCurveTo(l.x,l.y,y.x,y.y,n)}}const Cce=new xt;class Ace{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Hr,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const n=this._currentPoly.points,i=n[n.length-2],o=n[n.length-1];return(i!==e||o!==r)&&n.push(e,r),this}arc(e,r,n,i,o,s){this._ensurePoly(!1);const a=this._currentPoly.points;return B6(a,e,r,n,i,o,s),this}arcTo(e,r,n,i,o){this._ensurePoly();const s=this._currentPoly.points;return _ce(s,e,r,n,i,o),this}arcToSvg(e,r,n,i,o,s,a){const l=this._currentPoly.points;return wce(l,this._currentPoly.lastX,this._currentPoly.lastY,s,a,e,r,n,i,o),this}bezierCurveTo(e,r,n,i,o,s,a){this._ensurePoly();const l=this._currentPoly;return D6(this._currentPoly.points,l.lastX,l.lastY,e,r,n,i,o,s,a),this}quadraticCurveTo(e,r,n,i,o){this._ensurePoly();const s=this._currentPoly;return vce(this._currentPoly.points,s.lastX,s.lastY,e,r,n,i,o),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));const n=this.shapePrimitives,i=n.length;for(let o=0;o<e.instructions.length;o++){const s=e.instructions[o];this[s.action](...s.data)}if(e.checkForHoles&&n.length-i>1){let o=null;for(let s=i;s<n.length;s++){const a=n[s];if(a.shape.type==="polygon"){const l=a.shape,c=o==null?void 0:o.shape;c&&c.containsPolygon(l)?(o.holes||(o.holes=[]),o.holes.push(a),n.copyWithin(s,s+1),n.length--,s--):o=a}}}return this}finish(e=!1){this.endPoly(e)}rect(e,r,n,i,o){return this.drawShape(new xt(e,r,n,i),o),this}circle(e,r,n,i){return this.drawShape(new pw(e,r,n),i),this}poly(e,r,n){const i=new Ef(e);return i.closePath=r,this.drawShape(i,n),this}regularPoly(e,r,n,i,o=0,s){i=Math.max(i|0,3);const a=-1*Math.PI/2+o,l=Math.PI*2/i,c=[];for(let u=0;u<i;u++){const f=a-u*l;c.push(e+n*Math.cos(f),r+n*Math.sin(f))}return this.poly(c,!0,s),this}roundPoly(e,r,n,i,o,s=0,a){if(i=Math.max(i|0,3),o<=0)return this.regularPoly(e,r,n,i,s);const l=n*Math.sin(Math.PI/i)-.001;o=Math.min(o,l);const c=-1*Math.PI/2+s,u=Math.PI*2/i,f=(i-2)*Math.PI/i/2;for(let d=0;d<i;d++){const h=d*u+c,p=e+n*Math.cos(h),y=r+n*Math.sin(h),g=h+Math.PI+f,m=h-Math.PI-f,v=p+o*Math.cos(g),_=y+o*Math.sin(g),x=p+o*Math.cos(m),b=y+o*Math.sin(m);d===0?this.moveTo(v,_):this.lineTo(v,_),this.quadraticCurveTo(p,y,x,b,a)}return this.closePath()}roundShape(e,r,n=!1,i){return e.length<3?this:(n?Sce(this,e,r,i):Ece(this,e,r),this.closePath())}filletRect(e,r,n,i,o){if(o===0)return this.rect(e,r,n,i);const s=Math.min(n,i)/2,a=Math.min(s,Math.max(-s,o)),l=e+n,c=r+i,u=a<0?-a:0,f=Math.abs(a);return this.moveTo(e,r+f).arcTo(e+u,r+u,e+f,r,f).lineTo(l-f,r).arcTo(l-u,r+u,l,r+f,f).lineTo(l,c-f).arcTo(l-u,c-u,e+n-f,c,f).lineTo(e+f,c).arcTo(e+u,c-u,e,c-f,f).closePath()}chamferRect(e,r,n,i,o,s){if(o<=0)return this.rect(e,r,n,i);const a=Math.min(o,Math.min(n,i)/2),l=e+n,c=r+i,u=[e+a,r,l-a,r,l,r+a,l,c-a,l-a,c,e+a,c,e,c-a,e,r+a];for(let f=u.length-1;f>=2;f-=2)u[f]===u[f-2]&&u[f-1]===u[f-3]&&u.splice(f-1,2);return this.poly(u,!0,s)}ellipse(e,r,n,i,o){return this.drawShape(new gw(e,r,n,i),o),this}roundRect(e,r,n,i,o,s){return this.drawShape(new mw(e,r,n,i,o),s),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let n=this._currentPoly;return n&&this.endPoly(),n=new Ef,n.points.push(e,r),this._currentPoly=n,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Ef,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,i=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const o=r.transform,s=n;n=o.a*n+o.c*i+o.tx,i=o.b*s+o.d*i+o.ty}this._currentPoly.points.push(n,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const n=e.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const i=r[n],o=i.shape.getBounds(Cce);i.transform?e.addRect(o,i.transform):e.addRect(o)}return e}}class Yc{constructor(e,r=!1){this.instructions=[],this.uid=Ht("graphicsPath"),this._dirty=!0,this.checkForHoles=r,typeof e=="string"?lle(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Ace(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,n,i,o){const s=this.instructions[this.instructions.length-1],a=this.getLastPoint(Vt.shared);let l=0,c=0;if(!s||s.action!=="bezierCurveTo")l=a.x,c=a.y;else{l=s.data[2],c=s.data[3];const u=a.x,f=a.y;l=u+(u-l),c=f+(f-c)}return this.instructions.push({action:"bezierCurveTo",data:[l,c,e,r,n,i,o]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,n){const i=this.instructions[this.instructions.length-1],o=this.getLastPoint(Vt.shared);let s=0,a=0;if(!i||i.action!=="quadraticCurveTo")s=o.x,a=o.y;else{s=i.data[0],a=i.data[1];const l=o.x,c=o.y;s=l+(l-s),a=c+(c-a)}return this.instructions.push({action:"quadraticCurveTo",data:[s,a,e,r,n]}),this._dirty=!0,this}rect(e,r,n,i,o){return this.instructions.push({action:"rect",data:[e,r,n,i,o]}),this._dirty=!0,this}circle(e,r,n,i){return this.instructions.push({action:"circle",data:[e,r,n,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,n,i,o,s,a){o||(o=i/2);const l=-1*Math.PI/2+s,c=n*2,u=Math.PI*2/c,f=[];for(let d=0;d<c;d++){const h=d%2?o:i,p=d*u+l;f.push(e+h*Math.cos(p),r+h*Math.sin(p))}return this.poly(f,!0,a),this}clone(e=!1){const r=new Yc;if(r.checkForHoles=this.checkForHoles,!e)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const i=this.instructions[n];r.instructions.push({action:i.action,data:i.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty;let l=0,c=0,u=0,f=0,d=0,h=0,p=0,y=0;for(let g=0;g<this.instructions.length;g++){const m=this.instructions[g],v=m.data;switch(m.action){case"moveTo":case"lineTo":l=v[0],c=v[1],v[0]=r*l+i*c+s,v[1]=n*l+o*c+a;break;case"bezierCurveTo":u=v[0],f=v[1],d=v[2],h=v[3],l=v[4],c=v[5],v[0]=r*u+i*f+s,v[1]=n*u+o*f+a,v[2]=r*d+i*h+s,v[3]=n*d+o*h+a,v[4]=r*l+i*c+s,v[5]=n*l+o*c+a;break;case"quadraticCurveTo":u=v[0],f=v[1],l=v[2],c=v[3],v[0]=r*u+i*f+s,v[1]=n*u+o*f+a,v[2]=r*l+i*c+s,v[3]=n*l+o*c+a;break;case"arcToSvg":l=v[5],c=v[6],p=v[0],y=v[1],v[0]=r*p+i*y,v[1]=n*p+o*y,v[5]=r*l+i*c+s,v[6]=n*l+o*c+a;break;case"circle":v[4]=Uu(v[3],e);break;case"rect":v[4]=Uu(v[4],e);break;case"ellipse":v[8]=Uu(v[8],e);break;case"roundRect":v[5]=Uu(v[5],e);break;case"addPath":v[0].transform(e);break;case"poly":v[2]=Uu(v[2],e);break;default:Le("unknown transform action",m.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function Uu(t,e){return t?t.prepend(e):e.clone()}function Jt(t,e,r){const n=t.getAttribute(e);return n?Number(n):r}function Tce(t,e){const r=t.querySelectorAll("defs");for(let n=0;n<r.length;n++){const i=r[n];for(let o=0;o<i.children.length;o++){const s=i.children[o];switch(s.nodeName.toLowerCase()){case"lineargradient":e.defs[s.id]=Pce(s);break;case"radialgradient":e.defs[s.id]=Ice();break}}}}function Pce(t){const e=Jt(t,"x1",0),r=Jt(t,"y1",0),n=Jt(t,"x2",1),i=Jt(t,"y2",0),o=t.getAttribute("gradientUnits")||"objectBoundingBox",s=new ns(e,r,n,i,o==="objectBoundingBox"?"local":"global");for(let a=0;a<t.children.length;a++){const l=t.children[a],c=Jt(l,"offset",0),u=Dt.shared.setValue(l.getAttribute("stop-color")).toNumber();s.addColorStop(c,u)}return s}function Ice(t){return Le("[SVG Parser] Radial gradients are not yet supported"),new ns(0,0,1,0)}function QA(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const eT={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function k6(t,e){const r=t.getAttribute("style"),n={},i={},o={strokeStyle:n,fillStyle:i,useFill:!1,useStroke:!1};for(const s in eT){const a=t.getAttribute(s);a&&tT(e,o,s,a.trim())}if(r){const s=r.split(";");for(let a=0;a<s.length;a++){const l=s[a].trim(),[c,u]=l.split(":");eT[c]&&tT(e,o,c,u.trim())}}return{strokeStyle:o.useStroke?n:null,fillStyle:o.useFill?i:null,useFill:o.useFill,useStroke:o.useStroke}}function tT(t,e,r,n){switch(r){case"stroke":if(n!=="none"){if(n.startsWith("url(")){const i=QA(n);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=Dt.shared.setValue(n).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(n);break;case"fill":if(n!=="none"){if(n.startsWith("url(")){const i=QA(n);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=Dt.shared.setValue(n).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(n);break;case"stroke-opacity":e.strokeStyle.alpha=Number(n);break;case"opacity":e.fillStyle.alpha=Number(n),e.strokeStyle.alpha=Number(n);break}}function Oce(t,e){if(typeof t=="string"){const s=document.createElement("div");s.innerHTML=t.trim(),t=s.querySelector("svg")}const r={context:e,defs:{},path:new Yc};Tce(t,r);const n=t.children,{fillStyle:i,strokeStyle:o}=k6(t,r);for(let s=0;s<n.length;s++){const a=n[s];a.nodeName.toLowerCase()!=="defs"&&N6(a,r,i,o)}return e}function N6(t,e,r,n){const i=t.children,{fillStyle:o,strokeStyle:s}=k6(t,e);o&&r?r={...r,...o}:o&&(r=o),s&&n?n={...n,...s}:s&&(n=s);const a=!r&&!n;a&&(r={color:0});let l,c,u,f,d,h,p,y,g,m,v,_,x,b,w,E,S;switch(t.nodeName.toLowerCase()){case"path":b=t.getAttribute("d"),t.getAttribute("fill-rule")==="evenodd"&&Le("SVG Evenodd fill rule not supported, your svg may render incorrectly"),w=new Yc(b,!0),e.context.path(w),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"circle":p=Jt(t,"cx",0),y=Jt(t,"cy",0),g=Jt(t,"r",0),e.context.ellipse(p,y,g,g),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"rect":l=Jt(t,"x",0),c=Jt(t,"y",0),E=Jt(t,"width",0),S=Jt(t,"height",0),m=Jt(t,"rx",0),v=Jt(t,"ry",0),m||v?e.context.roundRect(l,c,E,S,m||v):e.context.rect(l,c,E,S),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"ellipse":p=Jt(t,"cx",0),y=Jt(t,"cy",0),m=Jt(t,"rx",0),v=Jt(t,"ry",0),e.context.beginPath(),e.context.ellipse(p,y,m,v),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"line":u=Jt(t,"x1",0),f=Jt(t,"y1",0),d=Jt(t,"x2",0),h=Jt(t,"y2",0),e.context.beginPath(),e.context.moveTo(u,f),e.context.lineTo(d,h),n&&e.context.stroke(n);break;case"polygon":x=t.getAttribute("points"),_=x.match(/\d+/g).map(P=>parseInt(P,10)),e.context.poly(_,!0),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"polyline":x=t.getAttribute("points"),_=x.match(/\d+/g).map(P=>parseInt(P,10)),e.context.poly(_,!1),n&&e.context.stroke(n);break;case"g":case"svg":break;default:{Le(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}a&&(r=null);for(let P=0;P<i.length;P++)N6(i[P],e,r,n)}function Rce(t){return Dt.isColorLike(t)}function rT(t){return t instanceof Hg}function nT(t){return t instanceof ns}function Mce(t){return t instanceof Te}function Dce(t,e,r){const n=Dt.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?r.alpha:n.alpha,t.texture=Te.WHITE,{...r,...t}}function Bce(t,e,r){return t.texture=e,{...r,...t}}function iT(t,e,r){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function oT(t,e,r){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...r,...t}}function kce(t,e){const r={...e,...t},n=Dt.shared.setValue(r.color);return r.alpha*=n.alpha,r.color=n.toNumber(),r}function $a(t,e){if(t==null)return null;const r={},n=t;return Rce(t)?Dce(r,t,e):Mce(t)?Bce(r,t,e):rT(t)?iT(r,t,e):nT(t)?oT(r,t,e):n.fill&&rT(n.fill)?iT(n,n.fill,e):n.fill&&nT(n.fill)?oT(n,n.fill,e):kce(n,e)}function p0(t,e){const{width:r,alignment:n,miterLimit:i,cap:o,join:s,pixelLine:a,...l}=e,c=$a(t,l);return c?{width:r,alignment:n,miterLimit:i,cap:o,join:s,pixelLine:a,...c}:null}const Nce=new Vt,sT=new Re,Tw=class Yi extends Qn{constructor(){super(...arguments),this.uid=Ht("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Yc,this._transform=new Re,this._fillStyle={...Yi.defaultFillStyle},this._strokeStyle={...Yi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Hr,this._boundsDirty=!0}clone(){const e=new Yi;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=$a(e,Yi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=p0(e,Yi.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=$a(e,Yi.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=$a(e,Yi.defaultStrokeStyle),this}texture(e,r,n,i,o,s){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:i||0,dw:o||e.frame.width,dh:s||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?Dt.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Yc,this}fill(e,r){let n;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?n=i.data.path:n=this._activePath.clone(),n?(e!=null&&(r!==void 0&&typeof e=="number"&&($e(ot,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=$a(e,Yi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(Vt.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n&&n.action==="fill"?r=n.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=p0(e,Yi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,r,n,i,o,s){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*r+a.tx,a.b*e+a.d*r+a.ty,n,i,o,s),this}arcTo(e,r,n,i,o){this._tick++;const s=this._transform;return this._activePath.arcTo(s.a*e+s.c*r+s.tx,s.b*e+s.d*r+s.ty,s.a*n+s.c*i+s.tx,s.b*n+s.d*i+s.ty,o),this}arcToSvg(e,r,n,i,o,s,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,r,n,i,o,l.a*s+l.c*a+l.tx,l.b*s+l.d*a+l.ty),this}bezierCurveTo(e,r,n,i,o,s,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*r+l.tx,l.b*e+l.d*r+l.ty,l.a*n+l.c*i+l.tx,l.b*n+l.d*i+l.ty,l.a*o+l.c*s+l.tx,l.b*o+l.d*s+l.ty,a),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,r,n,i){return this._tick++,this._activePath.ellipse(e,r,n,i,this._transform.clone()),this}circle(e,r,n){return this._tick++,this._activePath.circle(e,r,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*r+n.tx,n.b*e+n.d*r+n.ty),this}moveTo(e,r){this._tick++;const n=this._transform,i=this._activePath.instructions,o=n.a*e+n.c*r+n.tx,s=n.b*e+n.d*r+n.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=o,i[0].data[1]=s,this):(this._activePath.moveTo(o,s),this)}quadraticCurveTo(e,r,n,i,o){this._tick++;const s=this._transform;return this._activePath.quadraticCurveTo(s.a*e+s.c*r+s.tx,s.b*e+s.d*r+s.ty,s.a*n+s.c*i+s.tx,s.b*n+s.d*i+s.ty,o),this}rect(e,r,n,i){return this._tick++,this._activePath.rect(e,r,n,i,this._transform.clone()),this}roundRect(e,r,n,i,o){return this._tick++,this._activePath.roundRect(e,r,n,i,o,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,n,i,o=0,s){return this._tick++,this._activePath.regularPoly(e,r,n,i,o,s),this}roundPoly(e,r,n,i,o,s){return this._tick++,this._activePath.roundPoly(e,r,n,i,o,s),this}roundShape(e,r,n,i){return this._tick++,this._activePath.roundShape(e,r,n,i),this}filletRect(e,r,n,i,o){return this._tick++,this._activePath.filletRect(e,r,n,i,o),this}chamferRect(e,r,n,i,o,s){return this._tick++,this._activePath.chamferRect(e,r,n,i,o,s),this}star(e,r,n,i,o=0,s=0){return this._tick++,this._activePath.star(e,r,n,i,o,s,this._transform.clone()),this}svg(e){return this._tick++,Oce(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,n,i,o,s){return e instanceof Re?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,n,i,o,s),this)}transform(e,r,n,i,o,s){return e instanceof Re?(this._transform.append(e),this):(sT.set(e,r,n,i,o,s),this._transform.append(sT),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],i=n.action;if(i==="fill"){const o=n.data;e.addBounds(o.path.bounds)}else if(i==="texture"){const o=n.data;e.addFrame(o.dx,o.dy,o.dx+o.dw,o.dy+o.dh,o.transform)}if(i==="stroke"){const o=n.data,s=o.style.alignment,a=o.style.width*(1-s),l=o.path.bounds;e.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return e}containsPoint(e){var i;if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let n=!1;for(let o=0;o<r.length;o++){const s=r[o],a=s.data,l=a.path;if(!s.action||!l)continue;const c=a.style,u=l.shapePath.shapePrimitives;for(let f=0;f<u.length;f++){const d=u[f].shape;if(!c||!d)continue;const h=u[f].transform,p=h?h.applyInverse(e,Nce):e;if(s.action==="fill")n=d.contains(p.x,p.y);else{const g=c;n=d.strokeContains(p.x,p.y,g.width,g.alignment)}const y=a.hole;if(y){const g=(i=y.shapePath)==null?void 0:i.shapePrimitives;if(g)for(let m=0;m<g.length;m++)g[m].shape.contains(p.x,p.y)&&(n=!1)}if(n)return!0}}return n}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(n)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(n))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Tw.defaultFillStyle={color:16777215,alpha:1,texture:Te.WHITE,matrix:null,fill:null,textureSpace:"local"};Tw.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Te.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let ci=Tw;const aT=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function Fce(t){const e=[];let r=0;for(let n=0;n<aT.length;n++){const i=`_${aT[n]}`;e[r++]=t[i]}return r=F6(t._fill,e,r),r=$ce(t._stroke,e,r),r=Uce(t.dropShadow,e,r),r=Lce(t.filters,e,r),e.join("-")}function Lce(t,e,r){if(!t)return r;for(const n of t)e[r++]=n.uid;return r}function F6(t,e,r){var n;return t&&(e[r++]=t.color,e[r++]=t.alpha,e[r++]=(n=t.fill)==null?void 0:n.styleKey),r}function $ce(t,e,r){return t&&(r=F6(t,e,r),e[r++]=t.width,e[r++]=t.alignment,e[r++]=t.cap,e[r++]=t.join,e[r++]=t.miterLimit),r}function Uce(t,e,r){return t&&(e[r++]=t.alpha,e[r++]=t.angle,e[r++]=t.blur,e[r++]=t.distance,e[r++]=Dt.shared.setValue(t.color).toNumber()),r}const Pw=class fc extends Qn{constructor(e={}){super(),Gce(e);const r={...fc.defaultTextStyle,...e};for(const n in r){const i=n;this[i]=r[n]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...fc.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...fc.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get filters(){return this._filters}set filters(e){this._filters=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...ci.defaultFillStyle,...e},()=>{this._fill=$a({...this._originalFill},ci.defaultFillStyle)})),this._fill=$a(e===0?"black":e,ci.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...ci.defaultStrokeStyle,...e},()=>{this._stroke=p0({...this._originalStroke},ci.defaultStrokeStyle)})),this._stroke=p0(e,ci.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=Fce(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=fc.defaultTextStyle;for(const r in e)this[r]=e[r]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new fc({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let r=0;r<this._filters.length;r++)e+=this._filters[r].padding;return Math.max(this._padding,e)}destroy(e=!1){var n,i,o,s;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(n=this._fill)!=null&&n.texture&&this._fill.texture.destroy(a),(i=this._originalFill)!=null&&i.texture&&this._originalFill.texture.destroy(a),(o=this._stroke)!=null&&o.texture&&this._stroke.texture.destroy(a),(s=this._originalStroke)!=null&&s.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,r){return new Proxy(e,{set:(n,i,o)=>(n[i]=o,r==null||r(i,o),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Dt.isColorLike(e)||e instanceof ns||e instanceof Hg)}};Pw.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Pw.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let _l=Pw;function Gce(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const r=_l.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??r.alpha,angle:e.dropShadowAngle??r.angle,blur:e.dropShadowBlur??r.blur,color:e.dropShadowColor??r.color,distance:e.dropShadowDistance??r.distance}}if(e.strokeThickness!==void 0){$e(ot,"strokeThickness is now a part of stroke");const r=e.stroke;let n={};if(Dt.isColorLike(r))n.color=r;else if(r instanceof ns||r instanceof Hg)n.fill=r;else if(Object.hasOwnProperty.call(r,"color")||Object.hasOwnProperty.call(r,"fill"))n=r;else throw new Error("Invalid stroke value.");t.stroke={...n,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if($e(ot,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&Le("The number of fill colors must match the number of fill gradient stops.");const r=new ns({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),n=e.fillGradientStops.slice(),i=e.fill.map(o=>Dt.shared.setValue(o).toNumber());n.forEach((o,s)=>{r.addColorStop(o,i[s])}),t.fill={fill:r}}}class Hce{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,r){const n=je.get().createCanvas();n.width=e,n.height=r;const i=n.getContext("2d");return{canvas:n,context:i}}getOptimalCanvasAndContext(e,r,n=1){e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),e=jc(e),r=jc(r);const i=(e<<17)+(r<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let o=this._canvasPool[i].pop();return o||(o=this._createCanvasAndContext(e,r)),o}returnCanvasAndContext(e){const r=e.canvas,{width:n,height:i}=r,o=(n<<17)+(i<<1);e.context.resetTransform(),e.context.clearRect(0,0,n,i),this._canvasPool[o].push(e)}clear(){this._canvasPool={}}}const na=new Hce,lT=1e5;function g0(t,e,r,n=0){if(t.texture===Te.WHITE&&!t.fill)return Dt.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof Hg){const i=t.fill,o=e.createPattern(i.texture.source.resource,"repeat"),s=i.transform.copyTo(Re.shared);return s.scale(i.texture.frame.width,i.texture.frame.height),o.setTransform(s),o}else if(t.fill instanceof ns){const i=t.fill,o=i.type==="linear",s=i.textureSpace==="local";let a=1,l=1;s&&r&&(a=r.width+n,l=r.height+n);let c,u=!1;if(o){const{start:f,end:d}=i;c=e.createLinearGradient(f.x*a,f.y*l,d.x*a,d.y*l),u=Math.abs(d.x-f.x)<Math.abs((d.y-f.y)*.1)}else{const{center:f,innerRadius:d,outerCenter:h,outerRadius:p}=i;c=e.createRadialGradient(f.x*a,f.y*l,d*a,h.x*a,h.y*l,p*a)}if(u&&s&&r){const f=r.lineHeight/l;for(let d=0;d<r.lines.length;d++){const h=(d*r.lineHeight+n/2)/l;i.colorStops.forEach(p=>{const y=h+p.offset*f;c.addColorStop(Math.floor(y*lT)/lT,Dt.shared.setValue(p.color).toHex())})}}else i.colorStops.forEach(f=>{c.addColorStop(f.offset,Dt.shared.setValue(f.color).toHex())});return c}}else{const i=e.createPattern(t.texture.source.resource,"repeat"),o=t.matrix.copyTo(Re.shared);return o.scale(t.texture.frame.width,t.texture.frame.height),i.setTransform(o),i}return Le("FillStyle not recognised",t),"red"}const L6=class $6 extends _6{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const r={...$6.defaultOptions,...e};this._textureSize=r.textureSize,this._mipmap=r.mipmap;const n=r.style.clone();r.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=Te.WHITE,n._fill.fill=null),this.applyFillAsTint=r.overrideFill;const i=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const o=h0(n);r.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/i):n.fontSize=this.baseRenderedFontSize=i,this._style=n,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,r.textureStyle&&(this._textureStyle=r.textureStyle instanceof vo?r.textureStyle:new vo(r.textureStyle)),this.fontMetrics=Ii.measureFont(o),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){var g,m;const r=Ii.graphemeSegmenter(e).filter(v=>!this._currentChars.includes(v)).filter((v,_,x)=>x.indexOf(v)===_);if(!r.length)return;this._currentChars=[...this._currentChars,...r];let n;this._currentPageIndex===-1?n=this._nextPage():n=this.pages[this._currentPageIndex];let{canvas:i,context:o}=n.canvasAndContext,s=n.texture.source;const a=this._style;let l=this._currentX,c=this._currentY,u=this._currentMaxCharHeight;const f=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*f;let h=!1;const p=i.width/this.resolution,y=i.height/this.resolution;for(let v=0;v<r.length;v++){const _=r[v],x=Ii.measureText(_,a,i,!1);x.lineHeight=x.height;const b=x.width*f,w=Math.ceil((a.fontStyle==="italic"?2:1)*b),E=x.height*f,S=w+d*2,P=E+d*2;if(h=!1,_!==`
`&&_!=="\r"&&_!=="	"&&_!==" "&&(h=!0,u=Math.ceil(Math.max(P,u))),l+S>p&&(c+=u,u=P,l=0,c+u>y)){s.update();const A=this._nextPage();i=A.canvasAndContext.canvas,o=A.canvasAndContext.context,s=A.texture.source,l=0,c=0,u=0}const C=b/f-(((g=a.dropShadow)==null?void 0:g.distance)??0)-(((m=a._stroke)==null?void 0:m.width)??0);if(this.chars[_]={id:_.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:C,kerning:{}},h){this._drawGlyph(o,x,l+d,c+d,f,a);const A=s.width*f,T=s.height*f,I=new xt(l/A*s.width,c/T*s.height,S/A*s.width,P/T*s.height);this.chars[_].texture=new Te({source:s,frame:I}),l+=Math.ceil(S)}}s.update(),this._currentX=l,this._currentY=c,this._currentMaxCharHeight=u,this._skipKerning&&this._applyKerning(r,o)}get pageTextures(){return $e(ot,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,r){const n=this._measureCache;for(let i=0;i<e.length;i++){const o=e[i];for(let s=0;s<this._currentChars.length;s++){const a=this._currentChars[s];let l=n[o];l||(l=n[o]=r.measureText(o).width);let c=n[a];c||(c=n[a]=r.measureText(a).width);let u=r.measureText(o+a).width,f=u-(l+c);f&&(this.chars[o].kerning[a]=f),u=r.measureText(o+a).width,f=u-(l+c),f&&(this.chars[a].kerning[o]=f)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,r=na.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(r.context,this._style,e);const n=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new Te({source:new ml({resource:r.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(i.source.style=this._textureStyle);const o={canvasAndContext:r,texture:i};return this.pages[this._currentPageIndex]=o,o}_setupContext(e,r,n){r.fontSize=this.baseRenderedFontSize,e.scale(n,n),e.font=h0(r),r.fontSize=this.baseMeasurementFontSize,e.textBaseline=r.textBaseline;const i=r._stroke,o=(i==null?void 0:i.width)??0;if(i&&(e.lineWidth=o,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=g0(i,e)),r._fill&&(e.fillStyle=g0(r._fill,e)),r.dropShadow){const s=r.dropShadow,a=Dt.shared.setValue(s.color).toArray(),l=s.blur*n,c=s.distance*n;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${s.alpha})`,e.shadowBlur=l,e.shadowOffsetX=Math.cos(s.angle)*c,e.shadowOffsetY=Math.sin(s.angle)*c}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,r,n,i,o,s){const a=r.text,l=r.fontProperties,c=s._stroke,u=((c==null?void 0:c.width)??0)*o,f=n+u/2,d=i-u/2,h=l.descent*o,p=r.lineHeight*o;let y=!1;s.stroke&&u&&(y=!0,e.strokeText(a,f,d+p-h));const{shadowBlur:g,shadowOffsetX:m,shadowOffsetY:v}=e;s._fill&&(y&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(a,f,d+p-h)),y&&(e.shadowBlur=g,e.shadowOffsetX=m,e.shadowOffsetY=v)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:r,texture:n}=this.pages[e];na.returnCanvasAndContext(r),n.destroy(!0)}this.pages=null}};L6.defaultOptions={textureSize:512,style:new _l,mipmap:!0};let cT=L6;function U6(t,e,r,n){const i={width:0,height:0,offsetY:0,scale:e.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=r.baseLineOffset;let o=i.lines[0],s=null,a=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},c=r.baseMeasurementFontSize/e.fontSize,u=e.letterSpacing*c,f=e.wordWrapWidth*c,d=e.lineHeight?e.lineHeight*c:r.lineHeight,h=e.wordWrap&&e.breakWords,p=m=>{const v=o.width;for(let _=0;_<l.index;_++){const x=m.positions[_];o.chars.push(m.chars[_]),o.charPositions.push(x+v)}o.width+=m.width,a=!1,l.width=0,l.index=0,l.chars.length=0},y=()=>{let m=o.chars.length-1;if(n){let v=o.chars[m];for(;v===" ";)o.width-=r.chars[v].xAdvance,v=o.chars[--m]}i.width=Math.max(i.width,o.width),o={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,i.lines.push(o),i.height+=d},g=m=>m-u>f;for(let m=0;m<t.length+1;m++){let v;const _=m===t.length;_||(v=t[m]);const x=r.chars[v]||r.chars[" "];if(/(?:\s)/.test(v)||v==="\r"||v===`
`||_){if(!a&&e.wordWrap&&g(o.width+l.width)?(y(),p(l),_||o.charPositions.push(0)):(l.start=o.width,p(l),_||o.charPositions.push(0)),v==="\r"||v===`
`)o.width!==0&&y();else if(!_){const S=x.xAdvance+(x.kerning[s]||0)+u;o.width+=S,o.spaceWidth=S,o.spacesIndex.push(o.charPositions.length),o.chars.push(v)}}else{const E=x.kerning[s]||0,S=x.xAdvance+E+u;h&&g(o.width+l.width+S)&&(p(l),y()),l.positions[l.index++]=l.width+E,l.chars.push(v),l.width+=S}s=v}return y(),e.align==="center"?Vce(i):e.align==="right"?zce(i):e.align==="justify"&&jce(i),i}function Vce(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width/2-r.width/2;for(let i=0;i<r.charPositions.length;i++)r.charPositions[i]+=n}}function zce(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width-r.width;for(let i=0;i<r.charPositions.length;i++)r.charPositions[i]+=n}}function jce(t){const e=t.width;for(let r=0;r<t.lines.length;r++){const n=t.lines[r];let i=0,o=n.spacesIndex[i++],s=0;const a=n.spacesIndex.length,c=(e-n.width)/a;for(let u=0;u<n.charPositions.length;u++)u===o&&(o=n.spacesIndex[i++],s+=c),n.charPositions[u]+=s}}function Wce(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(let a=o,l=s;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}let jh=0;class Xce{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(e,r){var s;let n=`${r.fontFamily}-bitmap`,i=!0;if(r._fill.fill&&!r._stroke)n+=r._fill.fill.styleKey,i=!1;else if(r._stroke||r.dropShadow){let a=r.styleKey;a=a.substring(0,a.lastIndexOf("-")),n=`${a}-bitmap`,i=!1}if(!St.has(n)){const a=Object.create(r);a.lineHeight=0;const l=new cT({style:a,overrideFill:i,overrideSize:!0,...this.defaultOptions});jh++,jh>50&&Le("BitmapText",`You have dynamically created ${jh} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),l.once("destroy",()=>{jh--,St.remove(n)}),St.set(n,l)}const o=St.get(n);return(s=o.ensureCharacters)==null||s.call(o,e),o}getLayout(e,r,n=!0){const i=this.getFont(e,r),o=Ii.graphemeSegmenter(e);return U6(o,r,i,n)}measureText(e,r,n=!0){return this.getLayout(e,r,n)}install(...e){var c,u,f,d;let r=e[0];typeof r=="string"&&(r={name:r,style:e[1],chars:(c=e[2])==null?void 0:c.chars,resolution:(u=e[2])==null?void 0:u.resolution,padding:(f=e[2])==null?void 0:f.padding,skipKerning:(d=e[2])==null?void 0:d.skipKerning},$e(ot,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const n=r==null?void 0:r.name;if(!n)throw new Error("[BitmapFontManager] Property `name` is required.");r={...this.defaultOptions,...r};const i=r.style,o=i instanceof _l?i:new _l(i),s=r.dynamicFill??this._canUseTintForStyle(o),a=new cT({style:o,overrideFill:s,skipKerning:r.skipKerning,padding:r.padding,resolution:r.resolution,overrideSize:!1,textureStyle:r.textureStyle}),l=Wce(r.chars);return a.ensureCharacters(l.join("")),St.set(`${n}-bitmap`,a),a.once("destroy",()=>St.remove(`${n}-bitmap`)),a}uninstall(e){const r=`${e}-bitmap`,n=St.get(r);n&&n.destroy()}_canUseTintForStyle(e){return!e._stroke&&(!e.dropShadow||e.dropShadow.color===0)&&!e._fill.fill&&e._fill.color===16777215}}const v_=new Xce;class G6 extends _6{constructor(e,r){super();const{textures:n,data:i}=e;Object.keys(i.pages).forEach(o=>{const s=i.pages[parseInt(o,10)],a=n[s.id];this.pages.push({texture:a})}),Object.keys(i.chars).forEach(o=>{const s=i.chars[o],{frame:a,source:l,rotate:c}=n[s.page],u=At.transformRectCoords(s,a,c,new xt),f=new Te({frame:u,orig:new xt(0,0,s.width,s.height),source:l,rotate:c});this.chars[o]={id:o.codePointAt(0),xOffset:s.xOffset,yOffset:s.yOffset,xAdvance:s.xAdvance,kerning:s.kerning??{},texture:f}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=r}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:r}=this.pages[e];r.destroy(!0)}this.pages=null}static install(e){v_.install(e)}static uninstall(e){v_.uninstall(e)}}const wv={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const f in e){const d=e[f].match(/^[a-z]+/gm)[0],h=e[f].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const y in h){const g=h[y].split("="),m=g[0],v=g[1].replace(/"/gm,""),_=parseFloat(v),x=isNaN(_)?v:_;p[m]=x}r[d].push(p)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=r.info,[o]=r.common,[s]=r.distanceField??[];s&&(n.distanceField={range:parseInt(s.distanceRange,10),type:s.fieldType}),n.fontSize=parseInt(i.size,10),n.fontFamily=i.face,n.lineHeight=parseInt(o.lineHeight,10);const a=r.page;for(let f=0;f<a.length;f++)n.pages.push({id:parseInt(a[f].id,10)||0,file:a[f].file});const l={};n.baseLineOffset=n.lineHeight-parseInt(o.base,10);const c=r.char;for(let f=0;f<c.length;f++){const d=c[f],h=parseInt(d.id,10);let p=d.letter??d.char??String.fromCharCode(h);p==="space"&&(p=" "),l[h]=p,n.chars[p]={id:h,page:parseInt(d.page,10)||0,x:parseInt(d.x,10),y:parseInt(d.y,10),width:parseInt(d.width,10),height:parseInt(d.height,10),xOffset:parseInt(d.xoffset,10),yOffset:parseInt(d.yoffset,10),xAdvance:parseInt(d.xadvance,10),kerning:{}}}const u=r.kerning||[];for(let f=0;f<u.length;f++){const d=parseInt(u[f].first,10),h=parseInt(u[f].second,10),p=parseInt(u[f].amount,10);n.chars[l[h]].kerning[l[d]]=p}return n}},uT={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},r=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(r.getAttribute("size"),10),e.fontFamily=r.getAttribute("face"),e.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let c=0;c<o.length;c++)e.pages.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});const l={};e.baseLineOffset=e.lineHeight-parseInt(n.getAttribute("base"),10);for(let c=0;c<s.length;c++){const u=s[c],f=parseInt(u.getAttribute("id"),10);let d=u.getAttribute("letter")??u.getAttribute("char")??String.fromCharCode(f);d==="space"&&(d=" "),l[f]=d,e.chars[d]={id:f,page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xOffset:parseInt(u.getAttribute("xoffset"),10),yOffset:parseInt(u.getAttribute("yoffset"),10),xAdvance:parseInt(u.getAttribute("xadvance"),10),kerning:{}}}for(let c=0;c<a.length;c++){const u=parseInt(a[c].getAttribute("first"),10),f=parseInt(a[c].getAttribute("second"),10),d=parseInt(a[c].getAttribute("amount"),10);e.chars[l[f]].kerning[l[u]]=d}return e}},fT={test(t){return typeof t=="string"&&t.includes("<font>")?uT.test(je.get().parseXML(t)):!1},parse(t){return uT.parse(je.get().parseXML(t))}},Yce=[".xml",".fnt"],Kce={extension:{type:V.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof G6,getCacheableAssets(t,e){const r={};return t.forEach(n=>{r[n]=e,r[`${n}-bitmap`]=e}),r[`${e.fontFamily}-bitmap`]=e,r}},qce={extension:{type:V.LoadParser,priority:ua.Normal},name:"loadBitmapFont",id:"bitmap-font",test(t){return Yce.includes(On.extname(t).toLowerCase())},async testParse(t){return wv.test(t)||fT.test(t)},async parse(t,e,r){const n=wv.test(t)?wv.parse(t):fT.parse(t),{src:i}=e,{pages:o}=n,s=[],a=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let f=0;f<o.length;++f){const d=o[f].file;let h=On.join(On.dirname(i),d);h=n_(h,i),s.push({src:h,data:a})}const l=await r.load(s),c=s.map(f=>l[f.src]);return new G6({data:n,textures:c},i)},async load(t,e){return await(await je.get().fetch(t)).text()},async unload(t,e,r){await Promise.all(t.pages.map(n=>r.unload(n.texture.source._sourceOrigin))),t.destroy()}};class Zce{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const Jce={extension:{type:V.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof Te),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,o)=>{r[n+(o===0?"":o+1)]=i})}),r}};async function H6(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const Qce={extension:{type:V.DetectionParser,priority:1},test:async()=>H6("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},dT=["png","jpg","jpeg"],eue={extension:{type:V.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...dT],remove:async t=>t.filter(e=>!dT.includes(e))},tue="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function zg(t){return tue?!1:document.createElement("video").canPlayType(t)!==""}const rue={extension:{type:V.DetectionParser,priority:0},test:async()=>zg("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},nue={extension:{type:V.DetectionParser,priority:0},test:async()=>zg("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},iue={extension:{type:V.DetectionParser,priority:0},test:async()=>zg("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},oue={extension:{type:V.DetectionParser,priority:0},test:async()=>H6("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class sue{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var s,a;let i=null,o=null;if((r.parser||r.loadParser)&&(o=this._parserHash[r.parser||r.loadParser],r.loadParser&&Le(`[Assets] "loadParser" is deprecated, use "parser" instead for ${e}`),o||Le(`[Assets] specified load parser "${r.parser||r.loadParser}" not found while loading ${e}`)),!o){for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.load&&((s=c.test)!=null&&s.call(c,e,r,this))){o=c;break}}if(!o)return Le(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await o.load(e,r,this),n.parser=o;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];c.parse&&c.parse&&await((a=c.testParse)==null?void 0:a.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},o=f0(e),s=Pi(e,c=>({alias:[c],src:c,data:{}})),a=s.length,l=s.map(async c=>{const u=On.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),i[c.src]=await this.promiseCache[u].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[u],delete i[c.src],new Error(`[Loader.load] Failed to load ${u}.
${f}`)}});return await Promise.all(l),o?i[s[0].src]:i}async unload(e){const n=Pi(e,i=>({alias:[i],src:i})).map(async i=>{var a,l;const o=On.toAbsolute(i.src),s=this.promiseCache[o];if(s){const c=await s.promise;delete this.promiseCache[o],await((l=(a=s.parser)==null?void 0:a.unload)==null?void 0:l.call(a,c,i,this))}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name||e.id).reduce((e,r)=>(!r.name&&!r.id?Le("[Assets] parser should have an id"):(e[r.name]||e[r.id])&&Le(`[Assets] parser id conflict "${r.id}"`),e[r.name]=r,r.id&&(e[r.id]=r),e),{})}}function mu(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function vu(t,e){const r=t.split("?")[0],n=On.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const aue=".json",lue="application/json",cue={extension:{type:V.LoadParser,priority:ua.Low},name:"loadJson",id:"json",test(t){return mu(t,lue)||vu(t,aue)},async load(t){return await(await je.get().fetch(t)).json()}},uue=".txt",fue="text/plain",due={name:"loadTxt",id:"text",extension:{type:V.LoadParser,priority:ua.Low,name:"loadTxt"},test(t){return mu(t,fue)||vu(t,uue)},async load(t){return await(await je.get().fetch(t)).text()}},hue=["normal","bold","100","200","300","400","500","600","700","800","900"],pue=[".ttf",".otf",".woff",".woff2"],gue=["font/ttf","font/otf","font/woff","font/woff2"],mue=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function vue(t){const e=On.extname(t),i=On.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let o=i.length>0;for(const a of i)if(!a.match(mue)){o=!1;break}let s=i.join(" ");return o||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const yue=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function _ue(t){return yue.test(t)?t:encodeURI(t)}const xue={extension:{type:V.LoadParser,priority:ua.Low},name:"loadWebFont",id:"web-font",test(t){return mu(t,gue)||vu(t,pue)},async load(t,e){var n,i,o;const r=je.get().getFontFaceSet();if(r){const s=[],a=((n=e.data)==null?void 0:n.family)??vue(t),l=((o=(i=e.data)==null?void 0:i.weights)==null?void 0:o.filter(u=>hue.includes(u)))??["normal"],c=e.data??{};for(let u=0;u<l.length;u++){const f=l[u],d=new FontFace(a,`url(${_ue(t)})`,{...c,weight:f});await d.load(),r.add(d),s.push(d)}return St.has(`${a}-and-url`)?St.get(`${a}-and-url`).entries.push({url:t,faces:s}):St.set(`${a}-and-url`,{entries:[{url:t,faces:s}]}),s.length===1?s[0]:s}return Le("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){const e=Array.isArray(t)?t:[t],r=e[0].family,n=St.get(`${r}-and-url`),i=n.entries.find(o=>o.faces.some(s=>e.indexOf(s)!==-1));i.faces=i.faces.filter(o=>e.indexOf(o)===-1),i.faces.length===0&&(n.entries=n.entries.filter(o=>o!==i)),e.forEach(o=>{je.get().getFontFaceSet().delete(o)}),n.entries.length===0&&St.remove(`${r}-and-url`)}};function Iw(t,e=1){var n;const r=(n=gu.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}function Ow(t,e,r){t.label=r,t._sourceOrigin=r;const n=new Te({source:t,label:r}),i=()=>{delete e.promiseCache[r],St.has(r)&&St.remove(r)};return n.source.once("destroy",()=>{e.promiseCache[r]&&(Le("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),n.once("destroy",()=>{t.destroyed||(Le("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const bue=".svg",wue="image/svg+xml",Eue={extension:{type:V.LoadParser,priority:ua.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return mu(t,wue)||vu(t,bue)},async load(t,e,r){var n;return((n=e.data)==null?void 0:n.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?Cue(t):Sue(t,e,r,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function Sue(t,e,r,n){var g,m,v;const o=await(await je.get().fetch(t)).blob(),s=URL.createObjectURL(o),a=je.get().createImage();a.src=s,a.crossOrigin=n,await a.decode(),URL.revokeObjectURL(s);const l=((g=e.data)==null?void 0:g.width)??a.width,c=((m=e.data)==null?void 0:m.height)??a.height,u=((v=e.data)==null?void 0:v.resolution)||Iw(t),f=je.get().createCanvas(l*u,c*u);f.getContext("2d").drawImage(a,0,0,l*u,c*u);const{parseAsGraphicsContext:h,...p}=e.data??{},y=new ml({resource:f,alphaMode:"premultiply-alpha-on-upload",resolution:u,...p});return Ow(y,r,t)}async function Cue(t){const r=await(await je.get().fetch(t)).text(),n=new ci;return n.svg(r),n}const Aue=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Ic=null,y_=class{constructor(){Ic||(Ic=URL.createObjectURL(new Blob([Aue],{type:"application/javascript"}))),this.worker=new Worker(Ic)}};y_.revokeObjectURL=function(){Ic&&(URL.revokeObjectURL(Ic),Ic=null)};const Tue=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Oc=null;class V6{constructor(){Oc||(Oc=URL.createObjectURL(new Blob([Tue],{type:"application/javascript"}))),this.worker=new Worker(Oc)}}V6.revokeObjectURL=function(){Oc&&(URL.revokeObjectURL(Oc),Oc=null)};let hT=0,Ev;class Pue{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new y_;r.addEventListener("message",n=>{r.terminate(),y_.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,r){var n;return this._run("loadImageBitmap",[e,(n=r==null?void 0:r.data)==null?void 0:n.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Ev===void 0&&(Ev=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Ev&&(this._createdWorkers++,e=new V6().worker,e.addEventListener("message",r=>{this._complete(r.data),this._returnWorker(r.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,o)=>{this._queue.push({id:e,arguments:r,resolve:i,reject:o})});return this._next(),n}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const r=this._queue.pop(),n=r.id;this._resolveHash[hT]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:hT++,id:n})}reset(){this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:e})=>{e==null||e(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const pT=new Pue,Iue=[".jpeg",".jpg",".png",".webp",".avif"],Oue=["image/jpeg","image/png","image/webp","image/avif"];async function Rue(t,e){var i;const r=await je.get().fetch(t);if(!r.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${r.status} ${r.statusText}`);const n=await r.blob();return((i=e==null?void 0:e.data)==null?void 0:i.alphaMode)==="premultiplied-alpha"?createImageBitmap(n,{premultiplyAlpha:"none"}):createImageBitmap(n)}const z6={name:"loadTextures",id:"texture",extension:{type:V.LoadParser,priority:ua.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return mu(t,Oue)||vu(t,Iue)},async load(t,e,r){var o;let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await pT.isImageBitmapSupported()?n=await pT.loadImageBitmap(t,e):n=await Rue(t,e):n=await new Promise((s,a)=>{n=je.get().createImage(),n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):(n.onload=()=>{s(n)},n.onerror=a)});const i=new ml({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:((o=e.data)==null?void 0:o.resolution)||Iw(t),...e.data});return Ow(i,r,t)},unload(t){t.destroy(!0)}},Mue=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let Sv,Cv;function Due(t,e,r){r===void 0&&!e.startsWith("data:")?t.crossOrigin=kue(e):r!==!1&&(t.crossOrigin=typeof r=="string"?r:"anonymous")}function Bue(t){return new Promise((e,r)=>{t.addEventListener("canplaythrough",n),t.addEventListener("error",i),t.load();function n(){o(),e()}function i(s){o(),r(s)}function o(){t.removeEventListener("canplaythrough",n),t.removeEventListener("error",i)}})}function kue(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function Nue(){const t=[],e=[];for(const r of Mue){const n=wf.MIME_TYPES[r.substring(1)]||`video/${r.substring(1)}`;zg(n)&&(t.push(r),e.includes(n)||e.push(n))}return{validVideoExtensions:t,validVideoMime:e}}const Fue={name:"loadVideo",id:"video",extension:{type:V.LoadParser,name:"loadVideo"},test(t){if(!Sv||!Cv){const{validVideoExtensions:n,validVideoMime:i}=Nue();Sv=n,Cv=i}const e=mu(t,Cv),r=vu(t,Sv);return e||r},async load(t,e,r){var l,c;const n={...wf.defaultOptions,resolution:((l=e.data)==null?void 0:l.resolution)||Iw(t),alphaMode:((c=e.data)==null?void 0:c.alphaMode)||await jD(),...e.data},i=document.createElement("video"),o={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(o).forEach(u=>{const f=o[u];f!==void 0&&i.setAttribute(u,f)}),n.muted===!0&&(i.muted=!0),Due(i,t,n.crossorigin);const s=document.createElement("source");let a;if(n.mime)a=n.mime;else if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const u=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=wf.MIME_TYPES[u]||`video/${u}`}return s.src=t,a&&(s.type=a),new Promise(u=>{const f=async()=>{const d=new wf({...n,resource:i});i.removeEventListener("canplay",f),e.data.preload&&await Bue(i),u(Ow(d,r,t))};n.preload&&!n.autoPlay&&i.load(),i.addEventListener("canplay",f),i.appendChild(s)})},unload(t){t.destroy(!0)}},j6={extension:{type:V.ResolveParser,name:"resolveTexture"},test:z6.test,parse:t=>{var e;return{resolution:parseFloat(((e=gu.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},Lue={extension:{type:V.ResolveParser,priority:-2,name:"resolveJson"},test:t=>gu.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:j6.parse};class $ue{constructor(){this._detections=[],this._initialized=!1,this.resolver=new gu,this.loader=new sue,this.cache=St,this._backgroundLoader=new Zce(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,s;if(this._initialized){Le("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((o=e.texturePreference)==null?void 0:o.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(s=e.texturePreference)==null?void 0:s.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,r){this._initialized||await this.init();const n=f0(e),i=Pi(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(c=>!this.resolver.hasKey(c))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),o=this.resolver.resolve(i),s=await this._mapLoadToResolve(o,r);return n?s[i[0]]:s}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),o={},s=Object.keys(i);let a=0,l=0;const c=()=>{r==null||r(++a/l)},u=s.map(f=>{const d=i[f],h=Object.values(d),p=[...new Set(h.flat())];return l+=p.length,this._mapLoadToResolve(d,c).then(y=>{o[f]=y})});return await Promise.all(u),n?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return St.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=St.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach(s=>{const a=i[s.src],l=[s.src];s.alias&&l.push(...s.alias),l.forEach(c=>{o[c]=a}),St.set(l,a)}),o}async unload(e){this._initialized||await this.init();const r=Pi(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Pi(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{St.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Wh=new $ue;Ge.handleByList(V.LoadParser,Wh.loader.parsers).handleByList(V.ResolveParser,Wh.resolver.parsers).handleByList(V.CacheParser,Wh.cache.parsers).handleByList(V.DetectionParser,Wh.detections);Ge.add(Jce,eue,Qce,oue,rue,nue,iue,cue,due,xue,Eue,z6,Fue,qce,Kce,j6,Lue);const gT={loader:V.LoadParser,resolver:V.ResolveParser,cache:V.CacheParser,detection:V.DetectionParser};Ge.handle(V.Asset,t=>{const e=t.ref;Object.entries(gT).filter(([r])=>!!e[r]).forEach(([r,n])=>Ge.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(gT).filter(r=>!!e[r]).forEach(r=>Ge.remove(e[r]))});class W6{constructor(e){this._attachedDomElements=[],this._renderer=e,this._renderer.runners.postrender.add(this),this._renderer.runners.init.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}init(){this._canvasObserver=new ZD({domElement:this._domElement,renderer:this._renderer})}addRenderable(e,r){this._attachedDomElements.includes(e)||this._attachedDomElements.push(e)}updateRenderable(e){}validateRenderable(e){return!0}postrender(){const e=this._attachedDomElements;if(e.length===0){this._domElement.remove();return}this._canvasObserver.ensureAttached();for(let r=0;r<e.length;r++){const n=e[r],i=n.element;if(!n.parent||n.globalDisplayStatus<7)i==null||i.remove(),e.splice(r,1),r--;else{this._domElement.contains(i)||(i.style.position="absolute",i.style.pointerEvents="auto",this._domElement.appendChild(i));const o=n.worldTransform,s=n._anchor,a=n.width*s.x,l=n.height*s.y;i.style.transformOrigin=`${a}px ${l}px`,i.style.transform=`matrix(${o.a}, ${o.b}, ${o.c}, ${o.d}, ${o.tx-a}, ${o.ty-l})`,i.style.opacity=n.groupAlpha.toString()}}}destroy(){var e;this._renderer.runners.postrender.remove(this);for(let r=0;r<this._attachedDomElements.length;r++)(e=this._attachedDomElements[r].element)==null||e.remove();this._attachedDomElements.length=0,this._domElement.remove(),this._canvasObserver.destroy(),this._renderer=null}}W6.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"dom"};class Uue{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this._tickerAdded||!this.domElement||($r.system.add(this._tickerUpdate,this,vl.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&($r.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY,pointerType:e.pointerType,pointerId:e.pointerId}):new MouseEvent("mousemove",{clientX:e.clientX,clientY:e.clientY}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const Rs=new Uue;class m0 extends Fd{constructor(){super(...arguments),this.client=new Vt,this.movement=new Vt,this.offset=new Vt,this.global=new Vt,this.screen=new Vt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,o,s,a,l,c,u,f,d,h,p,y){throw new Error("Method not implemented.")}}class Ei extends m0{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Kc extends m0{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Kc.DOM_DELTA_PIXEL=0;Kc.DOM_DELTA_LINE=1;Kc.DOM_DELTA_PAGE=2;const Gue=2048,Hue=new Vt,Gu=new Vt;class Vue{constructor(e){this.dispatch=new Qn,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else Le(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Rs.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",o=this[i](this.rootTarget,this.rootTarget.eventMode,Hue.set(e,r),this.hitTestFn,this.hitPruneFn);return o&&o[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,o=n.length-1;i<o;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let o=n.length-1;o>=0;o--)i.forEach(s=>{e.currentTarget=n[o],this.notifyTarget(e,s)})}propagationPath(e){const r=[e];for(let n=0;n<Gue&&e!==this.rootTarget&&e.parent;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,o,s=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Rs.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let f=u.length-1;f>=0;f--){const d=u[f],h=this.hitTestMoveRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,o,s||o(e,n));if(h){if(h.length>0&&!h[h.length-1].parent)continue;const p=e.isInteractive();(h.length>0||p)&&(p&&this._allInteractiveElements.push(e),h.push(e)),this._hitElements.length===0&&(this._hitElements=h),a=!0}}}const l=this._isInteractive(r),c=e.isInteractive();return c&&c&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:a?this._hitElements:l&&!o(e,n)&&i(e,n)?c?[e]:[]:null}hitTestRecursive(e,r,n,i,o){if(this._interactivePrune(e)||o(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Rs.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children,c=n;for(let u=l.length-1;u>=0;u--){const f=l[u],d=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,c,i,o);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const h=e.isInteractive();return(d.length>0||h)&&d.push(e),d}}}const s=this._isInteractive(r),a=e.isInteractive();return s&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!e||!e.visible||!e.renderable||!e.measurable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren}hitPruneFn(e,r){if(e.hitArea&&(e.worldTransform.applyInverse(r,Gu),!e.hitArea.contains(Gu.x,Gu.y)))return!0;if(e.effects&&e.effects.length)for(let n=0;n<e.effects.length;n++){const i=e.effects[n];if(i.containsPoint&&!i.containsPoint(r,this.hitTestFn))return!0}return!1}hitTestFn(e,r){return e.hitArea?!0:e!=null&&e.containsPoint?(e.worldTransform.applyInverse(r,Gu),e.containsPoint(Gu)):!1}notifyTarget(e,r){var o,s;if(!e.currentTarget.isInteractive())return;r??(r=e.type);const n=`on${r}`;(s=(o=e.currentTarget)[n])==null||s.call(o,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this._notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Ei)){Le("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,c;if(!(e instanceof Ei)){Le("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&o!==r.target){const u=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,u,o);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(o)){const d=this.createPointerEvent(e,"pointerleave",o);for(d.eventPhase=d.AT_TARGET;d.target&&!r.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),n&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(f)}if(o!==r.target){const u=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,u);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let d=o==null?void 0:o.parent;for(;d&&d!==this.rootTarget.parent&&d!==r.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const p=this.clonePointerEvent(r,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==o&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}const s=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&s.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&s.push("globaltouchmove")),n&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&s.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),s.length>0&&this.all(r,s),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var s;if(!(e instanceof Ei)){Le("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(s=n.target)==null?void 0:s.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof Ei)){Le("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),o=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const s=this.createPointerEvent(e,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;r.overTargets=null,this.freeEvent(o),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ei)){Le("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.pressTargetsByButton[e.button]);let s=o;if(o&&!n.composedPath().includes(o)){let a=o;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],s=a}if(s){const a=this.clonePointerEvent(n,"click");a.target=s,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Ei)){Le("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let o=n;for(;o;)i.currentTarget=o,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Kc)){Le("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Ei);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Kc);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Ei);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Ei&&r instanceof Ei&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof m0&&r instanceof m0&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.defaultPrevented=!1,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}_notifyListeners(e,r){const n=e.currentTarget._events[r];if(n)if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,o=n.length;i<o&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const zue=1,jue={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Rw=class __{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new Vue(null),Rs.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new Ei(null),this._rootWheelEvent=new Kc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...__.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{canvas:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,__._defaultEventMode=e.eventMode??"passive",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e||(e="default");let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this._currentCursor===e)return;this._currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this._normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const o=r[n],s=this._bootstrapEvent(this._rootPointerEvent,o);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Rs.pointerMoved();const r=this._normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const o=this._bootstrapEvent(this._rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this._normalizeToPointerData(e);for(let o=0,s=i.length;o<s;o++){const a=this._bootstrapEvent(this._rootPointerEvent,i[o]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this._normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const o=this._bootstrapEvent(this._rootPointerEvent,r[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this._removeEvents(),this.domElement=e,Rs.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;Rs.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;Rs.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*o,e.y=(n-i.top)*(this.domElement.height/i.height)*o}_normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const o=e.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,r.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=zue),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this._rootWheelEvent;return this._transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}_bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this._transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=jue[e.type]||e.type),e}_transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};Rw.extension={name:"events",type:[V.WebGLSystem,V.CanvasSystem,V.WebGPUSystem],priority:-1};Rw.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let X6=Rw;const Wue={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(t){this.eventMode=t?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??X6.defaultEventMode},set eventMode(t){this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,o=typeof r=="object"?r.once===!0:!1,s=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(t,a,s)}),o?l.once(t,a,s):l.on(t,a,s)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Fd))throw new Error("Container cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}},Y6={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Xue=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function Yue(t){const e=Y6[t],r=e.length;let n=Xue,i="";const o="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let s;for(let a=0;a<t;a++){let l=o.replace("%index%",a.toString());s=a,a>=r&&(s=t-a-1),l=l.replace("%value%",e[s].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const Kue=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function que(t,e){const r=Math.ceil(t/2);let n=Kue,i="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let s=0;s<t;s++){let a=o.replace("%index%",s.toString());a=a.replace("%sampleIndex%",`${s-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n=n.replace("%dimension%",e?"z":"w"),n}function Zue(t,e){const r=que(e,t),n=Yue(e);return Nl.from({vertex:r,fragment:n,name:`blur-${t?"horizontal":"vertical"}-pass-filter`})}var Jue=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function Que(t,e){const r=Y6[e],n=r.length,i=[],o=[],s=[];for(let f=0;f<e;f++){i[f]=`@location(${f}) offset${f}: vec2<f32>,`,t?o[f]=`filteredCord + vec2(${f-n+1} * pixelStrength, 0.0),`:o[f]=`filteredCord + vec2(0.0, ${f-n+1} * pixelStrength),`;const d=f<n?f:e-f-1,h=r[d].toString();s[f]=`finalColor += textureSample(uTexture, uSampler, offset${f}) * ${h};`}const a=i.join(`
`),l=o.join(`
`),c=s.join(`
`),u=Jue.replace("%blur-struct%",a).replace("%blur-vertex-out%",l).replace("%blur-fragment-in%",a).replace("%blur-sampling%",c).replace("%dimension%",t?"z":"w");return fa.from({vertex:{source:u,entryPoint:"mainVertex"},fragment:{source:u,entryPoint:"mainFragment"}})}const K6=class q6 extends dw{constructor(e){e={...q6.defaultOptions,...e};const r=Zue(e.horizontal,e.kernelSize),n=Que(e.horizontal,e.kernelSize);super({glProgram:r,gpuProgram:n,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...e}),this.horizontal=e.horizontal,this._quality=0,this.quality=e.quality,this.blur=e.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,r,n,i){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const o=lr.getSameSizeTexture(r);let s=r,a=o;this._state.blend=!1;const l=e.renderer.type===qn.WEBGPU;for(let c=0;c<this.passes-1;c++){e.applyFilter(this,s,a,c===0?!0:l);const u=a;a=s,s=u}this._state.blend=!0,e.applyFilter(this,s,n,i),lr.returnTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};K6.defaultOptions={strength:8,quality:4,kernelSize:5};let Av=K6;class efe extends dw{constructor(...e){let r=e[0]??{};typeof r=="number"&&($e(ot,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),r={strength:r},e[1]!==void 0&&(r.quality=e[1]),e[2]!==void 0&&(r.resolution=e[2]||"inherit"),e[3]!==void 0&&(r.kernelSize=e[3])),r={...Av.defaultOptions,...r};const{strength:n,strengthX:i,strengthY:o,quality:s,...a}=r;super({...a,compatibleRenderers:qn.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Av({horizontal:!0,...r}),this.blurYFilter=new Av({horizontal:!1,...r}),this.quality=s,this.strengthX=i??n,this.strengthY=o??n,this.repeatEdgePixels=!1}apply(e,r,n,i){const o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){const a=lr.getSameSizeTexture(r);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(e,r,a,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,a,n,i),lr.returnTexture(a)}else s?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,r,n,i)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(e,r,n,i))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get strengthX(){return this.blurXFilter.blur}set strengthX(e){this.blurXFilter.blur=e,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(e){this.blurYFilter.blur=e,this.updatePadding()}get blur(){return $e("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(e){$e("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=e}get blurX(){return $e("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(e){$e("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=e}get blurY(){return $e("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(e){$e("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}efe.defaultOptions={strength:8,quality:4,kernelSize:5};class Z6{constructor(e){this._renderer=e}push(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:r,filterEffect:e})}pop(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){e.action==="pushFilter"?this._renderer.filter.push(e):e.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}Z6.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"filter"};function tfe(t,e){e.clear();const r=e.matrix;for(let n=0;n<t.length;n++){const i=t[n];i.globalDisplayStatus<7||(e.matrix=i.worldTransform,e.addBounds(i.bounds))}return e.matrix=r,e}const rfe=new Ld({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class nfe{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new Hr,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0}}}class J6{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new gn({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new Wo({}),this.renderer=e}get activeBackTexture(){var e;return(e=this._activeFilterData)==null?void 0:e.backTexture}push(e){const r=this.renderer,n=e.filterEffect.filters,i=this._pushFilterData();i.skip=!1,i.filters=n,i.container=e.container,i.outputRenderSurface=r.renderTarget.renderSurface;const o=r.renderTarget.renderTarget.colorTexture.source,s=o.resolution,a=o.antialias;if(n.length===0){i.skip=!0;return}const l=i.bounds;if(this._calculateFilterArea(e,l),this._calculateFilterBounds(i,r.renderTarget.rootViewPort,a,s,1),i.skip)return;const c=this._getPreviousFilterData(),u=this._findFilterResolution(s);let f=0,d=0;c&&(f=c.bounds.minX,d=c.bounds.minY),this._calculateGlobalFrame(i,f,d,u,o.width,o.height),this._setupFilterTextures(i,l,r,c)}generateFilteredTexture({texture:e,filters:r}){const n=this._pushFilterData();this._activeFilterData=n,n.skip=!1,n.filters=r;const i=e.source,o=i.resolution,s=i.antialias;if(r.length===0)return n.skip=!0,e;const a=n.bounds;if(a.addRect(e.frame),this._calculateFilterBounds(n,a.rectangle,s,o,0),n.skip)return e;const l=o,c=0,u=0;this._calculateGlobalFrame(n,c,u,l,i.width,i.height),n.outputRenderSurface=lr.getOptimalTexture(a.width,a.height,n.resolution,n.antialias),n.backTexture=Te.EMPTY,n.inputTexture=e,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(n,!0);const d=n.outputRenderSurface;return d.source.alphaMode="premultiplied-alpha",d}pop(){const e=this.renderer,r=this._popFilterData();r.skip||(e.globalUniforms.pop(),e.renderTarget.finishRenderPass(),this._activeFilterData=r,this._applyFiltersToTexture(r,!1),r.blendRequired&&lr.returnTexture(r.backTexture),lr.returnTexture(r.inputTexture))}getBackTexture(e,r,n){const i=e.colorTexture.source._resolution,o=lr.getOptimalTexture(r.width,r.height,i,!1);let s=r.minX,a=r.minY;n&&(s-=n.minX,a-=n.minY),s=Math.floor(s*i),a=Math.floor(a*i);const l=Math.ceil(r.width*i),c=Math.ceil(r.height*i);return this.renderer.renderTarget.copyToTexture(e,o,{x:s,y:a},{width:l,height:c},{x:0,y:0}),o}applyFilter(e,r,n,i){const o=this.renderer,s=this._activeFilterData,l=s.outputRenderSurface===n,c=o.renderTarget.rootRenderTarget.colorTexture.source._resolution,u=this._findFilterResolution(c);let f=0,d=0;if(l){const h=this._findPreviousFilterOffset();f=h.x,d=h.y}this._updateFilterUniforms(r,n,s,f,d,u,l,i),this._setupBindGroupsAndRender(e,r,o)}calculateSpriteMatrix(e,r){const n=this._activeFilterData,i=e.set(n.inputTexture._source.width,0,0,n.inputTexture._source.height,n.bounds.minX,n.bounds.minY),o=r.worldTransform.copyTo(Re.shared),s=r.renderGroup||r.parentRenderGroup;return s&&s.cacheToLocalTransform&&o.prepend(s.cacheToLocalTransform),o.invert(),i.prepend(o),i.scale(1/r.texture.orig.width,1/r.texture.orig.height),i.translate(r.anchor.x,r.anchor.y),i}destroy(){}_setupBindGroupsAndRender(e,r,n){if(n.renderPipes.uniformBatch){const i=n.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(i,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);this._globalFilterBindGroup.setResource(r.source,1),this._globalFilterBindGroup.setResource(r.source.style,2),e.groups[0]=this._globalFilterBindGroup,n.encoder.draw({geometry:rfe,shader:e,state:e._state,topology:"triangle-list"}),n.type===qn.WEBGL&&n.renderTarget.finishRenderPass()}_setupFilterTextures(e,r,n,i){if(e.backTexture=Te.EMPTY,e.blendRequired){n.renderTarget.finishRenderPass();const o=n.renderTarget.getRenderTarget(e.outputRenderSurface);e.backTexture=this.getBackTexture(o,r,i==null?void 0:i.bounds)}e.inputTexture=lr.getOptimalTexture(r.width,r.height,e.resolution,e.antialias),n.renderTarget.bind(e.inputTexture,!0),n.globalUniforms.push({offset:r})}_calculateGlobalFrame(e,r,n,i,o,s){const a=e.globalFrame;a.x=r*i,a.y=n*i,a.width=o*i,a.height=s*i}_updateFilterUniforms(e,r,n,i,o,s,a,l){const c=this._filterGlobalUniforms.uniforms,u=c.uOutputFrame,f=c.uInputSize,d=c.uInputPixel,h=c.uInputClamp,p=c.uGlobalFrame,y=c.uOutputTexture;a?(u[0]=n.bounds.minX-i,u[1]=n.bounds.minY-o):(u[0]=0,u[1]=0),u[2]=e.frame.width,u[3]=e.frame.height,f[0]=e.source.width,f[1]=e.source.height,f[2]=1/f[0],f[3]=1/f[1],d[0]=e.source.pixelWidth,d[1]=e.source.pixelHeight,d[2]=1/d[0],d[3]=1/d[1],h[0]=.5*d[2],h[1]=.5*d[3],h[2]=e.frame.width*f[2]-.5*d[2],h[3]=e.frame.height*f[3]-.5*d[3];const g=this.renderer.renderTarget.rootRenderTarget.colorTexture;p[0]=i*s,p[1]=o*s,p[2]=g.source.width*s,p[3]=g.source.height*s,r instanceof Te&&(r.source.resource=null);const m=this.renderer.renderTarget.getRenderTarget(r);this.renderer.renderTarget.bind(r,!!l),r instanceof Te?(y[0]=r.frame.width,y[1]=r.frame.height):(y[0]=m.width,y[1]=m.height),y[2]=m.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(e){let r=this._filterStackIndex-1;for(;r>0&&this._filterStack[r].skip;)--r;return r>0&&this._filterStack[r].inputTexture?this._filterStack[r].inputTexture.source._resolution:e}_findPreviousFilterOffset(){let e=0,r=0,n=this._filterStackIndex;for(;n>0;){n--;const i=this._filterStack[n];if(!i.skip){e=i.bounds.minX,r=i.bounds.minY;break}}return{x:e,y:r}}_calculateFilterArea(e,r){if(e.renderables?tfe(e.renderables,r):e.filterEffect.filterArea?(r.clear(),r.addRect(e.filterEffect.filterArea),r.applyMatrix(e.container.worldTransform)):e.container.getFastGlobalBounds(!0,r),e.container){const i=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;i&&r.applyMatrix(i)}}_applyFiltersToTexture(e,r){const n=e.inputTexture,i=e.bounds,o=e.filters;if(this._globalFilterBindGroup.setResource(n.source.style,2),this._globalFilterBindGroup.setResource(e.backTexture.source,3),o.length===1)o[0].apply(this,n,e.outputRenderSurface,r);else{let s=e.inputTexture;const a=lr.getOptimalTexture(i.width,i.height,s.source._resolution,!1);let l=a,c=0;for(c=0;c<o.length-1;++c){o[c].apply(this,s,l,!0);const f=s;s=l,l=f}o[c].apply(this,s,e.outputRenderSurface,r),lr.returnTexture(a)}}_calculateFilterBounds(e,r,n,i,o){var y;const s=this.renderer,a=e.bounds,l=e.filters;let c=1/0,u=0,f=!0,d=!1,h=!1,p=!0;for(let g=0;g<l.length;g++){const m=l[g];if(c=Math.min(c,m.resolution==="inherit"?i:m.resolution),u+=m.padding,m.antialias==="off"?f=!1:m.antialias==="inherit"&&f&&(f=n),m.clipToViewport||(p=!1),!!!(m.compatibleRenderers&s.type)){h=!1;break}if(m.blendRequired&&!(((y=s.backBuffer)==null?void 0:y.useBackBuffer)??!0)){Le("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),h=!1;break}h=m.enabled||h,d||(d=m.blendRequired)}if(!h){e.skip=!0;return}if(p&&a.fitBounds(0,r.width/i,0,r.height/i),a.scale(c).ceil().scale(1/c).pad((u|0)*o),!a.isPositive){e.skip=!0;return}e.antialias=f,e.resolution=c,e.blendRequired=d}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let e,r=this._filterStackIndex-1;for(;r>1&&(r--,e=this._filterStack[r],!!e.skip););return e}_pushFilterData(){let e=this._filterStack[this._filterStackIndex];return e||(e=this._filterStack[this._filterStackIndex]=new nfe),this._filterStackIndex++,e}}J6.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"filter"};var ife=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`,ofe=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,mT=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;class sfe extends dw{constructor(e){const{sprite:r,...n}=e,i=new TD(r.texture),o=new gn({uFilterMatrix:{value:new Re,type:"mat3x3<f32>"},uMaskClamp:{value:i.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}}),s=fa.from({vertex:{source:mT,entryPoint:"mainVertex"},fragment:{source:mT,entryPoint:"mainFragment"}}),a=Nl.from({vertex:ofe,fragment:ife,name:"mask-filter"});super({...n,gpuProgram:s,glProgram:a,clipToViewport:!1,resources:{filterUniforms:o,uMaskTexture:r.texture.source}}),this.sprite=r,this._textureMatrix=i}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(e,r,n,i){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,r,n,i)}}class v0 extends Nd{constructor(e){e instanceof ci&&(e={context:e});const{context:r,roundPixels:n,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",r?this._context=r:this._context=this._ownedContext=new ci,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new v0(this._context.clone()):(this._ownedContext=null,new v0(this._context))}lineStyle(e,r,n){$e(ot,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),r&&(i.color=r),n&&(i.alpha=n),this.context.strokeStyle=i,this}beginFill(e,r){$e(ot,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e!==void 0&&(n.color=e),r!==void 0&&(n.alpha=r),this.context.fillStyle=n,this}endFill(){$e(ot,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==ci.defaultStrokeStyle.width||e.color!==ci.defaultStrokeStyle.color||e.alpha!==ci.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return $e(ot,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return $e(ot,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return $e(ot,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return $e(ot,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return $e(ot,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return $e(ot,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}const Q6=class eB extends Ld{constructor(...e){let r=e[0]??{};r instanceof Float32Array&&($e(ot,"use new MeshGeometry({ positions, uvs, indices }) instead"),r={positions:r,uvs:e[1],indices:e[2]}),r={...eB.defaultOptions,...r};const n=r.positions||new Float32Array([0,0,1,0,1,1,0,1]);let i=r.uvs;i||(r.positions?i=new Float32Array(n.length):i=new Float32Array([0,0,1,0,1,1,0,1]));const o=r.indices||new Uint32Array([0,1,2,0,2,3]),s=r.shrinkBuffersToFit,a=new jn({data:n,label:"attribute-mesh-positions",shrinkToFit:s,usage:st.VERTEX|st.COPY_DST}),l=new jn({data:i,label:"attribute-mesh-uvs",shrinkToFit:s,usage:st.VERTEX|st.COPY_DST}),c=new jn({data:o,label:"index-mesh-buffer",shrinkToFit:s,usage:st.INDEX|st.COPY_DST});super({attributes:{aPosition:{buffer:a,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:l,format:"float32x2",stride:2*4,offset:0}},indexBuffer:c,topology:r.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};Q6.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let Mw=Q6;class afe{constructor({matrix:e,observer:r}={}){this.dirty=!0,this._matrix=e??new Re,this.observer=r,this.position=new Qt(this,0,0),this.scale=new Qt(this,1,1),this.pivot=new Qt(this,0,0),this.skew=new Qt(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1),e}_onUpdate(e){var r;this.dirty=!0,e===this.skew&&this.updateSkew(),(r=this.observer)==null||r._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}}const tB=class wp extends Nd{constructor(...e){let r=e[0]||{};r instanceof Te&&(r={texture:r}),e.length>1&&($e(ot,"use new TilingSprite({ texture, width:100, height:100 }) instead"),r.width=e[1],r.height=e[2]),r={...wp.defaultOptions,...r};const{texture:n,anchor:i,tilePosition:o,tileScale:s,tileRotation:a,width:l,height:c,applyAnchorToTexture:u,roundPixels:f,...d}=r??{};super({label:"TilingSprite",...d}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new Qt({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=u,this.texture=n,this._width=l??n.width,this._height=c??n.height,this._tileTransform=new afe({observer:{_onUpdate:()=>this.onViewUpdate()}}),i&&(this.anchor=i),this.tilePosition=o,this.tileScale=s,this.tileRotation=a,this.roundPixels=f??!1}static from(e,r={}){return typeof e=="string"?new wp({texture:St.get(e),...r}):new wp({texture:e,...r})}get uvRespectAnchor(){return Le("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(e){Le("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=e}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){typeof e=="number"?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(e){e||(e=Te.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}setSize(e,r){typeof e=="object"&&(r=e.height??e.width,e=e.width),this._width=e,this._height=r??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}updateBounds(){const e=this._bounds,r=this._anchor,n=this._width,i=this._height;e.minX=-r._x*n,e.maxX=e.minX+n,e.minY=-r._y*i,e.maxY=e.minY+i}containsPoint(e){const r=this._width,n=this._height,i=-r*this._anchor._x;let o=0;return e.x>=i&&e.x<=i+r&&(o=-n*this._anchor._y,e.y>=o&&e.y<=o+n)}destroy(e=!1){if(super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null}};tB.defaultOptions={texture:Te.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let sTe=tB;class lfe extends Nd{constructor(e,r){const{text:n,resolution:i,style:o,anchor:s,width:a,height:l,roundPixels:c,...u}=e;super({...u}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=r,this.text=n??"",this.style=o,this.resolution=i??null,this.allowChildren=!1,this._anchor=new Qt({_onUpdate:()=>{this.onViewUpdate()}}),s&&(this.anchor=s),this.roundPixels=c??!1,a!==void 0&&(this.width=a),l!==void 0&&(this.height=l)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var r;e||(e={}),(r=this._style)==null||r.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this.bounds.width),r!==void 0&&this._setHeight(r,this.bounds.height)}containsPoint(e){const r=this.bounds.width,n=this.bounds.height,i=-r*this.anchor.x;let o=0;return e.x>=i&&e.x<=i+r&&(o=-n*this.anchor.y,e.y>=o&&e.y<=o+n)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function cfe(t,e){let r=t[0]??{};return(typeof r=="string"||t[1])&&($e(ot,`use new ${e}({ text: "hi!", style }) instead`),r={text:r,style:t[1]}),r}let xa=null,Lo=null;function ufe(t,e){xa||(xa=je.get().createCanvas(256,128),Lo=xa.getContext("2d",{willReadFrequently:!0}),Lo.globalCompositeOperation="copy",Lo.globalAlpha=1),(xa.width<t||xa.height<e)&&(xa.width=jc(t),xa.height=jc(e))}function vT(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function yT(t,e,r,n,i){const o=4*e;for(let s=n,a=n*o+4*r;s<=i;++s,a+=o)if(t[a+3]!==0)return!1;return!0}function ffe(...t){let e=t[0];e.canvas||(e={canvas:t[0],resolution:t[1]});const{canvas:r}=e,n=Math.min(e.resolution??1,1),i=e.width??r.width,o=e.height??r.height;let s=e.output;if(ufe(i,o),!Lo)throw new TypeError("Failed to get canvas 2D context");Lo.drawImage(r,0,0,i,o,0,0,i*n,o*n);const l=Lo.getImageData(0,0,i,o).data;let c=0,u=0,f=i-1,d=o-1;for(;u<o&&vT(l,i,u);)++u;if(u===o)return xt.EMPTY;for(;vT(l,i,d);)--d;for(;yT(l,i,c,u,d);)++c;for(;yT(l,i,f,u,d);)--f;return++f,++d,Lo.globalCompositeOperation="source-over",Lo.strokeRect(c,u,f-c,d-u),Lo.globalCompositeOperation="copy",s??(s=new xt),s.set(c/n,u/n,(f-c)/n,(d-u)/n),s}const _T=new xt;class dfe{getCanvasAndContext(e){const{text:r,style:n,resolution:i=1}=e,o=n._getFinalPadding(),s=Ii.measureText(r||" ",n),a=Math.ceil(Math.ceil(Math.max(1,s.width)+o*2)*i),l=Math.ceil(Math.ceil(Math.max(1,s.height)+o*2)*i),c=na.getOptimalCanvasAndContext(a,l);this._renderTextToCanvas(r,n,o,i,c);const u=n.trim?ffe({canvas:c.canvas,width:a,height:l,resolution:1,output:_T}):_T.set(0,0,a,l);return{canvasAndContext:c,frame:u}}returnCanvasAndContext(e){na.returnCanvasAndContext(e)}_renderTextToCanvas(e,r,n,i,o){var _,x,b,w;const{canvas:s,context:a}=o,l=h0(r),c=Ii.measureText(e||" ",r),u=c.lines,f=c.lineHeight,d=c.lineWidths,h=c.maxLineWidth,p=c.fontProperties,y=s.height;if(a.resetTransform(),a.scale(i,i),a.textBaseline=r.textBaseline,(_=r._stroke)!=null&&_.width){const E=r._stroke;a.lineWidth=E.width,a.miterLimit=E.miterLimit,a.lineJoin=E.join,a.lineCap=E.cap}a.font=l;let g,m;const v=r.dropShadow?2:1;for(let E=0;E<v;++E){const S=r.dropShadow&&E===0,P=S?Math.ceil(Math.max(1,y)+n*2):0,C=P*i;if(S){a.fillStyle="black",a.strokeStyle="black";const I=r.dropShadow,B=I.color,G=I.alpha;a.shadowColor=Dt.shared.setValue(B).setAlpha(G).toRgbaString();const N=I.blur*i,U=I.distance*i;a.shadowBlur=N,a.shadowOffsetX=Math.cos(I.angle)*U,a.shadowOffsetY=Math.sin(I.angle)*U+C}else{if(a.fillStyle=r._fill?g0(r._fill,a,c,n*2):null,(x=r._stroke)!=null&&x.width){const I=r._stroke.width*.5+n*2;a.strokeStyle=g0(r._stroke,a,c,I)}a.shadowColor="black"}let A=(f-p.fontSize)/2;f-p.fontSize<0&&(A=0);const T=((b=r._stroke)==null?void 0:b.width)??0;for(let I=0;I<u.length;I++)g=T/2,m=T/2+I*f+p.ascent+A,r.align==="right"?g+=h-d[I]:r.align==="center"&&(g+=(h-d[I])/2),(w=r._stroke)!=null&&w.width&&this._drawLetterSpacing(u[I],r,o,g+n,m+n-P,!0),r._fill!==void 0&&this._drawLetterSpacing(u[I],r,o,g+n,m+n-P)}}_drawLetterSpacing(e,r,n,i,o,s=!1){const{context:a}=n,l=r.letterSpacing;let c=!1;if(Ii.experimentalLetterSpacingSupported&&(Ii.experimentalLetterSpacing?(a.letterSpacing=`${l}px`,a.textLetterSpacing=`${l}px`,c=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),l===0||c){s?a.strokeText(e,i,o):a.fillText(e,i,o);return}let u=i;const f=Ii.graphemeSegmenter(e);let d=a.measureText(e).width,h=0;for(let p=0;p<f.length;++p){const y=f[p];s?a.strokeText(y,u,o):a.fillText(y,u,o);let g="";for(let m=p+1;m<f.length;++m)g+=f[m];h=a.measureText(g).width,u+=d-h+l,d=h}}}const Cf=new dfe;class aTe extends lfe{constructor(...e){const r=cfe(e,"Text");super(r,_l),this.renderPipeId="text",r.textureStyle&&(this.textureStyle=r.textureStyle instanceof vo?r.textureStyle:new vo(r.textureStyle))}updateBounds(){const e=this._bounds,r=this._anchor;let n=0,i=0;if(this._style.trim){const{frame:o,canvasAndContext:s}=Cf.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Cf.returnCanvasAndContext(s),n=o.width,i=o.height}else{const o=Ii.measureText(this._text,this._style);n=o.width,i=o.height}e.minX=-r._x*n,e.maxX=e.minX+n,e.minY=-r._y*i,e.maxY=e.minY+i}}const xT="http://www.w3.org/2000/svg",bT="http://www.w3.org/1999/xhtml";class rB{constructor(){this.svgRoot=document.createElementNS(xT,"svg"),this.foreignObject=document.createElementNS(xT,"foreignObject"),this.domElement=document.createElementNS(bT,"div"),this.styleElement=document.createElementNS(bT,"style");const{foreignObject:e,svgRoot:r,styleElement:n,domElement:i}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",r.appendChild(e),e.appendChild(n),e.appendChild(i),this.image=je.get().createImage()}}let wT;function hfe(t,e,r,n){n||(n=wT||(wT=new rB));const{domElement:i,styleElement:o,svgRoot:s}=n;i.innerHTML=`<style>${e.cssStyle};</style><div style='padding:0'>${t}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(o.textContent=r),document.body.appendChild(s);const a=i.getBoundingClientRect();s.remove();const l=e.padding*2;return{width:a.width-l,height:a.height-l}}class nB{constructor(){this._tempState=Li.for2d(),this._didUploadHash={}}init(e){e.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(e,r,n){const i=e.renderer,o=this._didUploadHash[n.uid];i.shader.bind(n,o),o||(this._didUploadHash[n.uid]=!0),i.shader.updateUniformGroup(i.globalUniforms.uniformGroup),i.geometry.bind(r,n.glProgram)}execute(e,r){const n=e.renderer;this._tempState.blendMode=r.blendMode,n.state.set(this._tempState);const i=r.textures.textures;for(let o=0;o<r.textures.count;o++)n.texture.bind(i[o],o);n.geometry.draw(r.topology,r.size,r.start)}}nB.extension={type:[V.WebGLPipesAdaptor],name:"batch"};const Xh=Li.for2d();class iB{start(e,r,n){const i=e.renderer,o=i.encoder,s=n.gpuProgram;this._shader=n,this._geometry=r,o.setGeometry(r,s),Xh.blendMode="normal",i.pipeline.getPipeline(r,s,Xh);const a=i.globalUniforms.bindGroup;o.resetBindGroup(1),o.setBindGroup(0,a,s)}execute(e,r){const n=this._shader.gpuProgram,i=e.renderer,o=i.encoder;if(!r.bindGroup){const l=r.textures;r.bindGroup=vw(l.textures,l.count,i.limits.maxBatchableTextures)}Xh.blendMode=r.blendMode;const s=i.bindGroup.getBindGroup(r.bindGroup,n,1),a=i.pipeline.getPipeline(this._geometry,n,Xh,r.topology);r.bindGroup._touch(i.textureGC.count),o.setPipeline(a),o.renderPassEncoder.setBindGroup(1,s),o.renderPassEncoder.drawIndexed(r.size,1,r.start)}}iB.extension={type:[V.WebGPUPipesAdaptor],name:"batch"};const Dw=class oB{constructor(e,r){var n,i;this.state=Li.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=r,(i=(n=this._adaptor).init)==null||i.call(n,this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let r=this._batchersByInstructionSet[e.uid];r||(r=this._batchersByInstructionSet[e.uid]=Object.create(null),r.default||(r.default=new Ew({maxTextures:this.renderer.limits.maxBatchableTextures}))),this._activeBatches=r,this._activeBatch=this._activeBatches.default;for(const n in this._activeBatches)this._activeBatches[n].begin()}addToBatch(e,r){if(this._activeBatch.name!==e.batcherName){this._activeBatch.break(r);let n=this._activeBatches[e.batcherName];n||(n=this._activeBatches[e.batcherName]=oB.getBatcher(e.batcherName),n.begin()),this._activeBatch=n}this._activeBatch.add(e)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const r=this._activeBatches;for(const n in r){const i=r[n],o=i.geometry;o.indexBuffer.setDataWithSize(i.indexBuffer,i.indexSize,!0),o.buffers[0].setDataWithSize(i.attributeBuffer.float32View,i.attributeSize,!1)}}upload(e){const r=this._batchersByInstructionSet[e.uid];for(const n in r){const i=r[n],o=i.geometry;i.dirty&&(i.dirty=!1,o.buffers[0].update(i.attributeSize*4))}}execute(e){if(e.action==="startBatch"){const r=e.batcher,n=r.geometry,i=r.shader;this._adaptor.start(this,n,i)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};Dw.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"batch"};Dw._availableBatchers=Object.create(null);let sB=Dw;Ge.handleByMap(V.Batcher,sB._availableBatchers);Ge.add(Ew);const Af={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},pfe={...Af,vertex:{...Af.vertex,header:Af.vertex.header.replace("group(1)","group(2)")}},Bw={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},gfe={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;


        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},mfe={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;


        `,main:`
            outColor = texture(uTexture, vUV);
        `}},vfe=new Hr;class yfe extends l0{constructor(){super(),this.filters=[new sfe({sprite:new gl(Te.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class aB{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,r,n){const i=this._renderer;if(i.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:r._maskOptions.inverse,canBundle:!1,maskedContainer:r}),e.inverse=r._maskOptions.inverse,e.renderMaskToTexture){const o=e.mask;o.includeInBuild=!0,o.collectRenderables(n,i,null),o.includeInBuild=!1}i.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:r,inverse:r._maskOptions.inverse,canBundle:!1})}pop(e,r,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:r._maskOptions.inverse,canBundle:!1})}execute(e){const r=this._renderer,n=e.mask.renderMaskToTexture;if(e.action==="pushMaskBegin"){const i=Gr.get(yfe);if(i.inverse=e.inverse,n){e.mask.mask.measurable=!0;const o=aw(e.mask.mask,!0,vfe);e.mask.mask.measurable=!1,o.ceil();const s=r.renderTarget.renderTarget.colorTexture.source,a=lr.getOptimalTexture(o.width,o.height,s._resolution,s.antialias);r.renderTarget.push(a,!0),r.globalUniforms.push({offset:o,worldColor:4294967295});const l=i.sprite;l.texture=a,l.worldTransform.tx=o.minX,l.worldTransform.ty=o.minY,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer,filterTexture:a})}else i.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer})}else if(e.action==="pushMaskEnd"){const i=this._activeMaskStage[this._activeMaskStage.length-1];n&&(r.type===qn.WEBGL&&r.renderTarget.finishRenderPass(),r.renderTarget.pop(),r.globalUniforms.pop()),r.filter.push({renderPipeId:"filter",action:"pushFilter",container:i.maskedContainer,filterEffect:i.filterEffect,canBundle:!1})}else if(e.action==="popMaskEnd"){r.filter.pop();const i=this._activeMaskStage.pop();n&&lr.returnTexture(i.filterTexture),Gr.return(i.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}aB.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"alphaMask"};class lB{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,r,n){this._renderer.renderPipes.batch.break(n);const o=this._colorStack;o[this._colorStackIndex]=o[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,n.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,r,n){this._renderer.renderPipes.batch.break(n);const o=this._colorStack;this._colorStackIndex--;const s=o[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,n.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}lB.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"colorMask"};class cB{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,r,n){var i;const o=e,s=this._renderer;s.renderPipes.batch.break(n),s.renderPipes.blendMode.setBlendMode(o.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:r._maskOptions.inverse,canBundle:!1});const a=o.mask;a.includeInBuild=!0,this._maskHash.has(o)||this._maskHash.set(o,{instructionsStart:0,instructionsLength:0});const l=this._maskHash.get(o);l.instructionsStart=n.instructionSize,a.collectRenderables(n,s,null),a.includeInBuild=!1,s.renderPipes.batch.break(n),n.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:r._maskOptions.inverse,canBundle:!1});const c=n.instructionSize-l.instructionsStart-1;l.instructionsLength=c;const u=s.renderTarget.renderTarget.uid;(i=this._maskStackHash)[u]??(i[u]=0)}pop(e,r,n){const i=e,o=this._renderer;o.renderPipes.batch.break(n),o.renderPipes.blendMode.setBlendMode(i.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:r._maskOptions.inverse,canBundle:!1});const s=this._maskHash.get(e);for(let a=0;a<s.instructionsLength;a++)n.instructions[n.instructionSize++]=n.instructions[s.instructionsStart++];n.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var r;const n=this._renderer,i=n.renderTarget.renderTarget.uid;let o=(r=this._maskStackHash)[i]??(r[i]=0);e.action==="pushMaskBegin"?(n.renderTarget.ensureDepthStencil(),n.stencil.setStencilMode(or.RENDERING_MASK_ADD,o),o++,n.colorMask.setMask(0)):e.action==="pushMaskEnd"?(e.inverse?n.stencil.setStencilMode(or.INVERSE_MASK_ACTIVE,o):n.stencil.setStencilMode(or.MASK_ACTIVE,o),n.colorMask.setMask(15)):e.action==="popMaskBegin"?(n.colorMask.setMask(0),o!==0?n.stencil.setStencilMode(or.RENDERING_MASK_REMOVE,o):(n.renderTarget.clear(null,Gn.STENCIL),n.stencil.setStencilMode(or.DISABLED,o)),o--):e.action==="popMaskEnd"&&(e.inverse?n.stencil.setStencilMode(or.INVERSE_MASK_ACTIVE,o):n.stencil.setStencilMode(or.MASK_ACTIVE,o),n.colorMask.setMask(15)),this._maskStackHash[i]=o}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}cB.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"stencilMask"};var Ep=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Ep||{});class _fe{constructor(e,r){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.type=r}}class uB{constructor(e){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gl=this._renderer.gl,this._gpuBuffers=Object.create(null),this._maxBindings=this._renderer.limits.maxUniformBindings}getGlBuffer(e){return this._gpuBuffers[e.uid]||this.createGLBuffer(e)}bind(e){const{_gl:r}=this,n=this.getGlBuffer(e);r.bindBuffer(n.type,n.buffer)}bindBufferBase(e,r){const{_gl:n}=this;this._boundBufferBases[r]!==e&&(this._boundBufferBases[r]=e,e._lastBindBaseLocation=r,n.bindBufferBase(n.UNIFORM_BUFFER,r,e.buffer))}nextBindBase(e){this._bindCallId++,this._minBaseLocation=0,e&&(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1&&(this._nextBindBaseIndex=1))}freeLocationForBufferBase(e){let r=this.getLastBindBaseLocation(e);if(r>=this._minBaseLocation)return e._lastBindCallId=this._bindCallId,r;let n=0,i=this._nextBindBaseIndex;for(;n<2;){i>=this._maxBindings&&(i=this._minBaseLocation,n++);const o=this._boundBufferBases[i];if(o&&o._lastBindCallId===this._bindCallId){i++;continue}break}return r=i,this._nextBindBaseIndex=i+1,n>=2?-1:(e._lastBindCallId=this._bindCallId,this._boundBufferBases[r]=null,r)}getLastBindBaseLocation(e){const r=e._lastBindBaseLocation;return this._boundBufferBases[r]===e?r:-1}bindBufferRange(e,r,n,i){const{_gl:o}=this;n||(n=0),r||(r=0),this._boundBufferBases[r]=null,o.bindBufferRange(o.UNIFORM_BUFFER,r||0,e.buffer,n*256,i||256)}updateBuffer(e){const{_gl:r}=this,n=this.getGlBuffer(e);if(e._updateID===n.updateID)return n;n.updateID=e._updateID,r.bindBuffer(n.type,n.buffer);const i=e.data,o=e.descriptor.usage&st.STATIC?r.STATIC_DRAW:r.DYNAMIC_DRAW;return i?n.byteLength>=i.byteLength?r.bufferSubData(n.type,0,i,0,e._updateSize/i.BYTES_PER_ELEMENT):(n.byteLength=i.byteLength,r.bufferData(n.type,i,o)):(n.byteLength=e.descriptor.size,r.bufferData(n.type,n.byteLength,o)),n}destroyAll(){const e=this._gl;for(const r in this._gpuBuffers)e.deleteBuffer(this._gpuBuffers[r].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(e,r){const n=this._gpuBuffers[e.uid],i=this._gl;r||i.deleteBuffer(n.buffer),this._gpuBuffers[e.uid]=null}createGLBuffer(e){const{_gl:r}=this;let n=Ep.ARRAY_BUFFER;e.descriptor.usage&st.INDEX?n=Ep.ELEMENT_ARRAY_BUFFER:e.descriptor.usage&st.UNIFORM&&(n=Ep.UNIFORM_BUFFER);const i=new _fe(r.createBuffer(),n);return this._gpuBuffers[e.uid]=i,e.on("destroy",this.onBufferDestroy,this),i}resetState(){this._boundBufferBases=Object.create(null)}}uB.extension={type:[V.WebGLSystem],name:"buffer"};const kw=class fB{constructor(e){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=e,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this._renderer.gl=e}init(e){e={...fB.defaultOptions,...e};let r=this.multiView=e.multiView;if(e.context&&r&&(Le("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),r=!1),r?this.canvas=je.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height):this.canvas=this._renderer.view.canvas,e.context)this.initFromContext(e.context);else{const n=this._renderer.background.alpha<1,i=e.premultipliedAlpha??!0,o=e.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(e.preferWebGLVersion,{alpha:n,premultipliedAlpha:i,antialias:o,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference??"default"})}}ensureCanvasSize(e){if(!this.multiView){e!==this.canvas&&Le("multiView is disabled, but targetCanvas is not the main canvas");return}const{canvas:r}=this;(r.width<e.width||r.height<e.height)&&(r.width=Math.max(e.width,e.width),r.height=Math.max(e.height,e.height))}initFromContext(e){this.gl=e,this.webGLVersion=e instanceof je.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(e),this._renderer.runners.contextChange.emit(e);const r=this._renderer.view.canvas;r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(e,r){let n;const i=this.canvas;if(e===2&&(n=i.getContext("webgl2",r)),!n&&(n=i.getContext("webgl",r),!n))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=n,this.initFromContext(this.gl)}getExtensions(){const{gl:e}=this,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc"),rgtc:e.getExtension("EXT_texture_compression_rgtc"),loseContext:e.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...r,drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:e.getExtension("ANGLE_instanced_arrays"),srgb:e.getExtension("EXT_sRGB")};else{this.extensions={...r,colorBufferFloat:e.getExtension("EXT_color_buffer_float")};const n=e.getExtension("WEBGL_provoking_vertex");n&&n.provokingVertexWEBGL(n.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(e){e.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var r;this.gl.isContextLost()&&((r=this.extensions.loseContext)==null||r.restoreContext())},0))}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){var r;const e=this._renderer.view.canvas;this._renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),(r=this.extensions.loseContext)==null||r.loseContext()}forceContextLoss(){var e;(e=this.extensions.loseContext)==null||e.loseContext(),this._contextLossForced=!0}validateContext(e){const r=e.getContextAttributes();r&&!r.stencil&&Le("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=this.supports,i=this.webGLVersion===2,o=this.extensions;n.uint32Indices=i||!!o.uint32ElementIndex,n.uniformBufferObject=i,n.vertexArrayObject=i||!!o.vertexArrayObject,n.srgbTextures=i||!!o.srgb,n.nonPowOf2wrapping=i,n.nonPowOf2mipmaps=i,n.msaa=i,n.uint32Indices||Le("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};kw.extension={type:[V.WebGLSystem],name:"context"};kw.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};let xfe=kw;function dB(t,e){for(const r in t.attributes){const n=t.attributes[r],i=e[r];i?(n.format??(n.format=i.format),n.offset??(n.offset=i.offset),n.instance??(n.instance=i.instance)):Le(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}bfe(t)}function bfe(t){const{buffers:e,attributes:r}=t,n={},i={};for(const o in e){const s=e[o];n[s.uid]=0,i[s.uid]=0}for(const o in r){const s=r[o];n[s.buffer.uid]+=ra(s.format).stride}for(const o in r){const s=r[o];s.stride??(s.stride=n[s.buffer.uid]),s.start??(s.start=i[s.buffer.uid]),i[s.buffer.uid]+=ra(s.format).stride}}var x_=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(x_||{}),hB=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(hB||{}),dt=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(dt||{});const ET={uint8x2:dt.UNSIGNED_BYTE,uint8x4:dt.UNSIGNED_BYTE,sint8x2:dt.BYTE,sint8x4:dt.BYTE,unorm8x2:dt.UNSIGNED_BYTE,unorm8x4:dt.UNSIGNED_BYTE,snorm8x2:dt.BYTE,snorm8x4:dt.BYTE,uint16x2:dt.UNSIGNED_SHORT,uint16x4:dt.UNSIGNED_SHORT,sint16x2:dt.SHORT,sint16x4:dt.SHORT,unorm16x2:dt.UNSIGNED_SHORT,unorm16x4:dt.UNSIGNED_SHORT,snorm16x2:dt.SHORT,snorm16x4:dt.SHORT,float16x2:dt.HALF_FLOAT,float16x4:dt.HALF_FLOAT,float32:dt.FLOAT,float32x2:dt.FLOAT,float32x3:dt.FLOAT,float32x4:dt.FLOAT,uint32:dt.UNSIGNED_INT,uint32x2:dt.UNSIGNED_INT,uint32x3:dt.UNSIGNED_INT,uint32x4:dt.UNSIGNED_INT,sint32:dt.INT,sint32x2:dt.INT,sint32x3:dt.INT,sint32x4:dt.INT};function wfe(t){return ET[t]??ET.float32}const Efe={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class pB{constructor(e){this._geometryVaoHash=Object.create(null),this._renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){const e=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const r=this._renderer.context.extensions.vertexArrayObject;r&&(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i));const n=this._renderer.context.extensions.vertexAttribDivisorANGLE;n&&(e.drawArraysInstanced=(i,o,s,a)=>{n.drawArraysInstancedANGLE(i,o,s,a)},e.drawElementsInstanced=(i,o,s,a,l)=>{n.drawElementsInstancedANGLE(i,o,s,a,l)},e.vertexAttribDivisor=(i,o)=>n.vertexAttribDivisorANGLE(i,o)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(e,r){const n=this.gl;this._activeGeometry=e;const i=this.getVao(e,r);this._activeVao!==i&&(this._activeVao=i,n.bindVertexArray(i)),this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this._renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.updateBuffer(i)}}checkCompatibility(e,r){const n=e.attributes,i=r._attributeData;for(const o in i)if(!n[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,r){const n=e.attributes,i=r._attributeData,o=["g",e.uid];for(const s in n)i[s]&&o.push(s,i[s].location);return o.join("-")}getVao(e,r){var n;return((n=this._geometryVaoHash[e.uid])==null?void 0:n[r._key])||this.initGeometryVao(e,r)}initGeometryVao(e,r,n=!0){const i=this._renderer.gl,o=this._renderer.buffer;this._renderer.shader._getProgramData(r),this.checkCompatibility(e,r);const s=this.getSignature(e,r);this._geometryVaoHash[e.uid]||(this._geometryVaoHash[e.uid]=Object.create(null),e.on("destroy",this.onGeometryDestroy,this));const a=this._geometryVaoHash[e.uid];let l=a[s];if(l)return a[r._key]=l,l;dB(e,r._attributeData);const c=e.buffers;l=i.createVertexArray(),i.bindVertexArray(l);for(let u=0;u<c.length;u++){const f=c[u];o.bind(f)}return this.activateVao(e,r),a[r._key]=l,a[s]=l,i.bindVertexArray(null),l}onGeometryDestroy(e,r){const n=this._geometryVaoHash[e.uid],i=this.gl;if(n){if(r)for(const o in n)this._activeVao!==n[o]&&this.unbind(),i.deleteVertexArray(n[o]);this._geometryVaoHash[e.uid]=null}}destroyAll(e=!1){const r=this.gl;for(const n in this._geometryVaoHash){if(e)for(const i in this._geometryVaoHash[n]){const o=this._geometryVaoHash[n];this._activeVao!==o&&this.unbind(),r.deleteVertexArray(o[i])}this._geometryVaoHash[n]=null}}activateVao(e,r){var a;const n=this._renderer.gl,i=this._renderer.buffer,o=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let s=null;for(const l in o){const c=o[l],u=c.buffer,f=i.getGlBuffer(u),d=r._attributeData[l];if(d){s!==f&&(i.bind(u),s=f);const h=d.location;n.enableVertexAttribArray(h);const p=ra(c.format),y=wfe(c.format);if(((a=d.format)==null?void 0:a.substring(1,4))==="int"?n.vertexAttribIPointer(h,p.size,y,c.stride,c.offset):n.vertexAttribPointer(h,p.size,y,p.normalised,c.stride,c.offset),c.instance)if(this.hasInstance){const g=c.divisor??1;n.vertexAttribDivisor(h,g)}else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:o}=this._renderer,s=this._activeGeometry,a=Efe[e||s.topology];if(i??(i=s.instanceCount),s.indexBuffer){const l=s.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;i>1?o.drawElementsInstanced(a,r||s.indexBuffer.data.length,c,(n||0)*l,i):o.drawElements(a,r||s.indexBuffer.data.length,c,(n||0)*l)}else i>1?o.drawArraysInstanced(a,n||0,r||s.getSize(),i):o.drawArrays(a,n||0,r||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}pB.extension={type:[V.WebGLSystem],name:"geometry"};const Sfe=new Ld({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),Nw=class gB{constructor(e){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=e}init(e={}){const{useBackBuffer:r,antialias:n}={...gB.defaultOptions,...e};this.useBackBuffer=r,this._antialias=n,this._renderer.context.supports.msaa||(Le("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=Li.for2d();const i=new Nl({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new yi({glProgram:i,resources:{uTexture:Te.WHITE.source}})}renderStart(e){const r=this._renderer.renderTarget.getRenderTarget(e.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!r.isRoot,this._useBackBufferThisRender){const n=this._renderer.renderTarget.getRenderTarget(e.target);this._targetTexture=n.colorTexture,e.target=this._getBackBufferTexture(n.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const e=this._renderer;e.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(e.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,e.encoder.draw({geometry:Sfe,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(e){return this._backBufferTexture=this._backBufferTexture||new Te({source:new Sr({width:e.width,height:e.height,resolution:e._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(e.width,e.height,e._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};Nw.extension={type:[V.WebGLSystem],name:"backBuffer",priority:1};Nw.defaultOptions={useBackBuffer:!1};let Cfe=Nw;class mB{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.gl.colorMask(!!(e&8),!!(e&4),!!(e&2),!!(e&1)))}}mB.extension={type:[V.WebGLSystem],name:"colorMask"};class vB{constructor(e){this.commandFinished=Promise.resolve(),this._renderer=e}setGeometry(e,r){this._renderer.geometry.bind(e,r.glProgram)}finishRenderPass(){}draw(e){const r=this._renderer,{geometry:n,shader:i,state:o,skipSync:s,topology:a,size:l,start:c,instanceCount:u}=e;r.shader.bind(i,s),r.geometry.bind(n,r.shader._activeProgram),o&&r.state.set(o),r.geometry.draw(a,l,c,u??n.instanceCount)}destroy(){this._renderer=null}}vB.extension={type:[V.WebGLSystem],name:"encoder"};class yB{constructor(e){this._renderer=e}contextChange(){const e=this._renderer.gl;this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxBatchableTextures=b6(this.maxTextures,e),this.maxUniformBindings=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS)}destroy(){}}yB.extension={type:[V.WebGLSystem],name:"limits"};class Afe{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const da=[];da[or.NONE]=void 0;da[or.DISABLED]={stencilWriteMask:0,stencilReadMask:0};da[or.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};da[or.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};da[or.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};da[or.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}};class _B{constructor(e){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:or.NONE},this._renderTargetStencilState=Object.create(null),e.renderTarget.onRenderTargetChange.add(this)}contextChange(e){this._gl=e,this._comparisonFuncMapping={always:e.ALWAYS,never:e.NEVER,equal:e.EQUAL,"not-equal":e.NOTEQUAL,less:e.LESS,"less-equal":e.LEQUAL,greater:e.GREATER,"greater-equal":e.GEQUAL},this._stencilOpsMapping={keep:e.KEEP,zero:e.ZERO,replace:e.REPLACE,invert:e.INVERT,"increment-clamp":e.INCR,"decrement-clamp":e.DECR,"increment-wrap":e.INCR_WRAP,"decrement-wrap":e.DECR_WRAP},this.resetState()}onRenderTargetChange(e){if(this._activeRenderTarget===e)return;this._activeRenderTarget=e;let r=this._renderTargetStencilState[e.uid];r||(r=this._renderTargetStencilState[e.uid]={stencilMode:or.DISABLED,stencilReference:0}),this.setStencilMode(r.stencilMode,r.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=or.NONE,this._stencilCache.stencilReference=0}setStencilMode(e,r){const n=this._renderTargetStencilState[this._activeRenderTarget.uid],i=this._gl,o=da[e],s=this._stencilCache;if(n.stencilMode=e,n.stencilReference=r,e===or.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,i.disable(i.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,i.enable(i.STENCIL_TEST)),(e!==s.stencilMode||s.stencilReference!==r)&&(s.stencilMode=e,s.stencilReference=r,i.stencilFunc(this._comparisonFuncMapping[o.stencilBack.compare],r,255),i.stencilOp(i.KEEP,i.KEEP,this._stencilOpsMapping[o.stencilBack.passOp]))}}_B.extension={type:[V.WebGLSystem],name:"stencil"};class xB{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!s6())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const r=this.getUniformGroupData(e);e.buffer||(e.buffer=new jn({data:new Float32Array(r.layout.size/4),usage:st.UNIFORM|st.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const r=e._signature;let n=this._syncFunctionHash[r];if(!n){const i=Object.keys(e.uniformStructures).map(a=>e.uniformStructures[a]),o=this._adaptor.createUboElements(i),s=this._generateUboSync(o.uboElements);n=this._syncFunctionHash[r]={layout:o,syncFunction:s}}return this._syncFunctionHash[r]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,r,n){const i=this.getUniformGroupData(e);e.buffer||(e.buffer=new jn({data:new Float32Array(i.layout.size/4),usage:st.UNIFORM|st.COPY_DST}));let o=null;return r||(r=e.buffer.data,o=e.buffer.dataInt32),n||(n=0),i.syncFunction(e.uniforms,r,o,n),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const r=this.syncUniformGroup(e);return e.buffer.update(),r}destroy(){this._syncFunctionHash=null}}const bB={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function Tfe(t){const e=t.map(o=>({data:o,offset:0,size:0})),r=16;let n=0,i=0;for(let o=0;o<e.length;o++){const s=e[o];if(n=bB[s.data.type],!n)throw new Error(`Unknown type ${s.data.type}`);s.data.size>1&&(n=Math.max(n,r)*s.data.size);const a=n===12?16:n;s.size=n;const l=i%r;l>0&&r-l<a?i+=(r-l)%16:i+=(n-l%n)%n,s.offset=i,i+=n}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}const Ua=[{type:"mat3x3<f32>",test:t=>t.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:t=>t.type==="vec2<f32>"&&t.size===1&&t.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:t=>t.type==="vec3<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function wB(t,e,r,n){const i=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let o=0;for(let a=0;a<t.length;a++){const l=t[a],c=l.data.name;let u=!1,f=0;for(let d=0;d<Ua.length;d++)if(Ua[d].test(l.data)){f=l.offset/4,i.push(`name = "${c}";`,`offset += ${f-o};`,Ua[d][e]||Ua[d].ubo),u=!0;break}if(!u)if(l.data.size>1)f=l.offset/4,i.push(r(l,f-o));else{const d=n[l.data.type];f=l.offset/4,i.push(`
                    v = uv.${c};
                    offset += ${f-o};
                    ${d};
                `)}o=f}const s=i.join(`
`);return new Function("uv","data","dataInt32","offset",s)}function rc(t,e){return`
        for (let i = 0; i < ${t*e}; i++) {
            data[offset + (((i / ${t})|0) * 4) + (i % ${t})] = v[i];
        }
    `}const EB={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":rc(3,2),"mat4x2<f32>":rc(4,2),"mat2x3<f32>":rc(2,3),"mat4x3<f32>":rc(4,3),"mat2x4<f32>":rc(2,4),"mat3x4<f32>":rc(3,4)},Pfe={...EB,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function Ife(t,e){const r=Math.max(bB[t.data.type]/16,1),n=t.data.value.length/t.data.size,i=(4-n%4)%4,o=t.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${t.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${t.data.size*r}; i++)
        {
            for(var j = 0; j < ${n}; j++)
            {
                ${o}[arrayOffset++] = v[t++];
            }
            ${i!==0?`arrayOffset += ${i};`:""}
        }
    `}function Ofe(t){return wB(t,"uboStd40",Ife,EB)}class SB extends xB{constructor(){super({createUboElements:Tfe,generateUboSync:Ofe})}}SB.extension={type:[V.WebGLSystem],name:"ubo"};class Rfe{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new xt}init(e,r){this._renderer=e,this._renderTargetSystem=r,e.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new xt}copyToTexture(e,r,n,i,o){const s=this._renderTargetSystem,a=this._renderer,l=s.getGpuRenderTarget(e),c=a.gl;return this.finishRenderPass(e),c.bindFramebuffer(c.FRAMEBUFFER,l.resolveTargetFramebuffer),a.texture.bind(r,0),c.copyTexSubImage2D(c.TEXTURE_2D,0,o.x,o.y,n.x,n.y,i.width,i.height),r}startRenderPass(e,r=!0,n,i){const o=this._renderTargetSystem,s=e.colorTexture,a=o.getGpuRenderTarget(e);let l=i.y;e.isRoot&&(l=s.pixelHeight-i.height),e.colorTextures.forEach(f=>{this._renderer.texture.unbind(f)});const c=this._renderer.gl;c.bindFramebuffer(c.FRAMEBUFFER,a.framebuffer);const u=this._viewPortCache;(u.x!==i.x||u.y!==l||u.width!==i.width||u.height!==i.height)&&(u.x=i.x,u.y=l,u.width=i.width,u.height=i.height,c.viewport(i.x,l,i.width,i.height)),!a.depthStencilRenderBuffer&&(e.stencil||e.depth)&&this._initStencil(a),this.clear(e,r,n)}finishRenderPass(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);if(!n.msaa)return;const i=this._renderer.gl;i.bindFramebuffer(i.FRAMEBUFFER,n.resolveTargetFramebuffer),i.bindFramebuffer(i.READ_FRAMEBUFFER,n.framebuffer),i.blitFramebuffer(0,0,n.width,n.height,0,0,n.width,n.height,i.COLOR_BUFFER_BIT,i.NEAREST),i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)}initGpuRenderTarget(e){const n=this._renderer.gl,i=new Afe;return e.colorTexture instanceof ao?(this._renderer.context.ensureCanvasSize(e.colorTexture.resource),i.framebuffer=null,i):(this._initColor(e,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i)}destroyGpuRenderTarget(e){const r=this._renderer.gl;e.framebuffer&&(r.deleteFramebuffer(e.framebuffer),e.framebuffer=null),e.resolveTargetFramebuffer&&(r.deleteFramebuffer(e.resolveTargetFramebuffer),e.resolveTargetFramebuffer=null),e.depthStencilRenderBuffer&&(r.deleteRenderbuffer(e.depthStencilRenderBuffer),e.depthStencilRenderBuffer=null),e.msaaRenderBuffer.forEach(n=>{r.deleteRenderbuffer(n)}),e.msaaRenderBuffer=null}clear(e,r,n){if(!r)return;const i=this._renderTargetSystem;typeof r=="boolean"&&(r=r?Gn.ALL:Gn.NONE);const o=this._renderer.gl;if(r&Gn.COLOR){n??(n=i.defaultClearColor);const s=this._clearColorCache,a=n;(s[0]!==a[0]||s[1]!==a[1]||s[2]!==a[2]||s[3]!==a[3])&&(s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],o.clearColor(a[0],a[1],a[2],a[3]))}o.clear(r)}resizeGpuRenderTarget(e){if(e.isRoot)return;const n=this._renderTargetSystem.getGpuRenderTarget(e);this._resizeColor(e,n),(e.stencil||e.depth)&&this._resizeStencil(n)}_initColor(e,r){const n=this._renderer,i=n.gl,o=i.createFramebuffer();if(r.resolveTargetFramebuffer=o,i.bindFramebuffer(i.FRAMEBUFFER,o),r.width=e.colorTexture.source.pixelWidth,r.height=e.colorTexture.source.pixelHeight,e.colorTextures.forEach((s,a)=>{const l=s.source;l.antialias&&(n.context.supports.msaa?r.msaa=!0:Le("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),n.texture.bindSource(l,0);const u=n.texture.getGlSource(l).texture;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+a,3553,u,0)}),r.msaa){const s=i.createFramebuffer();r.framebuffer=s,i.bindFramebuffer(i.FRAMEBUFFER,s),e.colorTextures.forEach((a,l)=>{const c=i.createRenderbuffer();r.msaaRenderBuffer[l]=c})}else r.framebuffer=o;this._resizeColor(e,r)}_resizeColor(e,r){const n=e.colorTexture.source;if(r.width=n.pixelWidth,r.height=n.pixelHeight,e.colorTextures.forEach((i,o)=>{o!==0&&i.source.resize(n.width,n.height,n._resolution)}),r.msaa){const i=this._renderer,o=i.gl,s=r.framebuffer;o.bindFramebuffer(o.FRAMEBUFFER,s),e.colorTextures.forEach((a,l)=>{const c=a.source;i.texture.bindSource(c,0);const f=i.texture.getGlSource(c).internalFormat,d=r.msaaRenderBuffer[l];o.bindRenderbuffer(o.RENDERBUFFER,d),o.renderbufferStorageMultisample(o.RENDERBUFFER,4,f,c.pixelWidth,c.pixelHeight),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+l,o.RENDERBUFFER,d)})}}_initStencil(e){if(e.framebuffer===null)return;const r=this._renderer.gl,n=r.createRenderbuffer();e.depthStencilRenderBuffer=n,r.bindRenderbuffer(r.RENDERBUFFER,n),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n),this._resizeStencil(e)}_resizeStencil(e){const r=this._renderer.gl;r.bindRenderbuffer(r.RENDERBUFFER,e.depthStencilRenderBuffer),e.msaa?r.renderbufferStorageMultisample(r.RENDERBUFFER,4,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,this._renderer.context.webGLVersion===2?r.DEPTH24_STENCIL8:r.DEPTH_STENCIL,e.width,e.height)}prerender(e){const r=e.colorTexture.resource;this._renderer.context.multiView&&ao.test(r)&&this._renderer.context.ensureCanvasSize(r)}postrender(e){if(this._renderer.context.multiView&&ao.test(e.colorTexture.resource)){const r=this._renderer.context.canvas,n=e.colorTexture;n.context2D.drawImage(r,0,n.pixelHeight-r.height)}}}function Mfe(t,e,r,n,i,o){const s=o?1:-1;return t.identity(),t.a=1/n*2,t.d=s*(1/i*2),t.tx=-1-e*t.a,t.ty=-s-r*t.d,t}const Hu=new Map;function CB(t,e){if(!Hu.has(t)){const r=new Te({source:new ao({resource:t,...e})}),n=()=>{Hu.get(t)===r&&Hu.delete(t)};r.once("destroy",n),r.source.once("destroy",n),Hu.set(t,r)}return Hu.get(t)}function Dfe(t){const e=t.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement&&document.body.contains(e)}const AB=class TB{constructor(e={}){if(this.uid=Ht("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,e={...TB.defaultOptions,...e},this.stencil=e.stencil,this.depth=e.depth,this.isRoot=e.isRoot,typeof e.colorTextures=="number"){this._managedColorTextures=!0;for(let r=0;r<e.colorTextures;r++)this.colorTextures.push(new Sr({width:e.width,height:e.height,resolution:e.resolution,antialias:e.antialias}))}else{this.colorTextures=[...e.colorTextures.map(n=>n.source)];const r=this.colorTexture.source;this.resize(r.width,r.height,r._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(e.depthStencilTexture||this.stencil)&&(e.depthStencilTexture instanceof Te||e.depthStencilTexture instanceof Sr?this.depthStencilTexture=e.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new Sr({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,r,n=this.resolution,i=!1){this.dirtyId++,this.colorTextures.forEach((o,s)=>{i&&s===0||o.source.resize(e,r,n)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,r,n)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};AB.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let b_=AB;class PB{constructor(e){this.rootViewPort=new xt,this.viewport=new xt,this.onRenderTargetChange=new f6("onRenderTargetChange"),this.projectionMatrix=new Re,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:r,clearColor:n,frame:i}){var o,s;this._renderTargetStack.length=0,this.push(e,r,n,i),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=Dfe(this.rootRenderTarget),(s=(o=this.adaptor).prerender)==null||s.call(o,this.rootRenderTarget)}postrender(){var e,r;(r=(e=this.adaptor).postrender)==null||r.call(e,this.rootRenderTarget)}bind(e,r=!0,n,i){const o=this.getRenderTarget(e),s=this.renderTarget!==o;this.renderTarget=o,this.renderSurface=e;const a=this.getGpuRenderTarget(o);(o.pixelWidth!==a.width||o.pixelHeight!==a.height)&&(this.adaptor.resizeGpuRenderTarget(o),a.width=o.pixelWidth,a.height=o.pixelHeight);const l=o.colorTexture,c=this.viewport,u=l.pixelWidth,f=l.pixelHeight;if(!i&&e instanceof Te&&(i=e.frame),i){const d=l._resolution;c.x=i.x*d+.5|0,c.y=i.y*d+.5|0,c.width=i.width*d+.5|0,c.height=i.height*d+.5|0}else c.x=0,c.y=0,c.width=u,c.height=f;return Mfe(this.projectionMatrix,0,0,c.width/l.resolution,c.height/l.resolution,!o.isRoot),this.adaptor.startRenderPass(o,r,n,c),s&&this.onRenderTargetChange.emit(o),o}clear(e,r=Gn.ALL,n){r&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,r,n,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,r=Gn.ALL,n,i){const o=this.bind(e,r,n,i);return this._renderTargetStack.push({renderTarget:o,frame:i}),o}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,r,n,i,o){n.x<0&&(i.width+=n.x,o.x-=n.x,n.x=0),n.y<0&&(i.height+=n.y,o.y-=n.y,n.y=0);const{pixelWidth:s,pixelHeight:a}=e;return i.width=Math.min(i.width,s-n.x),i.height=Math.min(i.height,a-n.y),this.adaptor.copyToTexture(e,r,n,i,o)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,r)=>{e!==r&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let r=null;return ao.test(e)&&(e=CB(e).source),e instanceof b_?r=e:e instanceof Sr&&(r=new b_({colorTextures:[e]}),e.source instanceof ao&&(r.isRoot=!0),e.once("destroy",()=>{r.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const n=this._gpuRenderTargetHash[r.uid];n&&(this._gpuRenderTargetHash[r.uid]=null,this.adaptor.destroyGpuRenderTarget(n))})),this._renderSurfaceToRenderTargetHash.set(e,r),r}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}resetState(){this.renderTarget=null,this.renderSurface=null}}class IB extends PB{constructor(e){super(e),this.adaptor=new Rfe,this.adaptor.init(e,this)}}IB.extension={type:[V.WebGLSystem],name:"renderTarget"};class Fw extends Qn{constructor({buffer:e,offset:r,size:n}){super(),this.uid=Ht("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=Ht("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=r|0,this.size=n,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=Ht("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}function Bfe(t,e){const r=[],n=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let i=!1,o=0;const s=e._getProgramData(t.glProgram);for(const l in t.groups){const c=t.groups[l];r.push(`
            resources = g[${l}].resources;
        `);for(const u in c.resources){const f=c.resources[u];if(f instanceof gn)if(f.ubo){const d=t._uniformBindMap[l][Number(u)];r.push(`
                        sS.bindUniformBlock(
                            resources[${u}],
                            '${d}',
                            ${t.glProgram._uniformBlockData[d].index}
                        );
                    `)}else r.push(`
                        ugS.updateUniformGroup(resources[${u}], p, sD);
                    `);else if(f instanceof Fw){const d=t._uniformBindMap[l][Number(u)];r.push(`
                    sS.bindUniformBlock(
                        resources[${u}],
                        '${d}',
                        ${t.glProgram._uniformBlockData[d].index}
                    );
                `)}else if(f instanceof Sr){const d=t._uniformBindMap[l][u],h=s.uniformData[d];h&&(i||(i=!0,n.push(`
                        var tS = r.texture;
                        `)),e._gl.uniform1i(h.location,o),r.push(`
                        tS.bind(resources[${u}], ${o});
                    `),o++)}}}const a=[...n,...r].join(`
`);return new Function("r","s","sD",a)}class kfe{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function ST(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Tv(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function OB(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Tv(2*e);case"bvec3":return Tv(3*e);case"bvec4":return Tv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let Yh=null;const CT={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},Nfe={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function RB(t,e){if(!Yh){const r=Object.keys(CT);Yh={};for(let n=0;n<r.length;++n){const i=r[n];Yh[t[i]]=CT[i]}}return Yh[e]}function Ffe(t,e){const r=RB(t,e);return Nfe[r]||"float32"}function Lfe(t,e,r=!1){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const a=e.getActiveAttrib(t,s);if(a.name.startsWith("gl_"))continue;const l=Ffe(e,a.type);n[a.name]={location:0,format:l,stride:ra(l).stride,offset:0,instance:!1,start:0}}const o=Object.keys(n);if(r){o.sort((s,a)=>s>a?1:-1);for(let s=0;s<o.length;s++)n[o[s]].location=s,e.bindAttribLocation(t,s,o[s]);e.linkProgram(t)}else for(let s=0;s<o.length;s++)n[o[s]].location=e.getAttribLocation(t,o[s]);return n}function $fe(t,e){if(!e.ACTIVE_UNIFORM_BLOCKS)return{};const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS);for(let i=0;i<n;i++){const o=e.getActiveUniformBlockName(t,i),s=e.getUniformBlockIndex(t,o),a=e.getActiveUniformBlockParameter(t,i,e.UNIFORM_BLOCK_DATA_SIZE);r[o]={name:o,index:s,size:a}}return r}function Ufe(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const o=e.getActiveUniform(t,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=RB(e,o.type);r[s]={name:s,index:i,type:l,size:o.size,isArray:a,value:OB(l,o.size)}}return r}function AT(t,e){const r=t.getShaderSource(e).split(`
`).map((c,u)=>`${u}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),o={},s=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!o[c]?(o[c]=!0,!0):!1),a=[""];s.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Gfe(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||AT(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||AT(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function Hfe(t,e){const r=ST(t,t.VERTEX_SHADER,e.vertex),n=ST(t,t.FRAGMENT_SHADER,e.fragment),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const o=e.transformFeedbackVaryings;o&&(typeof t.transformFeedbackVaryings!="function"?Le("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,o.names,o.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Gfe(t,i,r,n),e._attributeData=Lfe(i,t,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),e._uniformData=Ufe(i,t),e._uniformBlockData=$fe(i,t),t.deleteShader(r),t.deleteShader(n);const s={};for(const l in e._uniformData){const c=e._uniformData[l];s[l]={location:t.getUniformLocation(i,l),value:OB(c.type,c.size)}}return new kfe(i,s)}const Kh={textureCount:0,blockIndex:0};class MB{constructor(e){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(e){this._gl=e,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null}bind(e,r){if(this._setProgram(e.glProgram),r)return;Kh.textureCount=0,Kh.blockIndex=0;let n=this._shaderSyncFunctions[e.glProgram._key];n||(n=this._shaderSyncFunctions[e.glProgram._key]=this._generateShaderSync(e,this)),this._renderer.buffer.nextBindBase(!!e.glProgram.transformFeedbackVaryings),n(this._renderer,e,Kh)}updateUniformGroup(e){this._renderer.uniformGroup.updateUniformGroup(e,this._activeProgram,Kh)}bindUniformBlock(e,r,n=0){const i=this._renderer.buffer,o=this._getProgramData(this._activeProgram),s=e._bufferResource;s||this._renderer.ubo.updateUniformGroup(e);const a=e.buffer,l=i.updateBuffer(a),c=i.freeLocationForBufferBase(l);if(s){const{offset:f,size:d}=e;f===0&&d===a.data.byteLength?i.bindBufferBase(l,c):i.bindBufferRange(l,c,f)}else i.getLastBindBaseLocation(l)!==c&&i.bindBufferBase(l,c);const u=this._activeProgram._uniformBlockData[r].index;o.uniformBlockBindings[n]!==c&&(o.uniformBlockBindings[n]=c,this._renderer.gl.uniformBlockBinding(o.program,u,c))}_setProgram(e){if(this._activeProgram===e)return;this._activeProgram=e;const r=this._getProgramData(e);this._gl.useProgram(r.program)}_getProgramData(e){return this._programDataHash[e._key]||this._createProgramData(e)}_createProgramData(e){const r=e._key;return this._programDataHash[r]=Hfe(this._gl,e),this._programDataHash[r]}destroy(){for(const e of Object.keys(this._programDataHash))this._programDataHash[e].destroy(),this._programDataHash[e]=null;this._programDataHash=null}_generateShaderSync(e,r){return Bfe(e,r)}resetState(){this._activeProgram=null}}MB.extension={type:[V.WebGLSystem],name:"shader"};const Vfe={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},zfe={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function jfe(t,e){const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const n in t.uniforms){if(!e[n]){t.uniforms[n]instanceof gn?t.uniforms[n].ubo?r.push(`
                        renderer.shader.bindUniformBlock(uv.${n}, "${n}");
                    `):r.push(`
                        renderer.shader.updateUniformGroup(uv.${n});
                    `):t.uniforms[n]instanceof Fw&&r.push(`
                        renderer.shader.bindBufferResource(uv.${n}, "${n}");
                    `);continue}const i=t.uniformStructures[n];let o=!1;for(let s=0;s<Ua.length;s++){const a=Ua[s];if(i.type===a.type&&a.test(i)){r.push(`name = "${n}";`,Ua[s].uniform),o=!0;break}}if(!o){const a=(i.size===1?Vfe:zfe)[i.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${a};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}class DB{constructor(e){this._cache={},this._uniformGroupSyncHash={},this._renderer=e,this.gl=null,this._cache={}}contextChange(e){this.gl=e}updateUniformGroup(e,r,n){const i=this._renderer.shader._getProgramData(r);(!e.isStatic||e._dirtyId!==i.uniformDirtyGroups[e.uid])&&(i.uniformDirtyGroups[e.uid]=e._dirtyId,this._getUniformSyncFunction(e,r)(i.uniformData,e.uniforms,this._renderer,n))}_getUniformSyncFunction(e,r){var n;return((n=this._uniformGroupSyncHash[e._signature])==null?void 0:n[r._key])||this._createUniformSyncFunction(e,r)}_createUniformSyncFunction(e,r){const n=this._uniformGroupSyncHash[e._signature]||(this._uniformGroupSyncHash[e._signature]={}),i=this._getSignature(e,r._uniformData,"u");return this._cache[i]||(this._cache[i]=this._generateUniformsSync(e,r._uniformData)),n[r._key]=this._cache[i],n[r._key]}_generateUniformsSync(e,r){return jfe(e,r)}_getSignature(e,r,n){const i=e.uniforms,o=[`${n}-`];for(const s in i)o.push(s),r[s]&&o.push(r[s].type);return o.join("-")}destroy(){this._renderer=null,this._cache=null}}DB.extension={type:[V.WebGLSystem],name:"uniformGroup"};function Wfe(t){const e={};if(e.normal=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e.add=[t.ONE,t.ONE],e.multiply=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.screen=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.none=[0,0],e["normal-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e["add-npm"]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e["screen-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.erase=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],!(t instanceof je.get().getWebGLRenderingContext()))e.min=[t.ONE,t.ONE,t.ONE,t.ONE,t.MIN,t.MIN],e.max=[t.ONE,t.ONE,t.ONE,t.ONE,t.MAX,t.MAX];else{const n=t.getExtension("EXT_blend_minmax");n&&(e.min=[t.ONE,t.ONE,t.ONE,t.ONE,n.MIN_EXT,n.MIN_EXT],e.max=[t.ONE,t.ONE,t.ONE,t.ONE,n.MAX_EXT,n.MAX_EXT])}return e}const Xfe=0,Yfe=1,Kfe=2,qfe=3,Zfe=4,Jfe=5,BB=class w_{constructor(e){this._invertFrontFace=!1,this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[Xfe]=this.setBlend,this.map[Yfe]=this.setOffset,this.map[Kfe]=this.setCullFace,this.map[qfe]=this.setDepthTest,this.map[Zfe]=this.setFrontFace,this.map[Jfe]=this.setDepthMask,this.checks=[],this.defaultState=Li.for2d(),e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){this._invertFrontFace=!e.isRoot,this._cullFace?this.setFrontFace(this._frontFace):this._frontFaceDirty=!0}contextChange(e){this.gl=e,this.blendModesMap=Wfe(e),this.resetState()}set(e){if(e||(e=this.defaultState),this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r>>=1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e||(e=this.defaultState);for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this._updateCheck(w_._checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this._updateCheck(w_._checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this._cullFace=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE),this._cullFace&&this._frontFaceDirty&&this.setFrontFace(this._frontFace)}setFrontFace(e){this._frontFace=e,this._frontFaceDirty=!1;const r=this._invertFrontFace?!e:e;this._glFrontFace!==r&&(this._glFrontFace=r,this.gl.frontFace(this.gl[r?"CW":"CCW"]))}setBlendMode(e){if(this.blendModesMap[e]||(e="normal"),e===this.blendMode)return;this.blendMode=e;const r=this.blendModesMap[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}resetState(){this._glFrontFace=!1,this._frontFace=!1,this._cullFace=!1,this._frontFaceDirty=!1,this._invertFrontFace=!1,this.gl.frontFace(this.gl.CCW),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static _checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static _checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};BB.extension={type:[V.WebGLSystem],name:"state"};let Qfe=BB;class ede{constructor(e){this.target=hB.TEXTURE_2D,this.texture=e,this.width=-1,this.height=-1,this.type=dt.UNSIGNED_BYTE,this.internalFormat=x_.RGBA,this.format=x_.RGBA,this.samplerType=0}}const tde={id:"buffer",upload(t,e,r){e.width===t.width||e.height===t.height?r.texSubImage2D(r.TEXTURE_2D,0,0,0,t.width,t.height,e.format,e.type,t.resource):r.texImage2D(e.target,0,e.internalFormat,t.width,t.height,0,e.format,e.type,t.resource),e.width=t.width,e.height=t.height}},rde={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},nde={id:"compressed",upload(t,e,r){r.pixelStorei(r.UNPACK_ALIGNMENT,4);let n=t.pixelWidth,i=t.pixelHeight;const o=!!rde[t.format];for(let s=0;s<t.resource.length;s++){const a=t.resource[s];o?r.compressedTexImage2D(r.TEXTURE_2D,s,e.internalFormat,n,i,0,a):r.texImage2D(r.TEXTURE_2D,s,e.internalFormat,n,i,0,e.format,e.type,a),n=Math.max(n>>1,1),i=Math.max(i>>1,1)}}},kB={id:"image",upload(t,e,r,n){const i=e.width,o=e.height,s=t.pixelWidth,a=t.pixelHeight,l=t.resourceWidth,c=t.resourceHeight;l<s||c<a?((i!==s||o!==a)&&r.texImage2D(e.target,0,e.internalFormat,s,a,0,e.format,e.type,null),n===2?r.texSubImage2D(r.TEXTURE_2D,0,0,0,l,c,e.format,e.type,t.resource):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,t.resource)):i===s&&o===a?r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,t.resource):n===2?r.texImage2D(e.target,0,e.internalFormat,s,a,0,e.format,e.type,t.resource):r.texImage2D(e.target,0,e.internalFormat,e.format,e.type,t.resource),e.width=s,e.height=a}},ide={id:"video",upload(t,e,r,n){if(!t.isValid){r.texImage2D(e.target,0,e.internalFormat,1,1,0,e.format,e.type,null);return}kB.upload(t,e,r,n)}},TT={linear:9729,nearest:9728},ode={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},Pv={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},sde={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function PT(t,e,r,n,i,o,s,a){const l=o;if(!a||t.addressModeU!=="repeat"||t.addressModeV!=="repeat"||t.addressModeW!=="repeat"){const c=Pv[s?"clamp-to-edge":t.addressModeU],u=Pv[s?"clamp-to-edge":t.addressModeV],f=Pv[s?"clamp-to-edge":t.addressModeW];e[i](l,e.TEXTURE_WRAP_S,c),e[i](l,e.TEXTURE_WRAP_T,u),e.TEXTURE_WRAP_R&&e[i](l,e.TEXTURE_WRAP_R,f)}if((!a||t.magFilter!=="linear")&&e[i](l,e.TEXTURE_MAG_FILTER,TT[t.magFilter]),r){if(!a||t.mipmapFilter!=="linear"){const c=ode[t.minFilter][t.mipmapFilter];e[i](l,e.TEXTURE_MIN_FILTER,c)}}else e[i](l,e.TEXTURE_MIN_FILTER,TT[t.minFilter]);if(n&&t.maxAnisotropy>1){const c=Math.min(t.maxAnisotropy,e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e[i](l,n.TEXTURE_MAX_ANISOTROPY_EXT,c)}t.compare&&e[i](l,e.TEXTURE_COMPARE_FUNC,sde[t.compare])}function ade(t){return{r8unorm:t.RED,r8snorm:t.RED,r8uint:t.RED,r8sint:t.RED,r16uint:t.RED,r16sint:t.RED,r16float:t.RED,rg8unorm:t.RG,rg8snorm:t.RG,rg8uint:t.RG,rg8sint:t.RG,r32uint:t.RED,r32sint:t.RED,r32float:t.RED,rg16uint:t.RG,rg16sint:t.RG,rg16float:t.RG,rgba8unorm:t.RGBA,"rgba8unorm-srgb":t.RGBA,rgba8snorm:t.RGBA,rgba8uint:t.RGBA,rgba8sint:t.RGBA,bgra8unorm:t.RGBA,"bgra8unorm-srgb":t.RGBA,rgb9e5ufloat:t.RGB,rgb10a2unorm:t.RGBA,rg11b10ufloat:t.RGB,rg32uint:t.RG,rg32sint:t.RG,rg32float:t.RG,rgba16uint:t.RGBA,rgba16sint:t.RGBA,rgba16float:t.RGBA,rgba32uint:t.RGBA,rgba32sint:t.RGBA,rgba32float:t.RGBA,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT,depth24plus:t.DEPTH_COMPONENT,"depth24plus-stencil8":t.DEPTH_STENCIL,depth32float:t.DEPTH_COMPONENT,"depth32float-stencil8":t.DEPTH_STENCIL}}function lde(t,e){let r={},n=t.RGBA;return t instanceof je.get().getWebGLRenderingContext()?e.srgb&&(r={"rgba8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT}):(r={"rgba8unorm-srgb":t.SRGB8_ALPHA8,"bgra8unorm-srgb":t.SRGB8_ALPHA8},n=t.RGBA8),{r8unorm:t.R8,r8snorm:t.R8_SNORM,r8uint:t.R8UI,r8sint:t.R8I,r16uint:t.R16UI,r16sint:t.R16I,r16float:t.R16F,rg8unorm:t.RG8,rg8snorm:t.RG8_SNORM,rg8uint:t.RG8UI,rg8sint:t.RG8I,r32uint:t.R32UI,r32sint:t.R32I,r32float:t.R32F,rg16uint:t.RG16UI,rg16sint:t.RG16I,rg16float:t.RG16F,rgba8unorm:t.RGBA,...r,rgba8snorm:t.RGBA8_SNORM,rgba8uint:t.RGBA8UI,rgba8sint:t.RGBA8I,bgra8unorm:n,rgb9e5ufloat:t.RGB9_E5,rgb10a2unorm:t.RGB10_A2,rg11b10ufloat:t.R11F_G11F_B10F,rg32uint:t.RG32UI,rg32sint:t.RG32I,rg32float:t.RG32F,rgba16uint:t.RGBA16UI,rgba16sint:t.RGBA16I,rgba16float:t.RGBA16F,rgba32uint:t.RGBA32UI,rgba32sint:t.RGBA32I,rgba32float:t.RGBA32F,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT16,depth24plus:t.DEPTH_COMPONENT24,"depth24plus-stencil8":t.DEPTH24_STENCIL8,depth32float:t.DEPTH_COMPONENT32F,"depth32float-stencil8":t.DEPTH32F_STENCIL8,...e.s3tc?{"bc1-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...e.s3tc_sRGB?{"bc1-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...e.rgtc?{"bc4-r-unorm":e.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...e.bptc?{"bc6h-rgb-float":e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...e.etc?{"etc2-rgb8unorm":e.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":e.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":e.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":e.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":e.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...e.astc?{"astc-4x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function cde(t){return{r8unorm:t.UNSIGNED_BYTE,r8snorm:t.BYTE,r8uint:t.UNSIGNED_BYTE,r8sint:t.BYTE,r16uint:t.UNSIGNED_SHORT,r16sint:t.SHORT,r16float:t.HALF_FLOAT,rg8unorm:t.UNSIGNED_BYTE,rg8snorm:t.BYTE,rg8uint:t.UNSIGNED_BYTE,rg8sint:t.BYTE,r32uint:t.UNSIGNED_INT,r32sint:t.INT,r32float:t.FLOAT,rg16uint:t.UNSIGNED_SHORT,rg16sint:t.SHORT,rg16float:t.HALF_FLOAT,rgba8unorm:t.UNSIGNED_BYTE,"rgba8unorm-srgb":t.UNSIGNED_BYTE,rgba8snorm:t.BYTE,rgba8uint:t.UNSIGNED_BYTE,rgba8sint:t.BYTE,bgra8unorm:t.UNSIGNED_BYTE,"bgra8unorm-srgb":t.UNSIGNED_BYTE,rgb9e5ufloat:t.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:t.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:t.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:t.UNSIGNED_INT,rg32sint:t.INT,rg32float:t.FLOAT,rgba16uint:t.UNSIGNED_SHORT,rgba16sint:t.SHORT,rgba16float:t.HALF_FLOAT,rgba32uint:t.UNSIGNED_INT,rgba32sint:t.INT,rgba32float:t.FLOAT,stencil8:t.UNSIGNED_BYTE,depth16unorm:t.UNSIGNED_SHORT,depth24plus:t.UNSIGNED_INT,"depth24plus-stencil8":t.UNSIGNED_INT_24_8,depth32float:t.FLOAT,"depth32float-stencil8":t.FLOAT_32_UNSIGNED_INT_24_8_REV}}const ude=4;class NB{constructor(e){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:kB,buffer:tde,video:ide,compressed:nde},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(e){this._gl=e,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=lde(e,this._renderer.context.extensions),this._mapFormatToType=cde(e),this._mapFormatToFormat=ade(e)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let r=0;r<16;r++)this.bind(Te.EMPTY,r)}initSource(e){this.bind(e)}bind(e,r=0){const n=e.source;e?(this.bindSource(n,r),this._useSeparateSamplers&&this._bindSampler(n.style,r)):(this.bindSource(null,r),this._useSeparateSamplers&&this._bindSampler(null,r))}bindSource(e,r=0){const n=this._gl;if(e._touched=this._renderer.textureGC.count,this._boundTextures[r]!==e){this._boundTextures[r]=e,this._activateLocation(r),e||(e=Te.EMPTY.source);const i=this.getGlSource(e);n.bindTexture(i.target,i.texture)}}_bindSampler(e,r=0){const n=this._gl;if(!e){this._boundSamplers[r]=null,n.bindSampler(r,null);return}const i=this._getGlSampler(e);this._boundSamplers[r]!==i&&(this._boundSamplers[r]=i,n.bindSampler(r,i))}unbind(e){const r=e.source,n=this._boundTextures,i=this._gl;for(let o=0;o<n.length;o++)if(n[o]===r){this._activateLocation(o);const s=this.getGlSource(r);i.bindTexture(s.target,null),n[o]=null}}_activateLocation(e){this._activeTextureLocation!==e&&(this._activeTextureLocation=e,this._gl.activeTexture(this._gl.TEXTURE0+e))}_initSource(e){const r=this._gl,n=new ede(r.createTexture());if(n.type=this._mapFormatToType[e.format],n.internalFormat=this._mapFormatToInternalFormat[e.format],n.format=this._mapFormatToFormat[e.format],e.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||e.isPowerOfTwo)){const i=Math.max(e.width,e.height);e.mipLevelCount=Math.floor(Math.log2(i))+1}return this._glTextures[e.uid]=n,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceUpdate,this),e.on("styleChange",this.onStyleChange,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),this.updateStyle(e,!1),n}onStyleChange(e){this.updateStyle(e,!1)}updateStyle(e,r){const n=this._gl,i=this.getGlSource(e);n.bindTexture(n.TEXTURE_2D,i.texture),this._boundTextures[this._activeTextureLocation]=e,PT(e.style,n,e.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",n.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!e.isPowerOfTwo,r)}onSourceUnload(e){const r=this._glTextures[e.uid];r&&(this.unbind(e),this._glTextures[e.uid]=null,this._gl.deleteTexture(r.texture))}onSourceUpdate(e){const r=this._gl,n=this.getGlSource(e);r.bindTexture(r.TEXTURE_2D,n.texture),this._boundTextures[this._activeTextureLocation]=e;const i=e.alphaMode==="premultiply-alpha-on-upload";this._premultiplyAlpha!==i&&(this._premultiplyAlpha=i,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i)),this._uploads[e.uploadMethodId]?this._uploads[e.uploadMethodId].upload(e,n,r,this._renderer.context.webGLVersion):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.pixelWidth,e.pixelHeight,0,r.RGBA,r.UNSIGNED_BYTE,null),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e,!1)}onUpdateMipmaps(e,r=!0){r&&this.bindSource(e,0);const n=this.getGlSource(e);this._gl.generateMipmap(n.target)}onSourceDestroy(e){e.off("destroy",this.onSourceDestroy,this),e.off("update",this.onSourceUpdate,this),e.off("resize",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("styleChange",this.onStyleChange,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}_initSampler(e){const r=this._gl,n=this._gl.createSampler();return this._glSamplers[e._resourceId]=n,PT(e,r,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",n,!1,!0),this._glSamplers[e._resourceId]}_getGlSampler(e){return this._glSamplers[e._resourceId]||this._initSampler(e)}getGlSource(e){return this._glTextures[e.uid]||this._initSource(e)}generateCanvas(e){const{pixels:r,width:n,height:i}=this.getPixels(e),o=je.get().createCanvas();o.width=n,o.height=i;const s=o.getContext("2d");if(s){const a=s.createImageData(n,i);a.data.set(r),s.putImageData(a,0,0)}return o}getPixels(e){const r=e.source.resolution,n=e.frame,i=Math.max(Math.round(n.width*r),1),o=Math.max(Math.round(n.height*r),1),s=new Uint8Array(ude*i*o),a=this._renderer,l=a.renderTarget.getRenderTarget(e),c=a.renderTarget.getGpuRenderTarget(l),u=a.gl;return u.bindFramebuffer(u.FRAMEBUFFER,c.resolveTargetFramebuffer),u.readPixels(Math.round(n.x*r),Math.round(n.y*r),i,o,u.RGBA,u.UNSIGNED_BYTE,s),{pixels:new Uint8ClampedArray(s.buffer),width:i,height:o}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(Te.EMPTY.source),this._boundSamplers=Object.create(null);const e=this._gl;this._premultiplyAlpha=!1,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha)}}NB.extension={type:[V.WebGLSystem],name:"texture"};class FB{contextChange(e){const r=new gn({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Re,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),n=e.limits.maxBatchableTextures,i=Ud({name:"graphics",bits:[_w,bw(n),Bw,Hd]});this.shader=new yi({glProgram:i,resources:{localUniforms:r,batchSamplers:ww(n)}})}execute(e,r){const n=r.context,i=n.customShader||this.shader,o=e.renderer,s=o.graphicsContext,{batcher:a,instructions:l}=s.getContextRenderData(n);i.groups[0]=o.globalUniforms.bindGroup,o.state.set(e.state),o.shader.bind(i),o.geometry.bind(a.geometry,i.glProgram);const c=l.instructions;for(let u=0;u<l.instructionSize;u++){const f=c[u];if(f.size){for(let d=0;d<f.textures.count;d++)o.texture.bind(f.textures.textures[d],d);o.geometry.draw(f.topology,f.size,f.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}FB.extension={type:[V.WebGLPipesAdaptor],name:"graphics"};class LB{init(){const e=Ud({name:"mesh",bits:[Bw,mfe,Hd]});this._shader=new yi({glProgram:e,resources:{uTexture:Te.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Re}}}})}execute(e,r){const n=e.renderer;let i=r._shader;if(i){if(!i.glProgram){Le("Mesh shader has no glProgram",r.shader);return}}else{i=this._shader;const o=r.texture,s=o.source;i.resources.uTexture=s,i.resources.uSampler=s.style,i.resources.textureUniforms.uniforms.uTextureMatrix=o.textureMatrix.mapCoord}i.groups[100]=n.globalUniforms.bindGroup,i.groups[101]=e.localUniformsBindGroup,n.encoder.draw({geometry:r._geometry,shader:i,state:r.state})}destroy(){this._shader.destroy(!0),this._shader=null}}LB.extension={type:[V.WebGLPipesAdaptor],name:"mesh"};class $B{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,r){this._renderer.renderPipes.batch.break(r),r.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}$B.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"customRender"};class jg{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}function E_(t,e){const r=t.instructionSet,n=r.instructions;for(let i=0;i<r.instructionSize;i++){const o=n[i];e[o.renderPipeId].execute(o)}}const fde=new Re;class UB{constructor(e){this._renderer=e}addRenderGroup(e,r){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,r):this._addRenderableDirect(e,r)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,r){this._renderer.renderPipes.batch.break(r),e._batchableRenderGroup&&(Gr.return(e._batchableRenderGroup),e._batchableRenderGroup=null),r.add(e)}_addRenderableCacheAsTexture(e,r){const n=e._batchableRenderGroup??(e._batchableRenderGroup=Gr.get(jg));n.renderable=e.root,n.transform=e.root.relativeGroupTransform,n.texture=e.texture,n.bounds=e._textureBounds,r.add(e),this._renderer.renderPipes.batch.addToBatch(n,r)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const r=fde.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:r,worldColor:4294967295}),E_(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),E_(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}UB.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"renderGroup"};function S_(t,e){e||(e=0);for(let r=e;r<t.length&&t[r];r++)t[r]=null}const dde=new Kn,IT=bf|u0|uw;function GB(t,e=!1){hde(t);const r=t.childrenToUpdate,n=t.updateTick++;for(const i in r){const o=Number(i),s=r[i],a=s.list,l=s.index;for(let c=0;c<l;c++){const u=a[c];u.parentRenderGroup===t&&u.relativeRenderGroupDepth===o&&HB(u,n,0)}S_(a,l),s.index=0}if(e)for(let i=0;i<t.renderGroupChildren.length;i++)GB(t.renderGroupChildren[i],e)}function hde(t){const e=t.root;let r;if(t.renderGroupParent){const n=t.renderGroupParent;t.worldTransform.appendFrom(e.relativeGroupTransform,n.worldTransform),t.worldColor=c0(e.groupColor,n.worldColor),r=e.groupAlpha*n.worldAlpha}else t.worldTransform.copyFrom(e.localTransform),t.worldColor=e.localColor,r=e.localAlpha;r=r<0?0:r>1?1:r,t.worldAlpha=r,t.worldColorAlpha=t.worldColor+((r*255|0)<<24)}function HB(t,e,r){if(e===t.updateTick)return;t.updateTick=e,t.didChange=!1;const n=t.localTransform;t.updateLocalTransform();const i=t.parent;if(i&&!i.renderGroup?(r|=t._updateFlags,t.relativeGroupTransform.appendFrom(n,i.relativeGroupTransform),r&IT&&OT(t,i,r)):(r=t._updateFlags,t.relativeGroupTransform.copyFrom(n),r&IT&&OT(t,dde,r)),!t.renderGroup){const o=t.children,s=o.length;for(let c=0;c<s;c++)HB(o[c],e,r);const a=t.parentRenderGroup,l=t;l.renderPipeId&&!a.structureDidChange&&a.updateRenderable(l)}}function OT(t,e,r){if(r&u0){t.groupColor=c0(t.localColor,e.groupColor);let n=t.localAlpha*e.groupAlpha;n=n<0?0:n>1?1:n,t.groupAlpha=n,t.groupColorAlpha=t.groupColor+((n*255|0)<<24)}r&uw&&(t.groupBlendMode=t.localBlendMode==="inherit"?e.groupBlendMode:t.localBlendMode),r&bf&&(t.globalDisplayStatus=t.localDisplayStatus&e.globalDisplayStatus),t._updateFlags=0}function pde(t,e){const{list:r,index:n}=t.childrenRenderablesToUpdate;let i=!1;for(let o=0;o<n;o++){const s=r[o];if(i=e[s.renderPipeId].validateRenderable(s),i)break}return t.structureDidChange=i,i}const gde=new Re;class VB{constructor(e){this._renderer=e}render({container:e,transform:r}){const n=e.parent,i=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const o=this._renderer;let s=gde;r&&(s=s.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(r));const a=o.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),o.globalUniforms.start({worldTransformMatrix:r?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),E_(e.renderGroup,a),a.uniformBatch&&a.uniformBatch.renderEnd(),r&&e.renderGroup.localTransform.copyFrom(s),e.parent=n,e.renderGroup.renderGroupParent=i}destroy(){this._renderer=null}_updateCachedRenderGroups(e,r){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;r=e}e._parentCacheAsTextureRenderGroup=r;for(let n=e.renderGroupChildren.length-1;n>=0;n--)this._updateCachedRenderGroups(e.renderGroupChildren[n],r);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const n=e.root.getLocalBounds();n.ceil();const i=e.texture;e.texture&&lr.returnTexture(e.texture,!0);const o=this._renderer,s=e.textureOptions.resolution||o.view.resolution,a=e.textureOptions.antialias??o.view.antialias,l=e.textureOptions.scaleMode??"linear",c=lr.getOptimalTexture(n.width,n.height,s,a);c._source.style=new vo({scaleMode:l}),e.texture=c,e._textureBounds||(e._textureBounds=new Hr),e._textureBounds.copyFrom(n),i!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(lr.returnTexture(e.texture,!0),e.texture=null)}_updateRenderGroups(e){const r=this._renderer,n=r.renderPipes;if(e.runOnRender(r),e.instructionSet.renderPipes=n,e.structureDidChange?S_(e.childrenRenderablesToUpdate.list,0):pde(e,n),GB(e),e.structureDidChange?(e.structureDidChange=!1,this._buildInstructions(e,r)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,r.renderPipes.batch.upload(e.instructionSet),!(e.isCachedAsTexture&&!e.textureNeedsUpdate))for(let i=0;i<e.renderGroupChildren.length;i++)this._updateRenderGroups(e.renderGroupChildren[i])}_updateRenderables(e){const{list:r,index:n}=e.childrenRenderablesToUpdate;for(let i=0;i<n;i++){const o=r[i];o.didViewUpdate&&e.updateRenderable(o)}S_(r,n)}_buildInstructions(e,r){const n=e.root,i=e.instructionSet;i.reset();const o=r.renderPipes?r:r.batch.renderer,s=o.renderPipes;s.batch.buildStart(i),s.blendMode.buildStart(),s.colorMask.buildStart(),n.sortableChildren&&n.sortChildren(),n.collectRenderablesWithEffects(i,o,null),s.batch.buildEnd(i),s.blendMode.buildEnd(i)}}VB.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"renderGroup"};class zB{constructor(e){this._renderer=e}addRenderable(e,r){const n=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n,r)}updateRenderable(e){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),r._batcher.updateElement(r)}validateRenderable(e){const r=this._getGpuSprite(e);return!r._batcher.checkAndUpdateTexture(r,e._texture)}_updateBatchableSprite(e,r){r.bounds=e.visualBounds,r.texture=e._texture}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const r=new jg;return r.renderable=e,r.transform=e.groupTransform,r.texture=e._texture,r.bounds=e.visualBounds,r.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=r,r}destroy(){this._renderer=null}}zB.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"sprite"};const Lw=class jB{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Dt(0),this.color=this._backgroundColor,this.alpha=1}init(e){e={...jB.defaultOptions,...e},this.clearBeforeRender=e.clearBeforeRender,this.color=e.background||e.backgroundColor||this._backgroundColor,this.alpha=e.backgroundAlpha,this._backgroundColor.setAlpha(e.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){Dt.shared.setValue(e).alpha<1&&this._backgroundColor.alpha===1&&Le("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application."),this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};Lw.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"background",priority:0};Lw.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let mde=Lw;const Tf={};Ge.handle(V.BlendMode,t=>{if(!t.name)throw new Error("BlendMode extension must have a name property");Tf[t.name]=t.ref},t=>{delete Tf[t.name]});class WB{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}setBlendMode(e,r,n){if(this._activeBlendMode===r){this._isAdvanced&&this._renderableList.push(e);return}this._activeBlendMode=r,this._isAdvanced&&this._endAdvancedBlendMode(n),this._isAdvanced=!!Tf[r],this._isAdvanced&&(this._beginAdvancedBlendMode(n),this._renderableList.push(e))}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const r=this._activeBlendMode;if(!Tf[r]){Le(`Unable to assign BlendMode: '${r}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let n=this._filterHash[r];n||(n=this._filterHash[r]=new l0,n.filters=[new Tf[r]]);const i={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:n,canBundle:!1};this._renderableList=i.renderables,e.add(i)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}WB.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"blendMode"};const Iv={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},$w=class XB{constructor(e){this._renderer=e}_normalizeOptions(e,r={}){return e instanceof Kn||e instanceof Te?{target:e,...r}:{...r,...e}}async image(e){const r=je.get().createImage();return r.src=await this.base64(e),r}async base64(e){e=this._normalizeOptions(e,XB.defaultImageOptions);const{format:r,quality:n}=e,i=this.canvas(e);if(i.toBlob!==void 0)return new Promise((o,s)=>{i.toBlob(a=>{if(!a){s(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=s,l.readAsDataURL(a)},Iv[r],n)});if(i.toDataURL!==void 0)return i.toDataURL(Iv[r],n);if(i.convertToBlob!==void 0){const o=await i.convertToBlob({type:Iv[r],quality:n});return new Promise((s,a)=>{const l=new FileReader;l.onload=()=>s(l.result),l.onerror=a,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){e=this._normalizeOptions(e);const r=e.target,n=this._renderer;if(r instanceof Te)return n.texture.generateCanvas(r);const i=n.textureGenerator.generateTexture(e),o=n.texture.generateCanvas(i);return i.destroy(!0),o}pixels(e){e=this._normalizeOptions(e);const r=e.target,n=this._renderer,i=r instanceof Te?r:n.textureGenerator.generateTexture(e),o=n.texture.getPixels(i);return r instanceof Kn&&i.destroy(!0),o}texture(e){return e=this._normalizeOptions(e),e.target instanceof Te?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const r=this.canvas(e),n=document.createElement("a");n.download=e.filename??"image.png",n.href=r.toDataURL("image/png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}log(e){const r=e.width??200;e=this._normalizeOptions(e);const n=this.canvas(e),i=n.toDataURL();console.log(`[Pixi Texture] ${n.width}px ${n.height}px`);const o=["font-size: 1px;",`padding: ${r}px 300px;`,`background: url(${i}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",o)}destroy(){this._renderer=null}};$w.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"extract"};$w.defaultImageOptions={format:"png",quality:1};let vde=$w;class Uw extends Te{static create(e){return new Uw({source:new Sr(e)})}resize(e,r,n){return this.source.resize(e,r,n),this}}const yde=new xt,_de=new Hr,xde=[0,0,0,0];class YB{constructor(e){this._renderer=e}generateTexture(e){var c;e instanceof Kn&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const r=e.resolution||this._renderer.resolution,n=e.antialias||this._renderer.view.antialias,i=e.target;let o=e.clearColor;o?o=Array.isArray(o)&&o.length===4?o:Dt.shared.setValue(o).toArray():o=xde;const s=((c=e.frame)==null?void 0:c.copyTo(yde))||cw(i,_de).rectangle;s.width=Math.max(s.width,1/r)|0,s.height=Math.max(s.height,1/r)|0;const a=Uw.create({...e.textureSourceOptions,width:s.width,height:s.height,resolution:r,antialias:n}),l=Re.shared.translate(-s.x,-s.y);return this._renderer.render({container:i,transform:l,target:a,clearColor:o}),a.source.updateMipmaps(),a}destroy(){this._renderer=null}}YB.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"textureGenerator"};function Vd(t,e,r){const n=(t>>24&255)/255;e[r++]=(t&255)/255*n,e[r++]=(t>>8&255)/255*n,e[r++]=(t>>16&255)/255*n,e[r++]=n}class KB{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:r,worldTransformMatrix:n,worldColor:i,offset:o}){const s=this._renderer.renderTarget.renderTarget,a=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:s,worldTransformMatrix:new Re,worldColor:4294967295,offset:new Vt},l={projectionMatrix:r||this._renderer.renderTarget.projectionMatrix,resolution:e||s.size,worldTransformMatrix:n||a.worldTransformMatrix,worldColor:i||a.worldColor,offset:o||a.offset,bindGroup:null},c=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(c);const u=c.uniforms;u.uProjectionMatrix=l.projectionMatrix,u.uResolution=l.resolution,u.uWorldTransformMatrix.copyFrom(l.worldTransformMatrix),u.uWorldTransformMatrix.tx-=l.offset.x,u.uWorldTransformMatrix.ty-=l.offset.y,Vd(l.worldColor,u.uWorldColorAlpha,0),c.update();let f;this._renderer.renderPipes.uniformBatch?f=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(c,!1):(f=this._bindGroupPool.pop()||new Wo,this._activeBindGroups.push(f),f.setResource(c,0)),l.bindGroup=f,this._currentGlobalUniformData=l}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===qn.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new gn({uProjectionMatrix:{value:new Re,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new Re,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}KB.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"globalUniforms"};let bde=1;class qB{constructor(){this._tasks=[],this._offset=0}init(){$r.system.add(this._update,this)}repeat(e,r,n=!0){const i=bde++;let o=0;return n&&(this._offset+=1e3,o=this._offset),this._tasks.push({func:e,duration:r,start:performance.now(),offset:o,last:performance.now(),repeat:!0,id:i}),i}cancel(e){for(let r=0;r<this._tasks.length;r++)if(this._tasks[r].id===e){this._tasks.splice(r,1);return}}_update(){const e=performance.now();for(let r=0;r<this._tasks.length;r++){const n=this._tasks[r];if(e-n.offset-n.last>=n.duration){const i=e-n.start;n.func(i),n.last=e}}}destroy(){$r.system.remove(this._update,this),this._tasks.length=0}}qB.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"scheduler",priority:0};let RT=!1;function wde(t){if(!RT){if(je.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const e=[`%c  %c  %c  %c  %c PixiJS %c v${d0} (${t}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...e)}else globalThis.console&&globalThis.console.log(`PixiJS ${d0} - ${t} - http://www.pixijs.com/`);RT=!0}}class Gw{constructor(e){this._renderer=e}init(e){if(e.hello){let r=this._renderer.name;this._renderer.type===qn.WEBGL&&(r+=` ${this._renderer.context.webGLVersion}`),wde(r)}}}Gw.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"hello",priority:-2};Gw.defaultOptions={hello:!1};function Ede(t){let e=!1;for(const n in t)if(t[n]==null){e=!0;break}if(!e)return t;const r=Object.create(null);for(const n in t){const i=t[n];i&&(r[n]=i)}return r}function Sde(t){let e=0;for(let r=0;r<t.length;r++)t[r]==null?e++:t[r-e]=t[r];return t.length-=e,t}let Cde=0;const Hw=class ZB{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(e){e={...ZB.defaultOptions,...e},this.maxUnusedTime=e.renderableGCMaxUnusedTime,this._frequency=e.renderableGCFrequency,this.enabled=e.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const r of this._managedHashes)r.context[r.hash]=Ede(r.context[r.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const r of this._managedArrays)Sde(r.context[r.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,r){this._managedHashes.push({context:e,hash:r})}addManagedArray(e,r){this._managedArrays.push({context:e,hash:r})}prerender({container:e}){this._now=performance.now(),e.renderGroup.gcTick=Cde++,this._updateInstructionGCTick(e.renderGroup,e.renderGroup.gcTick)}addRenderable(e){this.enabled&&(e._lastUsed===-1&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){var o;const e=this._now,r=this._managedRenderables,n=this._renderer.renderPipes;let i=0;for(let s=0;s<r.length;s++){const a=r[s];if(a===null){i++;continue}const l=a.renderGroup??a.parentRenderGroup,c=((o=l==null?void 0:l.instructionSet)==null?void 0:o.gcTick)??-1;if(((l==null?void 0:l.gcTick)??0)===c&&(a._lastUsed=e),e-a._lastUsed>this.maxUnusedTime){if(!a.destroyed){const u=n;l&&(l.structureDidChange=!0),u[a.renderPipeId].destroyRenderable(a)}a._lastUsed=-1,i++,a.off("destroyed",this._removeRenderable,this)}else r[s-i]=a}r.length-=i}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const r=this._managedRenderables.indexOf(e);r>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[r]=null)}_updateInstructionGCTick(e,r){e.instructionSet.gcTick=r;for(const n of e.renderGroupChildren)this._updateInstructionGCTick(n,r)}};Hw.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"renderableGC",priority:0};Hw.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let Ade=Hw;const Vw=class JB{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(e){e={...JB.defaultOptions,...e},this.checkCountMax=e.textureGCCheckCountMax,this.maxIdle=e.textureGCAMaxIdle??e.textureGCMaxIdle,this.active=e.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let r=0;r<e.length;r++){const n=e[r];n.autoGarbageCollect&&n.resource&&n._touched>-1&&this.count-n._touched>this.maxIdle&&(n._touched=-1,n.unload())}}destroy(){this._renderer=null}};Vw.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"textureGC"};Vw.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:60*60,textureGCCheckCountMax:600};let Tde=Vw;const zw=class QB{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(e){e={...QB.defaultOptions,...e},e.view&&($e(ot,"ViewSystem.view has been renamed to ViewSystem.canvas"),e.canvas=e.view),this.screen=new xt(0,0,e.width,e.height),this.canvas=e.canvas||je.get().createCanvas(),this.antialias=!!e.antialias,this.texture=CB(this.canvas,e),this.renderTarget=new b_({colorTextures:[this.texture],depth:!!e.depth,isRoot:!0}),this.texture.source.transparent=e.backgroundAlpha<1,this.resolution=e.resolution}resize(e,r,n){this.texture.source.resize(e,r,n),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){(typeof e=="boolean"?e:!!(e!=null&&e.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};zw.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"view",priority:0};zw.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let Pde=zw;const ek=[mde,KB,Gw,Pde,VB,Tde,YB,vde,g6,Ade,qB],tk=[WB,sB,zB,UB,aB,cB,lB,$B],Ide=[...ek,SB,Cfe,xfe,yB,uB,NB,IB,pB,DB,MB,vB,Qfe,_B,mB],Ode=[...tk],Rde=[nB,LB,FB],rk=[],nk=[],ik=[];Ge.handleByNamedList(V.WebGLSystem,rk);Ge.handleByNamedList(V.WebGLPipes,nk);Ge.handleByNamedList(V.WebGLPipesAdaptor,ik);Ge.add(...Ide,...Ode,...Rde);class Mde extends Gg{constructor(){const e={name:"webgl",type:qn.WEBGL,systems:rk,renderPipes:nk,renderPipeAdaptors:ik};super(e)}}const Dde=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer:Mde},Symbol.toStringTag,{value:"Module"}));class ok{constructor(e){this._hash=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(e){this._gpu=e}getBindGroup(e,r,n){return e._updateKey(),this._hash[e._key]||this._createBindGroup(e,r,n)}_createBindGroup(e,r,n){const i=this._gpu.device,o=r.layout[n],s=[],a=this._renderer;for(const u in o){const f=e.resources[u]??e.resources[o[u]];let d;if(f._resourceType==="uniformGroup"){const h=f;a.ubo.updateUniformGroup(h);const p=h.buffer;d={buffer:a.buffer.getGPUBuffer(p),offset:0,size:p.descriptor.size}}else if(f._resourceType==="buffer"){const h=f;d={buffer:a.buffer.getGPUBuffer(h),offset:0,size:h.descriptor.size}}else if(f._resourceType==="bufferResource"){const h=f;d={buffer:a.buffer.getGPUBuffer(h.buffer),offset:h.offset,size:h.size}}else if(f._resourceType==="textureSampler"){const h=f;d=a.texture.getGpuSampler(h)}else if(f._resourceType==="textureSource"){const h=f;d=a.texture.getGpuSource(h).createView({})}s.push({binding:o[u],resource:d})}const l=a.shader.getProgramData(r).bindGroups[n],c=i.createBindGroup({layout:l,entries:s});return this._hash[e._key]=c,c}destroy(){for(const e of Object.keys(this._hash))this._hash[e]=null;this._hash=null,this._renderer=null}}ok.extension={type:[V.WebGPUSystem],name:"bindGroup"};class sk{constructor(e){this._gpuBuffers=Object.create(null),this._managedBuffers=[],e.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(e){this._gpu=e}getGPUBuffer(e){return this._gpuBuffers[e.uid]||this.createGPUBuffer(e)}updateBuffer(e){const r=this._gpuBuffers[e.uid]||this.createGPUBuffer(e),n=e.data;return e._updateID&&n&&(e._updateID=0,this._gpu.device.queue.writeBuffer(r,0,n.buffer,0,(e._updateSize||n.byteLength)+3&-4)),r}destroyAll(){for(const e in this._gpuBuffers)this._gpuBuffers[e].destroy();this._gpuBuffers={}}createGPUBuffer(e){this._gpuBuffers[e.uid]||(e.on("update",this.updateBuffer,this),e.on("change",this.onBufferChange,this),e.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(e));const r=this._gpu.device.createBuffer(e.descriptor);return e._updateID=0,e.data&&(d_(e.data.buffer,r.getMappedRange()),r.unmap()),this._gpuBuffers[e.uid]=r,r}onBufferChange(e){this._gpuBuffers[e.uid].destroy(),e._updateID=0,this._gpuBuffers[e.uid]=this.createGPUBuffer(e)}onBufferDestroy(e){this._managedBuffers.splice(this._managedBuffers.indexOf(e),1),this._destroyBuffer(e)}destroy(){this._managedBuffers.forEach(e=>this._destroyBuffer(e)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(e){this._gpuBuffers[e.uid].destroy(),e.off("update",this.updateBuffer,this),e.off("change",this.onBufferChange,this),e.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[e.uid]=null}}sk.extension={type:[V.WebGPUSystem],name:"buffer"};class Bde{constructor({minUniformOffsetAlignment:e}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=e,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(e){if(e>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${e*4}`);const r=this.byteIndex;let n=r+e*4;if(n=Math.ceil(n/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,n>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=n,r}addGroup(e){const r=this.addEmptyGroup(e.length);for(let n=0;n<e.length;n++)this.data[r/4+n]=e[n];return r}destroy(){this.data=null}}class ak{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.pipeline.setColorMask(e))}destroy(){this._renderer=null,this._colorMaskCache=null}}ak.extension={type:[V.WebGPUSystem],name:"colorMask"};class jw{constructor(e){this._renderer=e}async init(e){return this._initPromise?this._initPromise:(this._initPromise=(e.gpu?Promise.resolve(e.gpu):this._createDeviceAndAdaptor(e)).then(r=>{this.gpu=r,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(e){this._renderer.gpu=e}async _createDeviceAndAdaptor(e){const r=await je.get().getNavigator().gpu.requestAdapter({powerPreference:e.powerPreference,forceFallbackAdapter:e.forceFallbackAdapter}),n=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(o=>r.features.has(o)),i=await r.requestDevice({requiredFeatures:n});return{adapter:r,device:i}}destroy(){this.gpu=null,this._renderer=null}}jw.extension={type:[V.WebGPUSystem],name:"device"};jw.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class lk{constructor(e){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=e}renderStart(){this.commandFinished=new Promise(e=>{this._resolveCommandFinished=e}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(e){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(e.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(e){this.renderPassEncoder.setViewport(e.x,e.y,e.width,e.height,0,1)}setPipelineFromGeometryProgramAndState(e,r,n,i){const o=this._renderer.pipeline.getPipeline(e,r,n,i);this.setPipeline(o)}setPipeline(e){this._boundPipeline!==e&&(this._boundPipeline=e,this.renderPassEncoder.setPipeline(e))}_setVertexBuffer(e,r){this._boundVertexBuffer[e]!==r&&(this._boundVertexBuffer[e]=r,this.renderPassEncoder.setVertexBuffer(e,this._renderer.buffer.updateBuffer(r)))}_setIndexBuffer(e){if(this._boundIndexBuffer===e)return;this._boundIndexBuffer=e;const r=e.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e),r)}resetBindGroup(e){this._boundBindGroup[e]=null}setBindGroup(e,r,n){if(this._boundBindGroup[e]===r)return;this._boundBindGroup[e]=r,r._touch(this._renderer.textureGC.count);const i=this._renderer.bindGroup.getBindGroup(r,n,e);this.renderPassEncoder.setBindGroup(e,i)}setGeometry(e,r){const n=this._renderer.pipeline.getBufferNamesToBind(e,r);for(const i in n)this._setVertexBuffer(i,e.attributes[n[i]].buffer);e.indexBuffer&&this._setIndexBuffer(e.indexBuffer)}_setShaderBindGroups(e,r){for(const n in e.groups){const i=e.groups[n];r||this._syncBindGroup(i),this.setBindGroup(n,i,e.gpuProgram)}}_syncBindGroup(e){for(const r in e.resources){const n=e.resources[r];n.isUniformGroup&&this._renderer.ubo.updateUniformGroup(n)}}draw(e){const{geometry:r,shader:n,state:i,topology:o,size:s,start:a,instanceCount:l,skipSync:c}=e;this.setPipelineFromGeometryProgramAndState(r,n.gpuProgram,i,o),this.setGeometry(r,n.gpuProgram),this._setShaderBindGroups(n,c),r.indexBuffer?this.renderPassEncoder.drawIndexed(s||r.indexBuffer.data.length,l??r.instanceCount,a||0):this.renderPassEncoder.draw(s||r.getSize(),l??r.instanceCount,a||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const e=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(e);const r=this._boundPipeline,n={...this._boundVertexBuffer},i=this._boundIndexBuffer,o={...this._boundBindGroup};this._clearCache();const s=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(s.x,s.y,s.width,s.height,0,1),this.setPipeline(r);for(const a in n)this._setVertexBuffer(a,n[a]);for(const a in o)this.setBindGroup(a,o[a],null);this._setIndexBuffer(i)}_clearCache(){for(let e=0;e<16;e++)this._boundBindGroup[e]=null,this._boundVertexBuffer[e]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(e){this._gpu=e}}lk.extension={type:[V.WebGPUSystem],name:"encoder",priority:1};class ck{constructor(e){this._renderer=e}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}ck.extension={type:[V.WebGPUSystem],name:"limits"};class uk{constructor(e){this._renderTargetStencilState=Object.create(null),this._renderer=e,e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){let r=this._renderTargetStencilState[e.uid];r||(r=this._renderTargetStencilState[e.uid]={stencilMode:or.DISABLED,stencilReference:0}),this._activeRenderTarget=e,this.setStencilMode(r.stencilMode,r.stencilReference)}setStencilMode(e,r){const n=this._renderTargetStencilState[this._activeRenderTarget.uid];n.stencilMode=e,n.stencilReference=r;const i=this._renderer;i.pipeline.setStencilMode(e),i.encoder.renderPassEncoder.setStencilReference(r)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}uk.extension={type:[V.WebGPUSystem],name:"stencil"};const Sp={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function kde(t){const e=t.map(n=>({data:n,offset:0,size:0}));let r=0;for(let n=0;n<e.length;n++){const i=e[n];let o=Sp[i.data.type].size;const s=Sp[i.data.type].align;if(!Sp[i.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${i.data.type}`);i.data.size>1&&(o=Math.max(o,s)*i.data.size),r=Math.ceil(r/s)*s,i.size=o,i.offset=r,r+=o}return r=Math.ceil(r/16)*16,{uboElements:e,size:r}}function Nde(t,e){const{size:r,align:n}=Sp[t.data.type],i=(n-r)/4,o=t.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${t.data.name};
         ${e!==0?`offset += ${e};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${t.data.size*(r/4)}; i++)
         {
             for(var j = 0; j < ${r/4}; j++)
             {
                 ${o}[arrayOffset++] = v[t++];
             }
             ${i!==0?`arrayOffset += ${i};`:""}
         }
     `}function Fde(t){return wB(t,"uboWgsl",Nde,Pfe)}class fk extends xB{constructor(){super({createUboElements:kde,generateUboSync:Fde})}}fk.extension={type:[V.WebGPUSystem],name:"ubo"};const _s=128;class dk{constructor(e){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new Bde({minUniformOffsetAlignment:_s});const r=256/_s;for(let n=0;n<r;n++){let i=st.UNIFORM|st.COPY_DST;n===0&&(i|=st.COPY_SRC),this._buffers.push(new jn({data:this._batchBuffer.data,usage:i}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const e in this._bindGroupHash)this._bindGroupHash[e]=null;this._batchBuffer.clear()}getUniformBindGroup(e,r){if(!r&&this._bindGroupHash[e.uid])return this._bindGroupHash[e.uid];this._renderer.ubo.ensureUniformGroup(e);const n=e.buffer.data,i=this._batchBuffer.addEmptyGroup(n.length);return this._renderer.ubo.syncUniformGroup(e,this._batchBuffer.data,i/4),this._bindGroupHash[e.uid]=this._getBindGroup(i/_s),this._bindGroupHash[e.uid]}getUboResource(e){this._renderer.ubo.updateUniformGroup(e);const r=e.buffer.data,n=this._batchBuffer.addGroup(r);return this._getBufferResource(n/_s)}getArrayBindGroup(e){const r=this._batchBuffer.addGroup(e);return this._getBindGroup(r/_s)}getArrayBufferResource(e){const n=this._batchBuffer.addGroup(e)/_s;return this._getBufferResource(n)}_getBufferResource(e){if(!this._bufferResources[e]){const r=this._buffers[e%2];this._bufferResources[e]=new Fw({buffer:r,offset:(e/2|0)*256,size:_s})}return this._bufferResources[e]}_getBindGroup(e){if(!this._bindGroups[e]){const r=new Wo({0:this._getBufferResource(e)});this._bindGroups[e]=r}return this._bindGroups[e]}_uploadBindGroups(){const e=this._renderer.buffer,r=this._buffers[0];r.update(this._batchBuffer.byteIndex),e.updateBuffer(r);const n=this._renderer.gpu.device.createCommandEncoder();for(let i=1;i<this._buffers.length;i++){const o=this._buffers[i];n.copyBufferToBuffer(e.getGPUBuffer(r),_s,e.getGPUBuffer(o),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([n.finish()])}destroy(){for(let e=0;e<this._bindGroups.length;e++)this._bindGroups[e].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let e=0;e<this._buffers.length;e++)this._buffers[e].destroy();this._buffers=null;for(let e=0;e<this._bufferResources.length;e++)this._bufferResources[e].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}dk.extension={type:[V.WebGPUPipes],name:"uniformBatch"};const Lde={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function $de(t,e,r,n,i){return t<<24|e<<16|r<<10|n<<5|i}function Ude(t,e,r,n){return r<<6|t<<3|n<<1|e}class hk{constructor(e){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=e}contextChange(e){this._gpu=e,this.setStencilMode(or.DISABLED),this._updatePipeHash()}setMultisampleCount(e){this._multisampleCount!==e&&(this._multisampleCount=e,this._updatePipeHash())}setRenderTarget(e){this._multisampleCount=e.msaaSamples,this._depthStencilAttachment=e.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(e){this._colorMask!==e&&(this._colorMask=e,this._updatePipeHash())}setStencilMode(e){this._stencilMode!==e&&(this._stencilMode=e,this._stencilState=da[e],this._updatePipeHash())}setPipeline(e,r,n,i){const o=this.getPipeline(e,r,n);i.setPipeline(o)}getPipeline(e,r,n,i){e._layoutKey||(dB(e,r.attributeData),this._generateBufferKey(e)),i||(i=e.topology);const o=$de(e._layoutKey,r._layoutKey,n.data,n._blendModeId,Lde[i]);return this._pipeCache[o]?this._pipeCache[o]:(this._pipeCache[o]=this._createPipeline(e,r,n,i),this._pipeCache[o])}_createPipeline(e,r,n,i){const o=this._gpu.device,s=this._createVertexBufferLayouts(e,r),a=this._renderer.state.getColorTargets(n);a[0].writeMask=this._stencilMode===or.RENDERING_MASK_ADD?0:this._colorMask;const l=this._renderer.shader.getProgramData(r).pipeline,c={vertex:{module:this._getModule(r.vertex.source),entryPoint:r.vertex.entryPoint,buffers:s},fragment:{module:this._getModule(r.fragment.source),entryPoint:r.fragment.entryPoint,targets:a},primitive:{topology:i,cullMode:n.cullMode},layout:l,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(c.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:n.depthTest,depthCompare:n.depthTest?"less":"always"}),o.createRenderPipeline(c)}_getModule(e){return this._moduleCache[e]||this._createModule(e)}_createModule(e){const r=this._gpu.device;return this._moduleCache[e]=r.createShaderModule({code:e}),this._moduleCache[e]}_generateBufferKey(e){const r=[];let n=0;const i=Object.keys(e.attributes).sort();for(let s=0;s<i.length;s++){const a=e.attributes[i[s]];r[n++]=a.offset,r[n++]=a.format,r[n++]=a.stride,r[n++]=a.instance}const o=r.join("|");return e._layoutKey=id(o,"geometry"),e._layoutKey}_generateAttributeLocationsKey(e){const r=[];let n=0;const i=Object.keys(e.attributeData).sort();for(let s=0;s<i.length;s++){const a=e.attributeData[i[s]];r[n++]=a.location}const o=r.join("|");return e._attributeLocationsKey=id(o,"programAttributes"),e._attributeLocationsKey}getBufferNamesToBind(e,r){const n=e._layoutKey<<16|r._attributeLocationsKey;if(this._bindingNamesCache[n])return this._bindingNamesCache[n];const i=this._createVertexBufferLayouts(e,r),o=Object.create(null),s=r.attributeData;for(let a=0;a<i.length;a++){const c=Object.values(i[a].attributes)[0].shaderLocation;for(const u in s)if(s[u].location===c){o[a]=u;break}}return this._bindingNamesCache[n]=o,o}_createVertexBufferLayouts(e,r){r._attributeLocationsKey||this._generateAttributeLocationsKey(r);const n=e._layoutKey<<16|r._attributeLocationsKey;if(this._bufferLayoutsCache[n])return this._bufferLayoutsCache[n];const i=[];return e.buffers.forEach(o=>{const s={arrayStride:0,stepMode:"vertex",attributes:[]},a=s.attributes;for(const l in r.attributeData){const c=e.attributes[l];(c.divisor??1)!==1&&Le(`Attribute ${l} has an invalid divisor value of '${c.divisor}'. WebGPU only supports a divisor value of 1`),c.buffer===o&&(s.arrayStride=c.stride,s.stepMode=c.instance?"instance":"vertex",a.push({shaderLocation:r.attributeData[l].location,offset:c.offset,format:c.format}))}a.length&&i.push(s)}),this._bufferLayoutsCache[n]=i,i}_updatePipeHash(){const e=Ude(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[e]||(this._pipeStateCaches[e]=Object.create(null)),this._pipeCache=this._pipeStateCaches[e]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}hk.extension={type:[V.WebGPUSystem],name:"pipeline"};class Gde{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class Hde{init(e,r){this._renderer=e,this._renderTargetSystem=r}copyToTexture(e,r,n,i,o){const s=this._renderer,a=this._getGpuColorTexture(e),l=s.texture.getGpuSource(r.source);return s.encoder.commandEncoder.copyTextureToTexture({texture:a,origin:n},{texture:l,origin:o},i),r}startRenderPass(e,r=!0,n,i){const s=this._renderTargetSystem.getGpuRenderTarget(e),a=this.getDescriptor(e,r,n);s.descriptor=a,this._renderer.pipeline.setRenderTarget(s),this._renderer.encoder.beginRenderPass(s),this._renderer.encoder.setViewport(i)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);return r.contexts[0]?r.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(e.colorTextures[0].source)}getDescriptor(e,r,n){typeof r=="boolean"&&(r=r?Gn.ALL:Gn.NONE);const i=this._renderTargetSystem,o=i.getGpuRenderTarget(e),s=e.colorTextures.map((c,u)=>{const f=o.contexts[u];let d,h;f?d=f.getCurrentTexture().createView():d=this._renderer.texture.getGpuSource(c).createView({mipLevelCount:1}),o.msaaTextures[u]&&(h=d,d=this._renderer.texture.getTextureView(o.msaaTextures[u]));const p=r&Gn.COLOR?"clear":"load";return n??(n=i.defaultClearColor),{view:d,resolveTarget:h,clearValue:n,storeOp:"store",loadOp:p}});let a;if((e.stencil||e.depth)&&!e.depthStencilTexture&&(e.ensureDepthStencilTexture(),e.depthStencilTexture.source.sampleCount=o.msaa?4:1),e.depthStencilTexture){const c=r&Gn.STENCIL?"clear":"load",u=r&Gn.DEPTH?"clear":"load";a={view:this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:c,depthClearValue:1,depthLoadOp:u,depthStoreOp:"store"}}return{colorAttachments:s,depthStencilAttachment:a}}clear(e,r=!0,n,i){if(!r)return;const{gpu:o,encoder:s}=this._renderer,a=o.device;if(s.commandEncoder===null){const c=a.createCommandEncoder(),u=this.getDescriptor(e,r,n),f=c.beginRenderPass(u);f.setViewport(i.x,i.y,i.width,i.height,0,1),f.end();const d=c.finish();a.queue.submit([d])}else this.startRenderPass(e,r,n,i)}initGpuRenderTarget(e){e.isRoot=!0;const r=new Gde;return e.colorTextures.forEach((n,i)=>{if(n instanceof ao){const o=n.resource.getContext("webgpu"),s=n.transparent?"premultiplied":"opaque";try{o.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:s})}catch(a){console.error(a)}r.contexts[i]=o}if(r.msaa=n.source.antialias,n.source.antialias){const o=new Sr({width:0,height:0,sampleCount:4});r.msaaTextures[i]=o}}),r.msaa&&(r.msaaSamples=4,e.depthStencilTexture&&(e.depthStencilTexture.source.sampleCount=4)),r}destroyGpuRenderTarget(e){e.contexts.forEach(r=>{r.unconfigure()}),e.msaaTextures.forEach(r=>{r.destroy()}),e.msaaTextures.length=0,e.contexts.length=0}ensureDepthStencilTexture(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);e.depthStencilTexture&&r.msaa&&(e.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);r.width=e.width,r.height=e.height,r.msaa&&e.colorTextures.forEach((n,i)=>{const o=r.msaaTextures[i];o==null||o.resize(n.source.width,n.source.height,n.source._resolution)})}}class pk extends PB{constructor(e){super(e),this.adaptor=new Hde,this.adaptor.init(e,this)}}pk.extension={type:[V.WebGPUSystem],name:"renderTarget"};class gk{constructor(){this._gpuProgramData=Object.create(null)}contextChange(e){this._gpu=e}getProgramData(e){return this._gpuProgramData[e._layoutKey]||this._createGPUProgramData(e)}_createGPUProgramData(e){const r=this._gpu.device,n=e.gpuLayout.map(o=>r.createBindGroupLayout({entries:o})),i={bindGroupLayouts:n};return this._gpuProgramData[e._layoutKey]={bindGroups:n,pipeline:r.createPipelineLayout(i)},this._gpuProgramData[e._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}gk.extension={type:[V.WebGPUSystem],name:"shader"};const Bn={};Bn.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};Bn.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};Bn.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};Bn.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Bn.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Bn.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};Bn["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};Bn["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};Bn["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};Bn.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};Bn.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};Bn.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}};class mk{constructor(){this.defaultState=new Li,this.defaultState.blend=!0}contextChange(e){this.gpu=e}getColorTargets(e){return[{format:"bgra8unorm",writeMask:0,blend:Bn[e.blendMode]||Bn.normal}]}destroy(){this.gpu=null}}mk.extension={type:[V.WebGPUSystem],name:"state"};const Vde={type:"image",upload(t,e,r){const n=t.resource,i=(t.pixelWidth|0)*(t.pixelHeight|0),o=n.byteLength/i;r.device.queue.writeTexture({texture:e},n,{offset:0,rowsPerImage:t.pixelHeight,bytesPerRow:t.pixelHeight*o},{width:t.pixelWidth,height:t.pixelHeight,depthOrArrayLayers:1})}},vk={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},zde={blockBytes:4,blockWidth:1,blockHeight:1},jde={type:"compressed",upload(t,e,r){let n=t.pixelWidth,i=t.pixelHeight;const o=vk[t.format]||zde;for(let s=0;s<t.resource.length;s++){const a=t.resource[s],l=Math.ceil(n/o.blockWidth)*o.blockBytes;r.device.queue.writeTexture({texture:e,mipLevel:s},a,{offset:0,bytesPerRow:l},{width:Math.ceil(n/o.blockWidth)*o.blockWidth,height:Math.ceil(i/o.blockHeight)*o.blockHeight,depthOrArrayLayers:1}),n=Math.max(n>>1,1),i=Math.max(i>>1,1)}}},yk={type:"image",upload(t,e,r){const n=t.resource;if(!n)return;if(globalThis.HTMLImageElement&&n instanceof HTMLImageElement){const a=je.get().createCanvas(n.width,n.height);a.getContext("2d").drawImage(n,0,0,n.width,n.height),t.resource=a,Le("ImageSource: Image element passed, converting to canvas and replacing resource.")}const i=Math.min(e.width,t.resourceWidth||t.pixelWidth),o=Math.min(e.height,t.resourceHeight||t.pixelHeight),s=t.alphaMode==="premultiply-alpha-on-upload";r.device.queue.copyExternalImageToTexture({source:n},{texture:e,premultipliedAlpha:s},{width:i,height:o})}},Wde={type:"video",upload(t,e,r){yk.upload(t,e,r)}};class Xde{constructor(e){this.device=e,this.sampler=e.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(e){let r=this.pipelines[e];return r||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),r=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:e}]}}),this.pipelines[e]=r),r}generateMipmap(e){const r=this._getMipmapPipeline(e.format);if(e.dimension==="3d"||e.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let n=e;const i=e.depthOrArrayLayers||1,o=e.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!o){const l={size:{width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i},format:e.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:e.mipLevelCount-1};n=this.device.createTexture(l)}const s=this.device.createCommandEncoder({}),a=r.getBindGroupLayout(0);for(let l=0;l<i;++l){let c=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:l,arrayLayerCount:1}),u=o?1:0;for(let f=1;f<e.mipLevelCount;++f){const d=n.createView({baseMipLevel:u++,mipLevelCount:1,dimension:"2d",baseArrayLayer:l,arrayLayerCount:1}),h=s.beginRenderPass({colorAttachments:[{view:d,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),p=this.device.createBindGroup({layout:a,entries:[{binding:0,resource:this.sampler},{binding:1,resource:c}]});h.setPipeline(r),h.setBindGroup(0,p),h.draw(3,1,0,0),h.end(),c=d}}if(!o){const l={width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i};for(let c=1;c<e.mipLevelCount;++c)s.copyTextureToTexture({texture:n,mipLevel:c-1},{texture:e,mipLevel:c},l),l.width=Math.ceil(l.width/2),l.height=Math.ceil(l.height/2)}return this.device.queue.submit([s.finish()]),o||n.destroy(),e}}class _k{constructor(e){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:yk,buffer:Vde,video:Wde,compressed:jde},this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuSources"),e.renderableGC.addManagedHash(this,"_gpuSamplers"),e.renderableGC.addManagedHash(this,"_bindGroupHash"),e.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(e){this._gpu=e}initSource(e){return this._gpuSources[e.uid]?this._gpuSources[e.uid]:this._initSource(e)}_initSource(e){if(e.autoGenerateMipmaps){const l=Math.max(e.pixelWidth,e.pixelHeight);e.mipLevelCount=Math.floor(Math.log2(l))+1}let r=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;e.uploadMethodId!=="compressed"&&(r|=GPUTextureUsage.RENDER_ATTACHMENT,r|=GPUTextureUsage.COPY_SRC);const n=vk[e.format]||{blockBytes:4,blockWidth:1,blockHeight:1},i=Math.ceil(e.pixelWidth/n.blockWidth)*n.blockWidth,o=Math.ceil(e.pixelHeight/n.blockHeight)*n.blockHeight,s={label:e.label,size:{width:i,height:o},format:e.format,sampleCount:e.sampleCount,mipLevelCount:e.mipLevelCount,dimension:e.dimension,usage:r},a=this._gpuSources[e.uid]=this._gpu.device.createTexture(s);return this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceResize,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),a}onSourceUpdate(e){const r=this.getGpuSource(e);r&&(this._uploads[e.uploadMethodId]&&this._uploads[e.uploadMethodId].upload(e,r,this._gpu),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e))}onSourceUnload(e){const r=this._gpuSources[e.uid];r&&(this._gpuSources[e.uid]=null,r.destroy())}onUpdateMipmaps(e){this._mipmapGenerator||(this._mipmapGenerator=new Xde(this._gpu.device));const r=this.getGpuSource(e);this._mipmapGenerator.generateMipmap(r)}onSourceDestroy(e){e.off("update",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("destroy",this.onSourceDestroy,this),e.off("resize",this.onSourceResize,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}onSourceResize(e){const r=this._gpuSources[e.uid];r?(r.width!==e.pixelWidth||r.height!==e.pixelHeight)&&(this._textureViewHash[e.uid]=null,this._bindGroupHash[e.uid]=null,this.onSourceUnload(e),this.initSource(e)):this.initSource(e)}_initSampler(e){return this._gpuSamplers[e._resourceId]=this._gpu.device.createSampler(e),this._gpuSamplers[e._resourceId]}getGpuSampler(e){return this._gpuSamplers[e._resourceId]||this._initSampler(e)}getGpuSource(e){return this._gpuSources[e.uid]||this.initSource(e)}getTextureBindGroup(e){return this._bindGroupHash[e.uid]??this._createTextureBindGroup(e)}_createTextureBindGroup(e){const r=e.source;return this._bindGroupHash[e.uid]=new Wo({0:r,1:r.style,2:new gn({uTextureMatrix:{type:"mat3x3<f32>",value:e.textureMatrix.mapCoord}})}),this._bindGroupHash[e.uid]}getTextureView(e){const r=e.source;return this._textureViewHash[r.uid]??this._createTextureView(r)}_createTextureView(e){return this._textureViewHash[e.uid]=this.getGpuSource(e).createView(),this._textureViewHash[e.uid]}generateCanvas(e){const r=this._renderer,n=r.gpu.device.createCommandEncoder(),i=je.get().createCanvas();i.width=e.source.pixelWidth,i.height=e.source.pixelHeight;const o=i.getContext("webgpu");return o.configure({device:r.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:je.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),n.copyTextureToTexture({texture:r.texture.getGpuSource(e.source),origin:{x:0,y:0}},{texture:o.getCurrentTexture()},{width:i.width,height:i.height}),r.gpu.device.queue.submit([n.finish()]),i}getPixels(e){const r=this.generateCanvas(e),n=na.getOptimalCanvasAndContext(r.width,r.height),i=n.context;i.drawImage(r,0,0);const{width:o,height:s}=r,a=i.getImageData(0,0,o,s),l=new Uint8ClampedArray(a.data.buffer);return na.returnCanvasAndContext(n),{pixels:l,width:o,height:s}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null;for(const e of Object.keys(this._bindGroupHash)){const r=Number(e),n=this._bindGroupHash[r];n==null||n.destroy(),this._bindGroupHash[r]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}_k.extension={type:[V.WebGPUSystem],name:"texture"};class xk{constructor(){this._maxTextures=0}contextChange(e){const r=new gn({uTransformMatrix:{value:new Re,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=e.limits.maxBatchableTextures;const n=$d({name:"graphics",bits:[yw,xw(this._maxTextures),pfe,Gd]});this.shader=new yi({gpuProgram:n,resources:{localUniforms:r}})}execute(e,r){const n=r.context,i=n.customShader||this.shader,o=e.renderer,s=o.graphicsContext,{batcher:a,instructions:l}=s.getContextRenderData(n),c=o.encoder;c.setGeometry(a.geometry,i.gpuProgram);const u=o.globalUniforms.bindGroup;c.setBindGroup(0,u,i.gpuProgram);const f=o.renderPipes.uniformBatch.getUniformBindGroup(i.resources.localUniforms,!0);c.setBindGroup(2,f,i.gpuProgram);const d=l.instructions;let h=null;for(let p=0;p<l.instructionSize;p++){const y=d[p];if(y.topology!==h&&(h=y.topology,c.setPipelineFromGeometryProgramAndState(a.geometry,i.gpuProgram,e.state,y.topology)),i.groups[1]=y.bindGroup,!y.gpuBindGroup){const g=y.textures;y.bindGroup=vw(g.textures,g.count,this._maxTextures),y.gpuBindGroup=o.bindGroup.getBindGroup(y.bindGroup,i.gpuProgram,1)}c.setBindGroup(1,y.bindGroup,i.gpuProgram),c.renderPassEncoder.drawIndexed(y.size,1,y.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}xk.extension={type:[V.WebGPUPipesAdaptor],name:"graphics"};class bk{init(){const e=$d({name:"mesh",bits:[Af,gfe,Gd]});this._shader=new yi({gpuProgram:e,resources:{uTexture:Te.EMPTY._source,uSampler:Te.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Re}}}})}execute(e,r){const n=e.renderer;let i=r._shader;if(!i)i=this._shader,i.groups[2]=n.texture.getTextureBindGroup(r.texture);else if(!i.gpuProgram){Le("Mesh shader has no gpuProgram",r.shader);return}const o=i.gpuProgram;if(o.autoAssignGlobalUniforms&&(i.groups[0]=n.globalUniforms.bindGroup),o.autoAssignLocalUniforms){const s=e.localUniforms;i.groups[1]=n.renderPipes.uniformBatch.getUniformBindGroup(s,!0)}n.encoder.draw({geometry:r._geometry,shader:i,state:r.state})}destroy(){this._shader.destroy(!0),this._shader=null}}bk.extension={type:[V.WebGPUPipesAdaptor],name:"mesh"};const Yde=[...ek,fk,lk,jw,ck,sk,_k,pk,gk,mk,hk,ak,uk,ok],Kde=[...tk,dk],qde=[iB,bk,xk],wk=[],Ek=[],Sk=[];Ge.handleByNamedList(V.WebGPUSystem,wk);Ge.handleByNamedList(V.WebGPUPipes,Ek);Ge.handleByNamedList(V.WebGPUPipesAdaptor,Sk);Ge.add(...Yde,...Kde,...qde);class Zde extends Gg{constructor(){const e={name:"webgpu",type:qn.WEBGPU,systems:wk,renderPipes:Ek,renderPipeAdaptors:Sk};super(e)}}const Jde=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer:Zde},Symbol.toStringTag,{value:"Module"}));class Qde{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach(e=>{Gr.return(e)}),this.batches.length=0}}class Ck{constructor(e,r){this.state=Li.for2d(),this.renderer=e,this._adaptor=r,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(e){const r=e.context,n=!!e._gpuData,i=this.renderer.graphicsContext.updateGpuContext(r);return!!(i.isBatchable||n!==i.isBatchable)}addRenderable(e,r){const n=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),n.isBatchable?this._addToBatcher(e,r):(this.renderer.renderPipes.batch.break(r),r.add(e))}updateRenderable(e){const n=this._getGpuDataForRenderable(e).batches;for(let i=0;i<n.length;i++){const o=n[i];o._batcher.updateElement(o)}}execute(e){if(!e.isRenderable)return;const r=this.renderer,n=e.context;if(!r.graphicsContext.getGpuContext(n).batches.length)return;const o=n.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const s=o.resources.localUniforms.uniforms;s.uTransformMatrix=e.groupTransform,s.uRound=r._roundPixels|e._roundPixels,Vd(e.groupColorAlpha,s.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const r=this._getGpuDataForRenderable(e),n=this.renderer.graphicsContext.updateGpuContext(e.context);r.destroy(),n.isBatchable&&this._updateBatchesForRenderable(e,r)}_addToBatcher(e,r){const n=this.renderer.renderPipes.batch,i=this._getGpuDataForRenderable(e).batches;for(let o=0;o<i.length;o++){const s=i[o];n.addToBatch(s,r)}}_getGpuDataForRenderable(e){return e._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(e)}_initGpuDataForRenderable(e){const r=new Qde;return e._gpuData[this.renderer.uid]=r,r}_updateBatchesForRenderable(e,r){const n=e.context,i=this.renderer.graphicsContext.getGpuContext(n),o=this.renderer._roundPixels|e._roundPixels;r.batches=i.batches.map(s=>{const a=Gr.get(Sw);return s.copyTo(a),a.renderable=e,a.roundPixels=o,a})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}Ck.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"graphics"};const Ak=class Tk extends Mw{constructor(...e){super({});let r=e[0]??{};typeof r=="number"&&($e(ot,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),r={width:r,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(r)}build(e){e={...Tk.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const r=this.verticesX*this.verticesY,n=[],i=[],o=[],s=this.verticesX-1,a=this.verticesY-1,l=this.width/s,c=this.height/a;for(let f=0;f<r;f++){const d=f%this.verticesX,h=f/this.verticesX|0;n.push(d*l,h*c),i.push(d/s,h/a)}const u=s*a;for(let f=0;f<u;f++){const d=f%s,h=f/s|0,p=h*this.verticesX+d,y=h*this.verticesX+d+1,g=(h+1)*this.verticesX+d,m=(h+1)*this.verticesX+d+1;o.push(p,y,g,y,m,g)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint32Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};Ak.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let ehe=Ak;class Ww{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(e){this.texture!==e&&(this.texture=e,this._textureMatrixUpdateId=-1)}get uvs(){const r=this.geometry.getBuffer("aUV"),n=r.data;let i=n;const o=this.texture.textureMatrix;return o.isSimple||(i=this._transformedUvs,(this._textureMatrixUpdateId!==o._updateID||this._uvUpdateId!==r._updateID)&&((!i||i.length<n.length)&&(i=this._transformedUvs=new Float32Array(n.length)),this._textureMatrixUpdateId=o._updateID,this._uvUpdateId=r._updateID,o.multiplyUvs(n,i))),i}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}class MT{destroy(){}}class Pk{constructor(e,r){this.localUniforms=new gn({uTransformMatrix:{value:new Re,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new Wo({0:this.localUniforms}),this.renderer=e,this._adaptor=r,this._adaptor.init()}validateRenderable(e){const r=this._getMeshData(e),n=r.batched,i=e.batched;if(r.batched=i,n!==i)return!0;if(i){const o=e._geometry;if(o.indices.length!==r.indexSize||o.positions.length!==r.vertexSize)return r.indexSize=o.indices.length,r.vertexSize=o.positions.length,!0;const s=this._getBatchableMesh(e);return s.texture.uid!==e._texture.uid&&(s._textureMatrixUpdateId=-1),!s._batcher.checkAndUpdateTexture(s,e._texture)}return!1}addRenderable(e,r){var o,s;const n=this.renderer.renderPipes.batch,i=this._getMeshData(e);if(e.didViewUpdate&&(i.indexSize=(o=e._geometry.indices)==null?void 0:o.length,i.vertexSize=(s=e._geometry.positions)==null?void 0:s.length),i.batched){const a=this._getBatchableMesh(e);a.setTexture(e._texture),a.geometry=e._geometry,n.addToBatch(a,r)}else n.break(r),r.add(e)}updateRenderable(e){if(e.batched){const r=this._getBatchableMesh(e);r.setTexture(e._texture),r.geometry=e._geometry,r._batcher.updateElement(r)}}execute(e){if(!e.isRenderable)return;e.state.blendMode=ld(e.groupBlendMode,e.texture._source);const r=this.localUniforms;r.uniforms.uTransformMatrix=e.groupTransform,r.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,r.update(),Vd(e.groupColorAlpha,r.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){var r,n;return(r=e._gpuData)[n=this.renderer.uid]||(r[n]=new MT),e._gpuData[this.renderer.uid].meshData||this._initMeshData(e)}_initMeshData(e){return e._gpuData[this.renderer.uid].meshData={batched:e.batched,indexSize:0,vertexSize:0},e._gpuData[this.renderer.uid].meshData}_getBatchableMesh(e){var r,n;return(r=e._gpuData)[n=this.renderer.uid]||(r[n]=new MT),e._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(e)}_initBatchableMesh(e){const r=new Ww;return r.renderable=e,r.setTexture(e._texture),r.transform=e.groupTransform,r.roundPixels=this.renderer._roundPixels|e._roundPixels,e._gpuData[this.renderer.uid].batchableMesh=r,r}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}Pk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"mesh"};class the{execute(e,r){const n=e.state,i=e.renderer,o=r.shader||e.defaultShader;o.resources.uTexture=r.texture._source,o.resources.uniforms=e.localUniforms;const s=i.gl,a=e.getBuffers(r);i.shader.bind(o),i.state.set(n),i.geometry.bind(a.geometry,o.glProgram);const c=a.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;s.drawElements(s.TRIANGLES,r.particleChildren.length*6,c,0)}}class rhe{execute(e,r){const n=e.renderer,i=r.shader||e.defaultShader;i.groups[0]=n.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),i.groups[1]=n.texture.getTextureBindGroup(r.texture);const o=e.state,s=e.getBuffers(r);n.encoder.draw({geometry:s.geometry,shader:r.shader||e.defaultShader,state:o,size:r.particleChildren.length*6})}}function DT(t,e=null){const r=t*6;if(r>65535?e||(e=new Uint32Array(r)):e||(e=new Uint16Array(r)),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function nhe(t){return{dynamicUpdate:BT(t,!0),staticUpdate:BT(t,!1)}}function BT(t,e){const r=[];r.push(`

        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let n=0;for(const o in t){const s=t[o];if(e!==s.dynamic)continue;r.push(`offset = index + ${n}`),r.push(s.code);const a=ra(s.format);n+=a.stride/4}r.push(`
            index += stride * 4;
        }
    `),r.unshift(`
        var stride = ${n};
    `);const i=r.join(`
`);return new Function("ps","f32v","u32v",i)}class ihe{constructor(e){this._size=0,this._generateParticleUpdateCache={};const r=this._size=e.size??1e3,n=e.properties;let i=0,o=0;for(const u in n){const f=n[u],d=ra(f.format);f.dynamic?o+=d.stride:i+=d.stride}this._dynamicStride=o/4,this._staticStride=i/4,this.staticAttributeBuffer=new mc(r*4*i),this.dynamicAttributeBuffer=new mc(r*4*o),this.indexBuffer=DT(r);const s=new Ld;let a=0,l=0;this._staticBuffer=new jn({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:st.VERTEX|st.COPY_DST}),this._dynamicBuffer=new jn({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:st.VERTEX|st.COPY_DST});for(const u in n){const f=n[u],d=ra(f.format);f.dynamic?(s.addAttribute(f.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:a*4,format:f.format}),a+=d.size):(s.addAttribute(f.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:l*4,format:f.format}),l+=d.size)}s.addIndex(this.indexBuffer);const c=this.getParticleUpdate(n);this._dynamicUpload=c.dynamicUpdate,this._staticUpload=c.staticUpdate,this.geometry=s}getParticleUpdate(e){const r=ohe(e);return this._generateParticleUpdateCache[r]?this._generateParticleUpdateCache[r]:(this._generateParticleUpdateCache[r]=this.generateParticleUpdate(e),this._generateParticleUpdateCache[r])}generateParticleUpdate(e){return nhe(e)}update(e,r){e.length>this._size&&(r=!0,this._size=Math.max(e.length,this._size*1.5|0),this.staticAttributeBuffer=new mc(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new mc(this._size*this._dynamicStride*4*4),this.indexBuffer=DT(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const n=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,n.float32View,n.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),r){const i=this.staticAttributeBuffer;this._staticUpload(e,i.float32View,i.uint32View),this._staticBuffer.setDataWithSize(i.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function ohe(t){const e=[];for(const r in t){const n=t[r];e.push(r,n.code,n.dynamic?"d":"s")}return e.join("_")}var she=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`,ahe=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`,kT=`
struct ParticleUniforms {
  uProjectionMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uResolution:vec2<f32>,
  uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;class lhe extends yi{constructor(){const e=Nl.from({vertex:ahe,fragment:she}),r=fa.from({fragment:{source:kT,entryPoint:"mainFragment"},vertex:{source:kT,entryPoint:"mainVertex"}});super({glProgram:e,gpuProgram:r,resources:{uTexture:Te.WHITE.source,uSampler:new vo({}),uniforms:{uTranslationMatrix:{value:new Re,type:"mat3x3<f32>"},uColor:{value:new Dt(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class Ik{constructor(e,r){this.state=Li.for2d(),this.localUniforms=new gn({uTranslationMatrix:{value:new Re,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=r,this.defaultShader=new lhe,this.state=Li.for2d()}validateRenderable(e){return!1}addRenderable(e,r){this.renderer.renderPipes.batch.break(r),r.add(e)}getBuffers(e){return e._gpuData[this.renderer.uid]||this._initBuffer(e)}_initBuffer(e){return e._gpuData[this.renderer.uid]=new ihe({size:e.particleChildren.length,properties:e._properties}),e._gpuData[this.renderer.uid]}updateRenderable(e){}execute(e){const r=e.particleChildren;if(r.length===0)return;const n=this.renderer,i=this.getBuffers(e);e.texture||(e.texture=r[0].texture);const o=this.state;i.update(r,e._childrenDirty),e._childrenDirty=!1,o.blendMode=ld(e.blendMode,e.texture._source);const s=this.localUniforms.uniforms,a=s.uTranslationMatrix;e.worldTransform.copyTo(a),a.prepend(n.globalUniforms.globalUniformData.projectionMatrix),s.uResolution=n.globalUniforms.globalUniformData.resolution,s.uRound=n._roundPixels|e._roundPixels,Vd(e.groupColorAlpha,s.uColor,0),this.adaptor.execute(this,e)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class Ok extends Ik{constructor(e){super(e,new the)}}Ok.extension={type:[V.WebGLPipes],name:"particle"};class Rk extends Ik{constructor(e){super(e,new rhe)}}Rk.extension={type:[V.WebGPUPipes],name:"particle"};const Mk=class C_{constructor(e){if(e instanceof Te)this.texture=e,t_(this,C_.defaultOptions,{});else{const r={...C_.defaultOptions,...e};t_(this,r,{})}}get alpha(){return this._alpha}set alpha(e){this._alpha=Math.min(Math.max(e,0),1),this._updateColor()}get tint(){return xf(this._tint)}set tint(e){this._tint=Dt.shared.setValue(e??16777215).toBgrNumber(),this._updateColor()}_updateColor(){this.color=this._tint+((this._alpha*255|0)<<24)}};Mk.defaultOptions={anchorX:0,anchorY:0,x:0,y:0,scaleX:1,scaleY:1,rotation:0,tint:16777215,alpha:1};let lTe=Mk;const NT={vertex:{attributeName:"aVertex",format:"float32x2",code:`
            const texture = p.texture;
            const sx = p.scaleX;
            const sy = p.scaleY;
            const ax = p.anchorX;
            const ay = p.anchorY;
            const trim = texture.trim;
            const orig = texture.orig;

            if (trim)
            {
                w1 = trim.x - (ax * orig.width);
                w0 = w1 + trim.width;

                h1 = trim.y - (ay * orig.height);
                h0 = h1 + trim.height;
            }
            else
            {
                w1 = -ax * (orig.width);
                w0 = w1 + orig.width;

                h1 = -ay * (orig.height);
                h0 = h1 + orig.height;
            }

            f32v[offset] = w1 * sx;
            f32v[offset + 1] = h1 * sy;

            f32v[offset + stride] = w0 * sx;
            f32v[offset + stride + 1] = h1 * sy;

            f32v[offset + (stride * 2)] = w0 * sx;
            f32v[offset + (stride * 2) + 1] = h0 * sy;

            f32v[offset + (stride * 3)] = w1 * sx;
            f32v[offset + (stride * 3) + 1] = h0 * sy;
        `,dynamic:!1},position:{attributeName:"aPosition",format:"float32x2",code:`
            var x = p.x;
            var y = p.y;

            f32v[offset] = x;
            f32v[offset + 1] = y;

            f32v[offset + stride] = x;
            f32v[offset + stride + 1] = y;

            f32v[offset + (stride * 2)] = x;
            f32v[offset + (stride * 2) + 1] = y;

            f32v[offset + (stride * 3)] = x;
            f32v[offset + (stride * 3) + 1] = y;
        `,dynamic:!0},rotation:{attributeName:"aRotation",format:"float32",code:`
            var rotation = p.rotation;

            f32v[offset] = rotation;
            f32v[offset + stride] = rotation;
            f32v[offset + (stride * 2)] = rotation;
            f32v[offset + (stride * 3)] = rotation;
        `,dynamic:!1},uvs:{attributeName:"aUV",format:"float32x2",code:`
            var uvs = p.texture.uvs;

            f32v[offset] = uvs.x0;
            f32v[offset + 1] = uvs.y0;

            f32v[offset + stride] = uvs.x1;
            f32v[offset + stride + 1] = uvs.y1;

            f32v[offset + (stride * 2)] = uvs.x2;
            f32v[offset + (stride * 2) + 1] = uvs.y2;

            f32v[offset + (stride * 3)] = uvs.x3;
            f32v[offset + (stride * 3) + 1] = uvs.y3;
        `,dynamic:!1},color:{attributeName:"aColor",format:"unorm8x4",code:`
            const c = p.color;

            u32v[offset] = c;
            u32v[offset + stride] = c;
            u32v[offset + (stride * 2)] = c;
            u32v[offset + (stride * 3)] = c;
        `,dynamic:!1}},che=new Hr(0,0,0,0),Dk=class A_ extends Nd{constructor(e={}){e={...A_.defaultOptions,...e,dynamicProperties:{...A_.defaultOptions.dynamicProperties,...e==null?void 0:e.dynamicProperties}};const{dynamicProperties:r,shader:n,roundPixels:i,texture:o,particles:s,...a}=e;super({label:"ParticleContainer",...a}),this.renderPipeId="particle",this.batched=!1,this._childrenDirty=!1,this.texture=o||null,this.shader=n,this._properties={};for(const l in NT){const c=NT[l],u=r[l];this._properties[l]={...c,dynamic:u}}this.allowChildren=!0,this.roundPixels=i??!1,this.particleChildren=s??[]}addParticle(...e){for(let r=0;r<e.length;r++)this.particleChildren.push(e[r]);return this.onViewUpdate(),e[0]}removeParticle(...e){let r=!1;for(let n=0;n<e.length;n++){const i=this.particleChildren.indexOf(e[n]);i>-1&&(this.particleChildren.splice(i,1),r=!0)}return r&&this.onViewUpdate(),e[0]}update(){this._childrenDirty=!0}onViewUpdate(){this._childrenDirty=!0,super.onViewUpdate()}get bounds(){return che}updateBounds(){}destroy(e=!1){var n,i;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const o=typeof e=="boolean"?e:e==null?void 0:e.textureSource,s=this.texture??((n=this.particleChildren[0])==null?void 0:n.texture);s&&s.destroy(o)}this.texture=null,(i=this.shader)==null||i.destroy()}removeParticles(e,r){e??(e=0),r??(r=this.particleChildren.length);const n=this.particleChildren.splice(e,r-e);return this.onViewUpdate(),n}removeParticleAt(e){const r=this.particleChildren.splice(e,1);return this.onViewUpdate(),r[0]}addParticleAt(e,r){return this.particleChildren.splice(r,0,e),this.onViewUpdate(),e}addChild(...e){throw new Error("ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()")}removeChild(...e){throw new Error("ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()")}removeChildren(e,r){throw new Error("ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()")}removeChildAt(e){throw new Error("ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()")}getChildAt(e){throw new Error("ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()")}setChildIndex(e,r){throw new Error("ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()")}getChildIndex(e){throw new Error("ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()")}addChildAt(e,r){throw new Error("ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()")}swapChildren(e,r){throw new Error("ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()")}reparentChild(...e){throw new Error("ParticleContainer.reparentChild() is not available with the particle container")}reparentChildAt(e,r){throw new Error("ParticleContainer.reparentChildAt() is not available with the particle container")}};Dk.defaultOptions={dynamicProperties:{vertex:!1,position:!0,rotation:!1,uvs:!1,color:!1},roundPixels:!1};let cTe=Dk;const Bk=class kk extends ehe{constructor(e={}){e={...kk.defaultOptions,...e},super({width:e.width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(e){var r,n;this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this._anchorX=(r=e.anchor)==null?void 0:r.x,this._anchorY=(n=e.anchor)==null?void 0:n.y,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,{width:r,height:n,_leftWidth:i,_rightWidth:o,_topHeight:s,_bottomHeight:a,_anchorX:l,_anchorY:c}=this,u=i+o,f=r>u?1:r/u,d=s+a,h=n>d?1:n/d,p=Math.min(f,h),y=l*r,g=c*n;e[0]=e[8]=e[16]=e[24]=-y,e[2]=e[10]=e[18]=e[26]=i*p-y,e[4]=e[12]=e[20]=e[28]=r-o*p-y,e[6]=e[14]=e[22]=e[30]=r-y,e[1]=e[3]=e[5]=e[7]=-g,e[9]=e[11]=e[13]=e[15]=s*p-g,e[17]=e[19]=e[21]=e[23]=n-a*p-g,e[25]=e[27]=e[29]=e[31]=n-g,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const r=1/this._originalWidth,n=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.getBuffer("aUV").update()}};Bk.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let uhe=Bk;class fhe extends Ww{constructor(){super(),this.geometry=new uhe}destroy(){this.geometry.destroy()}}class Nk{constructor(e){this._renderer=e}addRenderable(e,r){const n=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n,r)}updateRenderable(e){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),r._batcher.updateElement(r)}validateRenderable(e){const r=this._getGpuSprite(e);return!r._batcher.checkAndUpdateTexture(r,e._texture)}_updateBatchableSprite(e,r){r.geometry.update(e),r.setTexture(e._texture)}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const r=e._gpuData[this._renderer.uid]=new fhe,n=r;return n.renderable=e,n.transform=e.groupTransform,n.texture=e._texture,n.roundPixels=this._renderer._roundPixels|e._roundPixels,e.didViewUpdate||this._updateBatchableSprite(e,n),r}destroy(){this._renderer=null}}Nk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"nineSliceSprite"};const dhe={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            }

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},hhe={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;

        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

        `}};let Ov,Rv;class phe extends yi{constructor(){Ov??(Ov=$d({name:"tiling-sprite-shader",bits:[Af,dhe,Gd]})),Rv??(Rv=Ud({name:"tiling-sprite-shader",bits:[Bw,hhe,Hd]}));const e=new gn({uMapCoord:{value:new Re,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new Re,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:Rv,gpuProgram:Ov,resources:{localUniforms:new gn({uTransformMatrix:{value:new Re,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:Te.EMPTY.source,uSampler:Te.EMPTY.source.style}})}updateUniforms(e,r,n,i,o,s){const a=this.resources.tilingUniforms,l=s.width,c=s.height,u=s.textureMatrix,f=a.uniforms.uTextureTransform;f.set(n.a*l/e,n.b*l/r,n.c*c/e,n.d*c/r,n.tx/e,n.ty/r),f.invert(),a.uniforms.uMapCoord=u.mapCoord,a.uniforms.uClampFrame=u.uClampFrame,a.uniforms.uClampOffset=u.uClampOffset,a.uniforms.uTextureTransform=f,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=r,a.uniforms.uSizeAnchor[2]=i,a.uniforms.uSizeAnchor[3]=o,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}class ghe extends Mw{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function mhe(t,e){const r=t.anchor.x,n=t.anchor.y;e[0]=-r*t.width,e[1]=-n*t.height,e[2]=(1-r)*t.width,e[3]=-n*t.height,e[4]=(1-r)*t.width,e[5]=(1-n)*t.height,e[6]=-r*t.width,e[7]=(1-n)*t.height}function vhe(t,e,r,n){let i=0;const o=t.length/(e||2),s=n.a,a=n.b,l=n.c,c=n.d,u=n.tx,f=n.ty;for(r*=e;i<o;){const d=t[r],h=t[r+1];t[r]=s*d+l*h+u,t[r+1]=a*d+c*h+f,r+=e,i++}}function yhe(t,e){const r=t.texture,n=r.frame.width,i=r.frame.height;let o=0,s=0;t.applyAnchorToTexture&&(o=t.anchor.x,s=t.anchor.y),e[0]=e[6]=-o,e[2]=e[4]=1-o,e[1]=e[3]=-s,e[5]=e[7]=1-s;const a=Re.shared;a.copyFrom(t._tileTransform.matrix),a.tx/=t.width,a.ty/=t.height,a.invert(),a.scale(t.width/n,t.height/i),vhe(e,2,0,a)}const Cp=new ghe;class _he{constructor(){this.canBatch=!0,this.geometry=new Mw({indices:Cp.indices.slice(),positions:Cp.positions.slice(),uvs:Cp.uvs.slice()})}destroy(){var e;this.geometry.destroy(),(e=this.shader)==null||e.destroy()}}class Fk{constructor(e){this._state=Li.default2d,this._renderer=e}validateRenderable(e){const r=this._getTilingSpriteData(e),n=r.canBatch;this._updateCanBatch(e);const i=r.canBatch;if(i&&i===n){const{batchableMesh:o}=r;return!o._batcher.checkAndUpdateTexture(o,e.texture)}return n!==i}addRenderable(e,r){const n=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:o,canBatch:s}=i;if(s){i.batchableMesh||(i.batchableMesh=new Ww);const a=i.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),a.geometry=o,a.renderable=e,a.transform=e.groupTransform,a.setTexture(e._texture)),a.roundPixels=this._renderer._roundPixels|e._roundPixels,n.addToBatch(a,r)}else n.break(r),i.shader||(i.shader=new phe),this.updateRenderable(e),r.add(e)}execute(e){const{shader:r}=this._getTilingSpriteData(e);r.groups[0]=this._renderer.globalUniforms.bindGroup;const n=r.resources.localUniforms.uniforms;n.uTransformMatrix=e.groupTransform,n.uRound=this._renderer._roundPixels|e._roundPixels,Vd(e.groupColorAlpha,n.uColor,0),this._state.blendMode=ld(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:Cp,shader:r,state:this._state})}updateRenderable(e){const r=this._getTilingSpriteData(e),{canBatch:n}=r;if(n){const{batchableMesh:i}=r;e.didViewUpdate&&this._updateBatchableMesh(e),i._batcher.updateElement(i)}else if(e.didViewUpdate){const{shader:i}=r;i.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}_getTilingSpriteData(e){return e._gpuData[this._renderer.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const r=new _he;return r.renderable=e,e._gpuData[this._renderer.uid]=r,r}_updateBatchableMesh(e){const r=this._getTilingSpriteData(e),{geometry:n}=r,i=e.texture.source.style;i.addressMode!=="repeat"&&(i.addressMode="repeat",i.update()),yhe(e,n.uvs),mhe(e,n.positions)}destroy(){this._renderer=null}_updateCanBatch(e){const r=this._getTilingSpriteData(e),n=e.texture;let i=!0;return this._renderer.type===qn.WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),r.canBatch=n.textureMatrix.isSimple&&(i||n.source.isPowerOfTwo),r.canBatch}}Fk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"tilingSprite"};const xhe={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:`
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},bhe={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:`
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}},whe={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;

            }
        `}},Ehe={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);

                return coverage;
            }
        `}};let Mv,Dv;class She extends yi{constructor(e){const r=new gn({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Re,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});Mv??(Mv=$d({name:"sdf-shader",bits:[yw,xw(e),xhe,whe,Gd]})),Dv??(Dv=Ud({name:"sdf-shader",bits:[_w,bw(e),bhe,Ehe,Hd]})),super({glProgram:Dv,gpuProgram:Mv,resources:{localUniforms:r,batchSamplers:ww(e)}})}}class Che extends v0{destroy(){this.context.customShader&&this.context.customShader.destroy(),super.destroy()}}class Lk{constructor(e){this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const r=this._getGpuBitmapText(e);return this._renderer.renderPipes.graphics.validateRenderable(r)}addRenderable(e,r){const n=this._getGpuBitmapText(e);FT(e,n),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,n)),this._renderer.renderPipes.graphics.addRenderable(n,r),n.context.customShader&&this._updateDistanceField(e)}updateRenderable(e){const r=this._getGpuBitmapText(e);FT(e,r),this._renderer.renderPipes.graphics.updateRenderable(r),r.context.customShader&&this._updateDistanceField(e)}_updateContext(e,r){const{context:n}=r,i=v_.getFont(e.text,e._style);n.clear(),i.distanceField.type!=="none"&&(n.customShader||(n.customShader=new She(this._renderer.limits.maxBatchableTextures)));const o=Ii.graphemeSegmenter(e.text),s=e._style;let a=i.baseLineOffset;const l=U6(o,s,i,!0),c=s.padding,u=l.scale;let f=l.width,d=l.height+l.offsetY;s._stroke&&(f+=s._stroke.width/u,d+=s._stroke.width/u),n.translate(-e._anchor._x*f-c,-e._anchor._y*d-c).scale(u,u);const h=i.applyFillAsTint?s._fill.color:16777215;let p=i.fontMetrics.fontSize,y=i.lineHeight;s.lineHeight&&(p=s.fontSize/u,y=s.lineHeight/u);let g=(y-p)/2;g-i.baseLineOffset<0&&(g=0);for(let m=0;m<l.lines.length;m++){const v=l.lines[m];for(let _=0;_<v.charPositions.length;_++){const x=v.chars[_],b=i.chars[x];if(b!=null&&b.texture){const w=b.texture;n.texture(w,h||"black",Math.round(v.charPositions[_]+b.xOffset),Math.round(a+b.yOffset+g),w.orig.width,w.orig.height)}}a+=y}}_getGpuBitmapText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const r=new Che;return e._gpuData[this._renderer.uid]=r,this._updateContext(e,r),r}_updateDistanceField(e){const r=this._getGpuBitmapText(e).context,n=e._style.fontFamily,i=St.get(`${n}-bitmap`),{a:o,b:s,c:a,d:l}=e.groupTransform,c=Math.sqrt(o*o+s*s),u=Math.sqrt(a*a+l*l),f=(Math.abs(c)+Math.abs(u))/2,d=i.baseRenderedFontSize/e._style.fontSize,h=f*i.distanceField.range*(1/d);r.customShader.resources.localUniforms.uniforms.uDistance=h}destroy(){this._renderer=null}}Lk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"bitmapText"};function FT(t,e){e.groupTransform=t.groupTransform,e.groupColorAlpha=t.groupColorAlpha,e.groupColor=t.groupColor,e.groupBlendMode=t.groupBlendMode,e.globalDisplayStatus=t.globalDisplayStatus,e.groupTransform=t.groupTransform,e.localDisplayStatus=t.localDisplayStatus,e.groupAlpha=t.groupAlpha,e._roundPixels=t._roundPixels}class Ahe extends jg{constructor(e){super(),this.generatingTexture=!1,this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.htmlText.returnTexturePromise(this.texturePromise),this.texturePromise=null,this._renderer=null}}function T_(t,e){const{texture:r,bounds:n}=t,i=e._style._getFinalPadding();PD(n,e._anchor,r);const o=e._anchor._x*i*2,s=e._anchor._y*i*2;n.minX-=i-o,n.minY-=i-s,n.maxX-=i-o,n.maxY-=i-s}class $k{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,r){const n=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e).catch(i=>{console.error(i)}),e._didTextUpdate=!1,T_(n,e)),this._renderer.renderPipes.batch.addToBatch(n,r)}updateRenderable(e){const r=this._getGpuText(e);r._batcher.updateElement(r)}async _updateGpuText(e){e._didTextUpdate=!1;const r=this._getGpuText(e);if(r.generatingTexture)return;r.texturePromise&&(this._renderer.htmlText.returnTexturePromise(r.texturePromise),r.texturePromise=null),r.generatingTexture=!0,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const n=this._renderer.htmlText.getTexturePromise(e);r.texturePromise=n,r.texture=await n;const i=e.renderGroup||e.parentRenderGroup;i&&(i.structureDidChange=!0),r.generatingTexture=!1,T_(r,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const r=new Ahe(this._renderer);return r.renderable=e,r.transform=e.groupTransform,r.texture=Te.EMPTY,r.bounds={minX:0,maxX:1,minY:0,maxY:0},r.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,e._gpuData[this._renderer.uid]=r,r}destroy(){this._renderer=null}}$k.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"htmlText"};function The(){const{userAgent:t}=je.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}const Phe=new Hr;function Uk(t,e,r,n){const i=Phe;i.minX=0,i.minY=0,i.maxX=t.width/n|0,i.maxY=t.height/n|0;const o=lr.getOptimalTexture(i.width,i.height,n,!1);return o.source.uploadMethodId="image",o.source.resource=t,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=e/n,o.frame.height=r/n,o.source.emit("update",o.source),o.updateUvs(),o}function Ihe(t,e){const r=e.fontFamily,n=[],i={},o=/font-family:([^;"\s]+)/g,s=t.match(o);function a(l){i[l]||(n.push(l),i[l]=!0)}if(Array.isArray(r))for(let l=0;l<r.length;l++)a(r[l]);else a(r);s&&s.forEach(l=>{const c=l.split(":")[1].trim();a(c)});for(const l in e.tagStyles){const c=e.tagStyles[l].fontFamily;a(c)}return n}async function Ohe(t){const r=await(await je.get().fetch(t)).blob(),n=new FileReader;return await new Promise((o,s)=>{n.onloadend=()=>o(n.result),n.onerror=s,n.readAsDataURL(r)})}async function Rhe(t,e){const r=await Ohe(e);return`@font-face {
        font-family: "${t.fontFamily}";
        font-weight: ${t.fontWeight};
        font-style: ${t.fontStyle};
        src: url('${r}');
    }`}const Bv=new Map;async function Mhe(t){const e=t.filter(r=>St.has(`${r}-and-url`)).map(r=>{if(!Bv.has(r)){const{entries:n}=St.get(`${r}-and-url`),i=[];n.forEach(o=>{const s=o.url,l=o.faces.map(c=>({weight:c.weight,style:c.style}));i.push(...l.map(c=>Rhe({fontWeight:c.weight,fontStyle:c.style,fontFamily:r},s)))}),Bv.set(r,Promise.all(i).then(o=>o.join(`
`)))}return Bv.get(r)});return(await Promise.all(e)).join(`
`)}function Dhe(t,e,r,n,i){const{domElement:o,styleElement:s,svgRoot:a}=i;o.innerHTML=`<style>${e.cssStyle}</style><div style='padding:0;'>${t}</div>`,o.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),s.textContent=n;const{width:l,height:c}=i.image;return a.setAttribute("width",l.toString()),a.setAttribute("height",c.toString()),new XMLSerializer().serializeToString(a)}function Bhe(t,e){const r=na.getOptimalCanvasAndContext(t.width,t.height,e),{context:n}=r;return n.clearRect(0,0,t.width,t.height),n.drawImage(t,0,0),r}function khe(t,e,r){return new Promise(async n=>{r&&await new Promise(i=>setTimeout(i,100)),t.onload=()=>{n()},t.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,t.crossOrigin="anonymous"})}class Gk{constructor(e){this._renderer=e,this._createCanvas=e.type===qn.WEBGPU}getTexture(e){return this.getTexturePromise(e)}getTexturePromise(e){return this._buildTexturePromise(e)}async _buildTexturePromise(e){const{text:r,style:n,resolution:i,textureStyle:o}=e,s=Gr.get(rB),a=Ihe(r,n),l=await Mhe(a),c=hfe(r,n,l,s),u=Math.ceil(Math.ceil(Math.max(1,c.width)+n.padding*2)*i),f=Math.ceil(Math.ceil(Math.max(1,c.height)+n.padding*2)*i),d=s.image,h=2;d.width=(u|0)+h,d.height=(f|0)+h;const p=Dhe(r,n,i,l,s);await khe(d,p,The()&&a.length>0);const y=d;let g;this._createCanvas&&(g=Bhe(d,i));const m=Uk(g?g.canvas:y,d.width-h,d.height-h,i);return o&&(m.source.style=o),this._createCanvas&&(this._renderer.texture.initSource(m.source),na.returnCanvasAndContext(g)),Gr.return(s),m}returnTexturePromise(e){e.then(r=>{this._cleanUp(r)}).catch(()=>{Le("HTMLTextSystem: Failed to clean texture")})}_cleanUp(e){lr.returnTexture(e,!0),e.source.resource=null,e.source.uploadMethodId="unknown"}destroy(){this._renderer=null}}Gk.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"htmlText"};class Nhe extends jg{constructor(e){super(),this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.canvasText.returnTexture(this.texture),this._renderer=null}}class Hk{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,r){const n=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e),e._didTextUpdate=!1),this._renderer.renderPipes.batch.addToBatch(n,r)}updateRenderable(e){const r=this._getGpuText(e);r._batcher.updateElement(r)}_updateGpuText(e){const r=this._getGpuText(e);r.texture&&this._renderer.canvasText.returnTexture(r.texture),e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,r.texture=this._renderer.canvasText.getTexture(e),T_(r,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const r=new Nhe(this._renderer);return r.renderable=e,r.transform=e.groupTransform,r.bounds={minX:0,maxX:1,minY:0,maxY:0},r.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=r,r}destroy(){this._renderer=null}}Hk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"text"};class Vk{constructor(e){this._renderer=e}getTexture(e,r,n,i){typeof e=="string"&&($e("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:n,resolution:r}),e.style instanceof _l||(e.style=new _l(e.style)),e.textureStyle instanceof vo||(e.textureStyle=new vo(e.textureStyle)),typeof e.text!="string"&&(e.text=e.text.toString());const{text:o,style:s,textureStyle:a}=e,l=e.resolution??this._renderer.resolution,{frame:c,canvasAndContext:u}=Cf.getCanvasAndContext({text:o,style:s,resolution:l}),f=Uk(u.canvas,c.width,c.height,l);if(a&&(f.source.style=a),s.trim&&(c.pad(s.padding),f.frame.copyFrom(c),f.frame.scale(1/l),f.updateUvs()),s.filters){const d=this._applyFilters(f,s.filters);return this.returnTexture(f),Cf.returnCanvasAndContext(u),d}return this._renderer.texture.initSource(f._source),Cf.returnCanvasAndContext(u),f}returnTexture(e){const r=e.source;r.resource=null,r.uploadMethodId="unknown",r.alphaMode="no-premultiply-alpha",lr.returnTexture(e,!0)}renderTextToCanvas(){$e("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}_applyFilters(e,r){const n=this._renderer.renderTarget.renderTarget,i=this._renderer.filter.generateFilteredTexture({texture:e,filters:r});return this._renderer.renderTarget.bind(n,!1),i}destroy(){this._renderer=null}}Vk.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"canvasText"};Ge.add(sse,ase);var el={},zk={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.loop=Xo.conditional=Xo.parse=void 0;var Fhe=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(Array.isArray(r))r.forEach(function(s){return t(e,s,n,i)});else if(typeof r=="function")r(e,n,i,t);else{var o=Object.keys(r)[0];Array.isArray(r[o])?(i[o]={},t(e,r[o],n,i[o])):i[o]=r[o](e,n,i,t)}return n};Xo.parse=Fhe;var Lhe=function(e,r){return function(n,i,o,s){r(n,i,o)&&s(n,e,i,o)}};Xo.conditional=Lhe;var $he=function(e,r){return function(n,i,o,s){for(var a=[],l=n.pos;r(n,i,o);){var c={};if(s(n,e,i,c),n.pos===l)break;l=n.pos,a.push(c)}return a}};Xo.loop=$he;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.readBits=ir.readArray=ir.readUnsigned=ir.readString=ir.peekBytes=ir.readBytes=ir.peekByte=ir.readByte=ir.buildStream=void 0;var Uhe=function(e){return{data:e,pos:0}};ir.buildStream=Uhe;var jk=function(){return function(e){return e.data[e.pos++]}};ir.readByte=jk;var Ghe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(r){return r.data[r.pos+e]}};ir.peekByte=Ghe;var Wg=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};ir.readBytes=Wg;var Hhe=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};ir.peekBytes=Hhe;var Vhe=function(e){return function(r){return Array.from(Wg(e)(r)).map(function(n){return String.fromCharCode(n)}).join("")}};ir.readString=Vhe;var zhe=function(e){return function(r){var n=Wg(2)(r);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};ir.readUnsigned=zhe;var jhe=function(e,r){return function(n,i,o){for(var s=typeof r=="function"?r(n,i,o):r,a=Wg(e),l=new Array(s),c=0;c<s;c++)l[c]=a(n);return l}};ir.readArray=jhe;var Whe=function(e,r,n){for(var i=0,o=0;o<n;o++)i+=e[r+o]&&Math.pow(2,n-o-1);return i},Xhe=function(e){return function(r){for(var n=jk()(r),i=new Array(8),o=0;o<8;o++)i[7-o]=!!(n&1<<o);return Object.keys(e).reduce(function(s,a){var l=e[a];return l.length?s[a]=Whe(i,l.index,l.length):s[a]=i[l.index],s},{})}};ir.readBits=Xhe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Xo,r=ir,n={blocks:function(d){for(var h=0,p=[],y=d.data.length,g=0,m=(0,r.readByte)()(d);m!==h&&m;m=(0,r.readByte)()(d)){if(d.pos+m>=y){var v=y-d.pos;p.push((0,r.readBytes)(v)(d)),g+=v;break}p.push((0,r.readBytes)(m)(d)),g+=m}for(var _=new Uint8Array(g),x=0,b=0;b<p.length;b++)_.set(p[b],x),x+=p[b].length;return _}},i=(0,e.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},function(f){var d=(0,r.peekBytes)(2)(f);return d[0]===33&&d[1]===249}),o=(0,e.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,r.readArray)(3,function(f,d,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(f,d,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,r.readByte)()},n]}]},function(f){return(0,r.peekByte)()(f)===44}),s=(0,e.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(d,h,p){return(0,r.readBytes)(p.text.blockSize)(d)}},n]},function(f){var d=(0,r.peekBytes)(2)(f);return d[0]===33&&d[1]===1}),a=(0,e.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(d,h,p){return(0,r.readString)(p.blockSize)(d)}},n]},function(f){var d=(0,r.peekBytes)(2)(f);return d[0]===33&&d[1]===255}),l=(0,e.conditional)({comment:[{codes:(0,r.readBytes)(2)},n]},function(f){var d=(0,r.peekBytes)(2)(f);return d[0]===33&&d[1]===254}),c=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,e.conditional)({gct:(0,r.readArray)(3,function(f,d){return Math.pow(2,d.lsd.gct.size+1)})},function(f,d){return d.lsd.gct.exists}),{frames:(0,e.loop)([i,a,l,o,s],function(f){var d=(0,r.peekByte)()(f);return d===33||d===44})}],u=c;t.default=u})(zk);var Xg={};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.deinterlace=void 0;var Yhe=function(e,r){for(var n=new Array(e.length),i=e.length/r,o=function(d,h){var p=e.slice(h*r,(h+1)*r);n.splice.apply(n,[d*r,r].concat(p))},s=[0,4,2,1],a=[8,8,4,2],l=0,c=0;c<4;c++)for(var u=s[c];u<i;u+=a[c])o(u,l),l++;return n};Xg.deinterlace=Yhe;var Yg={};Object.defineProperty(Yg,"__esModule",{value:!0});Yg.lzw=void 0;var Khe=function(e,r,n){var i=4096,o=-1,s=n,a,l,c,u,f,d,h,w,p,y,b,g,E,S,C,P,m=new Array(n),v=new Array(i),_=new Array(i),x=new Array(i+1);for(g=e,l=1<<g,f=l+1,a=l+2,h=o,u=g+1,c=(1<<u)-1,p=0;p<l;p++)v[p]=0,_[p]=p;var b,w,E,S,P,C;for(b=w=E=S=P=C=0,y=0;y<s;){if(S===0){if(w<u){b+=r[C]<<w,w+=8,C++;continue}if(p=b&c,b>>=u,w-=u,p>a||p==f)break;if(p==l){u=g+1,c=(1<<u)-1,a=l+2,h=o;continue}if(h==o){x[S++]=_[p],h=p,E=p;continue}for(d=p,p==a&&(x[S++]=E,p=h);p>l;)x[S++]=_[p],p=v[p];E=_[p]&255,x[S++]=E,a<i&&(v[a]=h,_[a]=E,a++,!(a&c)&&a<i&&(u++,c+=a)),h=d}S--,m[P++]=x[S],y++}for(y=P;y<s;y++)m[y]=0;return m};Yg.lzw=Khe;Object.defineProperty(el,"__esModule",{value:!0});var Wk=el.decompressFrames=el.decompressFrame=Xk=el.parseGIF=void 0,qhe=tpe(zk),Zhe=Xo,Jhe=ir,Qhe=Xg,epe=Yg;function tpe(t){return t&&t.__esModule?t:{default:t}}var rpe=function(e){var r=new Uint8Array(e);return(0,Zhe.parse)((0,Jhe.buildStream)(r),qhe.default)},Xk=el.parseGIF=rpe,npe=function(e){for(var r=e.pixels.length,n=new Uint8ClampedArray(r*4),i=0;i<r;i++){var o=i*4,s=e.pixels[i],a=e.colorTable[s]||[0,0,0];n[o]=a[0],n[o+1]=a[1],n[o+2]=a[2],n[o+3]=s!==e.transparentIndex?255:0}return n},Yk=function(e,r,n){if(!e.image){console.warn("gif frame does not have associated image.");return}var i=e.image,o=i.descriptor.width*i.descriptor.height,s=(0,epe.lzw)(i.data.minCodeSize,i.data.blocks,o);i.descriptor.lct.interlaced&&(s=(0,Qhe.deinterlace)(s,i.descriptor.width));var a={pixels:s,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return i.descriptor.lct&&i.descriptor.lct.exists?a.colorTable=i.lct:a.colorTable=r,e.gce&&(a.delay=(e.gce.delay||10)*10,a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),n&&(a.patch=npe(a)),a};el.decompressFrame=Yk;var ipe=function(e,r){return e.frames.filter(function(n){return n.image}).map(function(n){return Yk(n,e.gct,r)})};Wk=el.decompressFrames=ipe;class Kg{constructor(e){if(!e||!e.length)throw new Error("Invalid frames");const[{texture:{width:r,height:n}}]=e;this.width=r,this.height=n,this.frames=e,this.textures=this.frames.map(i=>i.texture),this.totalFrames=this.frames.length,this.duration=this.frames[this.totalFrames-1].end}destroy(){for(const e of this.textures)e.destroy(!0);for(const e of this.frames)e.texture=null;this.frames.length=0,this.textures.length=0,Object.assign(this,{frames:null,textures:null,width:0,height:0,duration:0,totalFrames:0})}static from(e,r){if(!e||e.byteLength===0)throw new Error("Invalid buffer");const n=g=>{let m=null;for(const v of g.frames)m=v.gce??m,"image"in v&&!("gce"in v)&&(v.gce=m)},i=Xk(e);n(i);const o=Wk(i,!0),s=[],a=i.lsd.width,l=i.lsd.height,c=je.get().createCanvas(a,l),u=c.getContext("2d",{willReadFrequently:!0}),f=je.get().createCanvas(),d=f.getContext("2d");let h=0,p=null;const y=1e3/((r==null?void 0:r.fps)??30);for(let g=0;g<o.length;g++){const{disposalType:m=2,delay:v=y,patch:_,dims:{width:x,height:b,left:w,top:E}}=o[g];f.width=x,f.height=b,d.clearRect(0,0,x,b);const S=d.createImageData(x,b);S.data.set(_),d.putImageData(S,0,0),m===3&&(p=u.getImageData(0,0,a,l)),u.drawImage(f,w,E);const P=u.getImageData(0,0,a,l);m===2?u.clearRect(0,0,a,l):m===3&&u.putImageData(p,0,0);const C=je.get().createCanvas(P.width,P.height);C.getContext("2d").putImageData(P,0,0),s.push({start:h,end:h+v,texture:new Te({source:new ao({resource:C})})}),h+=v}return c.width=c.height=0,f.width=f.height=0,new Kg(s)}}const ope={extension:V.Asset,detection:{test:async()=>!0,add:async t=>[...t,"gif"],remove:async t=>t.filter(e=>e!=="gif")},loader:{name:"gifLoader",id:"gif",test:t=>On.extname(t)===".gif"||t.startsWith("data:image/gif"),load:async(t,e)=>{const n=await(await je.get().fetch(t)).arrayBuffer();return Kg.from(n,e==null?void 0:e.data)},unload:async t=>{t.destroy()}}},Kk=class P_ extends gl{constructor(...e){const r=e[0]instanceof Kg?{source:e[0]}:e[0],{scaleMode:n,source:i,fps:o,loop:s,animationSpeed:a,autoPlay:l,autoUpdate:c,onComplete:u,onFrameChange:f,onLoop:d,...h}=Object.assign({},P_.defaultOptions,r);super({texture:Te.EMPTY,...h}),this.animationSpeed=1,this.loop=!0,this.duration=0,this.autoPlay=!0,this.dirty=!1,this._currentFrame=0,this._autoUpdate=!1,this._isConnectedToTicker=!1,this._playing=!1,this._currentTime=0,this.onRender=()=>this._updateFrame(),this.texture=i.textures[0],this.duration=i.frames[i.frames.length-1].end,this._source=i,this._playing=!1,this._currentTime=0,this._isConnectedToTicker=!1,Object.assign(this,{fps:o,loop:s,animationSpeed:a,autoPlay:l,autoUpdate:c,onComplete:u,onFrameChange:f,onLoop:d}),this.currentFrame=0,l&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&($r.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&($r.shared.add(this.update,this,vl.HIGH),this._isConnectedToTicker=!0),!this.loop&&this.currentFrame===this._source.frames.length-1&&(this._currentTime=0))}get progress(){return this._currentTime/this.duration}get playing(){return this._playing}update(e){var s,a;if(!this._playing)return;const r=this.animationSpeed*e.deltaTime/$r.targetFPMS,n=this._currentTime+r,i=n%this.duration,o=this._source.frames.findIndex(l=>l.start<=i&&l.end>i);n>=this.duration?this.loop?(this._currentTime=i,this._updateFrameIndex(o),(s=this.onLoop)==null||s.call(this)):(this._currentTime=this.duration,this._updateFrameIndex(this.totalFrames-1),(a=this.onComplete)==null||a.call(this),this.stop()):(this._currentTime=i,this._updateFrameIndex(o))}_updateFrame(){this.dirty&&(this.texture=this._source.frames[this._currentFrame].texture,this.dirty=!1)}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?($r.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&($r.shared.add(this.update,this),this._isConnectedToTicker=!0))}get currentFrame(){return this._currentFrame}set currentFrame(e){this._updateFrameIndex(e),this._currentTime=this._source.frames[e].start}get source(){return this._source}_updateFrameIndex(e){var r;if(e<0||e>=this.totalFrames)throw new Error(`Frame index out of range, expecting 0 to ${this.totalFrames}, got ${e}`);this._currentFrame!==e&&(this._currentFrame=e,this.dirty=!0,(r=this.onFrameChange)==null||r.call(this,e))}get totalFrames(){return this._source.totalFrames}destroy(e=!1){this.stop(),super.destroy(),e&&this._source.destroy();const r=null;this._source=r,this.onComplete=r,this.onFrameChange=r,this.onLoop=r}clone(){const e=new P_({source:this._source,autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.source.scaleMode,animationSpeed:this.animationSpeed,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop});return e.dirty=!0,e}};Kk.defaultOptions={scaleMode:"linear",fps:30,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null};let uTe=Kk;Ge.add(ope);var qk={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(al,function(){return function(r,n,i){r=r||{};var o=n.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,f,d){return o.fromToBase(c,u,f,d)}i.en.relativeTime=s,o.fromToBase=function(c,u,f,d,h){for(var p,y,g,m=f.$locale().relativeTime||s,v=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=v.length,x=0;x<_;x+=1){var b=v[x];b.d&&(p=d?i(c).diff(f,b.d,!0):f.diff(c,b.d,!0));var w=(r.rounding||Math.round)(Math.abs(p));if(g=p>0,w<=b.r||!b.r){w<=1&&x>0&&(b=v[x-1]);var E=m[b.l];h&&(w=h(""+w)),y=typeof E=="string"?E.replace("%d",w):E(w,u,b.l,g);break}}if(u)return y;var S=g?m.future:m.past;return typeof S=="function"?S(y):S.replace("%s",y)},o.to=function(c,u){return a(c,u,this,!0)},o.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};o.toNow=function(c){return this.to(l(this),c)},o.fromNow=function(c){return this.from(l(this),c)}}})})(qk);var spe=qk.exports;const fTe=lu(spe);var ape={exports:{}};(function(t,e){(function(r,n){t.exports=n(_b)})(al,function(r){function n(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var i=n(r),o={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(s,a){return a==="W"?s+"":s+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(s,a){var l=100*s+a;return l<600?"":l<900?"":l<1100?"":l<1300?"":l<1800?"":""}};return i.default.locale(o,null,!0),o})})(ape);var lpe={exports:{}};(function(t,e){(function(r,n){t.exports=n(_b)})(al,function(r){function n(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var i=n(r),o={name:"zh-tw",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(s,a){return a==="W"?s+"":s+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(s,a){var l=100*s+a;return l<600?"":l<900?"":l<1100?"":l<1300?"":l<1800?"":""}};return i.default.locale(o,null,!0),o})})(lpe);var cpe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(al,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var n=["th","st","nd","rd"],i=r%100;return"["+r+(n[(i-20)%10]||n[i]||n[0])+"]"}}})})(cpe);const Zk=new Proxy({},{get(t,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),upe=Object.freeze(Object.defineProperty({__proto__:null,default:Zk},Symbol.toStringTag,{value:"Module"}));var I_=null;function fpe(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return Zk.randomBytes(t)}catch{}if(!I_)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return I_(t)}function dpe(t){I_=t}function Xw(t,e){if(t=t||Yw,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var r=[];return r.push("$2b$"),t<10&&r.push("0"),r.push(t.toString()),r.push("$"),r.push(y0(fpe(ud),ud)),r.join("")}function Jk(t,e,r){if(typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),typeof t>"u")t=Yw;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function n(i){Di(function(){try{i(null,Xw(t))}catch(o){i(o)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(i,o){n(function(s,a){if(s){o(s);return}i(a)})})}function Qk(t,e){if(typeof e>"u"&&(e=Yw),typeof e=="number"&&(e=Xw(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return O_(t,e)}function e9(t,e,r,n){function i(o){typeof t=="string"&&typeof e=="number"?Jk(e,function(s,a){O_(t,a,o,n)}):typeof t=="string"&&typeof e=="string"?O_(t,e,o,n):Di(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);i(r)}else return new Promise(function(o,s){i(function(a,l){if(a){s(a);return}o(l)})})}function t9(t,e){for(var r=t.length^e.length,n=0;n<t.length;++n)r|=t.charCodeAt(n)^e.charCodeAt(n);return r===0}function hpe(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:t9(Qk(t,e.substring(0,e.length-31)),e)}function ppe(t,e,r,n){function i(o){if(typeof t!="string"||typeof e!="string"){Di(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Di(o.bind(this,null,!1));return}e9(t,e.substring(0,29),function(s,a){s?o(s):o(null,t9(a,e))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);i(r)}else return new Promise(function(o,s){i(function(a,l){if(a){s(a);return}o(l)})})}function gpe(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function mpe(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function vpe(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return r9(t)>72}var Di=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function r9(t){for(var e=0,r=0,n=0;n<t.length;++n)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320?(++n,e+=4):e+=3;return e}function ype(t){for(var e=0,r,n,i=new Array(r9(t)),o=0,s=t.length;o<s;++o)r=t.charCodeAt(o),r<128?i[e++]=r:r<2048?(i[e++]=r>>6|192,i[e++]=r&63|128):(r&64512)===55296&&((n=t.charCodeAt(o+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++o,i[e++]=r>>18|240,i[e++]=r>>12&63|128,i[e++]=r>>6&63|128,i[e++]=r&63|128):(i[e++]=r>>12|224,i[e++]=r>>6&63|128,i[e++]=r&63|128);return i}var nc="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),xs=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function y0(t,e){var r=0,n=[],i,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;r<e;){if(i=t[r++]&255,n.push(nc[i>>2&63]),i=(i&3)<<4,r>=e){n.push(nc[i&63]);break}if(o=t[r++]&255,i|=o>>4&15,n.push(nc[i&63]),i=(o&15)<<2,r>=e){n.push(nc[i&63]);break}o=t[r++]&255,i|=o>>6&3,n.push(nc[i&63]),n.push(nc[o&63])}return n.join("")}function n9(t,e){var r=0,n=t.length,i=0,o=[],s,a,l,c,u,f;if(e<=0)throw Error("Illegal len: "+e);for(;r<n-1&&i<e&&(f=t.charCodeAt(r++),s=f<xs.length?xs[f]:-1,f=t.charCodeAt(r++),a=f<xs.length?xs[f]:-1,!(s==-1||a==-1||(u=s<<2>>>0,u|=(a&48)>>4,o.push(String.fromCharCode(u)),++i>=e||r>=n)||(f=t.charCodeAt(r++),l=f<xs.length?xs[f]:-1,l==-1)||(u=(a&15)<<4>>>0,u|=(l&60)>>2,o.push(String.fromCharCode(u)),++i>=e||r>=n)));)f=t.charCodeAt(r++),c=f<xs.length?xs[f]:-1,u=(l&3)<<6>>>0,u|=c,o.push(String.fromCharCode(u)),++i;var d=[];for(r=0;r<i;r++)d.push(o[r].charCodeAt(0));return d}var ud=16,Yw=10,_pe=16,xpe=100,LT=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],$T=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],i9=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function fd(t,e,r,n){var i,o=t[e],s=t[e+1];return o^=r[0],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[1],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[2],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[3],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[4],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[5],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[6],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[7],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[8],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[9],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[10],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[11],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[12],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[13],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[14],i=n[o>>>24],i+=n[256|o>>16&255],i^=n[512|o>>8&255],i+=n[768|o&255],s^=i^r[15],i=n[s>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i+=n[768|s&255],o^=i^r[16],t[e]=s^r[_pe+1],t[e+1]=o,t}function dc(t,e){for(var r=0,n=0;r<4;++r)n=n<<8|t[e]&255,e=(e+1)%t.length;return{key:n,offp:e}}function UT(t,e,r){for(var n=0,i=[0,0],o=e.length,s=r.length,a,l=0;l<o;l++)a=dc(t,n),n=a.offp,e[l]=e[l]^a.key;for(l=0;l<o;l+=2)i=fd(i,0,e,r),e[l]=i[0],e[l+1]=i[1];for(l=0;l<s;l+=2)i=fd(i,0,e,r),r[l]=i[0],r[l+1]=i[1]}function bpe(t,e,r,n){for(var i=0,o=[0,0],s=r.length,a=n.length,l,c=0;c<s;c++)l=dc(e,i),i=l.offp,r[c]=r[c]^l.key;for(i=0,c=0;c<s;c+=2)l=dc(t,i),i=l.offp,o[0]^=l.key,l=dc(t,i),i=l.offp,o[1]^=l.key,o=fd(o,0,r,n),r[c]=o[0],r[c+1]=o[1];for(c=0;c<a;c+=2)l=dc(t,i),i=l.offp,o[0]^=l.key,l=dc(t,i),i=l.offp,o[1]^=l.key,o=fd(o,0,r,n),n[c]=o[0],n[c+1]=o[1]}function GT(t,e,r,n,i){var o=i9.slice(),s=o.length,a;if(r<4||r>31)if(a=Error("Illegal number of rounds (4-31): "+r),n){Di(n.bind(this,a));return}else throw a;if(e.length!==ud)if(a=Error("Illegal salt length: "+e.length+" != "+ud),n){Di(n.bind(this,a));return}else throw a;r=1<<r>>>0;var l,c,u=0,f;typeof Int32Array=="function"?(l=new Int32Array(LT),c=new Int32Array($T)):(l=LT.slice(),c=$T.slice()),bpe(e,t,l,c);function d(){if(i&&i(u/r),u<r)for(var p=Date.now();u<r&&(u=u+1,UT(t,l,c),UT(e,l,c),!(Date.now()-p>xpe)););else{for(u=0;u<64;u++)for(f=0;f<s>>1;f++)fd(o,f<<1,l,c);var y=[];for(u=0;u<s;u++)y.push((o[u]>>24&255)>>>0),y.push((o[u]>>16&255)>>>0),y.push((o[u]>>8&255)>>>0),y.push((o[u]&255)>>>0);if(n){n(null,y);return}else return y}n&&Di(d)}if(typeof n<"u")d();else for(var h;;)if(typeof(h=d())<"u")return h||[]}function O_(t,e,r,n){var i;if(typeof t!="string"||typeof e!="string")if(i=Error("Invalid string / salt: Not a string"),r){Di(r.bind(this,i));return}else throw i;var o,s;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(i=Error("Invalid salt version: "+e.substring(0,2)),r){Di(r.bind(this,i));return}else throw i;if(e.charAt(2)==="$")o=String.fromCharCode(0),s=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+e.substring(2,4)),r){Di(r.bind(this,i));return}else throw i;s=4}if(e.charAt(s+2)>"$")if(i=Error("Missing salt rounds"),r){Di(r.bind(this,i));return}else throw i;var a=parseInt(e.substring(s,s+1),10)*10,l=parseInt(e.substring(s+1,s+2),10),c=a+l,u=e.substring(s+3,s+25);t+=o>="a"?"\0":"";var f=ype(t),d=n9(u,ud);function h(p){var y=[];return y.push("$2"),o>="a"&&y.push(o),y.push("$"),c<10&&y.push("0"),y.push(c.toString()),y.push("$"),y.push(y0(d,d.length)),y.push(y0(p,i9.length*4-1)),y.join("")}if(typeof r>"u")return h(GT(f,d,c));GT(f,d,c,function(p,y){p?r(p,null):r(null,h(y))},n)}function wpe(t,e){return y0(t,e)}function Epe(t,e){return n9(t,e)}const dTe={setRandomFallback:dpe,genSaltSync:Xw,genSalt:Jk,hashSync:Qk,hash:e9,compareSync:hpe,compare:ppe,getRounds:gpe,getSalt:mpe,truncates:vpe,encodeBase64:wpe,decodeBase64:Epe},hTe=Md("App",{web:()=>Df(()=>Promise.resolve().then(()=>ISe),void 0).then(t=>new t.AppWeb)});/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Cpe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],a=t[r++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},s9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|c>>6,h=c&63;l||(h=64,s||(d=64)),n.push(r[u],r[f],r[d],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cpe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Ape;const d=o<<2|a>>4;if(n.push(d),c!==64){const h=a<<4&240|c>>2;if(n.push(h),f!==64){const p=c<<6&192|f;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ape extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tpe=function(t){const e=o9(t);return s9.encodeByteArray(e,!0)},a9=function(t){return Tpe(t).replace(/\./g,"")},Ppe=function(t){try{return s9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ipe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ope=()=>Ipe().__FIREBASE_DEFAULTS__,Rpe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mpe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ppe(t[1]);return e&&JSON.parse(e)},Dpe=()=>{try{return Spe()||Ope()||Rpe()||Mpe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l9=()=>{var t;return(t=Dpe())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bpe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function kpe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function qw(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}function c9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe="FirebaseError";class Fl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Npe,Object.setPrototypeOf(this,Fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Fpe(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fl(i,a,n)}}function Fpe(t,e){return t.replace(Lpe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Lpe=/\{\$([^}]+)}/g;function _0(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(HT(o)&&HT(s)){if(!_0(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function HT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe=1e3,Upe=2,Gpe=4*60*60*1e3,Hpe=.5;function VT(t,e=$pe,r=Upe){const n=e*Math.pow(r,t),i=Math.round(Hpe*n*(Math.random()-.5)*2);return Math.min(Gpe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vpe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Bpe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jpe(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zpe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zpe(t){return t===Ia?void 0:t}function jpe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wpe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Vpe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const Xpe={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Ype=Lt.INFO,Kpe={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},qpe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Kpe[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u9{constructor(e){this.name=e,this._logLevel=Ype,this._logHandler=qpe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xpe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const Zpe=(t,e)=>e.some(r=>t instanceof r);let zT,jT;function Jpe(){return zT||(zT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qpe(){return jT||(jT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f9=new WeakMap,R_=new WeakMap,d9=new WeakMap,kv=new WeakMap,Zw=new WeakMap;function e0e(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(Yo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&f9.set(r,t)}).catch(()=>{}),Zw.set(e,t),e}function t0e(t){if(R_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});R_.set(t,e)}let M_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return R_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d9.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Yo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r0e(t){M_=t(M_)}function n0e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Nv(this),e,...r);return d9.set(n,e.sort?e.sort():[e]),Yo(n)}:Qpe().includes(t)?function(...e){return t.apply(Nv(this),e),Yo(f9.get(this))}:function(...e){return Yo(t.apply(Nv(this),e))}}function i0e(t){return typeof t=="function"?n0e(t):(t instanceof IDBTransaction&&t0e(t),Zpe(t,Jpe())?new Proxy(t,M_):t)}function Yo(t){if(t instanceof IDBRequest)return e0e(t);if(kv.has(t))return kv.get(t);const e=i0e(t);return e!==t&&(kv.set(t,e),Zw.set(e,t)),e}const Nv=t=>Zw.get(t);function qg(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Yo(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Yo(s.result),l.oldVersion,l.newVersion,Yo(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Fv(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Yo(r).then(()=>{})}const o0e=["get","getKey","getAll","getAllKeys","count"],s0e=["put","add","delete","clear"],Lv=new Map;function WT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=s0e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||o0e.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),i&&l.done]))[0]};return Lv.set(e,o),o}r0e(t=>({...t,get:(e,r,n)=>WT(e,r)||t.get(e,r,n),has:(e,r)=>!!WT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(l0e(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function l0e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D_="@firebase/app",XT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new u9("@firebase/app"),c0e="@firebase/app-compat",u0e="@firebase/analytics-compat",f0e="@firebase/analytics",d0e="@firebase/app-check-compat",h0e="@firebase/app-check",p0e="@firebase/auth",g0e="@firebase/auth-compat",m0e="@firebase/database",v0e="@firebase/data-connect",y0e="@firebase/database-compat",_0e="@firebase/functions",x0e="@firebase/functions-compat",b0e="@firebase/installations",w0e="@firebase/installations-compat",E0e="@firebase/messaging",S0e="@firebase/messaging-compat",C0e="@firebase/performance",A0e="@firebase/performance-compat",T0e="@firebase/remote-config",P0e="@firebase/remote-config-compat",I0e="@firebase/storage",O0e="@firebase/storage-compat",R0e="@firebase/firestore",M0e="@firebase/ai",D0e="@firebase/firestore-compat",B0e="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="[DEFAULT]",k0e={[D_]:"fire-core",[c0e]:"fire-core-compat",[f0e]:"fire-analytics",[u0e]:"fire-analytics-compat",[h0e]:"fire-app-check",[d0e]:"fire-app-check-compat",[p0e]:"fire-auth",[g0e]:"fire-auth-compat",[m0e]:"fire-rtdb",[v0e]:"fire-data-connect",[y0e]:"fire-rtdb-compat",[_0e]:"fire-fn",[x0e]:"fire-fn-compat",[b0e]:"fire-iid",[w0e]:"fire-iid-compat",[E0e]:"fire-fcm",[S0e]:"fire-fcm-compat",[C0e]:"fire-perf",[A0e]:"fire-perf-compat",[T0e]:"fire-rc",[P0e]:"fire-rc-compat",[I0e]:"fire-gcs",[O0e]:"fire-gcs-compat",[R0e]:"fire-fst",[D0e]:"fire-fst-compat",[M0e]:"fire-vertex","fire-js":"fire-js",[B0e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map,N0e=new Map,k_=new Map;function YT(t,e){try{t.container.addComponent(e)}catch(r){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function os(t){const e=t.name;if(k_.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;k_.set(e,t);for(const r of x0.values())YT(r,t);for(const r of N0e.values())YT(r,t);return!0}function Wd(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new zd("app","Firebase",F0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0e{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}function $0e(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:B_,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw js.create("bad-app-name",{appName:String(i)});if(r||(r=l9()),!r)throw js.create("no-options");const o=x0.get(i);if(o){if(_0(r,o.options)&&_0(n,o.config))return o;throw js.create("duplicate-app",{appName:i})}const s=new Wpe(i);for(const l of k_.values())s.addComponent(l);const a=new L0e(r,n,s);return x0.set(i,a),a}function h9(t=B_){const e=x0.get(t);if(!e&&t===B_&&l9())return $0e();if(!e)throw js.create("no-app",{appName:t});return e}function lo(t,e,r){var n;let i=(n=k0e[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(a.join(" "));return}os(new yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0e="firebase-heartbeat-database",G0e=1,dd="firebase-heartbeat-store";let $v=null;function p9(){return $v||($v=qg(U0e,G0e,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dd)}catch(r){console.warn(r)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),$v}async function H0e(t){try{const r=(await p9()).transaction(dd),n=await r.objectStore(dd).get(g9(t));return await r.done,n}catch(e){if(e instanceof Fl)is.warn(e.message);else{const r=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(r.message)}}}async function KT(t,e){try{const n=(await p9()).transaction(dd,"readwrite");await n.objectStore(dd).put(e,g9(t)),await n.done}catch(r){if(r instanceof Fl)is.warn(r.message);else{const n=js.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});is.warn(n.message)}}}function g9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0e=1024,z0e=30;class j0e{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new X0e(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>z0e){const s=Y0e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){is.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=qT(),{heartbeatsToSend:n,unsentEntries:i}=W0e(this._heartbeatsCache.heartbeats),o=a9(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return is.warn(r),""}}}function qT(){return new Date().toISOString().substring(0,10)}function W0e(t,e=V0e){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ZT(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ZT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class X0e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await H0e(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return KT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return KT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZT(t){return a9(JSON.stringify({version:2,heartbeats:t})).length}function Y0e(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0e(t){os(new yo("platform-logger",e=>new a0e(e),"PRIVATE")),os(new yo("heartbeat",e=>new j0e(e),"PRIVATE")),lo(D_,XT,t),lo(D_,XT,"esm2017"),lo("fire-js","")}K0e("");var q0e="firebase",Z0e="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(q0e,Z0e,"app");const m9="@firebase/installations",Jw="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=1e4,y9=`w:${Jw}`,_9="FIS_v2",J0e="https://firebaseinstallations.googleapis.com/v1",Q0e=60*60*1e3,ege="installations",tge="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rge={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xl=new zd(ege,tge,rge);function x9(t){return t instanceof Fl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9({projectId:t}){return`${J0e}/projects/${t}/installations`}function w9(t){return{token:t.token,requestStatus:2,expiresIn:ige(t.expiresIn),creationTime:Date.now()}}async function E9(t,e){const n=(await e.json()).error;return xl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function S9({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function nge(t,{refreshToken:e}){const r=S9(t);return r.append("Authorization",oge(e)),r}async function C9(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ige(t){return Number(t.replace("s","000"))}function oge(t){return`${_9} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sge({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=b9(t),i=S9(t),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:r,authVersion:_9,appId:t.appId,sdkVersion:y9},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await C9(()=>fetch(n,a));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:w9(c.authToken)}}else throw await E9("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function age(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lge=/^[cdef][\w-]{21}$/,N_="";function cge(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=uge(t);return lge.test(r)?r:N_}catch{return N_}}function uge(t){return age(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=new Map;function P9(t,e){const r=Zg(t);I9(r,e),fge(r,e)}function I9(t,e){const r=T9.get(t);if(r)for(const n of r)n(e)}function fge(t,e){const r=dge();r&&r.postMessage({key:t,fid:e}),hge()}let Ga=null;function dge(){return!Ga&&"BroadcastChannel"in self&&(Ga=new BroadcastChannel("[Firebase] FID Change"),Ga.onmessage=t=>{I9(t.data.key,t.data.fid)}),Ga}function hge(){T9.size===0&&Ga&&(Ga.close(),Ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pge="firebase-installations-database",gge=1,bl="firebase-installations-store";let Uv=null;function Qw(){return Uv||(Uv=qg(pge,gge,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bl)}}})),Uv}async function b0(t,e){const r=Zg(t),i=(await Qw()).transaction(bl,"readwrite"),o=i.objectStore(bl),s=await o.get(r);return await o.put(e,r),await i.done,(!s||s.fid!==e.fid)&&P9(t,e.fid),e}async function O9(t){const e=Zg(t),n=(await Qw()).transaction(bl,"readwrite");await n.objectStore(bl).delete(e),await n.done}async function Jg(t,e){const r=Zg(t),i=(await Qw()).transaction(bl,"readwrite"),o=i.objectStore(bl),s=await o.get(r),a=e(s);return a===void 0?await o.delete(r):await o.put(a,r),await i.done,a&&(!s||s.fid!==a.fid)&&P9(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(t){let e;const r=await Jg(t.appConfig,n=>{const i=mge(n),o=vge(t,i);return e=o.registrationPromise,o.installationEntry});return r.fid===N_?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function mge(t){const e=t||{fid:cge(),registrationStatus:0};return R9(e)}function vge(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=yge(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_ge(t)}:{installationEntry:e}}async function yge(t,e){try{const r=await sge(t,e);return b0(t.appConfig,r)}catch(r){throw x9(r)&&r.customData.serverCode===409?await O9(t.appConfig):await b0(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function _ge(t){let e=await JT(t.appConfig);for(;e.registrationStatus===1;)await A9(100),e=await JT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await e2(t);return n||r}return e}function JT(t){return Jg(t,e=>{if(!e)throw xl.create("installation-not-found");return R9(e)})}function R9(t){return xge(t)?{fid:t.fid,registrationStatus:0}:t}function xge(t){return t.registrationStatus===1&&t.registrationTime+v9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bge({appConfig:t,heartbeatServiceProvider:e},r){const n=wge(t,r),i=nge(t,r),o=e.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:y9,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await C9(()=>fetch(n,a));if(l.ok){const c=await l.json();return w9(c)}else throw await E9("Generate Auth Token",l)}function wge(t,{fid:e}){return`${b9(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e=!1){let r;const n=await Jg(t.appConfig,o=>{if(!M9(o))throw xl.create("not-registered");const s=o.authToken;if(!e&&Cge(s))return o;if(s.requestStatus===1)return r=Ege(t,e),o;{if(!navigator.onLine)throw xl.create("app-offline");const a=Tge(o);return r=Sge(t,a),a}});return r?await r:n.authToken}async function Ege(t,e){let r=await QT(t.appConfig);for(;r.authToken.requestStatus===1;)await A9(100),r=await QT(t.appConfig);const n=r.authToken;return n.requestStatus===0?t2(t,e):n}function QT(t){return Jg(t,e=>{if(!M9(e))throw xl.create("not-registered");const r=e.authToken;return Pge(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Sge(t,e){try{const r=await bge(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await b0(t.appConfig,n),r}catch(r){if(x9(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await O9(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await b0(t.appConfig,n)}throw r}}function M9(t){return t!==void 0&&t.registrationStatus===2}function Cge(t){return t.requestStatus===2&&!Age(t)}function Age(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Q0e}function Tge(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Pge(t){return t.requestStatus===1&&t.requestTime+v9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ige(t){const e=t,{installationEntry:r,registrationPromise:n}=await e2(e);return n?n.catch(console.error):t2(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oge(t,e=!1){const r=t;return await Rge(r),(await t2(r,e)).token}async function Rge(t){const{registrationPromise:e}=await e2(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mge(t){if(!t||!t.options)throw Gv("App Configuration");if(!t.name)throw Gv("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Gv(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Gv(t){return xl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="installations",Dge="installations-internal",Bge=t=>{const e=t.getProvider("app").getImmediate(),r=Mge(e),n=Wd(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},kge=t=>{const e=t.getProvider("app").getImmediate(),r=Wd(e,D9).getImmediate();return{getId:()=>Ige(r),getToken:i=>Oge(r,i)}};function Nge(){os(new yo(D9,Bge,"PUBLIC")),os(new yo(Dge,kge,"PRIVATE"))}Nge();lo(m9,Jw);lo(m9,Jw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="analytics",Fge="firebase_id",Lge="origin",$ge=60*1e3,Uge="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",r2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new u9("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gge={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wn=new zd("analytics","Analytics",Gge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hge(t){if(!t.startsWith(r2)){const e=Wn.create("invalid-gtag-resource",{gtagURL:t});return Rn.warn(e.message),""}return t}function B9(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function Vge(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function zge(t,e){const r=Vge("firebase-js-sdk-policy",{createScriptURL:Hge}),n=document.createElement("script"),i=`${r2}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function jge(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Wge(t,e,r,n,i,o){const s=n[i];try{if(s)await e[s];else{const l=(await B9(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Rn.error(a)}t("config",i,o)}async function Xge(t,e,r,n,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await B9(r);for(const l of s){const c=a.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",n,i||{})}catch(o){Rn.error(o)}}function Yge(t,e,r,n){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await Xge(t,e,r,a,l)}else if(o==="config"){const[a,l]=s;await Wge(t,e,r,n,a,l)}else if(o==="consent"){const[a,l]=s;t("consent",a,l)}else if(o==="get"){const[a,l,c]=s;t("get",a,l,c)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Rn.error(a)}}return i}function Kge(t,e,r,n,i){let o=function(...s){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Yge(o,t,e,r),{gtagCore:o,wrappedGtag:window[i]}}function qge(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(r2)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zge=30,Jge=1e3;class Qge{constructor(e={},r=Jge){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const k9=new Qge;function eme(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function tme(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:eme(n)},o=Uge.replace("{app-id}",r),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function rme(t,e=k9,r){const{appId:n,apiKey:i,measurementId:o}=t.options;if(!n)throw Wn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:n};throw Wn.create("no-api-key")}const s=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ome;return setTimeout(async()=>{a.abort()},r!==void 0?r:$ge),N9({appId:n,apiKey:i,measurementId:o},s,a,e)}async function N9(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=k9){var o;const{appId:s,measurementId:a}=t;try{await nme(n,e)}catch(l){if(a)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await tme(t);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!ime(c)){if(i.deleteThrottleMetadata(s),a)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw l}const u=Number((o=c==null?void 0:c.customData)===null||o===void 0?void 0:o.httpStatus)===503?VT(r,i.intervalMillis,Zge):VT(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(s,f),Rn.debug(`Calling attemptFetch again in ${u} millis`),N9(t,f,n,i)}}function nme(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(o),n(Wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ime(t){if(!(t instanceof Fl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ome{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sme(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const o=await e,s=Object.assign(Object.assign({},n),{send_to:o});t("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ame(){if(Kw())try{await qw()}catch(t){return Rn.warn(Wn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Rn.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lme(t,e,r,n,i,o,s){var a;const l=rme(t);l.then(h=>{r[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Rn.error(h)),e.push(l);const c=ame().then(h=>{if(h)return n.getId()}),[u,f]=await Promise.all([l,c]);qge(o)||zge(o,u.measurementId),i("js",new Date);const d=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return d[Lge]="firebase",d.update=!0,f!=null&&(d[Fge]=f),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cme{constructor(e){this.app=e}_delete(){return delete Pf[this.app.options.appId],Promise.resolve()}}let Pf={},e3=[];const t3={};let Hv="dataLayer",ume="gtag",r3,F9,n3=!1;function fme(){const t=[];if(kpe()&&t.push("This is a browser extension environment."),c9()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Wn.create("invalid-analytics-context",{errorInfo:e});Rn.warn(r.message)}}function dme(t,e,r){fme();const n=t.options.appId;if(!n)throw Wn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wn.create("no-api-key");if(Pf[n]!=null)throw Wn.create("already-exists",{id:n});if(!n3){jge(Hv);const{wrappedGtag:o,gtagCore:s}=Kge(Pf,e3,t3,Hv,ume);F9=o,r3=s,n3=!0}return Pf[n]=lme(t,e3,t3,e,r3,Hv,r),new cme(t)}function pTe(t=h9()){t=jd(t);const e=Wd(t,w0);return e.isInitialized()?e.getImmediate():hme(t)}function hme(t,e={}){const r=Wd(t,w0);if(r.isInitialized()){const i=r.getImmediate();if(_0(e,r.getOptions()))return i;throw Wn.create("already-initialized")}return r.initialize({options:e})}function pme(t,e,r,n){t=jd(t),sme(F9,Pf[t.app.options.appId],e,r,n).catch(i=>Rn.error(i))}const i3="@firebase/analytics",o3="0.10.17";function gme(){os(new yo(w0,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return dme(n,i,r)},"PUBLIC")),os(new yo("analytics-internal",t,"PRIVATE")),lo(i3,o3),lo(i3,o3,"esm2017");function t(e){try{const r=e.getProvider(w0).getImmediate();return{logEvent:(n,i,o)=>pme(r,n,i,o)}}catch(r){throw Wn.create("interop-component-reg-failed",{reason:r})}}}gme();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mme="/firebase-messaging-sw.js",vme="/firebase-cloud-messaging-push-scope",L9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yme="https://fcmregistrations.googleapis.com/v1",$9="google.c.a.c_id",_me="google.c.a.c_l",xme="google.c.a.ts",bme="google.c.a.e",s3=1e4;var a3;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(a3||(a3={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var hd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(hd||(hd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wme(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="fcm_token_details_db",Eme=5,l3="fcm_token_object_Store";async function Sme(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Vv))return null;let e=null;return(await qg(Vv,Eme,{upgrade:async(n,i,o,s)=>{var a;if(i<2||!n.objectStoreNames.contains(l3))return;const l=s.objectStore(l3),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Bo(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bo(u.auth),p256dh:Bo(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bo(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Bo(u.auth),p256dh:Bo(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Bo(u.vapidKey)}}}}}})).close(),await Fv(Vv),await Fv("fcm_vapid_details_db"),await Fv("undefined"),Cme(e)?e:null}function Cme(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ame="firebase-messaging-database",Tme=1,pd="firebase-messaging-store";let zv=null;function U9(){return zv||(zv=qg(Ame,Tme,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pd)}}})),zv}async function Pme(t){const e=G9(t),n=await(await U9()).transaction(pd).objectStore(pd).get(e);if(n)return n;{const i=await Sme(t.appConfig.senderId);if(i)return await n2(t,i),i}}async function n2(t,e){const r=G9(t),i=(await U9()).transaction(pd,"readwrite");return await i.objectStore(pd).put(e,r),await i.done,e}function G9({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ime={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Zr=new zd("messaging","Messaging",Ime);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ome(t,e){const r=await o2(t),n=H9(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(i2(t.appConfig),i)).json()}catch(s){throw Zr.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw Zr.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Zr.create("token-subscribe-no-token");return o.token}async function Rme(t,e){const r=await o2(t),n=H9(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(`${i2(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Zr.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw Zr.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Zr.create("token-update-no-token");return o.token}async function Mme(t,e){const n={method:"DELETE",headers:await o2(t)};try{const o=await(await fetch(`${i2(t.appConfig)}/${e}`,n)).json();if(o.error){const s=o.error.message;throw Zr.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Zr.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function i2({projectId:t}){return`${yme}/projects/${t}/registrations`}async function o2({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function H9({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==L9&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dme=7*24*60*60*1e3;async function Bme(t){const e=await Nme(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Bo(e.getKey("auth")),p256dh:Bo(e.getKey("p256dh"))},n=await Pme(t.firebaseDependencies);if(n){if(Fme(n.subscriptionOptions,r))return Date.now()>=n.createTime+Dme?kme(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await Mme(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return c3(t.firebaseDependencies,r)}else return c3(t.firebaseDependencies,r)}async function kme(t,e){try{const r=await Rme(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await n2(t.firebaseDependencies,n),r}catch(r){throw r}}async function c3(t,e){const n={token:await Ome(t,e),createTime:Date.now(),subscriptionOptions:e};return await n2(t,n),n.token}async function Nme(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wme(e)})}function Fme(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return r&&n&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Lme(e,t),$me(e,t),Ume(e,t),e}function Lme(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function $me(t,e){e.data&&(t.data=e.data)}function Ume(t,e){var r,n,i,o,s;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gme(t){return typeof t=="object"&&!!t&&$9 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hme("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Hme(t,e){const r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vme(t){if(!t||!t.options)throw jv("App Configuration Object");if(!t.name)throw jv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw jv(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function jv(t){return Zr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zme{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=Vme(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jme(t){try{t.swRegistration=await navigator.serviceWorker.register(mme,{scope:vme}),t.swRegistration.update().catch(()=>{}),await Wme(t.swRegistration)}catch(e){throw Zr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Wme(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${s3} ms`)),s3),i=t.installing||t.waiting;t.active?(clearTimeout(n),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xme(t,e){if(!e&&!t.swRegistration&&await jme(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Zr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yme(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=L9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e){if(!navigator)throw Zr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Zr.create("permission-blocked");return await Yme(t,e==null?void 0:e.vapidKey),await Xme(t,e==null?void 0:e.serviceWorkerRegistration),Bme(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kme(t,e,r){const n=qme(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[$9],message_name:r[_me],message_time:r[xme],message_device_time:Math.floor(Date.now()/1e3)})}function qme(t){switch(t){case hd.NOTIFICATION_CLICKED:return"notification_open";case hd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zme(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===hd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(u3(r)):t.onMessageHandler.next(u3(r)));const n=r.data;Gme(n)&&n[bme]==="1"&&await Kme(t,r.messageType,n)}const f3="@firebase/messaging",d3="0.12.22";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme=t=>{const e=new zme(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Zme(e,r)),e},Qme=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>V9(e,n)}};function eve(){os(new yo("messaging",Jme,"PUBLIC")),os(new yo("messaging-internal",Qme,"PRIVATE")),lo(f3,d3),lo(f3,d3,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tve(){try{await qw()}catch{return!1}return typeof window<"u"&&Kw()&&c9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rve(t,e){if(!navigator)throw Zr.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gTe(t=h9()){return tve().then(e=>{if(!e)throw Zr.create("unsupported-browser")},e=>{throw Zr.create("indexed-db-unsupported")}),Wd(jd(t),"messaging").getImmediate()}async function mTe(t,e){return t=jd(t),V9(t,e)}function vTe(t,e){return t=jd(t),rve(t,e)}eve();Ge.add(hae);Ge.mixin(Kn,pae);Ge.add(v6);Ge.add(y6);Ge.add(X6);Ge.mixin(Kn,Wue);Ge.add(W6);Ge.add(Ck);Ge.add(Aw);Ge.add(Pk);Ge.add(Ok);Ge.add(Rk);Ge.add(Vk);Ge.add(Hk);Ge.add(Lk);Ge.add(Gk);Ge.add($k);Ge.add(Fk);Ge.add(Nk);Ge.add(J6);Ge.add(Z6);const nve=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ive=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var z9={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var o={},s={};s[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,c,u,f,d,h,p,y,g;!a.empty();){l=a.pop(),c=l.value,f=l.cost,d=r[c]||{};for(u in d)d.hasOwnProperty(u)&&(h=d[u],p=f+h,y=s[u],g=typeof s[u]>"u",(g||y>p)&&(s[u]=p,a.push(u,p),o[u]=c))}if(typeof i<"u"&&typeof s[i]>"u"){var m=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(m)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],o=n;o;)i.push(o),r[o],o=r[o];return i.reverse(),i},find_path:function(r,n,i){var o=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(z9);var yTe=z9.exports;function h3(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function s2(t={},e={}){Object.keys(e).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:h3(e[r])&&h3(t[r])&&Object.keys(e[r]).length>0&&s2(t[r],e[r])})}const j9={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jr(){const t=typeof document<"u"?document:{};return s2(t,j9),t}const ove={document:j9,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Br(){const t=typeof window<"u"?window:{};return s2(t,ove),t}function sve(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(r){e.__proto__=r}})}class ks extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),sve(this))}}function Xd(t=[]){const e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...Xd(r)):e.push(r)}),e}function W9(t,e){return Array.prototype.filter.call(t,e)}function ave(t){const e=[];for(let r=0;r<t.length;r+=1)e.indexOf(t[r])===-1&&e.push(t[r]);return e}function lve(t,e){if(typeof t!="string")return[t];const r=[],n=e.querySelectorAll(t);for(let i=0;i<n.length;i+=1)r.push(n[i]);return r}function Oe(t,e){const r=Br(),n=Jr();let i=[];if(!e&&t instanceof ks)return t;if(!t)return new ks(i);if(typeof t=="string"){const o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){let s="div";o.indexOf("<li")===0&&(s="ul"),o.indexOf("<tr")===0&&(s="tbody"),(o.indexOf("<td")===0||o.indexOf("<th")===0)&&(s="tr"),o.indexOf("<tbody")===0&&(s="table"),o.indexOf("<option")===0&&(s="select");const a=n.createElement(s);a.innerHTML=o;for(let l=0;l<a.childNodes.length;l+=1)i.push(a.childNodes[l])}else i=lve(t.trim(),e||n)}else if(t.nodeType||t===r||t===n)i.push(t);else if(Array.isArray(t)){if(t instanceof ks)return t;i=t}return new ks(ave(i))}Oe.fn=ks.prototype;function cve(...t){const e=Xd(t.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.add(...e)}),this}function uve(...t){const e=Xd(t.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.remove(...e)}),this}function fve(...t){const e=Xd(t.map(r=>r.split(" ")));this.forEach(r=>{e.forEach(n=>{r.classList.toggle(n)})})}function dve(...t){const e=Xd(t.map(r=>r.split(" ")));return W9(this,r=>e.filter(n=>r.classList.contains(n)).length>0).length>0}function hve(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let r=0;r<this.length;r+=1)if(arguments.length===2)this[r].setAttribute(t,e);else for(const n in t)this[r][n]=t[n],this[r].setAttribute(n,t[n]);return this}function pve(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function gve(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function mve(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function vve(...t){let[e,r,n,i]=t;typeof t[1]=="function"&&([e,n,i]=t,r=void 0),i||(i=!1);function o(c){const u=c.target;if(!u)return;const f=c.target.dom7EventData||[];if(f.indexOf(c)<0&&f.unshift(c),Oe(u).is(r))n.apply(u,f);else{const d=Oe(u).parents();for(let h=0;h<d.length;h+=1)Oe(d[h]).is(r)&&n.apply(d[h],f)}}function s(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),n.apply(this,u)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(r)for(l=0;l<a.length;l+=1){const f=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[f]||(u.dom7LiveListeners[f]=[]),u.dom7LiveListeners[f].push({listener:n,proxyListener:o}),u.addEventListener(f,o,i)}else for(l=0;l<a.length;l+=1){const f=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[f]||(u.dom7Listeners[f]=[]),u.dom7Listeners[f].push({listener:n,proxyListener:s}),u.addEventListener(f,s,i)}}return this}function yve(...t){let[e,r,n,i]=t;typeof t[1]=="function"&&([e,n,i]=t,r=void 0),i||(i=!1);const o=e.split(" ");for(let s=0;s<o.length;s+=1){const a=o[s];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!r&&c.dom7Listeners?u=c.dom7Listeners[a]:r&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let f=u.length-1;f>=0;f-=1){const d=u[f];n&&d.listener===n||n&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===n?(c.removeEventListener(a,d.proxyListener,i),u.splice(f,1)):n||(c.removeEventListener(a,d.proxyListener,i),u.splice(f,1))}}}return this}function _ve(...t){const e=Br(),r=t[0].split(" "),n=t[1];for(let i=0;i<r.length;i+=1){const o=r[i];for(let s=0;s<this.length;s+=1){const a=this[s];if(e.CustomEvent){const l=new e.CustomEvent(o,{detail:n,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function xve(t){const e=this;function r(n){n.target===this&&(t.call(this,n),e.off("transitionend",r))}return t&&e.on("transitionend",r),this}function bve(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function wve(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function Eve(){if(this.length>0){const t=Br(),e=Jr(),r=this[0],n=r.getBoundingClientRect(),i=e.body,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,a=r===t?t.scrollY:r.scrollTop,l=r===t?t.scrollX:r.scrollLeft;return{top:n.top+a-o,left:n.left+l-s}}return null}function Sve(){const t=Br();return this[0]?t.getComputedStyle(this[0],null):{}}function Cve(t,e){const r=Br();let n;if(arguments.length===1)if(typeof t=="string"){if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(n=0;n<this.length;n+=1)for(const i in t)this[n].style[i]=t[i];return this}if(arguments.length===2&&typeof t=="string"){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this}function Ave(t){return t?(this.forEach((e,r)=>{t.apply(e,[e,r])}),this):this}function Tve(t){const e=W9(this,t);return Oe(e)}function Pve(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function Ive(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function Ove(t){const e=Br(),r=Jr(),n=this[0];let i,o;if(!n||typeof t>"u")return!1;if(typeof t=="string"){if(n.matches)return n.matches(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);for(i=Oe(t),o=0;o<i.length;o+=1)if(i[o]===n)return!0;return!1}if(t===r)return n===r;if(t===e)return n===e;if(t.nodeType||t instanceof ks){for(i=t.nodeType?[t]:t,o=0;o<i.length;o+=1)if(i[o]===n)return!0;return!1}return!1}function Rve(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function Mve(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Oe([]);if(t<0){const r=e+t;return r<0?Oe([]):Oe([this[r]])}return Oe([this[t]])}function Dve(...t){let e;const r=Jr();for(let n=0;n<t.length;n+=1){e=t[n];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const o=r.createElement("div");for(o.innerHTML=e;o.firstChild;)this[i].appendChild(o.firstChild)}else if(e instanceof ks)for(let o=0;o<e.length;o+=1)this[i].appendChild(e[o]);else this[i].appendChild(e)}return this}function Bve(t){const e=Jr();let r,n;for(r=0;r<this.length;r+=1)if(typeof t=="string"){const i=e.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;n>=0;n-=1)this[r].insertBefore(i.childNodes[n],this[r].childNodes[0])}else if(t instanceof ks)for(n=0;n<t.length;n+=1)this[r].insertBefore(t[n],this[r].childNodes[0]);else this[r].insertBefore(t,this[r].childNodes[0]);return this}function kve(t){return this.length>0?t?this[0].nextElementSibling&&Oe(this[0].nextElementSibling).is(t)?Oe([this[0].nextElementSibling]):Oe([]):this[0].nextElementSibling?Oe([this[0].nextElementSibling]):Oe([]):Oe([])}function Nve(t){const e=[];let r=this[0];if(!r)return Oe([]);for(;r.nextElementSibling;){const n=r.nextElementSibling;t?Oe(n).is(t)&&e.push(n):e.push(n),r=n}return Oe(e)}function Fve(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Oe(e.previousElementSibling).is(t)?Oe([e.previousElementSibling]):Oe([]):e.previousElementSibling?Oe([e.previousElementSibling]):Oe([])}return Oe([])}function Lve(t){const e=[];let r=this[0];if(!r)return Oe([]);for(;r.previousElementSibling;){const n=r.previousElementSibling;t?Oe(n).is(t)&&e.push(n):e.push(n),r=n}return Oe(e)}function $ve(t){const e=[];for(let r=0;r<this.length;r+=1)this[r].parentNode!==null&&(t?Oe(this[r].parentNode).is(t)&&e.push(this[r].parentNode):e.push(this[r].parentNode));return Oe(e)}function Uve(t){const e=[];for(let r=0;r<this.length;r+=1){let n=this[r].parentNode;for(;n;)t?Oe(n).is(t)&&e.push(n):e.push(n),n=n.parentNode}return Oe(e)}function Gve(t){let e=this;return typeof t>"u"?Oe([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function Hve(t){const e=[];for(let r=0;r<this.length;r+=1){const n=this[r].querySelectorAll(t);for(let i=0;i<n.length;i+=1)e.push(n[i])}return Oe(e)}function Vve(t){const e=[];for(let r=0;r<this.length;r+=1){const n=this[r].children;for(let i=0;i<n.length;i+=1)(!t||Oe(n[i]).is(t))&&e.push(n[i])}return Oe(e)}function zve(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const p3={addClass:cve,removeClass:uve,hasClass:dve,toggleClass:fve,attr:hve,removeAttr:pve,transform:gve,transition:mve,on:vve,off:yve,trigger:_ve,transitionEnd:xve,outerWidth:bve,outerHeight:wve,styles:Sve,offset:Eve,css:Cve,each:Ave,html:Pve,text:Ive,is:Ove,index:Rve,eq:Mve,append:Dve,prepend:Bve,next:kve,nextAll:Nve,prev:Fve,prevAll:Lve,parent:$ve,parents:Uve,closest:Gve,find:Hve,children:Vve,filter:Tve,remove:zve};Object.keys(p3).forEach(t=>{Object.defineProperty(Oe.fn,t,{value:p3[t],writable:!0})});function jve(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function E0(t,e=0){return setTimeout(t,e)}function gd(){return Date.now()}function Wve(t){const e=Br();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function Xve(t,e="x"){const r=Br();let n,i,o;const s=Wve(t);return r.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),o=new r.WebKitCSSMatrix(i==="none"?"":i)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?i=o.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(r.WebKitCSSMatrix?i=o.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function qh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Yve(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Un(...t){const e=Object(t[0]),r=["__proto__","constructor","prototype"];for(let n=1;n<t.length;n+=1){const i=t[n];if(i!=null&&!Yve(i)){const o=Object.keys(Object(i)).filter(s=>r.indexOf(s)<0);for(let s=0,a=o.length;s<a;s+=1){const l=o[s],c=Object.getOwnPropertyDescriptor(i,l);c!==void 0&&c.enumerable&&(qh(e[l])&&qh(i[l])?i[l].__swiper__?e[l]=i[l]:Un(e[l],i[l]):!qh(e[l])&&qh(i[l])?(e[l]={},i[l].__swiper__?e[l]=i[l]:Un(e[l],i[l])):e[l]=i[l])}}}return e}function Zh(t,e,r){t.style.setProperty(e,r)}function X9({swiper:t,targetPosition:e,side:r}){const n=Br(),i=-t.translate;let o=null,s;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(t.cssModeFrameID);const l=e>i?"next":"prev",c=(f,d)=>l==="next"&&f>=d||l==="prev"&&f<=d,u=()=>{s=new Date().getTime(),o===null&&(o=s);const f=Math.max(Math.min((s-o)/a,1),0),d=.5-Math.cos(f*Math.PI)/2;let h=i+d*(e-i);if(c(h,e)&&(h=e),t.wrapperEl.scrollTo({[r]:h}),c(h,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:h})}),n.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=n.requestAnimationFrame(u)};u()}let Wv;function Kve(){const t=Br(),e=Jr();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let n=!1;try{const i=Object.defineProperty({},"passive",{get(){n=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return n}(),gestures:function(){return"ongesturestart"in t}()}}function Y9(){return Wv||(Wv=Kve()),Wv}let Xv;function qve({userAgent:t}={}){const e=Y9(),r=Br(),n=r.navigator.platform,i=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,a=r.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/);let c=i.match(/(iPad).*OS\s([\d_]+)/);const u=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=n==="Win32";let h=n==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&h&&e.touch&&p.indexOf(`${s}x${a}`)>=0&&(c=i.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),h=!1),l&&!d&&(o.os="android",o.android=!0),(c||f||u)&&(o.os="ios",o.ios=!0),o}function Zve(t={}){return Xv||(Xv=qve(t)),Xv}let Yv;function Jve(){const t=Br();function e(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Qve(){return Yv||(Yv=Jve()),Yv}function e1e({swiper:t,on:e,emit:r}){const n=Br();let i=null,o=null;const s=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(u=>{o=n.requestAnimationFrame(()=>{const{width:f,height:d}=t;let h=f,p=d;u.forEach(({contentBoxSize:y,contentRect:g,target:m})=>{m&&m!==t.el||(h=g?g.width:(y[0]||y).inlineSize,p=g?g.height:(y[0]||y).blockSize)}),(h!==f||p!==d)&&s()})}),i.observe(t.el))},l=()=>{o&&n.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},c=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof n.ResizeObserver<"u"){a();return}n.addEventListener("resize",s),n.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),n.removeEventListener("resize",s),n.removeEventListener("orientationchange",c)})}function t1e({swiper:t,extendParams:e,on:r,emit:n}){const i=[],o=Br(),s=(c,u={})=>{const f=o.MutationObserver||o.WebkitMutationObserver,d=new f(h=>{if(h.length===1){n("observerUpdate",h[0]);return}const p=function(){n("observerUpdate",h[0])};o.requestAnimationFrame?o.requestAnimationFrame(p):o.setTimeout(p,0)});d.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),i.push(d)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let u=0;u<c.length;u+=1)s(c[u])}s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}},l=()=>{i.forEach(c=>{c.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",a),r("destroy",l)}const r1e={on(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=r?"unshift":"push";return t.split(" ").forEach(o=>{n.eventsListeners[o]||(n.eventsListeners[o]=[]),n.eventsListeners[o][i](e)}),n},once(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(...o){n.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(n,o)}return i.__emitterProxy=e,n.on(t,i,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const n=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[n](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&r.eventsListeners[n].splice(o,1)})}),r},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let r,n,i;return typeof t[0]=="string"||Array.isArray(t[0])?(r=t[0],n=t.slice(1,t.length),i=e):(r=t[0].events,n=t[0].data,i=t[0].context||e),n.unshift(i),(Array.isArray(r)?r:r.split(" ")).forEach(s=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(i,[s,...n])}),e.eventsListeners&&e.eventsListeners[s]&&e.eventsListeners[s].forEach(a=>{a.apply(i,n)})}),e}};function n1e(){const t=this;let e,r;const n=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=n[0].clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),r=r-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function i1e(){const t=this;function e(C){return t.isHorizontal()?C:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[C]}function r(C,A){return parseFloat(C.getPropertyValue(e(A))||0)}const n=t.params,{$wrapperEl:i,size:o,rtlTranslate:s,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=i.children(`.${t.params.slideClass}`),f=l?t.virtual.slides.length:u.length;let d=[];const h=[],p=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let g=n.slidesOffsetAfter;typeof g=="function"&&(g=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,v=t.slidesGrid.length;let _=n.spaceBetween,x=-y,b=0,w=0;if(typeof o>"u")return;typeof _=="string"&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*o),t.virtualSize=-_,s?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),n.centeredSlides&&n.cssMode&&(Zh(t.wrapperEl,"--swiper-centered-offset-before",""),Zh(t.wrapperEl,"--swiper-centered-offset-after",""));const E=n.grid&&n.grid.rows>1&&t.grid;E&&t.grid.initSlides(f);let S;const P=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(C=>typeof n.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<f;C+=1){S=0;const A=u.eq(C);if(E&&t.grid.updateSlide(C,A,f,e),A.css("display")!=="none"){if(n.slidesPerView==="auto"){P&&(u[C].style[e("width")]="");const T=getComputedStyle(A[0]),I=A[0].style.transform,B=A[0].style.webkitTransform;if(I&&(A[0].style.transform="none"),B&&(A[0].style.webkitTransform="none"),n.roundLengths)S=t.isHorizontal()?A.outerWidth(!0):A.outerHeight(!0);else{const G=r(T,"width"),N=r(T,"padding-left"),U=r(T,"padding-right"),W=r(T,"margin-left"),K=r(T,"margin-right"),fe=T.getPropertyValue("box-sizing");if(fe&&fe==="border-box")S=G+W+K;else{const{clientWidth:ue,offsetWidth:Y}=A[0];S=G+N+U+W+K+(Y-ue)}}I&&(A[0].style.transform=I),B&&(A[0].style.webkitTransform=B),n.roundLengths&&(S=Math.floor(S))}else S=(o-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),u[C]&&(u[C].style[e("width")]=`${S}px`);u[C]&&(u[C].swiperSlideSize=S),p.push(S),n.centeredSlides?(x=x+S/2+b/2+_,b===0&&C!==0&&(x=x-o/2-_),C===0&&(x=x-o/2-_),Math.abs(x)<1/1e3&&(x=0),n.roundLengths&&(x=Math.floor(x)),w%n.slidesPerGroup===0&&d.push(x),h.push(x)):(n.roundLengths&&(x=Math.floor(x)),(w-Math.min(t.params.slidesPerGroupSkip,w))%t.params.slidesPerGroup===0&&d.push(x),h.push(x),x=x+S+_),t.virtualSize+=S+_,b=S,w+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+g,s&&a&&(n.effect==="slide"||n.effect==="coverflow")&&i.css({width:`${t.virtualSize+n.spaceBetween}px`}),n.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+n.spaceBetween}px`}),E&&t.grid.updateWrapperSize(S,d,e),!n.centeredSlides){const C=[];for(let A=0;A<d.length;A+=1){let T=d[A];n.roundLengths&&(T=Math.floor(T)),d[A]<=t.virtualSize-o&&C.push(T)}d=C,Math.floor(t.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-o)}if(d.length===0&&(d=[0]),n.spaceBetween!==0){const C=t.isHorizontal()&&s?"marginLeft":e("marginRight");u.filter((A,T)=>n.cssMode?T!==u.length-1:!0).css({[C]:`${_}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let C=0;p.forEach(T=>{C+=T+(n.spaceBetween?n.spaceBetween:0)}),C-=n.spaceBetween;const A=C-o;d=d.map(T=>T<0?-y:T>A?A+g:T)}if(n.centerInsufficientSlides){let C=0;if(p.forEach(A=>{C+=A+(n.spaceBetween?n.spaceBetween:0)}),C-=n.spaceBetween,C<o){const A=(o-C)/2;d.forEach((T,I)=>{d[I]=T-A}),h.forEach((T,I)=>{h[I]=T+A})}}if(Object.assign(t,{slides:u,snapGrid:d,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Zh(t.wrapperEl,"--swiper-centered-offset-before",`${-d[0]}px`),Zh(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const C=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(T=>T+C),t.slidesGrid=t.slidesGrid.map(T=>T+A)}if(f!==c&&t.emit("slidesLengthChange"),d.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const C=`${n.containerModifierClass}backface-hidden`,A=t.$el.hasClass(C);f<=n.maxBackfaceHiddenSlides?A||t.$el.addClass(C):A&&t.$el.removeClass(C)}}function o1e(t){const e=this,r=[],n=e.virtual&&e.params.virtual.enabled;let i=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=a=>n?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Oe([])).each(a=>{r.push(a)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const a=e.activeIndex+o;if(a>e.slides.length&&!n)break;r.push(s(a))}else r.push(s(e.activeIndex));for(o=0;o<r.length;o+=1)if(typeof r[o]<"u"){const a=r[o].offsetHeight;i=a>i?a:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function s1e(){const t=this,e=t.slides;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop}function a1e(t=this&&this.translate||0){const e=this,r=e.params,{slides:n,rtlTranslate:i,snapGrid:o}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;i&&(s=t),n.removeClass(r.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<n.length;a+=1){const l=n[a];let c=l.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=n[0].swiperSlideOffset);const u=(s+(r.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+r.spaceBetween),f=(s-o[0]+(r.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+r.spaceBetween),d=-(s-c),h=d+e.slidesSizesGrid[a];(d>=0&&d<e.size-1||h>1&&h<=e.size||d<=0&&h>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),n.eq(a).addClass(r.slideVisibleClass)),l.progress=i?-u:u,l.originalProgress=i?-f:f}e.visibleSlides=Oe(e.visibleSlides)}function l1e(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const r=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:s}=e;const a=o,l=s;n===0?(i=0,o=!0,s=!0):(i=(t-e.minTranslate())/n,o=i<=0,s=i>=1),Object.assign(e,{progress:i,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),o&&!a&&e.emit("reachBeginning toEdge"),s&&!l&&e.emit("reachEnd toEdge"),(a&&!o||l&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}function c1e(){const t=this,{slides:e,params:r,$wrapperEl:n,activeIndex:i,realIndex:o}=t,s=t.virtual&&r.virtual.enabled;e.removeClass(`${r.slideActiveClass} ${r.slideNextClass} ${r.slidePrevClass} ${r.slideDuplicateActiveClass} ${r.slideDuplicateNextClass} ${r.slideDuplicatePrevClass}`);let a;s?a=t.$wrapperEl.find(`.${r.slideClass}[data-swiper-slide-index="${i}"]`):a=e.eq(i),a.addClass(r.slideActiveClass),r.loop&&(a.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(r.slideDuplicateActiveClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(r.slideDuplicateActiveClass));let l=a.nextAll(`.${r.slideClass}`).eq(0).addClass(r.slideNextClass);r.loop&&l.length===0&&(l=e.eq(0),l.addClass(r.slideNextClass));let c=a.prevAll(`.${r.slideClass}`).eq(0).addClass(r.slidePrevClass);r.loop&&c.length===0&&(c=e.eq(-1),c.addClass(r.slidePrevClass)),r.loop&&(l.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?n.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass):n.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()}function u1e(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:n,snapGrid:i,params:o,activeIndex:s,realIndex:a,snapIndex:l}=e;let c=t,u;if(typeof c>"u"){for(let d=0;d<n.length;d+=1)typeof n[d+1]<"u"?r>=n[d]&&r<n[d+1]-(n[d+1]-n[d])/2?c=d:r>=n[d]&&r<n[d+1]&&(c=d+1):r>=n[d]&&(c=d);o.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(i.indexOf(r)>=0)u=i.indexOf(r);else{const d=Math.min(o.slidesPerGroupSkip,c);u=d+Math.floor((c-d)/o.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),c===s){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const f=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:f,previousIndex:s,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==f&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function f1e(t){const e=this,r=e.params,n=Oe(t).closest(`.${r.slideClass}`)[0];let i=!1,o;if(n){for(let s=0;s<e.slides.length;s+=1)if(e.slides[s]===n){i=!0,o=s;break}}if(n&&i)e.clickedSlide=n,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Oe(n).attr("data-swiper-slide-index"),10):e.clickedIndex=o;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}r.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const d1e={updateSize:n1e,updateSlides:i1e,updateAutoHeight:o1e,updateSlidesOffset:s1e,updateSlidesProgress:a1e,updateProgress:l1e,updateSlidesClasses:c1e,updateActiveIndex:u1e,updateClickedSlide:f1e};function h1e(t=this.isHorizontal()?"x":"y"){const e=this,{params:r,rtlTranslate:n,translate:i,$wrapperEl:o}=e;if(r.virtualTranslate)return n?-i:i;if(r.cssMode)return i;let s=Xve(o[0],t);return n&&(s=-s),s||0}function p1e(t,e){const r=this,{rtlTranslate:n,params:i,$wrapperEl:o,wrapperEl:s,progress:a}=r;let l=0,c=0;const u=0;r.isHorizontal()?l=n?-t:t:c=t,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:i.virtualTranslate||o.transform(`translate3d(${l}px, ${c}px, ${u}px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c;let f;const d=r.maxTranslate()-r.minTranslate();d===0?f=0:f=(t-r.minTranslate())/d,f!==a&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function g1e(){return-this.snapGrid[0]}function m1e(){return-this.snapGrid[this.snapGrid.length-1]}function v1e(t=0,e=this.params.speed,r=!0,n=!0,i){const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(n&&t>l?u=l:n&&t<c?u=c:u=t,o.updateProgress(u),s.cssMode){const f=o.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return X9({swiper:o,targetPosition:-u,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(u),r&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),r&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(d){!o||o.destroyed||d.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,r&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}const y1e={getTranslate:h1e,setTranslate:p1e,minTranslate:g1e,maxTranslate:m1e,translateTo:v1e};function _1e(t,e){const r=this;r.params.cssMode||r.$wrapperEl.transition(t),r.emit("setTransition",t,e)}function K9({swiper:t,runCallbacks:e,direction:r,step:n}){const{activeIndex:i,previousIndex:o}=t;let s=r;if(s||(i>o?s="next":i<o?s="prev":s="reset"),t.emit(`transition${n}`),e&&i!==o){if(s==="reset"){t.emit(`slideResetTransition${n}`);return}t.emit(`slideChangeTransition${n}`),s==="next"?t.emit(`slideNextTransition${n}`):t.emit(`slidePrevTransition${n}`)}}function x1e(t=!0,e){const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),K9({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function b1e(t=!0,e){const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),K9({swiper:r,runCallbacks:t,direction:e,step:"End"}))}const w1e={setTransition:_1e,transitionStart:x1e,transitionEnd:b1e};function E1e(t=0,e=this.params.speed,r=!0,n,i){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const _=parseInt(t,10);if(!isFinite(_))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=_}const o=this;let s=t;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:f,rtlTranslate:d,wrapperEl:h,enabled:p}=o;if(o.animating&&a.preventInteractionOnTransition||!p&&!n&&!i)return!1;const y=Math.min(o.params.slidesPerGroupSkip,s);let g=y+Math.floor((s-y)/o.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const m=-l[g];if(a.normalizeSlideIndex)for(let _=0;_<c.length;_+=1){const x=-Math.floor(m*100),b=Math.floor(c[_]*100),w=Math.floor(c[_+1]*100);typeof c[_+1]<"u"?x>=b&&x<w-(w-b)/2?s=_:x>=b&&x<w&&(s=_+1):x>=b&&(s=_)}if(o.initialized&&s!==f&&(!o.allowSlideNext&&m<o.translate&&m<o.minTranslate()||!o.allowSlidePrev&&m>o.translate&&m>o.maxTranslate()&&(f||0)!==s))return!1;s!==(u||0)&&r&&o.emit("beforeSlideChangeStart"),o.updateProgress(m);let v;if(s>f?v="next":s<f?v="prev":v="reset",d&&-m===o.translate||!d&&m===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),a.effect!=="slide"&&o.setTranslate(m),v!=="reset"&&(o.transitionStart(r,v),o.transitionEnd(r,v)),!1;if(a.cssMode){const _=o.isHorizontal(),x=d?m:-m;if(e===0){const b=o.virtual&&o.params.virtual.enabled;b&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),h[_?"scrollLeft":"scrollTop"]=x,b&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1})}else{if(!o.support.smoothScroll)return X9({swiper:o,targetPosition:x,side:_?"left":"top"}),!0;h.scrollTo({[_?"left":"top"]:x,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(m),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,n),o.transitionStart(r,v),e===0?o.transitionEnd(r,v):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(x){!o||o.destroyed||x.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(r,v))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0}function S1e(t=0,e=this.params.speed,r=!0,n){if(typeof t=="string"){const s=parseInt(t,10);if(!isFinite(s))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=s}const i=this;let o=t;return i.params.loop&&(o+=i.loopedSlides),i.slideTo(o,e,r,n)}function C1e(t=this.params.speed,e=!0,r){const n=this,{animating:i,enabled:o,params:s}=n;if(!o)return n;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(i&&s.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return s.rewind&&n.isEnd?n.slideTo(0,t,e,r):n.slideTo(n.activeIndex+l,t,e,r)}function A1e(t=this.params.speed,e=!0,r){const n=this,{params:i,animating:o,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:c}=n;if(!c)return n;if(i.loop){if(o&&i.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}const u=l?n.translate:-n.translate;function f(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const d=f(u),h=s.map(g=>f(g));let p=s[h.indexOf(d)-1];if(typeof p>"u"&&i.cssMode){let g;s.forEach((m,v)=>{d>=m&&(g=v)}),typeof g<"u"&&(p=s[g>0?g-1:g])}let y=0;if(typeof p<"u"&&(y=a.indexOf(p),y<0&&(y=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-n.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&n.isBeginning){const g=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(g,t,e,r)}return n.slideTo(y,t,e,r)}function T1e(t=this.params.speed,e=!0,r){const n=this;return n.slideTo(n.activeIndex,t,e,r)}function P1e(t=this.params.speed,e=!0,r,n=.5){const i=this;let o=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*n&&(o+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*n&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,r)}function I1e(){const t=this,{params:e,$wrapperEl:r}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,o;if(e.loop){if(t.animating)return;o=parseInt(Oe(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-n/2||i>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),i=r.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),E0(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-n?(t.loopFix(),i=r.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),E0(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const O1e={slideTo:E1e,slideToLoop:S1e,slideNext:C1e,slidePrev:A1e,slideReset:T1e,slideToClosest:P1e,slideToClickedSlide:I1e};function R1e(){const t=this,e=Jr(),{params:r,$wrapperEl:n}=t,i=n.children().length>0?Oe(n.children()[0].parentNode):n;i.children(`.${r.slideClass}.${r.slideDuplicateClass}`).remove();let o=i.children(`.${r.slideClass}`);if(r.loopFillGroupWithBlank){const l=r.slidesPerGroup-o.length%r.slidesPerGroup;if(l!==r.slidesPerGroup){for(let c=0;c<l;c+=1){const u=Oe(e.createElement("div")).addClass(`${r.slideClass} ${r.slideBlankClass}`);i.append(u)}o=i.children(`.${r.slideClass}`)}}r.slidesPerView==="auto"&&!r.loopedSlides&&(r.loopedSlides=o.length),t.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10)),t.loopedSlides+=r.loopAdditionalSlides,t.loopedSlides>o.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=o.length);const s=[],a=[];o.each((l,c)=>{Oe(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/o.length)*o.length;a.push(o.eq(c)[0]),s.unshift(o.eq(o.length-c-1)[0])}for(let l=0;l<a.length;l+=1)i.append(Oe(a[l].cloneNode(!0)).addClass(r.slideDuplicateClass));for(let l=s.length-1;l>=0;l-=1)i.prepend(Oe(s[l].cloneNode(!0)).addClass(r.slideDuplicateClass))}function M1e(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:r,loopedSlides:n,allowSlidePrev:i,allowSlideNext:o,snapGrid:s,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const u=-s[e]-t.getTranslate();e<n?(l=r.length-n*3+e,l+=n,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)):e>=r.length-n&&(l=-r.length+e+n,l+=n,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)),t.allowSlidePrev=i,t.allowSlideNext=o,t.emit("loopFix")}function D1e(){const t=this,{$wrapperEl:e,params:r,slides:n}=t;e.children(`.${r.slideClass}.${r.slideDuplicateClass},.${r.slideClass}.${r.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}const B1e={loopCreate:R1e,loopFix:M1e,loopDestroy:D1e};function k1e(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;r.style.cursor="move",r.style.cursor=t?"grabbing":"grab"}function N1e(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const F1e={setGrabCursor:k1e,unsetGrabCursor:N1e};function L1e(t,e=this){function r(n){if(!n||n===Jr()||n===Br())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(t);return!i&&!n.getRootNode?null:i||r(n.getRootNode().host)}return r(e)}function $1e(t){const e=this,r=Jr(),n=Br(),i=e.touchEventsData,{params:o,touches:s,enabled:a}=e;if(!a||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=Oe(l.target);if(o.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(i.isTouchEvent=l.type==="touchstart",!i.isTouchEvent&&"which"in l&&l.which===3)||!i.isTouchEvent&&"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const u=!!o.noSwipingClass&&o.noSwipingClass!=="",f=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&f&&(c=Oe(f[0]));const d=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!!(l.target&&l.target.shadowRoot);if(o.noSwiping&&(h?L1e(d,c[0]):c.closest(d)[0])){e.allowClick=!0;return}if(o.swipeHandler&&!c.closest(o.swipeHandler)[0])return;s.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,s.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const p=s.currentX,y=s.currentY,g=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,m=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(g&&(p<=m||p>=n.innerWidth-m))if(g==="prevent")t.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=y,i.touchStartTime=gd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1),l.type!=="touchstart"){let v=!0;c.is(i.focusableElements)&&(v=!1,c[0].nodeName==="SELECT"&&(i.isTouched=!1)),r.activeElement&&Oe(r.activeElement).is(i.focusableElements)&&r.activeElement!==c[0]&&r.activeElement.blur();const _=v&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||_)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function U1e(t){const e=Jr(),r=this,n=r.touchEventsData,{params:i,touches:o,rtlTranslate:s,enabled:a}=r;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}if(n.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,f=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){o.startX=u,o.startY=f;return}if(!r.allowTouchMove){Oe(l.target).is(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(o,{startX:u,startY:f,currentX:u,currentY:f}),n.touchStartTime=gd());return}if(n.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(r.isVertical()){if(f<o.startY&&r.translate<=r.maxTranslate()||f>o.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(u<o.startX&&r.translate<=r.maxTranslate()||u>o.startX&&r.translate>=r.minTranslate())return}if(n.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&Oe(l.target).is(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}if(n.allowTouchCallbacks&&r.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=u,o.currentY=f;const d=o.currentX-o.startX,h=o.currentY-o.startY;if(r.params.threshold&&Math.sqrt(d**2+h**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let m;r.isHorizontal()&&o.currentY===o.startY||r.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:d*d+h*h>=25&&(m=Math.atan2(Math.abs(h),Math.abs(d))*180/Math.PI,n.isScrolling=r.isHorizontal()?m>i.touchAngle:90-m>i.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(n.startMoving=!0),n.isScrolling){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),n.isMoved||(i.loop&&!i.cssMode&&r.loopFix(),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating&&r.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,i.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)),r.emit("sliderMove",l),n.isMoved=!0;let p=r.isHorizontal()?d:h;o.diff=p,p*=i.touchRatio,s&&(p=-p),r.swipeDirection=p>0?"prev":"next",n.currentTranslate=p+n.startTranslate;let y=!0,g=i.resistanceRatio;if(i.touchReleaseOnEdges&&(g=0),p>0&&n.currentTranslate>r.minTranslate()?(y=!1,i.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+p)**g)):p<0&&n.currentTranslate<r.maxTranslate()&&(y=!1,i.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-p)**g)),y&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,o.diff=r.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&i.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function G1e(t){const e=this,r=e.touchEventsData,{params:n,touches:i,rtlTranslate:o,slidesGrid:s,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),r.allowTouchCallbacks&&e.emit("touchEnd",l),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&n.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}n.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=gd(),u=c-r.touchStartTime;if(e.allowClick){const v=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(v&&v[0]||l.target),e.emit("tap click",l),u<300&&c-r.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(r.lastClickTime=gd(),E0(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||i.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let f;if(n.followFinger?f=o?e.translate:-e.translate:f=-r.currentTranslate,n.cssMode)return;if(e.params.freeMode&&n.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}let d=0,h=e.slidesSizesGrid[0];for(let v=0;v<s.length;v+=v<n.slidesPerGroupSkip?1:n.slidesPerGroup){const _=v<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;typeof s[v+_]<"u"?f>=s[v]&&f<s[v+_]&&(d=v,h=s[v+_]-s[v]):f>=s[v]&&(d=v,h=s[s.length-1]-s[s.length-2])}let p=null,y=null;n.rewind&&(e.isBeginning?y=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(p=0));const g=(f-s[d])/h,m=d<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(u>n.longSwipesMs){if(!n.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=n.longSwipesRatio?e.slideTo(n.rewind&&e.isEnd?p:d+m):e.slideTo(d)),e.swipeDirection==="prev"&&(g>1-n.longSwipesRatio?e.slideTo(d+m):y!==null&&g<0&&Math.abs(g)>n.longSwipesRatio?e.slideTo(y):e.slideTo(d))}else{if(!n.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(d+m):e.slideTo(d):(e.swipeDirection==="next"&&e.slideTo(p!==null?p:d+m),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:d))}}function g3(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:o}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=n,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function H1e(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function V1e(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const o=t.maxTranslate()-t.minTranslate();o===0?i=0:i=(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let m3=!1;function z1e(){}const q9=(t,e)=>{const r=Jr(),{params:n,touchEvents:i,el:o,wrapperEl:s,device:a,support:l}=t,c=!!n.nested,u=e==="on"?"addEventListener":"removeEventListener",f=e;if(!l.touch)o[u](i.start,t.onTouchStart,!1),r[u](i.move,t.onTouchMove,c),r[u](i.end,t.onTouchEnd,!1);else{const d=i.start==="touchstart"&&l.passiveListener&&n.passiveListeners?{passive:!0,capture:!1}:!1;o[u](i.start,t.onTouchStart,d),o[u](i.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),o[u](i.end,t.onTouchEnd,d),i.cancel&&o[u](i.cancel,t.onTouchEnd,d)}(n.preventClicks||n.preventClicksPropagation)&&o[u]("click",t.onClick,!0),n.cssMode&&s[u]("scroll",t.onScroll),n.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",g3,!0):t[f]("observerUpdate",g3,!0)};function j1e(){const t=this,e=Jr(),{params:r,support:n}=t;t.onTouchStart=$1e.bind(t),t.onTouchMove=U1e.bind(t),t.onTouchEnd=G1e.bind(t),r.cssMode&&(t.onScroll=V1e.bind(t)),t.onClick=H1e.bind(t),n.touch&&!m3&&(e.addEventListener("touchstart",z1e),m3=!0),q9(t,"on")}function W1e(){q9(this,"off")}const X1e={attachEvents:j1e,detachEvents:W1e},v3=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Y1e(){const t=this,{activeIndex:e,initialized:r,loopedSlides:n=0,params:i,$el:o}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||t.originalParams,u=v3(t,i),f=v3(t,c),d=i.enabled;u&&!f?(o.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&f&&(o.addClass(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&o.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(g=>{const m=i[g]&&i[g].enabled,v=c[g]&&c[g].enabled;m&&!v&&t[g].disable(),!m&&v&&t[g].enable()});const h=c.direction&&c.direction!==i.direction,p=i.loop&&(c.slidesPerView!==i.slidesPerView||h);h&&r&&t.changeDirection(),Un(t.params,c);const y=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!y?t.disable():!d&&y&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),p&&r&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-n+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function K1e(t,e="window",r){if(!t||e==="container"&&!r)return;let n=!1;const i=Br(),o=e==="window"?i.innerHeight:r.clientHeight,s=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:o*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:c}=s[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(n=l):c<=r.clientWidth&&(n=l)}return n||"max"}const q1e={setBreakpoint:Y1e,getBreakpoint:K1e};function Z1e(t,e){const r=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&r.push(e+i)}):typeof n=="string"&&r.push(e+n)}),r}function J1e(){const t=this,{classNames:e,params:r,rtl:n,$el:i,device:o,support:s}=t,a=Z1e(["initialized",r.direction,{"pointer-events":!s.touch},{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...a),i.addClass([...e].join(" ")),t.emitContainerClasses()}function Q1e(){const t=this,{$el:e,classNames:r}=t;e.removeClass(r.join(" ")),t.emitContainerClasses()}const eye={addClasses:J1e,removeClasses:Q1e};function tye(t,e,r,n,i,o){const s=Br();let a;function l(){o&&o()}!Oe(t).parent("picture")[0]&&(!t.complete||!i)&&e?(a=new s.Image,a.onload=l,a.onerror=l,n&&(a.sizes=n),r&&(a.srcset=r),e&&(a.src=e)):l()}function rye(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let r=0;r<t.imagesToLoad.length;r+=1){const n=t.imagesToLoad[r];t.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}const nye={loadImage:tye,preloadImages:rye};function iye(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:n}=r;if(n){const i=t.slides.length-1,o=t.slidesGrid[i]+t.slidesSizesGrid[i]+n*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const oye={checkOverflow:iye},y3={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function sye(t,e){return function(n={}){const i=Object.keys(n)[0],o=n[i];if(typeof o!="object"||o===null){Un(e,n);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in o)){Un(e,n);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Un(e,n)}}const Kv={eventsEmitter:r1e,update:d1e,translate:y1e,transition:w1e,slide:O1e,loop:B1e,grabCursor:F1e,events:X1e,breakpoints:q1e,checkOverflow:oye,classes:eye,images:nye},qv={};let qc=class Do{constructor(...e){let r,n;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?n=e[0]:[r,n]=e,n||(n={}),n=Un({},n),r&&!n.el&&(n.el=r),n.el&&Oe(n.el).length>1){const a=[];return Oe(n.el).each(l=>{const c=Un({},n,{el:l});a.push(new Do(c))}),a}const i=this;i.__swiper__=!0,i.support=Y9(),i.device=Zve({userAgent:n.userAgent}),i.browser=Qve(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],n.modules&&Array.isArray(n.modules)&&i.modules.push(...n.modules);const o={};i.modules.forEach(a=>{a({swiper:i,extendParams:sye(n,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const s=Un({},y3,o);return i.params=Un({},s,qv,n),i.originalParams=Un({},i.params),i.passedParams=Un({},n),i.params&&i.params.on&&Object.keys(i.params.on).forEach(a=>{i.on(a,i.params.on[a])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=Oe,Object.assign(i,{enabled:i.params.enabled,el:r,classNames:[],slides:Oe(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},i.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:gd(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),s=(n.maxTranslate()-i)*e+i;n.translateTo(s,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.each(n=>{const i=e.getSlideClasses(n);r.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e="current",r=!1){const n=this,{params:i,slides:o,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:c}=n;let u=1;if(i.centeredSlides){let f=o[c].swiperSlideSize,d;for(let h=c+1;h<o.length;h+=1)o[h]&&!d&&(f+=o[h].swiperSlideSize,u+=1,f>l&&(d=!0));for(let h=c-1;h>=0;h-=1)o[h]&&!d&&(f+=o[h].swiperSlideSize,u+=1,f>l&&(d=!0))}else if(e==="current")for(let f=c+1;f<o.length;f+=1)(r?s[f]+a[f]-s[c]<l:s[f]-s[c]<l)&&(u+=1);else for(let f=c-1;f>=0;f-=1)s[c]-s[f]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:n}=e;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let o;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?o=e.slideTo(e.slides.length-1,0,!1,!0):o=e.slideTo(e.activeIndex,0,!1,!0),o||i()),n.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r=!0){const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.$el.removeClass(`${n.params.containerModifierClass}${i}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each(o=>{e==="vertical"?o.style.width="":o.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.$el.addClass(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.$el.removeClass(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;const n=Oe(e||r.params.el);if(e=n[0],!e)return!1;e.swiper=r;const i=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=Oe(e.shadowRoot.querySelector(i()));return a.children=l=>n.children(l),a}return n.children?n.children(i()):Oe(n).children(i())})();if(s.length===0&&r.params.createElements){const l=Jr().createElement("div");s=Oe(l),l.className=r.params.wrapperClass,n.append(l),n.children(`.${r.params.slideClass}`).each(c=>{s.append(c)})}return Object.assign(r,{$el:n,el:e,$wrapperEl:s,wrapperEl:s[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||n.css("direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||n.css("direction")==="rtl"),wrongRTL:s.css("display")==="-webkit-box"}),!0}init(e){const r=this;return r.initialized||r.mount(e)===!1||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.params.loop&&r.loopCreate(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.preloadImages&&r.preloadImages(),r.params.loop?r.slideTo(r.params.initialSlide+r.loopedSlides,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.attachEvents(),r.initialized=!0,r.emit("init"),r.emit("afterInit")),r}destroy(e=!0,r=!0){const n=this,{params:i,$el:o,$wrapperEl:s,slides:a}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),r&&(n.removeClasses(),o.removeAttr("style"),s.removeAttr("style"),a&&a.length&&a.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.$el[0].swiper=null,jve(n)),n.destroyed=!0),null}static extendDefaults(e){Un(qv,e)}static get extendedDefaults(){return qv}static get defaults(){return y3}static installModule(e){Do.prototype.__modules__||(Do.prototype.__modules__=[]);const r=Do.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>Do.installModule(r)),Do):(Do.installModule(e),Do)}};Object.keys(Kv).forEach(t=>{Object.keys(Kv[t]).forEach(e=>{qc.prototype[e]=Kv[t][e]})});qc.use([e1e,t1e]);function _Te({swiper:t,extendParams:e,on:r,emit:n}){let i;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function o(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const y=t.slides.eq(t.activeIndex);let g=t.params.autoplay.delay;y.attr("data-swiper-autoplay")&&(g=y.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(i),i=E0(()=>{let m;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),m=t.slidePrev(t.params.speed,!0,!0),n("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(m=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),n("autoplay")):(m=t.slidePrev(t.params.speed,!0,!0),n("autoplay")):t.params.loop?(t.loopFix(),m=t.slideNext(t.params.speed,!0,!0),n("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(m=t.slideTo(0,t.params.speed,!0,!0),n("autoplay")):(m=t.slideNext(t.params.speed,!0,!0),n("autoplay")),(t.params.cssMode&&t.autoplay.running||m===!1)&&o()},g)}function s(){return typeof i<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,n("autoplayStart"),o(),!0)}function a(){return!t.autoplay.running||typeof i>"u"?!1:(i&&(clearTimeout(i),i=void 0),t.autoplay.running=!1,n("autoplayStop"),!0)}function l(y){t.autoplay.running&&(t.autoplay.paused||(i&&clearTimeout(i),t.autoplay.paused=!0,y===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,o()):["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].addEventListener(g,u)})))}function c(){const y=Jr();y.visibilityState==="hidden"&&t.autoplay.running&&l(),y.visibilityState==="visible"&&t.autoplay.paused&&(o(),t.autoplay.paused=!1)}function u(y){!t||t.destroyed||!t.$wrapperEl||y.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,u)}),t.autoplay.paused=!1,t.autoplay.running?o():a())}function f(){t.params.autoplay.disableOnInteraction?a():(n("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(y=>{t.$wrapperEl[0].removeEventListener(y,u)})}function d(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,n("autoplayResume"),o())}function h(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",f),t.$el.on("mouseleave",d))}function p(){t.$el.off("mouseenter",f),t.$el.off("mouseleave",d)}r("init",()=>{t.params.autoplay.enabled&&(s(),Jr().addEventListener("visibilitychange",c),h())}),r("beforeTransitionStart",(y,g,m)=>{t.autoplay.running&&(m||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(g):a())}),r("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),r("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&o()}),r("destroy",()=>{p(),t.autoplay.running&&a(),Jr().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:o,start:s,stop:a})}function wl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ns(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:wl(e[n])&&wl(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:Ns(t[n],e[n]):t[n]=e[n]})}function Z9(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function J9(t={}){return t.pagination&&typeof t.pagination.el>"u"}function Q9(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function eN(t=""){const e=t.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}const tN=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function _3(t={},e=!0){const r={on:{}},n={},i={};Ns(r,qc.defaults),Ns(r,qc.extendedDefaults),r._emitClasses=!0,r.init=!1;const o={},s=tN.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(s.indexOf(l)>=0?wl(t[l])?(r[l]={},i[l]={},Ns(r[l],t[l]),Ns(i[l],t[l])):(r[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?n[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:o[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:i,rest:o,events:n}}function aye({el:t,nextEl:e,prevEl:r,paginationEl:n,scrollbarEl:i,swiper:o},s){Z9(s)&&e&&r&&(o.params.navigation.nextEl=e,o.originalParams.navigation.nextEl=e,o.params.navigation.prevEl=r,o.originalParams.navigation.prevEl=r),J9(s)&&n&&(o.params.pagination.el=n,o.originalParams.pagination.el=n),Q9(s)&&i&&(o.params.scrollbar.el=i,o.originalParams.scrollbar.el=i),o.init(t)}const rN=(t,e)=>{let r=e.slidesPerView;if(e.breakpoints){const i=qc.prototype.getBreakpoint(e.breakpoints),o=i in e.breakpoints?e.breakpoints[i]:void 0;o&&o.slidesPerView&&(r=o.slidesPerView)}let n=Math.ceil(parseFloat(e.loopedSlides||r,10));return n+=e.loopAdditionalSlides,n>t.length&&e.loopedSlidesLimit&&(n=t.length),n};function lye(t,e,r){const n=e.map((l,c)=>(l.props||(l.props={}),l.props.swiperRef=t,l.props["data-swiper-slide-index"]=c,l));function i(l,c,u){return l.props||(l.props={}),Rr(l.type,{...l.props,key:`${l.key}-duplicate-${c}-${u}`,class:`${l.props.className||""} ${r.slideDuplicateClass} ${l.props.class||""}`},l.children)}if(r.loopFillGroupWithBlank){const l=r.slidesPerGroup-n.length%r.slidesPerGroup;if(l!==r.slidesPerGroup)for(let c=0;c<l;c+=1){const u=Rr("div",{class:`${r.slideClass} ${r.slideBlankClass}`});n.push(u)}}r.slidesPerView==="auto"&&!r.loopedSlides&&(r.loopedSlides=n.length);const o=rN(n,r),s=[],a=[];for(let l=0;l<o;l+=1){const c=l-Math.floor(l/n.length)*n.length;a.push(i(n[c],l,"append")),s.unshift(i(n[n.length-c-1],l,"prepend"))}return t.value&&(t.value.loopedSlides=o),[...s,...n,...a]}function cye(t,e,r,n,i){const o=[];if(!e)return o;const s=l=>{o.indexOf(l)<0&&o.push(l)};if(r&&n){const l=n.map(i),c=r.map(i);l.join("")!==c.join("")&&s("children"),n.length!==r.length&&s("children")}return tN.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(wl(t[l])&&wl(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?s(l):(c.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}),u.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}))}else t[l]!==e[l]&&s(l)}),o}function Zv(t,e,r){t===void 0&&(t={});const n=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},o=(s,a)=>{Array.isArray(s)&&s.forEach(l=>{const c=typeof l.type=="symbol";a==="default"&&(a="container-end"),c&&l.children?o(l.children,"default"):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?n.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(s=>{if(typeof t[s]!="function")return;const a=t[s]();o(a,s)}),r.value=e.value,e.value=n,{slides:n,slots:i}}function uye({swiper:t,slides:e,passedParams:r,changedParams:n,nextEl:i,prevEl:o,scrollbarEl:s,paginationEl:a}){const l=n.filter(b=>b!=="children"&&b!=="direction"),{params:c,pagination:u,navigation:f,scrollbar:d,virtual:h,thumbs:p}=t;let y,g,m,v,_;n.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(y=!0),n.includes("controller")&&r.controller&&r.controller.control&&c.controller&&!c.controller.control&&(g=!0),n.includes("pagination")&&r.pagination&&(r.pagination.el||a)&&(c.pagination||c.pagination===!1)&&u&&!u.el&&(m=!0),n.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||s)&&(c.scrollbar||c.scrollbar===!1)&&d&&!d.el&&(v=!0),n.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(c.navigation||c.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const x=b=>{t[b]&&(t[b].destroy(),b==="navigation"?(c[b].prevEl=void 0,c[b].nextEl=void 0,t[b].prevEl=void 0,t[b].nextEl=void 0):(c[b].el=void 0,t[b].el=void 0))};l.forEach(b=>{if(wl(c[b])&&wl(r[b]))Ns(c[b],r[b]);else{const w=r[b];(w===!0||w===!1)&&(b==="navigation"||b==="pagination"||b==="scrollbar")?w===!1&&x(b):c[b]=r[b]}}),l.includes("controller")&&!g&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),n.includes("children")&&e&&h&&c.virtual.enabled?(h.slides=e,h.update(!0)):n.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),y&&p.init()&&p.update(!0),g&&(t.controller.control=c.controller.control),m&&(a&&(c.pagination.el=a),u.init(),u.render(),u.update()),v&&(s&&(c.scrollbar.el=s),d.init(),d.updateSize(),d.setTranslate()),_&&(i&&(c.navigation.nextEl=i),o&&(c.navigation.prevEl=o),f.init(),f.update()),n.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),n.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),n.includes("direction")&&t.changeDirection(r.direction,!1),t.update()}function fye(t,e,r){if(!r)return null;const n=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`};return e.filter((i,o)=>o>=r.from&&o<=r.to).map(i=>(i.props||(i.props={}),i.props.style||(i.props.style={}),i.props.swiperRef=t,i.props.style=n,Rr(i.type,{...i.props},i.children)))}const dye=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())},xTe={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:Number,default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},preloadImages:{type:Boolean,default:void 0},updateOnImagesReady:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopedSlides:{type:Number,default:void 0},loopedSlidesLimit:{type:Boolean,default:!0},loopFillGroupWithBlank:{type:Boolean,default:void 0},loopPreventsSlide:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideDuplicateActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideDuplicateClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slideDuplicateNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},slideDuplicatePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},lazy:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","imagesReady","init","keyPress","lazyImageLoad","lazyImageReady","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:r,emit:n}=e;const{tag:i,wrapperTag:o}=t,s=Z("swiper"),a=Z(null),l=Z(!1),c=Z(!1),u=Z(null),f=Z(null),d=Z(null),h={value:[]},p={value:[]},y=Z(null),g=Z(null),m=Z(null),v=Z(null),{params:_,passedParams:x}=_3(t,!1);Zv(r,h,p),d.value=x,p.value=h.value;const b=()=>{Zv(r,h,p),l.value=!0};if(_.onAny=function(E){for(var S=arguments.length,P=new Array(S>1?S-1:0),C=1;C<S;C++)P[C-1]=arguments[C];n(E,...P)},Object.assign(_.on,{_beforeBreakpoint:b,_containerClasses(E,S){s.value=S}}),f.value=new qc(_),f.value.loopCreate=()=>{},f.value.loopDestroy=()=>{},_.loop&&(f.value.loopedSlides=rN(h.value,_)),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=h.value;const E={cache:!1,slides:h.value,renderExternal:S=>{a.value=S},renderExternalUpdate:!1};Ns(f.value.params.virtual,E),Ns(f.value.originalParams.virtual,E)}Ol(()=>{!c.value&&f.value&&(f.value.emitSlidesClasses(),c.value=!0);const{passedParams:E}=_3(t,!1),S=cye(E,d.value,h.value,p.value,P=>P.props&&P.props.key);d.value=E,(S.length||l.value)&&f.value&&!f.value.destroyed&&uye({swiper:f.value,slides:h.value,passedParams:E,changedParams:S,nextEl:y.value,prevEl:g.value,scrollbarEl:v.value,paginationEl:m.value}),l.value=!1}),hi("swiper",f),ye(a,()=>{Ye(()=>{dye(f.value)})}),zt(()=>{u.value&&(aye({el:u.value,nextEl:y.value,prevEl:g.value,paginationEl:m.value,scrollbarEl:v.value,swiper:f.value},_),n("swiper",f.value))}),Zn(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function w(E){return _.virtual?fye(f,E,a.value):!_.loop||f.value&&f.value.destroyed?(E.forEach(S=>{S.props||(S.props={}),S.props.swiperRef=f}),E):lye(f,E,_)}return()=>{const{slides:E,slots:S}=Zv(r,h,p);return Rr(i,{ref:u,class:eN(s.value)},[S["container-start"],Rr(o,{class:"swiper-wrapper"},[S["wrapper-start"],w(E),S["wrapper-end"]]),Z9(t)&&[Rr("div",{ref:g,class:"swiper-button-prev"}),Rr("div",{ref:y,class:"swiper-button-next"})],Q9(t)&&Rr("div",{ref:v,class:"swiper-scrollbar"}),J9(t)&&Rr("div",{ref:m,class:"swiper-pagination"}),S["container-end"]])}}},bTe={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},zoom:{type:Boolean,default:void 0},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:r}=e,n=!1;const{swiperRef:i}=t,o=Z(null),s=Z("swiper-slide");function a(c,u,f){u===o.value&&(s.value=f)}zt(()=>{!i||!i.value||(i.value.on("_slideClass",a),n=!0)}),J0(()=>{n||!i||!i.value||(i.value.on("_slideClass",a),n=!0)}),Ol(()=>{!o.value||!i||!i.value||i.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide")}),Zn(()=>{!i||!i.value||i.value.off("_slideClass",a)});const l=ne(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0||s.value.indexOf("swiper-slide-duplicate-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isDuplicate:s.value.indexOf("swiper-slide-duplicate")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0||s.value.indexOf("swiper-slide-duplicate-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0||s.value.indexOf("swiper-slide-duplicate-next")>=0}));return hi("swiperSlide",l),()=>Rr(t.tag,{class:eN(`${s.value}`),ref:o,"data-swiper-slide-index":t.virtualIndex},t.zoom?Rr("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},r.default&&r.default(l.value)):r.default&&r.default(l.value))}};var be={pullStartY:null,pullMoveY:null,handlers:[],styleEl:null,events:null,dist:0,state:"pending",timeout:null,distResisted:0,supportsPassive:!1,supportsPointerEvents:typeof window<"u"&&!!window.PointerEvent};try{window.addEventListener("test",null,{get passive(){be.supportsPassive=!0}})}catch{}function hye(t){if(!t.ptrElement){var e=document.createElement("div");t.mainElement!==document.body?t.mainElement.parentNode.insertBefore(e,t.mainElement):document.body.insertBefore(e,document.body.firstChild),e.classList.add(t.classPrefix+"ptr"),e.innerHTML=t.getMarkup().replace(/__PREFIX__/g,t.classPrefix),t.ptrElement=e,typeof t.onInit=="function"&&t.onInit(t),be.styleEl||(be.styleEl=document.createElement("style"),be.styleEl.setAttribute("id","pull-to-refresh-js-style"),document.head.appendChild(be.styleEl)),be.styleEl.textContent=t.getStyles().replace(/__PREFIX__/g,t.classPrefix).replace(/\s+/g," ")}return t}function pye(t){t.ptrElement&&(t.ptrElement.classList.remove(t.classPrefix+"refresh"),t.ptrElement.style[t.cssProp]="0px",setTimeout(function(){t.ptrElement&&t.ptrElement.parentNode&&(t.ptrElement.parentNode.removeChild(t.ptrElement),t.ptrElement=null),be.state="pending"},t.refreshTimeout))}function gye(t){var e=t.ptrElement.querySelector("."+t.classPrefix+"icon"),r=t.ptrElement.querySelector("."+t.classPrefix+"text");e&&(be.state==="refreshing"?e.innerHTML=t.iconRefreshing:e.innerHTML=t.iconArrow),r&&(be.state==="releasing"&&(r.innerHTML=t.instructionsReleaseToRefresh),(be.state==="pulling"||be.state==="pending")&&(r.innerHTML=t.instructionsPullToRefresh),be.state==="refreshing"&&(r.innerHTML=t.instructionsRefreshing))}var Ln={setupDOM:hye,onReset:pye,update:gye},x3,Jv=function(e){return be.pointerEventsEnabled&&be.supportsPointerEvents?e.screenY:e.touches[0].screenY},nN=function(){var t;function e(s){var a=be.handlers.filter(function(l){return l.contains(s.target)})[0];be.enable=!!a,a&&be.state==="pending"&&(t=Ln.setupDOM(a),a.shouldPullToRefresh()&&(be.pullStartY=Jv(s)),clearTimeout(be.timeout),Ln.update(a))}function r(s){if(t&&t.ptrElement&&be.enable){if(be.pullStartY?be.pullMoveY=Jv(s):t.shouldPullToRefresh()&&(be.pullStartY=Jv(s)),be.state==="refreshing"){s.cancelable&&t.shouldPullToRefresh()&&be.pullStartY<be.pullMoveY&&s.preventDefault();return}be.state==="pending"&&(t.ptrElement.classList.add(t.classPrefix+"pull"),be.state="pulling",Ln.update(t)),be.pullStartY&&be.pullMoveY&&(be.dist=be.pullMoveY-be.pullStartY),be.distExtra=be.dist-t.distIgnore,be.distExtra>0&&(s.cancelable&&s.preventDefault(),t.ptrElement.style[t.cssProp]=be.distResisted+"px",be.distResisted=t.resistanceFunction(be.distExtra/t.distThreshold)*Math.min(t.distMax,be.distExtra),be.state==="pulling"&&be.distResisted>t.distThreshold&&(t.ptrElement.classList.add(t.classPrefix+"release"),be.state="releasing",Ln.update(t)),be.state==="releasing"&&be.distResisted<t.distThreshold&&(t.ptrElement.classList.remove(t.classPrefix+"release"),be.state="pulling",Ln.update(t)))}}function n(){if(t&&t.ptrElement&&be.enable){if(clearTimeout(x3),x3=setTimeout(function(){t&&t.ptrElement&&be.state==="pending"&&Ln.onReset(t)},500),be.state==="releasing"&&be.distResisted>t.distThreshold)be.state="refreshing",t.ptrElement.style[t.cssProp]=t.distReload+"px",t.ptrElement.classList.add(t.classPrefix+"refresh"),be.timeout=setTimeout(function(){var s=t.onRefresh(function(){return Ln.onReset(t)});s&&typeof s.then=="function"&&s.then(function(){return Ln.onReset(t)}),!s&&!t.onRefresh.length&&Ln.onReset(t)},t.refreshTimeout);else{if(be.state==="refreshing")return;t.ptrElement.style[t.cssProp]="0px",be.state="pending"}Ln.update(t),t.ptrElement.classList.remove(t.classPrefix+"release"),t.ptrElement.classList.remove(t.classPrefix+"pull"),be.pullStartY=be.pullMoveY=null,be.dist=be.distResisted=0}}function i(){t&&t.mainElement.classList.toggle(t.classPrefix+"top",t.shouldPullToRefresh())}var o=be.supportsPassive?{passive:be.passive||!1}:void 0;return be.pointerEventsEnabled&&be.supportsPointerEvents?(window.addEventListener("pointerup",n),window.addEventListener("pointerdown",e),window.addEventListener("pointermove",r,o)):(window.addEventListener("touchend",n),window.addEventListener("touchstart",e),window.addEventListener("touchmove",r,o)),window.addEventListener("scroll",i),{onTouchEnd:n,onTouchStart:e,onTouchMove:r,onScroll:i,destroy:function(){be.pointerEventsEnabled&&be.supportsPointerEvents?(window.removeEventListener("pointerdown",e),window.removeEventListener("pointerup",n),window.removeEventListener("pointermove",r,o)):(window.removeEventListener("touchstart",e),window.removeEventListener("touchend",n),window.removeEventListener("touchmove",r,o)),window.removeEventListener("scroll",i)}}},mye=`
<div class="__PREFIX__box">
  <div class="__PREFIX__content">
    <div class="__PREFIX__icon"></div>
    <div class="__PREFIX__text"></div>
  </div>
</div>
`,vye=`
.__PREFIX__ptr {
  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);
  pointer-events: none;
  font-size: 0.85em;
  font-weight: bold;
  top: 0;
  height: 0;
  transition: height 0.3s, min-height 0.3s;
  text-align: center;
  width: 100%;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  align-content: stretch;
}

.__PREFIX__box {
  padding: 10px;
  flex-basis: 100%;
}

.__PREFIX__pull {
  transition: none;
}

.__PREFIX__text {
  margin-top: .33em;
  color: rgba(0, 0, 0, 0.3);
}

.__PREFIX__icon {
  color: rgba(0, 0, 0, 0.3);
  transition: transform .3s;
}

/*
When at the top of the page, disable vertical overscroll so passive touch
listeners can take over.
*/
.__PREFIX__top {
  touch-action: pan-x pan-down pinch-zoom;
}

.__PREFIX__release .__PREFIX__icon {
  transform: rotate(180deg);
}
`,Qv={distThreshold:60,distMax:80,distReload:50,distIgnore:0,mainElement:"body",triggerElement:"body",ptrElement:".ptr",classPrefix:"ptr--",cssProp:"min-height",iconArrow:"&#8675;",iconRefreshing:"&hellip;",instructionsPullToRefresh:"Pull down to refresh",instructionsReleaseToRefresh:"Release to refresh",instructionsRefreshing:"Refreshing",refreshTimeout:500,getMarkup:function(){return mye},getStyles:function(){return vye},onInit:function(){},onRefresh:function(){return location.reload()},resistanceFunction:function(t){return Math.min(1,t/2.5)},shouldPullToRefresh:function(){return!window.scrollY}},yye=["mainElement","ptrElement","triggerElement"],b3=function(t){var e={};return Object.keys(Qv).forEach(function(r){e[r]=t[r]||Qv[r]}),e.refreshTimeout=typeof t.refreshTimeout=="number"?t.refreshTimeout:Qv.refreshTimeout,yye.forEach(function(r){typeof e[r]=="string"&&(e[r]=document.querySelector(e[r]))}),be.events||(be.events=nN()),e.contains=function(r){return e.triggerElement.contains(r)},e.destroy=function(){clearTimeout(be.timeout);var r=be.handlers.indexOf(e);be.handlers.splice(r,1)},e},_ye={setPassiveMode:function(e){be.passive=e},setPointerEventsMode:function(e){be.pointerEventsEnabled=e},destroyAll:function(){be.events&&(be.events.destroy(),be.events=null),be.handlers.forEach(function(e){e.destroy()})},init:function(e){e===void 0&&(e={});var r=b3(e);return be.handlers.push(r),r},_:{setupHandler:b3,setupEvents:nN,setupDOM:Ln.setupDOM,onReset:Ln.onReset,update:Ln.update}};const wTe=_ye;var iN=!1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var En=function(){return En=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},En.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var F_=function(t,e){return F_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},F_(t,e)};function a2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}F_(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ko=function(){return Ko=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ko.apply(this,arguments)};function qo(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function a(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){var u;c.done?i(c.value):(u=c.value,u instanceof r?u:new r(function(f){f(u)})).then(s,a)}l((n=n.apply(t,e||[])).next())})}function Zo(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(f){u=[6,f],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function vc(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(this==null)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(n===0)return!1;for(var i,o,s=0|e,a=Math.max(s>=0?s:n-Math.abs(s),0);a<n;){if((i=r[a])===(o=t)||typeof i=="number"&&typeof o=="number"&&isNaN(i)&&isNaN(o))return!0;a++}return!1}}),String.prototype.includes||(String.prototype.includes=function(t,e){return typeof e!="number"&&(e=0),!(e+t.length>this.length)&&this.indexOf(t,e)!==-1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(this==null)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if(typeof t!="function")throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<r;){var o=e[i];if(t.call(n,o,i,e))return o;i++}}});var md=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.some(function(n){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()===n})},Zc=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l2=function(t){return[].filter.call(t,function(e){return e!==`
`}).join("")},Fs=function(t){if(typeof t!="string"||(t=t.toLocaleLowerCase().trim())==="transparent")return!1;var e;return!(/^rgba/.test(t)&&((e=/([^\s,]+)\)$/.exec(t))===null?0:typeof e=="object"?NaN:typeof e=="number"?e:typeof e=="string"?e[e.length-1]==="%"?Number(e.slice(0,-1))/100:Number(e):NaN)===0)},oN=function(t,e){var r,n=((r=t.padding)===null||r===void 0?void 0:r.split(" ").map(function(u){return e(u)}))||[0],i=0,o=0,s=0,a=0;switch(n.length){case 1:i=o=s=a=n[0];break;case 2:i=o=n[0],s=a=n[1];break;case 3:i=n[0],s=a=n[1],o=n[2];break;default:i=n[0],o=n[1],s=n[2],a=n[3]}var l={paddingTop:i,paddingBottom:o,paddingLeft:s,paddingRight:a};for(var c in l)l[c]=Zc(t,c)&&md(t[c],"string","number")?e(t[c]):l[c];return[i,o,s,a]},sN=function(t){var e=[],r=t.map(function(i){return Number(i)}).reduce(function(i,o){if(o>0){var s=i+o;return e.push(s),s}return e.push(NaN),i},0),n=Math.random()*r;return e.findIndex(function(i){return n<=i})},c2=function(t,e,r,n){n===void 0&&(n=1/0),n<=0&&(n=1/0);for(var i="",o=[],s=t.measureText("...").width,a=0;a<e.length;a++){i+=e[a];var l=t.measureText(i).width,c=r(o);if(n===o.length+1&&(l+=s),c<0)return o;if(l>c&&(o.push(i.slice(0,-1)),i=e[a]),n===o.length)return o[o.length-1]+="...",o}return i&&o.push(i),o.length||o.push(e),o},Ha=function(){function t(){this.subs=[]}return t.prototype.addSub=function(e){this.subs.includes(e)||this.subs.push(e)},t.prototype.notify=function(){this.subs.forEach(function(e){e.update()})},t}(),xye="__proto__"in{};function w3(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var aN=Array.prototype,Ap=Object.create(aN);["push","pop","shift","unshift","sort","splice","reverse"].forEach(function(t){Ap[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=aN[t].apply(this,e),i=this.__luckyOb__;return["push","unshift","splice"].includes(t)&&i.walk(this),i.dep.notify(),n}});var bye=function(){function t(e){this.dep=new Ha,w3(e,"__luckyOb__",this),Array.isArray(e)&&(xye?e.__proto__=Ap:Object.getOwnPropertyNames(Ap).forEach(function(r){w3(e,r,Ap[r])})),this.walk(e)}return t.prototype.walk=function(e){Object.keys(e).forEach(function(r){lN(e,r,e[r])})},t}();function E3(t){if(t&&typeof t=="object")return"__luckyOb__"in t?t.__luckyOb__:new bye(t)}function lN(t,e,r){var n=new Ha,i=Object.getOwnPropertyDescriptor(t,e);if(!i||i.configurable!==!1){var o=i&&i.get,s=i&&i.set;o&&!s||arguments.length!==2||(r=t[e]);var a=E3(r);Object.defineProperty(t,e,{get:function(){var l=o?o.call(t):r;return Ha.target&&(n.addSub(Ha.target),a&&a.dep.addSub(Ha.target)),l},set:function(l){l!==r&&(r=l,o&&!s||(s?s.call(t,l):r=l,a=E3(l),n.notify()))}})}}var wye=0,Eye=function(){function t(e,r,n,i){i===void 0&&(i={}),this.id=wye++,this.$lucky=e,this.expr=r,this.deep=!!i.deep,this.getter=typeof r=="function"?r:function(o){o+=".";for(var s=[],a="",l=0;l<o.length;l++){var c=o[l];if(/\[|\./.test(c))s.push(a),a="";else{if(/\W/.test(c))continue;a+=c}}return function(u){return s.reduce(function(f,d){return f[d]},u)}}(r),this.cb=n,this.value=this.get()}return t.prototype.get=function(){Ha.target=this;var e=this.getter.call(this.$lucky,this.$lucky);return this.deep&&function(r){var n=function(i){md(i,"array","object")&&Object.keys(i).forEach(function(o){var s=i[o];n(s)})};n(r)}(e),Ha.target=null,e},t.prototype.update=function(){var e=this.get(),r=this.value;this.value=e,this.cb.call(this.$lucky,e,r)},t}(),u2=function(){function t(e,r){var n=this;this.version="1.7.21",this.htmlFontSize=16,this.rAF=function(){},this.boxWidth=0,this.boxHeight=0,typeof e=="string"?e={el:e}:e.nodeType===1&&(e={el:"",divElement:e}),e=e,this.config=e,this.data=r,e.flag||(e.flag="WEB"),e.el&&(e.divElement=document.querySelector(e.el)),e.divElement&&(e.canvasElement=document.createElement("canvas"),e.divElement.appendChild(e.canvasElement)),e.canvasElement&&(e.ctx=e.canvasElement.getContext("2d"),e.canvasElement.setAttribute("package","lucky-canvas@1.7.21"),e.canvasElement.addEventListener("click",function(i){return n.handleClick(i)})),this.ctx=e.ctx,this.initWindowFunction(),this.config.ctx||console.error(" CanvasContext2D"),window&&typeof window.addEventListener=="function"&&window.addEventListener("resize",function(i,o){o===void 0&&(o=300);var s=null;return function(){for(var a=this,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];s||(s=setTimeout(function(){i.apply(a,l),clearTimeout(s),s=null},o))}}(function(){return n.resize()},300)),window&&typeof window.MutationObserver=="function"&&new window.MutationObserver(function(){n.resize()}).observe(document.documentElement,{attributes:!0})}return t.prototype.resize=function(){var e,r;(r=(e=this.config).beforeResize)===null||r===void 0||r.call(e),this.setHTMLFontSize(),this.setDpr(),this.resetWidthAndHeight(),this.zoomCanvas()},t.prototype.initLucky=function(){if(this.resize(),!this.boxWidth||!this.boxHeight)return console.error("")},t.prototype.handleClick=function(e){},t.prototype.setHTMLFontSize=function(){window&&(this.htmlFontSize=+window.getComputedStyle(document.documentElement).fontSize.slice(0,-2))},t.prototype.clearCanvas=function(){var e=[this.boxWidth,this.boxHeight],r=e[0],n=e[1];this.ctx.clearRect(-r,-n,2*r,2*n)},t.prototype.setDpr=function(){var e=this.config;e.dpr||(window?window.dpr=e.dpr=window.devicePixelRatio||1:e.dpr||console.error(e," dpr "))},t.prototype.resetWidthAndHeight=function(){var e=this.config,r=this.data,n=0,i=0;e.divElement&&(n=e.divElement.offsetWidth,i=e.divElement.offsetHeight),this.boxWidth=this.getLength(r.width||e.width)||n,this.boxHeight=this.getLength(r.height||e.height)||i,e.divElement&&(e.divElement.style.overflow="hidden",e.divElement.style.width=this.boxWidth+"px",e.divElement.style.height=this.boxHeight+"px")},t.prototype.zoomCanvas=function(){var e=this.config,r=this.ctx,n=e.canvasElement,i=e.dpr,o=[this.boxWidth*i,this.boxHeight*i],s=o[0],a=o[1];n&&(n.width=s,n.height=a,n.style.width=s+"px",n.style.height=a+"px",n.style["transform-origin"]="left top",n.style.transform="scale("+1/i+")",r.scale(i,i))},t.prototype.initWindowFunction=function(){var e=this.config;if(window)return this.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)},e.setTimeout=window.setTimeout,e.setInterval=window.setInterval,e.clearTimeout=window.clearTimeout,void(e.clearInterval=window.clearInterval);if(e.rAF)this.rAF=e.rAF;else if(e.setTimeout){var r=e.setTimeout;this.rAF=function(n){return r(n,16.7)}}else this.rAF=function(n){return setTimeout(n,16.7)}},t.prototype.loadImg=function(e,r,n){var i=this;return n===void 0&&(n="$resolve"),new Promise(function(o,s){if(e||s("=> '"+r.src+"' "),i.config.flag!=="WEB")return r[n]=o,void(r.$reject=s);var a=new Image;a.onload=function(){return o(a)},a.onerror=function(){return s("=> '"+r.src+"' ")},a.src=e})},t.prototype.drawImage=function(e,r){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=this.config,a=s.flag,l=s.dpr;if(["WEB","MP-WX"].includes(a))n=r;else{if(!["UNI-H5","UNI-MP","TARO-H5","TARO-MP"].includes(a))return console.error(" flag, !");n=r.path}if(!n.canvas)return i.length===8&&(i=i.map(function(f,d){return d<4?f*l:f})),e.drawImage.apply(e,vc([n],i));var c=n.canvas.getContext("2d");i=i.map(function(f){return f*l});var u=c.getImageData.apply(c,i.slice(0,4));e.putImageData.apply(e,vc([u],i.slice(4,6)))},t.prototype.computedWidthAndHeight=function(e,r,n,i){if(!r.width&&!r.height)return[e.width,e.height];if(r.width&&!r.height){var o=this.getLength(r.width,n);return[o,e.height*(o/e.width)]}if(!r.width&&r.height){var s=this.getLength(r.height,i);return[e.width*(s/e.height),s]}return[this.getLength(r.width,n),this.getLength(r.height,i)]},t.prototype.changeUnits=function(e,r){var n=this;r===void 0&&(r=1);var i=this.config;return Number(e.replace(/^([-]*[0-9.]*)([a-z%]*)$/,function(o,s,a){var l={"%":function(u){return u*(r/100)},px:function(u){return 1*u},rem:function(u){return u*n.htmlFontSize},vw:function(u){return u/100*window.innerWidth}}[a];if(l)return l(s);var c=i.handleCssUnit||i.unitFunc;return c?c(s,a):s}))},t.prototype.getLength=function(e,r){return md(e,"number")?e:md(e,"string")?this.changeUnits(e,r):0},t.prototype.getOffsetX=function(e,r){return r===void 0&&(r=0),(r-e)/2},t.prototype.getOffscreenCanvas=function(e,r){if(!Zc(this,"_offscreenCanvas")&&(window&&window.document&&this.config.flag==="WEB"?this._offscreenCanvas=document.createElement("canvas"):this._offscreenCanvas=this.config.offscreenCanvas,!this._offscreenCanvas))return console.error(" Canvas !");var n=this.config.dpr,i=this._offscreenCanvas;i.width=(e||300)*n,i.height=(r||150)*n;var o=i.getContext("2d");return o.clearRect(0,0,e,r),o.scale(n,n),o.dpr=n,{_offscreenCanvas:i,_ctx:o}},t.prototype.$set=function(e,r,n){e&&typeof e=="object"&&lN(e,r,n)},t.prototype.$computed=function(e,r,n){var i=this;Object.defineProperty(e,r,{get:function(){return n.call(i)}})},t.prototype.$watch=function(e,r,n){n===void 0&&(n={}),typeof r=="object"&&(r=(n=r).handler);var i=new Eye(this,e,r,n);return n.immediate&&r.call(this,i.value),function(){}},t.version="1.7.21",t}(),ba=function(t){return Math.PI/180*t},S0=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=Math.min(o,s),c=Math.PI;a>l/2&&(a=l/2),t.beginPath(),t.moveTo(n+a,i),t.lineTo(n+a,i),t.lineTo(n+o-a,i),t.arc(n+o-a,i+a,a,-c/2,0),t.lineTo(n+o,i+s-a),t.arc(n+o-a,i+s-a,a,0,c/2),t.lineTo(n+a,i+s),t.arc(n+a,i+s-a,a,c/2,c),t.lineTo(n,i+a),t.arc(n+a,i+a,a,c,-c/2),t.closePath()},f2=function(t,e,r,n){return t>=n&&(t=n),r*(t/=n)*t+e},Jc=function(t,e,r,n){return t>=n&&(t=n),-r*(t/=n)*(t-2)+e},Sye=function(t){function e(r,n){var i,o=t.call(this,r,{width:n.width,height:n.height})||this;return o.blocks=[],o.prizes=[],o.buttons=[],o.defaultConfig={},o.defaultStyle={},o._defaultConfig={},o._defaultStyle={},o.Radius=0,o.prizeRadius=0,o.prizeDeg=0,o.prizeAng=0,o.rotateDeg=0,o.maxBtnRadius=0,o.startTime=0,o.endTime=0,o.stopDeg=0,o.endDeg=0,o.FPS=16.6,o.step=0,o.ImageCache=new Map,o.initData(n),o.initWatch(),o.initComputed(),(i=r.beforeCreate)===null||i===void 0||i.call(o),o.init(),o}return a2(e,t),e.prototype.resize=function(){var r,n;t.prototype.resize.call(this),this.Radius=Math.min(this.boxWidth,this.boxHeight)/2,this.ctx.translate(this.Radius,this.Radius),this.draw(),(n=(r=this.config).afterResize)===null||n===void 0||n.call(r)},e.prototype.initLucky=function(){this.Radius=0,this.prizeRadius=0,this.prizeDeg=0,this.prizeAng=0,this.rotateDeg=0,this.maxBtnRadius=0,this.startTime=0,this.endTime=0,this.stopDeg=0,this.endDeg=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(r){this.$set(this,"width",r.width||"300px"),this.$set(this,"height",r.height||"300px"),this.$set(this,"blocks",r.blocks||[]),this.$set(this,"prizes",r.prizes||[]),this.$set(this,"buttons",r.buttons||[]),this.$set(this,"defaultConfig",r.defaultConfig||{}),this.$set(this,"defaultStyle",r.defaultStyle||{}),this.$set(this,"startCallback",r.start),this.$set(this,"endCallback",r.end)},e.prototype.initComputed=function(){var r=this;this.$computed(this,"_defaultConfig",function(){return Ko({gutter:"0px",offsetDegree:0,speed:20,speedFunction:"quad",accelerationTime:2500,decelerationTime:2500,stopRange:0},r.defaultConfig)}),this.$computed(this,"_defaultStyle",function(){return Ko({fontSize:"18px",fontColor:"#000",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},r.defaultStyle)})},e.prototype.initWatch=function(){var r=this;this.$watch("width",function(n){r.data.width=n,r.resize()}),this.$watch("height",function(n){r.data.height=n,r.resize()}),this.$watch("blocks",function(n){r.initImageCache()},{deep:!0}),this.$watch("prizes",function(n){r.initImageCache()},{deep:!0}),this.$watch("buttons",function(n){r.initImageCache()},{deep:!0}),this.$watch("defaultConfig",function(){return r.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return r.draw()},{deep:!0}),this.$watch("startCallback",function(){return r.init()}),this.$watch("endCallback",function(){return r.init()})},e.prototype.init=function(){var r,n;return qo(this,void 0,void 0,function(){var i;return Zo(this,function(o){switch(o.label){case 0:return this.initLucky(),i=this.config,(r=i.beforeInit)===null||r===void 0||r.call(this),this.draw(),this.draw(),[4,this.initImageCache()];case 1:return o.sent(),(n=i.afterInit)===null||n===void 0||n.call(this),[2]}})})},e.prototype.initImageCache=function(){var r=this;return new Promise(function(n){var i={blocks:r.blocks.map(function(o){return o.imgs}),prizes:r.prizes.map(function(o){return o.imgs}),buttons:r.buttons.map(function(o){return o.imgs})};Object.keys(i).forEach(function(o){var s=i[o],a=[];s&&s.forEach(function(l,c){l&&l.forEach(function(u,f){a.push(r.loadAndCacheImg(o,c,f))})}),Promise.all(a).then(function(){r.draw(),n()})})})},e.prototype.handleClick=function(r){var n,i=this.ctx;i.beginPath(),i.arc(0,0,this.maxBtnRadius,0,2*Math.PI,!1),i.isPointInPath(r.offsetX,r.offsetY)&&this.step===0&&((n=this.startCallback)===null||n===void 0||n.call(this,r))},e.prototype.loadAndCacheImg=function(r,n,i){return qo(this,void 0,void 0,function(){var o=this;return Zo(this,function(s){return[2,new Promise(function(a,l){var c=o[r][n];if(c&&c.imgs){var u=c.imgs[i];u&&o.loadImg(u.src,u).then(function(f){return qo(o,void 0,void 0,function(){return Zo(this,function(d){switch(d.label){case 0:return typeof u.formatter!="function"?[3,2]:[4,Promise.resolve(u.formatter.call(this,f))];case 1:f=d.sent(),d.label=2;case 2:return this.ImageCache.set(u.src,f),a(),[2]}})})}).catch(function(f){console.error(r+"["+n+"].imgs["+i+"] "+f),l()})}})]})})},e.prototype.drawBlock=function(r,n,i){var o=this,s=this.ctx;Fs(n.background)&&(s.beginPath(),s.fillStyle=n.background,s.arc(0,0,r,0,2*Math.PI,!1),s.fill()),n.imgs&&n.imgs.forEach(function(a,l){var c=o.ImageCache.get(a.src);if(c){var u=o.computedWidthAndHeight(c,a,2*r,2*r),f=u[0],d=u[1],h=[o.getOffsetX(f)+o.getLength(a.left,2*r),o.getLength(a.top,2*r)-r],p=h[0],y=h[1];s.save(),a.rotate&&s.rotate(ba(o.rotateDeg)),o.drawImage(s,c,p,y,f,d),s.restore()}})},e.prototype.draw=function(){var r,n,i=this,o=this,s=o.config,a=o.ctx,l=o._defaultConfig,c=o._defaultStyle;(r=s.beforeDraw)===null||r===void 0||r.call(this,a),a.clearRect(-this.Radius,-this.Radius,2*this.Radius,2*this.Radius),this.prizeRadius=this.blocks.reduce(function(p,y,g){return i.drawBlock(p,y,g),p-i.getLength(y.padding&&y.padding.split(" ")[0])},this.Radius),this.prizeDeg=360/this.prizes.length,this.prizeAng=ba(this.prizeDeg);var u=this.prizeRadius*Math.sin(this.prizeAng/2)*2,f=ba(this.rotateDeg-90+this.prizeDeg/2+l.offsetDegree),d=function(p,y){return i.getOffsetX(a.measureText(y).width)+i.getLength(p.left,u)},h=function(p,y,g){var m=p.lineHeight||c.lineHeight||p.fontSize||c.fontSize;return i.getLength(p.top,y)+(g+1)*i.getLength(m)};a.save(),this.prizes.forEach(function(p,y){var g=f+y*i.prizeAng,m=i.prizeRadius-i.maxBtnRadius,v=p.background||c.background;Fs(v)&&(a.fillStyle=v,function(b,w,E,S,P,C){b.beginPath();var A,T,I=ba(90/Math.PI/E*C),B=S+I,G=P-I;b.arc(0,0,E,B,G,!1),b.lineTo.apply(b,(A=(S+P)/2,T=C/2/Math.abs(Math.sin((S-P)/2)),[+(Math.cos(A)*T).toFixed(8),+(Math.sin(A)*T).toFixed(8)])),b.closePath()}(a,i.maxBtnRadius,i.prizeRadius,g-i.prizeAng/2,g+i.prizeAng/2,i.getLength(l.gutter)),a.fill());var _=Math.cos(g)*i.prizeRadius,x=Math.sin(g)*i.prizeRadius;a.translate(_,x),a.rotate(g+ba(90)),p.imgs&&p.imgs.forEach(function(b,w){var E=i.ImageCache.get(b.src);if(E){var S=i.computedWidthAndHeight(E,b,i.prizeAng*i.prizeRadius,m),P=S[0],C=S[1],A=[i.getOffsetX(P)+i.getLength(b.left,u),i.getLength(b.top,m)],T=A[0],I=A[1];i.drawImage(a,E,T,I,P,C)}}),p.fonts&&p.fonts.forEach(function(b){var w=b.fontColor||c.fontColor,E=b.fontWeight||c.fontWeight,S=i.getLength(b.fontSize||c.fontSize),P=b.fontStyle||c.fontStyle,C=Zc(b,"wordWrap")?b.wordWrap:c.wordWrap,A=b.lengthLimit||c.lengthLimit,T=b.lineClamp||c.lineClamp;a.fillStyle=w,a.font=E+" "+(S>>0)+"px "+P;var I=String(b.text);(C?c2(a,l2(I),function(B){var G=(i.prizeRadius-h(b,m,B.length))*Math.tan(i.prizeAng/2)*2-i.getLength(l.gutter);return i.getLength(A,G)},T):I.split(`
`)).filter(function(B){return!!B}).forEach(function(B,G){a.fillText(B,d(b,B),h(b,m,G))})}),a.rotate(ba(360)-g-ba(90)),a.translate(-_,-x)}),a.restore(),this.buttons.forEach(function(p,y){var g=i.getLength(p.radius,i.prizeRadius);i.maxBtnRadius=Math.max(i.maxBtnRadius,g),Fs(p.background)&&(a.beginPath(),a.fillStyle=p.background,a.arc(0,0,g,0,2*Math.PI,!1),a.fill()),p.pointer&&Fs(p.background)&&(a.beginPath(),a.fillStyle=p.background,a.moveTo(-g,0),a.lineTo(g,0),a.lineTo(0,2*-g),a.closePath(),a.fill()),p.imgs&&p.imgs.forEach(function(m,v){var _=i.ImageCache.get(m.src);if(_){var x=i.computedWidthAndHeight(_,m,2*g,2*g),b=x[0],w=x[1],E=[i.getOffsetX(b)+i.getLength(m.left,g),i.getLength(m.top,g)],S=E[0],P=E[1];i.drawImage(a,_,S,P,b,w)}}),p.fonts&&p.fonts.forEach(function(m){var v=m.fontColor||c.fontColor,_=m.fontWeight||c.fontWeight,x=i.getLength(m.fontSize||c.fontSize),b=m.fontStyle||c.fontStyle;a.fillStyle=v,a.font=_+" "+(x>>0)+"px "+b,String(m.text).split(`
`).forEach(function(w,E){a.fillText(w,d(m,w),h(m,g,E))})})}),(n=s.afterDraw)===null||n===void 0||n.call(this,a)},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var r=this,n=r._defaultConfig,i=r.prizeFlag,o=r.prizeDeg,s=r.rotateDeg;this.endTime=Date.now();for(var a=this.stopDeg=s,l=n.speed,c=(Math.random()*o-o/2)*this.getLength(n.stopRange),u=0,f=0,d=0;++u;){var h=360*u-i*o-s-n.offsetDegree+c-o/2,p=Jc(this.FPS,a,h,n.decelerationTime)-a;if(p>l){this.endDeg=l-f>p-l?h:d;break}d=h,f=p}},e.prototype.play=function(){var r,n;this.step===0&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,(n=(r=this.config).afterStart)===null||n===void 0||n.call(r),this.run())},e.prototype.stop=function(r){if(this.step!==0&&this.step!==3){if(!r&&r!==0){var n=this.prizes.map(function(i){return i.range});r=sN(n)}r<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=r%this.prizes.length)}},e.prototype.run=function(r){var n;r===void 0&&(r=0);var i=this,o=i.rAF,s=i.step,a=i.prizeFlag,l=i._defaultConfig,c=l.accelerationTime,u=l.decelerationTime,f=l.speed;if(s!==0){if(a!==-1){s!==3||this.endDeg||this.carveOnGunwaleOfAMovingBoat();var d=Date.now()-this.startTime,h=Date.now()-this.endTime,p=this.rotateDeg;if(s===1||d<c){this.FPS=d/r;var y=f2(d,0,f,c);y===f&&(this.step=2),p+=y%360}else s===2?(p+=f%360,a!==void 0&&a>=0&&(this.step=3,this.stopDeg=0,this.endDeg=0)):s===3?(p=Jc(h,this.stopDeg,this.endDeg,u),h>=u&&(this.step=0)):this.stop(-1);this.rotateDeg=p,this.draw(),o(this.run.bind(this,r+1))}}else(n=this.endCallback)===null||n===void 0||n.call(this,this.prizes.find(function(g,m){return m===a})||{})},e.prototype.conversionAxis=function(r,n){var i=this.config;return[r/i.dpr-this.Radius,n/i.dpr-this.Radius]},e}(u2),Cye=function(t){function e(r,n){var i,o=t.call(this,r,{width:n.width,height:n.height})||this;return o.rows=3,o.cols=3,o.blocks=[],o.prizes=[],o.buttons=[],o.defaultConfig={},o.defaultStyle={},o.activeStyle={},o._defaultConfig={},o._defaultStyle={},o._activeStyle={},o.cellWidth=0,o.cellHeight=0,o.startTime=0,o.endTime=0,o.currIndex=0,o.stopIndex=0,o.endIndex=0,o.demo=!1,o.timer=0,o.FPS=16.6,o.step=0,o.prizeFlag=-1,o.cells=[],o.ImageCache=new Map,o.initData(n),o.initWatch(),o.initComputed(),(i=r.beforeCreate)===null||i===void 0||i.call(o),o.init(),o}return a2(e,t),e.prototype.resize=function(){var r,n;t.prototype.resize.call(this),this.draw(),(n=(r=this.config).afterResize)===null||n===void 0||n.call(r)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.startTime=0,this.endTime=0,this.currIndex=0,this.stopIndex=0,this.endIndex=0,this.demo=!1,this.timer=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(r){this.$set(this,"width",r.width||"300px"),this.$set(this,"height",r.height||"300px"),this.$set(this,"rows",Number(r.rows)||3),this.$set(this,"cols",Number(r.cols)||3),this.$set(this,"blocks",r.blocks||[]),this.$set(this,"prizes",r.prizes||[]),this.$set(this,"buttons",r.buttons||[]),this.$set(this,"button",r.button),this.$set(this,"defaultConfig",r.defaultConfig||{}),this.$set(this,"defaultStyle",r.defaultStyle||{}),this.$set(this,"activeStyle",r.activeStyle||{}),this.$set(this,"startCallback",r.start),this.$set(this,"endCallback",r.end)},e.prototype.initComputed=function(){var r=this;this.$computed(this,"_defaultConfig",function(){var n=Ko({gutter:5,speed:20,accelerationTime:2500,decelerationTime:2500},r.defaultConfig);return n.gutter=r.getLength(n.gutter),n.speed=n.speed/40,n}),this.$computed(this,"_defaultStyle",function(){return Ko({borderRadius:20,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",shadow:"",wordWrap:!0,lengthLimit:"90%"},r.defaultStyle)}),this.$computed(this,"_activeStyle",function(){return Ko({background:"#ffce98",shadow:""},r.activeStyle)})},e.prototype.initWatch=function(){var r=this;this.$watch("width",function(n){r.data.width=n,r.resize()}),this.$watch("height",function(n){r.data.height=n,r.resize()}),this.$watch("blocks",function(n){r.initImageCache()},{deep:!0}),this.$watch("prizes",function(n){r.initImageCache()},{deep:!0}),this.$watch("buttons",function(n){r.initImageCache()},{deep:!0}),this.$watch("rows",function(){return r.init()}),this.$watch("cols",function(){return r.init()}),this.$watch("defaultConfig",function(){return r.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return r.draw()},{deep:!0}),this.$watch("activeStyle",function(){return r.draw()},{deep:!0}),this.$watch("startCallback",function(){return r.init()}),this.$watch("endCallback",function(){return r.init()})},e.prototype.init=function(){var r,n;return qo(this,void 0,void 0,function(){var i;return Zo(this,function(o){switch(o.label){case 0:return this.initLucky(),i=this.config,(r=i.beforeInit)===null||r===void 0||r.call(this),this.draw(),[4,this.initImageCache()];case 1:return o.sent(),(n=i.afterInit)===null||n===void 0||n.call(this),[2]}})})},e.prototype.initImageCache=function(){var r=this;return new Promise(function(n){var i=r.buttons.map(function(s){return s.imgs});r.button&&i.push(r.button.imgs);var o={blocks:r.blocks.map(function(s){return s.imgs}),prizes:r.prizes.map(function(s){return s.imgs}),buttons:i};Object.keys(o).forEach(function(s){var a=o[s],l=[];a&&a.forEach(function(c,u){c&&c.forEach(function(f,d){l.push(r.loadAndCacheImg(s,u,d))})}),Promise.all(l).then(function(){r.draw(),n()})})})},e.prototype.handleClick=function(r){var n=this,i=this.ctx;vc(vc([],this.buttons),[this.button]).forEach(function(o){var s;if(o){var a=n.getGeometricProperty([o.x,o.y,o.col||1,o.row||1]),l=a[0],c=a[1],u=a[2],f=a[3];i.beginPath(),i.rect(l,c,u,f),i.isPointInPath(r.offsetX,r.offsetY)&&n.step===0&&(typeof o.callback=="function"&&o.callback.call(n,o),(s=n.startCallback)===null||s===void 0||s.call(n,r,o))}})},e.prototype.loadAndCacheImg=function(r,n,i){return qo(this,void 0,void 0,function(){var o=this;return Zo(this,function(s){return[2,new Promise(function(a,l){var c=o[r][n];if(r==="buttons"&&!o.buttons.length&&o.button&&(c=o.button),c&&c.imgs){var u=c.imgs[i];if(u){var f=[o.loadImg(u.src,u),u.activeSrc&&o.loadImg(u.activeSrc,u,"$activeResolve")];Promise.all(f).then(function(d){var h=d[0],p=d[1];return qo(o,void 0,void 0,function(){var y;return Zo(this,function(g){switch(g.label){case 0:return typeof(y=u.formatter)!="function"?[3,3]:[4,Promise.resolve(y.call(this,h))];case 1:return h=g.sent(),p?[4,Promise.resolve(y.call(this,p))]:[3,3];case 2:p=g.sent(),g.label=3;case 3:return this.ImageCache.set(u.src,h),p&&this.ImageCache.set(u.activeSrc,p),a(),[2]}})})}).catch(function(d){console.error(r+"["+n+"].imgs["+i+"] "+d),l()})}}})]})})},e.prototype.draw=function(){var r,n,i=this,o=this,s=o.config,a=o.ctx,l=o._defaultConfig,c=o._defaultStyle,u=o._activeStyle;(r=s.beforeDraw)===null||r===void 0||r.call(this,a),a.clearRect(0,0,this.boxWidth,this.boxHeight),this.cells=vc(vc([],this.prizes),this.buttons),this.button&&this.cells.push(this.button),this.cells.forEach(function(f){f.col=f.col||1,f.row=f.row||1}),this.prizeArea=this.blocks.reduce(function(f,d,h){var p=f.x,y=f.y,g=f.w,m=f.h,v=oN(d,i.getLength.bind(i)),_=v[0],x=v[1],b=v[2],w=v[3],E=d.borderRadius?i.getLength(d.borderRadius):0,S=d.background;return Fs(S)&&(a.fillStyle=i.handleBackground(p,y,g,m,S),S0(a,p,y,g,m,E),a.fill()),d.imgs&&d.imgs.forEach(function(P,C){var A=i.ImageCache.get(P.src);if(A){var T=i.computedWidthAndHeight(A,P,g,m),I=T[0],B=T[1],G=[i.getOffsetX(I,g)+i.getLength(P.left,g),i.getLength(P.top,m)],N=G[0],U=G[1];i.drawImage(a,A,p+N,y+U,I,B)}}),{x:p+b,y:y+_,w:g-b-w,h:m-_-x}},{x:0,y:0,w:this.boxWidth,h:this.boxHeight}),this.cellWidth=(this.prizeArea.w-l.gutter*(this.cols-1))/this.cols,this.cellHeight=(this.prizeArea.h-l.gutter*(this.rows-1))/this.rows,this.cells.forEach(function(f,d){var h=i.getGeometricProperty([f.x,f.y,f.col,f.row]),p=h[0],y=h[1],g=h[2],m=h[3],v=!1;(i.prizeFlag===void 0||i.prizeFlag>-1)&&(v=d===i.currIndex%i.prizes.length>>0);var _=v?u.background:f.background||c.background;if(Fs(_)){var x=(v?u.shadow:f.shadow||c.shadow).replace(/px/g,"").split(",")[0].split(" ").map(function(w,E){return E<3?Number(w):w});x.length===4&&(a.shadowColor=x[3],a.shadowOffsetX=x[0]*s.dpr,a.shadowOffsetY=x[1]*s.dpr,a.shadowBlur=x[2],x[0]>0?g-=x[0]:(g+=x[0],p-=x[0]),x[1]>0?m-=x[1]:(m+=x[1],y-=x[1])),a.fillStyle=i.handleBackground(p,y,g,m,_);var b=i.getLength(f.borderRadius?f.borderRadius:c.borderRadius);S0(a,p,y,g,m,b),a.fill(),a.shadowColor="rgba(0, 0, 0, 0)",a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0}d>=i.prizes.length&&(d-=i.prizes.length),f.imgs&&f.imgs.forEach(function(w,E){var S=i.ImageCache.get(w.src),P=i.ImageCache.get(w.activeSrc);if(S){var C=v&&P||S;if(C){var A=i.computedWidthAndHeight(C,w,g,m),T=A[0],I=A[1],B=[p+i.getOffsetX(T,g)+i.getLength(w.left,g),y+i.getLength(w.top,m)],G=B[0],N=B[1];i.drawImage(a,C,G,N,T,I)}}}),f.fonts&&f.fonts.forEach(function(w){var E=v&&u.fontStyle?u.fontStyle:w.fontStyle||c.fontStyle,S=v&&u.fontWeight?u.fontWeight:w.fontWeight||c.fontWeight,P=v&&u.fontSize?i.getLength(u.fontSize):i.getLength(w.fontSize||c.fontSize),C=v&&u.lineHeight?u.lineHeight:w.lineHeight||c.lineHeight||w.fontSize||c.fontSize,A=Zc(w,"wordWrap")?w.wordWrap:c.wordWrap,T=w.lengthLimit||c.lengthLimit,I=w.lineClamp||c.lineClamp;a.font=S+" "+(P>>0)+"px "+E,a.fillStyle=v&&u.fontColor?u.fontColor:w.fontColor||c.fontColor;var B=[],G=String(w.text);if(A){var N=i.getLength(T,g);B=c2(a,l2(G),function(){return N},I)}else B=G.split(`
`);B.forEach(function(U,W){a.fillText(U,p+i.getOffsetX(a.measureText(U).width,g)+i.getLength(w.left,g),y+i.getLength(w.top,m)+(W+1)*i.getLength(C))})})}),(n=s.afterDraw)===null||n===void 0||n.call(this,a)},e.prototype.handleBackground=function(r,n,i,o,s){var a=this.ctx;return s.includes("linear-gradient")&&(s=function(l,c,u,f,d,h){var p=/linear-gradient\((.+)\)/.exec(h)[1].split(",").map(function(_){return _.trim()}),y=p.shift(),g=[0,0,0,0];if(y.includes("deg")){var m=function(_){return Math.tan(_/180*Math.PI)};(y=y.slice(0,-3)%360)>=0&&y<45?g=[c,u+d,c+f,u+d-f*m(y-0)]:y>=45&&y<90?g=[c,u+d,c+f-d*m(y-45),u]:y>=90&&y<135?g=[c+f,u+d,c+f-d*m(y-90),u]:y>=135&&y<180?g=[c+f,u+d,c,u+f*m(y-135)]:y>=180&&y<225?g=[c+f,u,c,u+f*m(y-180)]:y>=225&&y<270?g=[c+f,u,c+d*m(y-225),u+d]:y>=270&&y<315?g=[c,u,c+d*m(y-270),u+d]:y>=315&&y<360&&(g=[c,u,c+f,u+d-f*m(y-315)])}else y.includes("top")?g=[c,u+d,c,u]:y.includes("bottom")?g=[c,u,c,u+d]:y.includes("left")?g=[c+f,u,c,u]:y.includes("right")&&(g=[c,u,c+f,u]);var v=l.createLinearGradient.apply(l,g.map(function(_){return _>>0}));return p.reduce(function(_,x,b){var w=x.split(" ");return w.length===1?_.addColorStop(b,w[0]):w.length===2&&_.addColorStop.apply(_,w),_},v)}(a,r,n,i,o,s)),s},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var r=this,n=r._defaultConfig,i=r.prizeFlag,o=r.currIndex;this.endTime=Date.now();for(var s=this.stopIndex=o,a=n.speed,l=0,c=0,u=0;++l;){var f=this.prizes.length*l+i-s,d=Jc(this.FPS,s,f,n.decelerationTime)-s;if(d>a){this.endIndex=a-c>d-a?f:u;break}u=f,c=d}},e.prototype.play=function(){var r,n;this.step===0&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,(n=(r=this.config).afterStart)===null||n===void 0||n.call(r),this.run())},e.prototype.stop=function(r){if(this.step!==0&&this.step!==3){if(!r&&r!==0){var n=this.prizes.map(function(i){return i.range});r=sN(n)}r<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=r%this.prizes.length)}},e.prototype.run=function(r){var n;r===void 0&&(r=0);var i=this,o=i.rAF,s=i.step,a=i.prizes,l=i.prizeFlag,c=i._defaultConfig,u=c.accelerationTime,f=c.decelerationTime,d=c.speed;if(s!==0){if(l!==-1){s!==3||this.endIndex||this.carveOnGunwaleOfAMovingBoat();var h=Date.now()-this.startTime,p=Date.now()-this.endTime,y=this.currIndex;if(s===1||h<u){this.FPS=h/r;var g=f2(h,.1,d-.1,u);g===d&&(this.step=2),y+=g%a.length}else s===2?(y+=d%a.length,l!==void 0&&l>=0&&(this.step=3,this.stopIndex=0,this.endIndex=0)):s===3?(y=Jc(p,this.stopIndex,this.endIndex,f),p>=f&&(this.step=0)):this.stop(-1);this.currIndex=y,this.draw(),o(this.run.bind(this,r+1))}}else(n=this.endCallback)===null||n===void 0||n.call(this,this.prizes.find(function(m,v){return v===l})||{})},e.prototype.getGeometricProperty=function(r){var n=r[0],i=r[1],o=r[2],s=o===void 0?1:o,a=r[3],l=a===void 0?1:a,c=this.cellWidth,u=this.cellHeight,f=this._defaultConfig.gutter,d=[this.prizeArea.x+(c+f)*n,this.prizeArea.y+(u+f)*i];return s&&l&&d.push(c*s+f*(s-1),u*l+f*(l-1)),d},e.prototype.conversionAxis=function(r,n){var i=this.config;return[r/i.dpr,n/i.dpr]},e}(u2),Aye=function(t){function e(r,n){var i,o=t.call(this,r,{width:n.width,height:n.height})||this;return o.blocks=[],o.prizes=[],o.slots=[],o.defaultConfig={},o._defaultConfig={},o.defaultStyle={},o._defaultStyle={},o.endCallback=function(){},o.cellWidth=0,o.cellHeight=0,o.cellAndSpacing=0,o.widthAndSpacing=0,o.heightAndSpacing=0,o.FPS=16.6,o.scroll=[],o.stopScroll=[],o.endScroll=[],o.startTime=0,o.endTime=0,o.step=0,o.prizeFlag=void 0,o.ImageCache=new Map,o.initData(n),o.initWatch(),o.initComputed(),(i=r.beforeCreate)===null||i===void 0||i.call(o),o.init(),o}return a2(e,t),e.prototype.resize=function(){var r,n;t.prototype.resize.call(this),this.draw(),(n=(r=this.config).afterResize)===null||n===void 0||n.call(r)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.cellAndSpacing=0,this.widthAndSpacing=0,this.heightAndSpacing=0,this.FPS=16.6,this.scroll=[],this.stopScroll=[],this.endScroll=[],this.startTime=0,this.endTime=0,this.prizeFlag=void 0,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(r){this.$set(this,"width",r.width||"300px"),this.$set(this,"height",r.height||"300px"),this.$set(this,"blocks",r.blocks||[]),this.$set(this,"prizes",r.prizes||[]),this.$set(this,"slots",r.slots||[]),this.$set(this,"defaultConfig",r.defaultConfig||{}),this.$set(this,"defaultStyle",r.defaultStyle||{}),this.$set(this,"endCallback",r.end)},e.prototype.initComputed=function(){var r=this;this.$computed(this,"_defaultConfig",function(){var n=Ko({mode:"vertical",rowSpacing:0,colSpacing:5,speed:20,direction:1,accelerationTime:2500,decelerationTime:2500},r.defaultConfig);return n.rowSpacing=r.getLength(n.rowSpacing),n.colSpacing=r.getLength(n.colSpacing),n}),this.$computed(this,"_defaultStyle",function(){return Ko({borderRadius:0,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},r.defaultStyle)})},e.prototype.initWatch=function(){var r=this;this.$watch("width",function(n){r.data.width=n,r.resize()}),this.$watch("height",function(n){r.data.height=n,r.resize()}),this.$watch("blocks",function(n){r.initImageCache()},{deep:!0}),this.$watch("prizes",function(n){r.initImageCache()},{deep:!0}),this.$watch("slots",function(n){r.drawOffscreenCanvas(),r.draw()},{deep:!0}),this.$watch("defaultConfig",function(){return r.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return r.draw()},{deep:!0}),this.$watch("endCallback",function(){return r.init()})},e.prototype.init=function(){var r,n;return qo(this,void 0,void 0,function(){var i;return Zo(this,function(o){switch(o.label){case 0:return this.initLucky(),i=this.config,(r=i.beforeInit)===null||r===void 0||r.call(this),this.drawOffscreenCanvas(),this.draw(),[4,this.initImageCache()];case 1:return o.sent(),(n=i.afterInit)===null||n===void 0||n.call(this),[2]}})})},e.prototype.initImageCache=function(){var r=this;return new Promise(function(n){var i={blocks:r.blocks.map(function(o){return o.imgs}),prizes:r.prizes.map(function(o){return o.imgs})};Object.keys(i).forEach(function(o){var s=i[o],a=[];s&&s.forEach(function(l,c){l&&l.forEach(function(u,f){a.push(r.loadAndCacheImg(o,c,f))})}),Promise.all(a).then(function(){r.drawOffscreenCanvas(),r.draw(),n()})})})},e.prototype.loadAndCacheImg=function(r,n,i){return qo(this,void 0,void 0,function(){var o=this;return Zo(this,function(s){return[2,new Promise(function(a,l){var c=o[r][n];if(c&&c.imgs){var u=c.imgs[i];u&&o.loadImg(u.src,u).then(function(f){return qo(o,void 0,void 0,function(){return Zo(this,function(d){switch(d.label){case 0:return typeof u.formatter!="function"?[3,2]:[4,Promise.resolve(u.formatter.call(this,f))];case 1:f=d.sent(),d.label=2;case 2:return this.ImageCache.set(u.src,f),a(),[2]}})})}).catch(function(f){console.error(r+"["+n+"].imgs["+i+"] "+f),l()})}})]})})},e.prototype.drawOffscreenCanvas=function(){var r=this,n=this._defaultConfig,i=this._defaultStyle,o=this.drawBlocks(),s=o.w,a=o.h,l=this.prizes.length,c=this.displacementWidthOrHeight(),u=c.cellWidth,f=c.cellHeight,d=c.widthAndSpacing,h=c.heightAndSpacing,p=new Array(l).fill(void 0).map(function(x,b){return b}),y=0,g=0;this.slots.forEach(function(x,b){r.scroll[b]===void 0&&(r.scroll[b]=0),x.order=x.order||p;var w=x.order.length;y=Math.max(y,s+d*w),g=Math.max(g,a+h*w)});var m=this.getOffscreenCanvas(y,g),v=m._offscreenCanvas,_=m._ctx;this._offscreenCanvas=v,this.slots.forEach(function(x,b){var w=u*b,E=f*b,S=0,P=function(K,fe){for(var ue={},Y=[],ie=0;ie<K.length;ie++)ue[ie]=K[ie];for(ie=0;ie<fe.length;ie++){var ge=ue[fe[ie]];ge&&(Y[ie]=ge)}return Y}(r.prizes,x.order);if(P.length){P.forEach(function(K,fe){if(K){x.order[fe];var ue=d*fe+n.colSpacing/2,Y=h*fe+n.rowSpacing/2,ie=r.displacement([w,Y,h],[ue,E,d]),ge=ie[0],F=ie[1],q=ie[2];S+=q;var L=K.background||i.background;if(Fs(L)){var ee=r.getLength(Zc(K,"borderRadius")?K.borderRadius:i.borderRadius);S0(_,ge,F,u,u,ee),_.fillStyle=L,_.fill()}K.imgs&&K.imgs.forEach(function(J,de){var pe=r.ImageCache.get(J.src);if(pe){var xe=r.computedWidthAndHeight(pe,J,u,f),O=xe[0],$=xe[1],j=[ge+r.getOffsetX(O,u)+r.getLength(J.left,u),F+r.getLength(J.top,f)],ae=j[0],ce=j[1];r.drawImage(_,pe,ae,ce,O,$)}}),K.fonts&&K.fonts.forEach(function(J){var de=J.fontStyle||i.fontStyle,pe=J.fontWeight||i.fontWeight,xe=r.getLength(J.fontSize||i.fontSize),O=J.lineHeight||i.lineHeight||J.fontSize||i.fontSize,$=Zc(J,"wordWrap")?J.wordWrap:i.wordWrap,j=J.lengthLimit||i.lengthLimit,ae=J.lineClamp||i.lineClamp;_.font=pe+" "+(xe>>0)+"px "+de,_.fillStyle=J.fontColor||i.fontColor;var ce=[],M=String(J.text);if($){var k=r.getLength(j,u);ce=c2(_,l2(M),function(){return k},ae)}else ce=M.split(`
`);ce.forEach(function(H,Q){_.fillText(H,ge+r.getOffsetX(_.measureText(H).width,u)+r.getLength(J.left,u),F+r.getLength(J.top,f)+(Q+1)*r.getLength(O))})})}});for(var C=r.displacement([w,0,u,S],[0,E,S,f]),A=C[0],T=C[1],I=C[2],B=C[3],G=S;G<g+S;){var N=r.displacement([A,G],[G,T]),U=N[0],W=N[1];r.drawImage(_,v,A,T,I,B,U,W,I,B),G+=S}}})},e.prototype.drawBlocks=function(){var r=this,n=this;n.config;var i=n.ctx;n._defaultConfig;var o=n._defaultStyle;return this.prizeArea=this.blocks.reduce(function(s,a,l){var c=s.x,u=s.y,f=s.w,d=s.h,h=oN(a,r.getLength.bind(r)),p=h[0],y=h[1],g=h[2],m=h[3],v=a.borderRadius?r.getLength(a.borderRadius):0,_=a.background||o.background;return Fs(_)&&(S0(i,c,u,f,d,v),i.fillStyle=_,i.fill()),a.imgs&&a.imgs.forEach(function(x,b){var w=r.ImageCache.get(x.src);if(w){var E=r.computedWidthAndHeight(w,x,f,d),S=E[0],P=E[1],C=[r.getOffsetX(S,f)+r.getLength(x.left,f),r.getLength(x.top,d)],A=C[0],T=C[1];r.drawImage(i,w,c+A,u+T,S,P)}}),{x:c+g,y:u+p,w:f-g-m,h:d-p-y}},{x:0,y:0,w:this.boxWidth,h:this.boxHeight})},e.prototype.draw=function(){var r,n=this,i=this,o=i.config,s=i.ctx;i._defaultConfig,i._defaultStyle,(r=o.beforeDraw)===null||r===void 0||r.call(this,s),s.clearRect(0,0,this.boxWidth,this.boxHeight);var a=this.drawBlocks(),l=a.x,c=a.y,u=a.w,f=a.h;if(this._offscreenCanvas){var d=this,h=d.cellWidth,p=d.cellHeight,y=d.cellAndSpacing,g=d.widthAndSpacing,m=d.heightAndSpacing;this.slots.forEach(function(v,_){var x=y*v.order.length,b=n.displacement(-(f-m)/2,-(u-g)/2),w=n.scroll[_]+b;w<0&&(w=w%x+x),w>x&&(w%=x);var E=n.displacement([h*_,w,h,f],[w,p*_,u,p]),S=E[0],P=E[1],C=E[2],A=E[3],T=n.displacement([l+g*_,c,h,f],[l,c+m*_,u,p]),I=T[0],B=T[1],G=T[2],N=T[3];n.drawImage(s,n._offscreenCanvas,S,P,C,A,I,B,G,N)})}},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var r=this,n=this,i=n._defaultConfig,o=n.prizeFlag,s=n.cellAndSpacing;this.endTime=Date.now(),this.slots.forEach(function(a,l){var c=a.order;if(c.length)for(var u=a.speed||i.speed,f=a.direction||i.direction,d=c.findIndex(function(v){return v===o[l]}),h=s*c.length,p=r.stopScroll[l]=r.scroll[l],y=0;++y;){var g=s*d+h*y*f-p,m=Jc(r.FPS,p,g,i.decelerationTime)-p;if(Math.abs(m)>u){r.endScroll[l]=g;break}}})},e.prototype.play=function(){var r,n;this.step===0&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,(n=(r=this.config).afterStart)===null||n===void 0||n.call(r),this.run())},e.prototype.stop=function(r){var n;if(this.step!==0&&this.step!==3){if(typeof r=="number")this.prizeFlag=new Array(this.slots.length).fill(r);else{if(!md(r,"array"))return this.stop(-1),console.error("stop()  "+typeof r);if(r.length!==this.slots.length)return this.stop(-1),console.error("stop(["+r+"]) ");this.prizeFlag=r}!((n=this.prizeFlag)===null||n===void 0)&&n.includes(-1)?(this.prizeFlag=[],this.step=0):this.step=2}},e.prototype.run=function(r){var n,i,o=this;r===void 0&&(r=0);var s=this,a=s.rAF,l=s.step,c=s.prizeFlag,u=s._defaultConfig,f=s.cellAndSpacing,d=s.slots,h=u.accelerationTime,p=u.decelerationTime;if(this.step!==0||(c==null?void 0:c.length)!==d.length){if(c===void 0||c.length){this.step!==3||this.endScroll.length||this.carveOnGunwaleOfAMovingBoat();var y=Date.now()-this.startTime,g=Date.now()-this.endTime;d.forEach(function(b,w){var E=b.order;if(E&&E.length){var S=f*E.length,P=Math.abs(b.speed||u.speed),C=b.direction||u.direction,A=0,T=o.scroll[w];if(l===1||y<h){o.FPS=y/r;var I=f2(y,0,P,h);I===P&&(o.step=2),A=(T+I*C)%S}else if(l===2)A=(T+P*C)%S,(c==null?void 0:c.length)===d.length&&(o.step=3,o.stopScroll=[],o.endScroll=[]);else if(l===3&&g){var B=o.stopScroll[w],G=o.endScroll[w];A=Jc(g,B,G,p),g>=p&&(o.step=0)}o.scroll[w]=A}}),this.draw(),a(this.run.bind(this,r+1))}}else{for(var m=c[0],v=0;v<d.length;v++){var _=d[v],x=c[v];if(!(!((n=_.order)===null||n===void 0)&&n.includes(x))||m!==x){m=-1;break}}(i=this.endCallback)===null||i===void 0||i.call(this,this.prizes.find(function(b,w){return w===m})||void 0)}},e.prototype.displacement=function(r,n){return this._defaultConfig.mode==="horizontal"?n:r},e.prototype.displacementWidthOrHeight=function(){var r=this._defaultConfig.mode,n=this.slots.length,i=this._defaultConfig,o=i.colSpacing,s=i.rowSpacing,a=this.prizeArea||this.drawBlocks();a.x,a.y;var l,c,u=a.w,f=a.h,d=0,h=0;return r==="horizontal"?(h=this.cellHeight=(f-s*(n-1))/n,d=this.cellWidth=h):(d=this.cellWidth=(u-o*(n-1))/n,h=this.cellHeight=d),l=this.widthAndSpacing=this.cellWidth+o,c=this.heightAndSpacing=this.cellHeight+s,this.cellAndSpacing=r==="horizontal"?l:c,{cellWidth:d,cellHeight:h,widthAndSpacing:l,heightAndSpacing:c}},e}(u2),d2=function(t,e,r){e===void 0&&(e={});var n=e.props,i=e.domProps,o=e.on,s=function(c,u){var f={};for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&u.indexOf(d)<0&&(f[d]=c[d]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(d=Object.getOwnPropertySymbols(c);h<d.length;h++)u.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(c,d[h])&&(f[d[h]]=c[d[h]])}return f}(e,["props","domProps","on"]),a=function(c){return c?Object.entries(c).reduce(function(u,f){var d,h=f[0],p=f[1];return h="on"+(h=h.charAt(0).toUpperCase()+h.slice(1)),En(En({},u),((d={})[h]=p,d))},{}):null}(o),l=En(En(En(En({},s),n),i),a);return Rr(t,l,r)},h2="@lucky-canvas/vue",Tye=we({name:"LuckyWheel",props:{width:{type:[String,Number]},height:{type:[String,Number]},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},buttons:{type:Array,default:function(){return[]}},defaultStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},emits:["start","end","success","error","finally"],watch:{blocks:function(t,e){this.lucky&&(this.lucky.blocks=t)},prizes:function(t,e){this.lucky&&(this.lucky.prizes=t)},buttons:function(t,e){this.lucky&&(this.lucky.buttons=t)}},data:function(){return{lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",h2+"@0.1.11");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.lucky=new Sye({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},En(En({},this.$props),{start:function(e){t.$emit("start",e)},end:function(e){t.$emit("end",e)}}))},init:function(){this.lucky&&this.lucky.init()},play:function(){var t;(t=this.lucky)===null||t===void 0||t.play()},stop:function(t){var e;(e=this.lucky)===null||e===void 0||e.stop(t)}},render:function(){return d2("div",{ref:"myLucky"})}}),Pye=we({name:"LuckyGrid",props:{width:{type:[String,Number]},height:{type:[String,Number]},cols:{type:[String,Number],default:3},rows:{type:[String,Number],default:3},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},buttons:{type:Array,default:function(){return[]}},button:{type:Object},defaultStyle:{type:Object,default:function(){return{}}},activeStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},emits:["start","end","success","error","finally"],watch:{cols:function(t,e){this.lucky&&(this.lucky.cols=t)},rows:function(t,e){this.lucky&&(this.lucky.rows=t)},blocks:function(t,e){this.lucky&&(this.lucky.blocks=t)},prizes:function(t,e){this.lucky&&(this.lucky.prizes=t)},buttons:function(t,e){this.lucky&&(this.lucky.buttons=t)},button:function(t,e){this.lucky&&(this.lucky.button=t)}},data:function(){return{lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",h2+"@0.1.11");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.lucky=new Cye({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},En(En({},this.$props),{start:function(e,r){t.$emit("start",e,r)},end:function(e){t.$emit("end",e)}}))},init:function(){this.lucky&&this.lucky.init()},play:function(){var t;(t=this.lucky)===null||t===void 0||t.play()},stop:function(t){var e;(e=this.lucky)===null||e===void 0||e.stop(t)}},render:function(){return d2("div",{ref:"myLucky"})}}),Iye=we({name:"SlotMachine",props:{width:{type:[String,Number]},height:{type:[String,Number]},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},slots:{type:Array,default:function(){return[]}},defaultStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},watch:{blocks:function(t,e){this.lucky&&(this.lucky.blocks=t)},slots:function(t,e){this.lucky&&(this.lucky.slots=t)},prizes:function(t,e){this.lucky&&(this.lucky.prizes=t)}},data:function(){return{lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",h2+"@0.1.11");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.lucky=new Aye({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},En(En({},this.$props),{start:function(e){t.$emit("start",e)},end:function(e){t.$emit("end",e)}}))},init:function(){this.lucky&&this.lucky.init()},play:function(){var t;(t=this.lucky)===null||t===void 0||t.play()},stop:function(t){var e;(e=this.lucky)===null||e===void 0||e.stop(t)}},render:function(){return d2("div",{ref:"myLucky"})}}),Oye=function(t){t.component("LuckyWheel",Tye),t.component("LuckyGrid",Pye),t.component("SlotMachine",Iye)};typeof window<"u"&&window.Vue&&iN&&Oye(window.Vue);function Rye(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Mye(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Dye=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bye=function(t){Dye(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),Rye(o,i.prototype),Mye(o),o}return e}(Error),kye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kn=function(t){kye(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Bye),Nye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nr=function(t){Nye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(kn),Fye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ne=function(t){Fye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(kn),cN=function(){function t(e){if(this.binarizer=e,e===null)throw new Ne("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var o=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Lye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ur=function(t){Lye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(kn),$ye=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Rt=function(){function t(){}return t.arraycopy=function(e,r,n,i,o){for(;o--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Uye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p2=function(t){Uye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(kn),Gye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S3=function(t){Gye(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(p2),Hye=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xr=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Ne("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new S3(r);if(n>e)throw new S3(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var o=Hye(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=31*i+a}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,o=new Int32Array(i);return Rt.arraycopy(e,r,o,0,i),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var s=o+i>>1,a=n(r,e[s]);if(a>0)i=s+1;else if(a<0)o=s-1;else return s}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),qe=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Mr=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Rt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var s=n.length;o===0;){if(++i===s)return r;o=n[i]}var a=i*32+qe.numberOfTrailingZeros(o);return a>r?r:a},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var s=n.length;o===0;){if(++i===s)return r;o=~n[i]}var a=i*32+qe.numberOfTrailingZeros(o);return a>r?r:a},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Ne;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,s=n;s<=i;s++){var a=s>n?0:e&31,l=s<i?31:r&31,c=(2<<l)-(1<<a);o[s]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Ne;if(r===e)return!0;r--;for(var i=Math.floor(e/32),o=Math.floor(r/32),s=this.bits,a=i;a<=o;a++){var l=a>i?0:e&31,c=a<o?31:r&31,u=(2<<c)-(1<<l)&4294967295;if((s[a]&u)!==(n?u:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Ne("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Ne("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var o=0;o<i;o++){for(var s=0,a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;r[n+o]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,o=0;o<n;o++){var s=i[o];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-o]=s}if(this.size!==n*32){for(var a=n*32-this.size,l=e[0]>>>a,o=1;o<n;o++){var c=e[o];l|=c<<32-a,e[o-1]=l,l=c>>>a}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&xr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+xr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),L_;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(L_||(L_={}));const Mt=L_;var Vye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),me=function(t){Vye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(kn),zye=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(wt||(wt={}));var _r=function(){function t(e,r,n){for(var i,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var f=l[c];t.VALUES_TO_ECI.set(f,this)}try{for(var d=zye(s),h=d.next();!h.done;h=d.next()){var p=h.value;t.NAME_TO_ECI.set(p,this)}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new me("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(wt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(wt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(wt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(wt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(wt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(wt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(wt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(wt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(wt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(wt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(wt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(wt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(wt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(wt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(wt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(wt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(wt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(wt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(wt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(wt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(wt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(wt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(wt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(wt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(wt.Big5,28,"Big5"),t.GB18030=new t(wt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(wt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),jye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tp=function(t){jye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(kn),mi=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof _r?e:_r.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",o=0,s=e.length;o<s;o++){var a=e[o].toString(16);a.length<2&&(a="0"+a),i+="%"+a}return decodeURIComponent(i)}if(n.equals(_r.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Tp("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(_r.UTF8)||e.equals(_r.ISO8859_1)||e.equals(_r.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},t}(),it=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return mi.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Mt.CHARACTER_SET)!==void 0)return r.get(Mt.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,s=!0,a=0,l=0,c=0,u=0,f=0,d=0,h=0,p=0,y=0,g=0,m=0,v=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,_=0;_<n&&(i||o||s);_++){var x=e[_]&255;s&&(a>0?x&128?a--:s=!1:x&128&&(x&64?(a++,x&32?(a++,x&16?(a++,x&8?s=!1:u++):c++):l++):s=!1)),i&&(x>127&&x<160?i=!1:x>159&&(x<192||x===215||x===247)&&m++),o&&(f>0?x<64||x===127||x>252?o=!1:f--:x===128||x===160||x>239?o=!1:x>160&&x<224?(d++,p=0,h++,h>y&&(y=h)):x>127?(f++,h=0,p++,p>g&&(g=p)):(h=0,p=0))}return s&&a>0&&(s=!1),o&&f>0&&(o=!1),s&&(v||l+c+u>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||y>=3||g>=3)?t.SHIFT_JIS:i&&o?y===2&&d===2||m*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function o(a,l,c,u,f,d){if(a==="%%")return"%";if(r[++i]!==void 0){a=u?parseInt(u.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,p;switch(d){case"s":p=r[i];break;case"c":p=r[i][0];break;case"f":p=parseFloat(r[i]).toFixed(a);break;case"p":p=parseFloat(r[i]).toPrecision(a);break;case"e":p=parseFloat(r[i]).toExponential(a);break;case"x":p=parseInt(r[i]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[i],h||10).toPrecision(a)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var y=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";p.length<y;)p=l!==void 0?p+g:g+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)},t.getBytes=function(e,r){return mi.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=_r.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=_r.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=_r.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Ke=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=it.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),_o=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Ne("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),o=0;o<r;o++)for(var s=e[o],a=0;a<n;a++)s[a]&&i.set(a,o);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Ne("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,s=0,a=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(o>s){if(a===-1)a=o-s;else if(o-s!==a)throw new Ne("row lengths do not match");s=o,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[o]=!0,o++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[o]=!1,o++;else throw new Ne("illegal character encountered: "+e.substring(c));if(o>s){if(a===-1)a=o-s;else if(o-s!==a)throw new Ne("row lengths do not match");l++}for(var u=new t(a,l),f=0;f<o;f++)i[f]&&u.set(Math.floor(f%a),Math.floor(f/a));return u},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ne("input matrix dimensions do not match");for(var r=new Mr(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,s=this.height;o<s;o++)for(var a=o*n,l=e.getRow(o,r).getBitArray(),c=0;c<n;c++)i[a+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Ne("Left and top must be nonnegative");if(i<1||n<1)throw new Ne("Height and width must be at least 1");var o=e+n,s=r+i;if(s>this.height||o>this.width)throw new Ne("The region must fit inside the matrix");for(var a=this.rowSize,l=this.bits,c=r;c<s;c++)for(var u=c*a,f=e;f<o;f++)l[u+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Mr(this.width):r.clear();for(var n=this.rowSize,i=this.bits,o=e*n,s=0;s<n;s++)r.setBulk(s*32,i[o+s]);return r},t.prototype.setRow=function(e,r){Rt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Mr(e),i=new Mr(e),o=0,s=Math.floor((r+1)/2);o<s;o++)n=this.getRow(o,n),i=this.getRow(r-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,o=e,s=r,a=-1,l=-1,c=0;c<r;c++)for(var u=0;u<n;u++){var f=i[c*n+u];if(f!==0){if(c<s&&(s=c),c>l&&(l=c),u*32<o){for(var d=0;!(f<<31-d&4294967295);)d++;u*32+d<o&&(o=u*32+d)}if(u*32+31>a){for(var d=31;!(f>>>d);)d--;u*32+d>a&&(a=u*32+d)}}}return a<o||l<s?null:Int32Array.from([o,s,a-o+1,l-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,o=n%e*32,s=r[n],a=0;!(s<<31-a&4294967295);)a++;return o+=a,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,s=r[n],a=31;!(s>>>a);)a--;return o+=a,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&xr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+xr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Ke,o=0,s=this.height;o<s;o++){for(var a=0,l=this.width;a<l;a++)i.append(this.get(a,o)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Wye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oe=function(t){Wye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(kn),Xye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yye=function(t){Xye(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new Mr(o):n.clear(),this.initArrays(o);for(var s=i.getRow(r,this.luminances),a=this.buckets,l=0;l<o;l++)a[(s[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(a);if(o<3)for(var l=0;l<o;l++)(s[l]&255)<c&&n.set(l);else for(var u=s[0]&255,f=s[1]&255,l=1;l<o-1;l++){var d=s[l+1]&255;(f*4-u-d)/2<c&&n.set(l),u=f,f=d}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),o=new _o(n,i);this.initArrays(n);for(var s=this.buckets,a=1;a<5;a++)for(var l=Math.floor(i*a/5),c=r.getRow(l,this.luminances),u=Math.floor(n*4/5),f=Math.floor(n/5);f<u;f++){var d=c[f]&255;s[d>>e.LUMINANCE_SHIFT]++}for(var h=e.estimateBlackPoint(s),p=r.getMatrix(),a=0;a<i;a++)for(var y=a*n,f=0;f<n;f++){var d=p[y+f]&255;d<h&&o.set(f,a)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,o=0,s=0,a=0;a<n;a++)r[a]>s&&(o=a,s=r[a]),r[a]>i&&(i=r[a]);for(var l=0,c=0,a=0;a<n;a++){var u=a-o,f=r[a]*u*u;f>c&&(l=a,c=f)}if(o>l){var d=o;o=l,l=d}if(l-o<=n/16)throw new oe;for(var h=l-1,p=-1,a=l-1;a>o;a--){var y=a-o,f=y*y*(l-a)*(i-r[a]);f>p&&(h=a,p=f)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}($ye),Kye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uN=function(t){Kye(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var a=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&a++;var l=e.calculateBlackPoints(o,s,a,n,i),c=new _o(n,i);e.calculateThresholdForBlock(o,s,a,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,o,s,a,l){for(var c=s-e.BLOCK_SIZE,u=o-e.BLOCK_SIZE,f=0;f<i;f++){var d=f<<e.BLOCK_SIZE_POWER;d>c&&(d=c);for(var h=e.cap(f,2,i-3),p=0;p<n;p++){var y=p<<e.BLOCK_SIZE_POWER;y>u&&(y=u);for(var g=e.cap(p,2,n-3),m=0,v=-2;v<=2;v++){var _=a[h+v];m+=_[g-2]+_[g-1]+_[g]+_[g+1]+_[g+2]}var x=m/25;e.thresholdBlock(r,y,d,x,o,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,o,s,a){for(var l=0,c=i*s+n;l<e.BLOCK_SIZE;l++,c+=s)for(var u=0;u<e.BLOCK_SIZE;u++)(r[c+u]&255)<=o&&a.set(n+u,i+l)},e.calculateBlackPoints=function(r,n,i,o,s){for(var a=s-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,c=new Array(i),u=0;u<i;u++){c[u]=new Int32Array(n);var f=u<<e.BLOCK_SIZE_POWER;f>a&&(f=a);for(var d=0;d<n;d++){var h=d<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var p=0,y=255,g=0,m=0,v=f*o+h;m<e.BLOCK_SIZE;m++,v+=o){for(var _=0;_<e.BLOCK_SIZE;_++){var x=r[v+_]&255;p+=x,x<y&&(y=x),x>g&&(g=x)}if(g-y>e.MIN_DYNAMIC_RANGE)for(m++,v+=o;m<e.BLOCK_SIZE;m++,v+=o)for(var _=0;_<e.BLOCK_SIZE;_++)p+=r[v+_]&255}var b=p>>e.BLOCK_SIZE_POWER*2;if(g-y<=e.MIN_DYNAMIC_RANGE&&(b=y/2,u>0&&d>0)){var w=(c[u-1][d]+2*c[u][d-1]+c[u-1][d-1])/4;y<w&&(b=w)}c[u][d]=b}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Yye),Yd=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Tp("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Tp("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Tp("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Ke,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var s=i[o]&255,a=void 0;s<64?a="#":s<128?a="+":s<192?a=".":a=" ",r.append(a)}r.append(`
`)}return r.toString()},t}(),qye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qg=function(t){qye(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),o=this.getWidth(),s=0;s<o;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(r[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,o){return new e(this.delegate.crop(r,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Yd),Zye=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jye=function(t){Zye(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,o){o===void 0&&(o=!1);var s=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var a=0,l=0,c=r.length;a<c;a+=4,l++){var u=void 0,f=r[a+3];if(f===0)u=255;else{var d=r[a],h=r[a+1],p=r[a+2];u=306*d+601*h+117*p+512>>10}s[l]=u}else for(var a=0,l=0,y=r.length;a<y;a+=4,l++){var u=void 0,f=r[a+3];if(f===0)u=255;else{var d=r[a],h=r[a+1],p=r[a+2];u=306*d+601*h+117*p+512>>10}s[l]=255-u}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ne("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),c=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(o),i.drawImage(this.canvas,s/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Qg(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Yd),Qye=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),rn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})},nn=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},e_e=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yu=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return rn(this,void 0,void 0,function(){var e,r,n,i,o,s,a,l,c,u,f,d;return nn(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=e_e(e),i=n.next();!i.done;i=n.next())o=i.value,s=o.kind==="video"?"videoinput":o.kind,s==="videoinput"&&(a=o.deviceId||o.id,l=o.label||"Video device "+(r.length+1),c=o.groupId,u={deviceId:a,label:l,kind:s,groupId:c},r.push(u))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return rn(this,void 0,void 0,function(){var e;return nn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Qye(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return rn(this,void 0,void 0,function(){var r;return nn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return rn(this,void 0,void 0,function(){return nn(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return rn(this,void 0,void 0,function(){var n,i;return nn(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return rn(this,void 0,void 0,function(){var n;return nn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return rn(this,void 0,void 0,function(){var n,i;return nn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return rn(this,void 0,void 0,function(){return nn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return rn(this,void 0,void 0,function(){var i,o;return nn(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return rn(this,void 0,void 0,function(){var i;return nn(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return rn(this,void 0,void 0,function(){var i;return nn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return rn(this,void 0,void 0,function(){var n;return nn(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return rn(this,void 0,void 0,function(){return nn(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new nr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new nr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new nr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new nr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new nr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new nr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new nr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new nr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new nr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new nr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return rn(this,void 0,void 0,function(){return nn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return rn(this,void 0,void 0,function(){return nn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(s,a){if(i._stopAsyncDecode){a(new oe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);s(l)}catch(d){var c=r&&d instanceof oe,u=d instanceof ur||d instanceof me,f=u&&n;if(c||f)return setTimeout(o,i._timeBetweenDecodingAttempts,s,a);a(d)}};return new Promise(function(s,a){return o(s,a)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var s=l instanceof ur||l instanceof me,a=l instanceof oe;(s||a)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Jye(n,r),o=new uN(i);return new cN(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),en=function(){function t(e,r,n,i,o,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Rt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,s==null?this.timestamp=Rt.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Rt.arraycopy(r,0,n,0,r.length),Rt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),$_;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($_||($_={}));const ke=$_;var U_;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(U_||(U_={}));const Ur=U_;var em=function(){function t(e,r,n,i,o,s){o===void 0&&(o=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),tf=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ne;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Ws=function(){function t(e,r){if(r.length===0)throw new Ne;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Rt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,o=r.length;i!==o;i++){var s=r[i];n=tf.addOrSubtract(n,s)}return n}n=r[0];for(var a=r.length,l=this.field,i=1;i<a;i++)n=tf.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ne("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),s=n.length-r.length;Rt.arraycopy(n,0,o,0,s);for(var a=s;a<n.length;a++)o[a]=tf.addOrSubtract(r[a-s],n[a]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ne("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,s=new Int32Array(n+o-1),a=this.field,l=0;l<n;l++)for(var c=r[l],u=0;u<o;u++)s[l+u]=tf.addOrSubtract(s[l+u],a.multiply(c,i[u]));return new t(a,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,s=0;s<r;s++)i[s]=n.multiply(o[s],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ne;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),s=this.field,a=0;a<i;a++)o[a]=s.multiply(n[a],r);return new t(s,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ne("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ne("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,o=e.getCoefficient(e.getDegree()),s=r.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var a=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),s),c=e.multiplyByMonomial(a,l),u=r.buildMonomial(a,l);n=n.addOrSubtract(u),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),t_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fN=function(t){t_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(kn),r_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cn=function(t){r_e(e,t);function e(r,n,i){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=i;for(var s=new Int32Array(n),a=1,l=0;l<n;l++)s[l]=a,a*=2,a>=n&&(a^=r,a&=n-1);o.expTable=s;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[s[l]]=l;return o.logTable=c,o.zero=new Ws(o,Int32Array.from([0])),o.one=new Ws(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ne;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ws(this,i)},e.prototype.inverse=function(r){if(r===0)throw new fN;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(tf),n_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jh=function(t){n_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(kn),i_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kd=function(t){i_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(kn),tm=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Ws(n,e),o=new Int32Array(r),s=!0,a=0;a<r;a++){var l=i.evaluateAt(n.exp(a+n.getGeneratorBase()));o[o.length-1-a]=l,l!==0&&(s=!1)}if(!s)for(var c=new Ws(n,o),u=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),f=u[0],d=u[1],h=this.findErrorLocations(f),p=this.findErrorMagnitudes(d,h),a=0;a<h.length;a++){var y=e.length-1-n.log(h[a]);if(y<0)throw new Jh("Bad error location");e[y]=Cn.addOrSubtract(e[y],p[a])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=this.field,s=e,a=r,l=o.getZero(),c=o.getOne();a.getDegree()>=(n/2|0);){var u=s,f=l;if(s=a,l=c,s.isZero())throw new Jh("r_{i-1} was zero");a=u;for(var d=o.getZero(),h=s.getCoefficient(s.getDegree()),p=o.inverse(h);a.getDegree()>=s.getDegree()&&!a.isZero();){var y=a.getDegree()-s.getDegree(),g=o.multiply(a.getCoefficient(a.getDegree()),p);d=d.addOrSubtract(o.buildMonomial(y,g)),a=a.addOrSubtract(s.multiplyByMonomial(y,g))}if(c=d.multiply(l).addOrSubtract(f),a.getDegree()>=s.getDegree())throw new Kd("Division algorithm failed to reduce polynomial?")}var m=c.getCoefficient(0);if(m===0)throw new Jh("sigmaTilde(0) was zero");var v=o.inverse(m),_=c.multiplyScalar(v),x=a.multiplyScalar(v);return[_,x]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,o=this.field,s=1;s<o.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=o.inverse(s),i++);if(i!==r)throw new Jh("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),o=this.field,s=0;s<n;s++){for(var a=o.inverse(r[s]),l=1,c=0;c<n;c++)if(s!==c){var u=o.multiply(r[c],a),f=u&1?u&-2:u|1;l=o.multiply(l,f)}i[s]=o.multiply(e.evaluateAt(a),o.inverse(l)),o.getGeneratorBase()!==0&&(i[s]=o.multiply(i[s],a))}return i},t}(),kr;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(kr||(kr={}));var C3=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=t.convertBoolArrayToByteArray(i),s=t.getEncodedData(i),a=new em(o,s,null,null);return a.setNumBits(i.length),a},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=kr.UPPER,i=kr.UPPER,o="",s=0;s<r;)if(i===kr.BINARY){if(r-s<5)break;var a=t.readCode(e,s,5);if(s+=5,a===0){if(r-s<11)break;a=t.readCode(e,s,11)+31,s+=11}for(var l=0;l<a;l++){if(r-s<8){s=r;break}var c=t.readCode(e,s,8);o+=it.castAsNonUtf8Char(c),s+=8}i=n}else{var u=i===kr.DIGIT?4:5;if(r-s<u)break;var c=t.readCode(e,s,u);s+=u;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(o+=f,i=n)}return o},t.getTable=function(e){switch(e){case"L":return kr.LOWER;case"P":return kr.PUNCT;case"M":return kr.MIXED;case"D":return kr.DIGIT;case"B":return kr.BINARY;case"U":default:return kr.UPPER}},t.getCharacter=function(e,r){switch(e){case kr.UPPER:return t.UPPER_TABLE[r];case kr.LOWER:return t.LOWER_TABLE[r];case kr.MIXED:return t.MIXED_TABLE[r];case kr.PUNCT:return t.PUNCT_TABLE[r];case kr.DIGIT:return t.DIGIT_TABLE[r];default:throw new Kd("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Cn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Cn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Cn.AZTEC_DATA_10):(n=12,r=Cn.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new me;for(var s=e.length%n,a=new Int32Array(o),l=0;l<o;l++,s+=n)a[l]=t.readCode(e,s,n);try{var c=new tm(r);c.decode(a,o-i)}catch(g){throw new me(g)}for(var u=(1<<n)-1,f=0,l=0;l<i;l++){var d=a[l];if(d===0||d===u)throw new me;(d===1||d===u-1)&&f++}for(var h=new Array(i*n-f),p=0,l=0;l<i;l++){var d=a[l];if(d===1||d===u-1)h.fill(d>1,p,p+n-1),p+=n-1;else for(var y=n-1;y>=0;--y)h[p++]=(d&1<<y)!==0}return h},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,o=new Int32Array(i),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var a=0;a<o.length;a++)o[a]=a;else for(var l=i+1+2*qe.truncDivision(qe.truncDivision(i,2)-1,15),c=i/2,u=qe.truncDivision(l,2),a=0;a<c;a++){var f=a+qe.truncDivision(a,15);o[c-a-1]=u-f-1,o[c+a]=u+f+1}for(var a=0,d=0;a<n;a++){for(var h=(n-a)*4+(r?9:12),p=a*2,y=i-1-p,g=0;g<h;g++)for(var m=g*2,v=0;v<2;v++)s[d+m+v]=e.get(o[p+v],o[p+g]),s[d+2*h+m+v]=e.get(o[p+g],o[y-v]),s[d+4*h+m+v]=e.get(o[y-v],o[y-g]),s[d+6*h+m+v]=e.get(o[y-g],o[p+v]);d+=h*8}return s},t.readCode=function(e,r,n){for(var i=0,o=r;o<r+n;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),ht=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var o=e-n,s=r-i;return Math.sqrt(o*o+s*s)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var o=e[n];r+=o}return r},t}(),G_=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Ie=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*G_.floatToIntBits(this.x)+G_.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,s,a;if(n>=r&&n>=i?(s=e[0],o=e[1],a=e[2]):i>=n&&i>=r?(s=e[1],o=e[0],a=e[2]):(s=e[2],o=e[0],a=e[1]),this.crossProductZ(o,s,a)<0){var l=o;o=a,a=l}e[0]=o,e[1]=s,e[2]=a},t.distance=function(e,r){return ht.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,o=r.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},t}(),g2=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),o_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s_e=function(t){o_e(e,t);function e(r,n,i,o,s){var a=t.call(this,r,n)||this;return a.compact=i,a.nbDatablocks=o,a.nbLayers=s,a}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(g2),H_=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,o=!1,s=!0,a=!1,l=!1,c=!1,u=!1,f=!1,d=this.width,h=this.height;s;){s=!1;for(var p=!0;(p||!l)&&r<d;)p=this.containsBlackPoint(n,i,r,!1),p?(r++,s=!0,l=!0):l||r++;if(r>=d){o=!0;break}for(var y=!0;(y||!c)&&i<h;)y=this.containsBlackPoint(e,r,i,!0),y?(i++,s=!0,c=!0):c||i++;if(i>=h){o=!0;break}for(var g=!0;(g||!u)&&e>=0;)g=this.containsBlackPoint(n,i,e,!1),g?(e--,s=!0,u=!0):u||e--;if(e<0){o=!0;break}for(var m=!0;(m||!f)&&n>=0;)m=this.containsBlackPoint(e,r,n,!0),m?(n--,s=!0,f=!0):f||n--;if(n<0){o=!0;break}s&&(a=!0)}if(!o&&a){for(var v=r-e,_=null,x=1;_===null&&x<v;x++)_=this.getBlackPointOnSegment(e,i-x,e+x,i);if(_==null)throw new oe;for(var b=null,x=1;b===null&&x<v;x++)b=this.getBlackPointOnSegment(e,n+x,e+x,n);if(b==null)throw new oe;for(var w=null,x=1;w===null&&x<v;x++)w=this.getBlackPointOnSegment(r,n+x,r-x,n);if(w==null)throw new oe;for(var E=null,x=1;E===null&&x<v;x++)E=this.getBlackPointOnSegment(r,i-x,r-x,i);if(E==null)throw new oe;return this.centerEdges(E,_,w,b)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var o=ht.round(ht.distance(e,r,n,i)),s=(n-e)/o,a=(i-r)/o,l=this.image,c=0;c<o;c++){var u=ht.round(e+c*s),f=ht.round(r+c*a);if(l.get(u,f))return new Ie(u,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var o=e.getX(),s=e.getY(),a=r.getX(),l=r.getY(),c=n.getX(),u=n.getY(),f=i.getX(),d=i.getY(),h=t.CORR;return o<this.width/2?[new Ie(f-h,d+h),new Ie(a+h,l+h),new Ie(c-h,u-h),new Ie(o+h,s-h)]:[new Ie(f+h,d+h),new Ie(a+h,l-h),new Ie(c-h,u+h),new Ie(o-h,s-h)]},t.prototype.containsBlackPoint=function(e,r,n,i){var o=this.image;if(i){for(var s=e;s<=r;s++)if(o.get(s,n))return!0}else for(var a=e;a<=r;a++)if(o.get(n,a))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),A3=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),o=!0,s=0;s<r.length&&o;s+=2){var a=Math.floor(r[s]),l=Math.floor(r[s+1]);if(a<-1||a>n||l<-1||l>i)throw new oe;o=!1,a===-1?(r[s]=0,o=!0):a===n&&(r[s]=n-1,o=!0),l===-1?(r[s+1]=0,o=!0):l===i&&(r[s+1]=i-1,o=!0)}o=!0;for(var s=r.length-2;s>=0&&o;s-=2){var a=Math.floor(r[s]),l=Math.floor(r[s+1]);if(a<-1||a>n||l<-1||l>i)throw new oe;o=!1,a===-1?(r[s]=0,o=!0):a===n&&(r[s]=n-1,o=!0),l===-1?(r[s+1]=0,o=!0):l===i&&(r[s+1]=i-1,o=!0)}},t}(),dN=function(){function t(e,r,n,i,o,s,a,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=o,this.a32=s,this.a13=a,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,o,s,a,l,c,u,f,d,h,p,y,g){var m=t.quadrilateralToSquare(e,r,n,i,o,s,a,l),v=t.squareToQuadrilateral(c,u,f,d,h,p,y,g);return v.times(m)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,d=0;d<r;d+=2){var h=e[d],p=e[d+1],y=o*h+l*p+f;e[d]=(n*h+s*p+c)/y,e[d+1]=(i*h+a*p+u)/y}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,d=e.length,h=0;h<d;h++){var p=e[h],y=r[h],g=o*p+l*y+f;e[h]=(n*p+s*y+c)/g,r[h]=(i*p+a*y+u)/g}},t.squareToQuadrilateral=function(e,r,n,i,o,s,a,l){var c=e-n+o-a,u=r-i+s-l;if(c===0&&u===0)return new t(n-e,o-n,e,i-r,s-i,r,0,0,1);var f=n-o,d=a-o,h=i-s,p=l-s,y=f*p-d*h,g=(c*p-d*u)/y,m=(f*u-c*h)/y;return new t(n-e+g*n,a-e+m*a,e,i-r+g*i,l-r+m*l,r,g,m,1)},t.quadrilateralToSquare=function(e,r,n,i,o,s,a,l){return t.squareToQuadrilateral(e,r,n,i,o,s,a,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),a_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l_e=function(t){a_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,o,s,a,l,c,u,f,d,h,p,y,g,m,v,_,x){var b=dN.quadrilateralToQuadrilateral(o,s,a,l,c,u,f,d,h,p,y,g,m,v,_,x);return this.sampleGridWithTransform(r,n,i,b)},e.prototype.sampleGridWithTransform=function(r,n,i,o){if(n<=0||i<=0)throw new oe;for(var s=new _o(n,i),a=new Float32Array(2*n),l=0;l<i;l++){for(var c=a.length,u=l+.5,f=0;f<c;f+=2)a[f]=f/2+.5,a[f+1]=u;o.transformPoints(a),A3.checkAndNudgePoints(r,a);try{for(var f=0;f<c;f+=2)r.get(Math.floor(a[f]),Math.floor(a[f+1]))&&s.set(f/2,l)}catch{throw new oe}}return s},e}(A3),m2=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new l_e,t}(),yn=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Ie(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),c_e=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new s_e(o,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,o=0;o<4;o++){var s=n[(this.shift+o)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var a=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,s,a){var l=(o>>r-2<<1)+(o&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(qe.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new oe},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var o=n-i,s=new Int32Array(n),a=n-1;a>=0;--a)s[a]=e&15,e>>=4;try{var l=new tm(Cn.AZTEC_PARAM);l.decode(s,o)}catch{throw new oe}for(var c=0,a=0;a<i;a++)c=(c<<4)+s[a];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,o=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(r,s,1,-1),l=this.getFirstDifferent(n,s,1,1),c=this.getFirstDifferent(i,s,-1,1),u=this.getFirstDifferent(o,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(u,a)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(a,l,c,u))break}r=a,n=l,i=c,o=u,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var d=new Ie(r.getX()+.5,r.getY()-.5),h=new Ie(n.getX()+.5,n.getY()+.5),p=new Ie(i.getX()-.5,i.getY()+.5),y=new Ie(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,h,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var o=new H_(this.image).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{var s=this.image.getWidth()/2,a=this.image.getHeight()/2;e=this.getFirstDifferent(new yn(s+7,a-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new yn(s+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new yn(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new yn(s-7,a-7),!1,-1,-1).toResultPoint()}var l=ht.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=ht.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var o=new H_(this.image,15,l,c).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new yn(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new yn(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new yn(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new yn(l-7,c-7),!1,-1,-1).toResultPoint()}return l=ht.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=ht.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new yn(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,o){var s=m2.getInstance(),a=this.getDimension(),l=a/2-this.nbCenterLayers,c=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,o=this.distanceResultPoint(e,r),s=o/n,a=e.getX(),l=e.getY(),c=s*(r.getX()-e.getX())/o,u=s*(r.getY()-e.getY())/o,f=0;f<n;f++)this.image.get(ht.round(a+f*c),ht.round(l+f*u))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var o=3;e=new yn(e.getX()-o,e.getY()+o),r=new yn(r.getX()-o,r.getY()-o),n=new yn(n.getX()+o,n.getY()-o),i=new yn(i.getX()+o,i.getY()+o);var s=this.getColor(i,e);if(s===0)return!1;var a=this.getColor(e,r);return a!==s||(a=this.getColor(r,n),a!==s)?!1:(a=this.getColor(n,i),a===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,s=0,a=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),u=Math.ceil(n),f=0;f<u;f++)a+=i,l+=o,this.image.get(ht.round(a),ht.round(l))!==c&&s++;var d=s/n;return d>.1&&d<.9?0:d<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var o=e.getX()+n,s=e.getY()+i;this.isValid(o,s)&&this.image.get(o,s)===r;)o+=n,s+=i;for(o-=n,s-=i;this.isValid(o,s)&&this.image.get(o,s)===r;)o+=n;for(o-=n;this.isValid(o,s)&&this.image.get(o,s)===r;)s+=i;return s-=i,new yn(o,s)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),o=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Ie(a+i*o,l+i*s),u=new Ie(a-i*o,l-i*s);o=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Ie(a+i*o,l+i*s),d=new Ie(a-i*o,l-i*s),h=[c,f,u,d];return h},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=ht.round(e.getX()),n=ht.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return ht.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return ht.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(qe.truncDivision(this.nbLayers-4,8)+1)+15},t}(),C0=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new c_e(e.getBlackMatrix()),o=null,s=null;try{var a=i.detectMirror(!1);o=a.getPoints(),this.reportFoundResultPoints(r,o),s=new C3().decode(a)}catch(f){n=f}if(s==null)try{var a=i.detectMirror(!0);o=a.getPoints(),this.reportFoundResultPoints(r,o),s=new C3().decode(a)}catch(f){throw n??f}var l=new en(s.getText(),s.getRawBytes(),s.getNumBits(),o,ke.AZTEC,Rt.currentTimeMillis()),c=s.getByteSegments();c!=null&&l.putMetadata(Ur.BYTE_SEGMENTS,c);var u=s.getECLevel();return u!=null&&l.putMetadata(Ur.ERROR_CORRECTION_LEVEL,u),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Mt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,o,s){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),u_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){u_e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new C0,r)||this}return e})(yu);var wr=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Mt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,r),s=o.getResultMetadata(),a=270;s!==null&&s.get(Ur.ORIENTATION)===!0&&(a=a+s.get(Ur.ORIENTATION)%360),o.putMetadata(Ur.ORIENTATION,a);var l=o.getResultPoints();if(l!==null)for(var c=i.getHeight(),u=0;u<l.length;u++)l[u]=new Ie(c-l[u].getY()-1,l[u].getX());return o}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),o=new Mr(n),s=r&&r.get(Mt.TRY_HARDER)===!0,a=Math.max(1,i>>(s?8:5)),l;s?l=i:l=15;for(var c=Math.trunc(i/2),u=0;u<l;u++){var f=Math.trunc((u+1)/2),d=(u&1)===0,h=c+a*(d?f:-f);if(h<0||h>=i)break;try{o=e.getBlackRow(h,o)}catch{continue}for(var p=function(v){if(v===1&&(o.reverse(),r&&r.get(Mt.NEED_RESULT_POINT_CALLBACK)===!0)){var _=new Map;r.forEach(function(w,E){return _.set(E,w)}),_.delete(Mt.NEED_RESULT_POINT_CALLBACK),r=_}try{var x=y.decodeRow(h,o,r);if(v===1){x.putMetadata(Ur.ORIENTATION,180);var b=x.getResultPoints();b!==null&&(b[0]=new Ie(n-b[0].getX()-1,b[0].getY()),b[1]=new Ie(n-b[1].getX()-1,b[1].getY()))}return{value:x}}catch{}},y=this,g=0;g<2;g++){var m=p(g);if(typeof m=="object")return m.value}}throw new oe},t.recordPattern=function(e,r,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var s=e.getSize();if(r>=s)throw new oe;for(var a=!e.get(r),l=0,c=r;c<s;){if(e.get(c)!==a)n[l]++;else{if(++l===i)break;n[l]=1,a=!a}c++}if(!(l===i||l===i-1&&c===s))throw new oe},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,o=e.get(r);r>0&&i>=0;)e.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new oe;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=r[a];if(o<s)return Number.POSITIVE_INFINITY;var l=o/s;n*=l;for(var c=0,u=0;u<i;u++){var f=e[u],d=r[u]*l,h=f>d?f-d:d-f;if(h>n)return Number.POSITIVE_INFINITY;c+=h}return c/o},t}(),f_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T3=function(t){f_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),o=0,s=Int32Array.from([0,0,0,0,0,0]),a=i,l=!1,c=6,u=i;u<n;u++)if(r.get(u)!==l)s[o]++;else{if(o===c-1){for(var f=e.MAX_AVG_VARIANCE,d=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var p=wr.patternMatchVariance(s,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);p<f&&(f=p,d=h)}if(d>=0&&r.isRange(Math.max(0,a-(u-a)/2),a,!1))return Int32Array.from([a,u,d]);a+=s[0]+s[1],s=s.slice(2,s.length),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,l=!l}throw new oe},e.decodeCode=function(r,n,i){wr.recordPattern(r,i,n);for(var o=e.MAX_AVG_VARIANCE,s=-1,a=0;a<e.CODE_PATTERNS.length;a++){var l=e.CODE_PATTERNS[a],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,s=a)}if(s>=0)return s;throw new oe},e.prototype.decodeRow=function(r,n,i){var o=i&&i.get(Mt.ASSUME_GS1)===!0,s=e.findStartPattern(n),a=s[2],l=0,c=new Uint8Array(20);c[l++]=a;var u;switch(a){case e.CODE_START_A:u=e.CODE_CODE_A;break;case e.CODE_START_B:u=e.CODE_CODE_B;break;case e.CODE_START_C:u=e.CODE_CODE_C;break;default:throw new me}for(var f=!1,d=!1,h="",p=s[0],y=s[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,v=0,_=a,x=0,b=!0,w=!1,E=!1;!f;){var S=d;switch(d=!1,m=v,v=e.decodeCode(n,g,y),c[l++]=v,v!==e.CODE_STOP&&(b=!0),v!==e.CODE_STOP&&(x++,_+=x*v),p=y,y+=g.reduce(function(U,W){return U+W},0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(u){case e.CODE_CODE_A:if(v<64)E===w?h+=String.fromCharCode(" ".charCodeAt(0)+v):h+=String.fromCharCode(" ".charCodeAt(0)+v+128),E=!1;else if(v<96)E===w?h+=String.fromCharCode(v-64):h+=String.fromCharCode(v+64),E=!1;else switch(v!==e.CODE_STOP&&(b=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!w&&E?(w=!0,E=!1):w&&E?(w=!1,E=!1):E=!0;break;case e.CODE_SHIFT:d=!0,u=e.CODE_CODE_B;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(v<96)E===w?h+=String.fromCharCode(" ".charCodeAt(0)+v):h+=String.fromCharCode(" ".charCodeAt(0)+v+128),E=!1;else switch(v!==e.CODE_STOP&&(b=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!w&&E?(w=!0,E=!1):w&&E?(w=!1,E=!1):E=!0;break;case e.CODE_SHIFT:d=!0,u=e.CODE_CODE_A;break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(v<100)v<10&&(h+="0"),h+=v;else switch(v!==e.CODE_STOP&&(b=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(u=u===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var P=y-p;if(y=n.getNextUnset(y),!n.isRange(y,Math.min(n.getSize(),y+(y-p)/2),!1))throw new oe;if(_-=x*m,_%103!==m)throw new ur;var C=h.length;if(C===0)throw new oe;C>0&&b&&(u===e.CODE_CODE_C?h=h.substring(0,C-2):h=h.substring(0,C-1));for(var A=(s[1]+s[0])/2,T=p+P/2,I=c.length,B=new Uint8Array(I),G=0;G<I;G++)B[G]=c[G];var N=[new Ie(A,r),new Ie(T,r)];return new en(h,B,0,N,ke.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(wr),d_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P3=function(t){d_e(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var o,s,a,l,c=this.counters;c.fill(0),this.decodeRowResult="";var u=e.findAsteriskPattern(n,c),f=n.getNextSet(u[1]),d=n.getSize(),h,p;do{e.recordPattern(n,f,c);var y=e.toNarrowWidePattern(c);if(y<0)throw new oe;h=e.patternToChar(y),this.decodeRowResult+=h,p=f;try{for(var g=(o=void 0,e1(c)),m=g.next();!m.done;m=g.next()){var v=m.value;f+=v}}catch(I){o={error:I}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}f=n.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var x=e1(c),b=x.next();!b.done;b=x.next()){var v=b.value;_+=v}}catch(I){a={error:I}}finally{try{b&&!b.done&&(l=x.return)&&l.call(x)}finally{if(a)throw a.error}}var w=f-p-_;if(f!==d&&w*2<_)throw new oe;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,S=0,P=0;P<E;P++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(E)!==e.ALPHABET_STRING.charAt(S%43))throw new ur;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(this.decodeRowResult.length===0)throw new oe;var C;this.extendedMode?C=e.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;var A=(u[1]+u[0])/2,T=p+_/2;return new en(C,null,0,[new Ie(A,r),new Ie(T,r)],ke.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),o=r.getNextSet(0),s=0,a=o,l=!1,c=n.length,u=o;u<i;u++)if(r.get(u)!==l)n[s]++;else{if(s===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,a-Math.floor((u-a)/2)),a,!1))return[a,u];a+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,l=!l}throw new oe},e.toNarrowWidePattern=function(r){var n,i,o=r.length,s=0,a;do{var l=2147483647;try{for(var c=(n=void 0,e1(r)),u=c.next();!u.done;u=c.next()){var f=u.value;f<l&&f>s&&(l=f)}}catch(y){n={error:y}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}s=l,a=0;for(var d=0,h=0,p=0;p<o;p++){var f=r[p];f>s&&(h|=1<<o-1-p,a++,d+=f)}if(a===3){for(var p=0;p<o&&a>0;p++){var f=r[p];if(f>s&&(a--,f*2>=d))return-1}return h}}while(a>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var s=r.charAt(o);if(s==="+"||s==="$"||s==="%"||s==="/"){var a=r.charAt(o+1),l="\0";switch(s){case"+":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)+32);else throw new me;break;case"$":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)-64);else throw new me;break;case"%":if(a>="A"&&a<="E")l=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")l=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")l=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")l="\0";else if(a==="V")l="@";else if(a==="W")l="`";else if(a==="X"||a==="Y"||a==="Z")l="";else throw new me;break;case"/":if(a>="A"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")l=":";else throw new me;break}i+=l,o++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(wr),h_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I3=function(t){h_e(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var o,s,a,l,c=this.findAsteriskPattern(n),u=n.getNextSet(c[1]),f=n.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var h,p;do{e.recordPattern(n,u,d);var y=this.toPattern(d);if(y<0)throw new oe;h=this.patternToChar(y),this.decodeRowResult+=h,p=u;try{for(var g=(o=void 0,t1(d)),m=g.next();!m.done;m=g.next()){var v=m.value;u+=v}}catch(P){o={error:P}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}u=n.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var x=t1(d),b=x.next();!b.done;b=x.next()){var v=b.value;_+=v}}catch(P){a={error:P}}finally{try{b&&!b.done&&(l=x.return)&&l.call(x)}finally{if(a)throw a.error}}if(u===f||!n.get(u))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var w=this.decodeExtended(this.decodeRowResult),E=(c[1]+c[0])/2,S=p+_/2;return new en(w,null,0,[new Ie(E,r),new Ie(S,r)],ke.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,s=i,a=!1,l=o.length,c=0,u=i;u<n;u++)if(r.get(u)!==a)o[c]++;else{if(c===l-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([s,u]);s+=o[0]+o[1],o.copyWithin(0,2,2+c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,a=!a}throw new oe},e.prototype.toPattern=function(r){var n,i,o=0;try{for(var s=t1(r),a=s.next();!a.done;a=s.next()){var l=a.value;o+=l}}catch(p){n={error:p}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}for(var c=0,u=r.length,f=0;f<u;f++){var d=Math.round(r[f]*9/o);if(d<1||d>4)return-1;if(f&1)c<<=d;else for(var h=0;h<d;h++)c=c<<1|1}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new oe},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var s=r.charAt(o);if(s>="a"&&s<="d"){if(o>=n-1)throw new me;var a=r.charAt(o+1),l="\0";switch(s){case"d":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)+32);else throw new me;break;case"a":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)-64);else throw new me;break;case"b":if(a>="A"&&a<="E")l=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")l=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")l=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")l="\0";else if(a==="V")l="@";else if(a==="W")l="`";else if(a>="X"&&a<="Z")l=String.fromCharCode(127);else throw new me;break;case"c":if(a>="A"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")l=":";else throw new me;break}i+=l,o++}else i+=s}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var o=1,s=0,a=n-1;a>=0;a--)s+=o*e.ALPHABET_STRING.indexOf(r.charAt(a)),++o>i&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new ur},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(wr),p_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g_e=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O3=function(t){p_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var o,s,a=this.decodeStart(n),l=this.decodeEnd(n),c=new Ke;e.decodeMiddle(n,a[1],l[0],c);var u=c.toString(),f=null;i!=null&&(f=i.get(Mt.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var d=u.length,h=!1,p=0;try{for(var y=g_e(f),g=y.next();!g.done;g=y.next()){var m=g.value;if(d===m){h=!0;break}m>p&&(p=m)}}catch(x){o={error:x}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}if(!h&&d>p&&(h=!0),!h)throw new me;var v=[new Ie(a[1],r),new Ie(l[0],r)],_=new en(u,null,0,v,ke.ITF,new Date().getTime());return _},e.decodeMiddle=function(r,n,i,o){var s=new Int32Array(10),a=new Int32Array(5),l=new Int32Array(5);for(s.fill(0),a.fill(0),l.fill(0);n<i;){wr.recordPattern(r,n,s);for(var c=0;c<5;c++){var u=2*c;a[c]=s[u],l[c]=s[u+1]}var f=e.decodeDigit(a);o.append(f.toString()),f=this.decodeDigit(l),o.append(f.toString()),s.forEach(function(d){n+=d})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!r.get(o);o--)i--;if(i!==0)throw new oe},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new oe;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof oe&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var o=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-o,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var o=i.length,s=new Int32Array(o),a=r.getSize(),l=!1,c=0,u=n;s.fill(0);for(var f=n;f<a;f++)if(r.get(f)!==l)s[c]++;else{if(c===o-1){if(wr.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[u,f];u+=s[0]+s[1],Rt.arraycopy(s,2,s,0,c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,l=!l}throw new oe},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,s=0;s<o;s++){var a=e.PATTERNS[s],l=wr.patternMatchVariance(r,a,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=s):l===n&&(i=-1)}if(i>=0)return i%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(wr),m_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qc=function(t){m_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,o=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,s);var a=i[0];o=i[1];var l=a-(o-a);l>=0&&(n=r.isRange(l,a,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}i*=3;for(var o=n-2;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,o){return this.findGuardPattern(r,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,i,o,s){var a=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,u=o.length,f=i,d=n;d<a;d++)if(r.get(d)!==f)s[l]++;else{if(l===u-1){if(wr.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,d]);c+=s[0]+s[1];for(var h=s.slice(2,s.length),p=0;p<l-1;p++)s[p]=h[p];s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,f=!f}throw new oe},e.decodeDigit=function(r,n,i,o){this.recordPattern(r,i,n);for(var s=this.MAX_AVG_VARIANCE,a=-1,l=o.length,c=0;c<l;c++){var u=o[c],f=wr.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,a=c)}if(a>=0)return a;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(wr),v_e=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y_e=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),s=i.toString(),a=t.parseExtensionString(s),l=[new Ie((n[0]+n[1])/2,e),new Ie(o,e)],c=new en(s,null,0,l,ke.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&c.putAllMetadata(a),c},t.prototype.decodeMiddle=function(e,r,n){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),l=r[1],c=0,u=0;u<5&&l<a;u++){var f=Qc.decodeDigit(e,s,l,Qc.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,v_e(s)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-u),u!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new oe;var y=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==y)throw new oe;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Ur.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,s=o<10?"0"+o:o.toString();return r+i+"."+s},t}(),__e=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x_e=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),s=i.toString(),a=t.parseExtensionString(s),l=[new Ie((n[0]+n[1])/2,e),new Ie(o,e)],c=new en(s,null,0,l,ke.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&c.putAllMetadata(a),c},t.prototype.decodeMiddle=function(e,r,n){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),l=r[1],c=0,u=0;u<2&&l<a;u++){var f=Qc.decodeDigit(e,s,l,Qc.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,__e(s)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-u),u!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new oe;if(parseInt(n.toString())%4!==c)throw new oe;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Ur.ISSUE_NUMBER,parseInt(e)]])},t}(),b_e=function(){function t(){}return t.decodeRow=function(e,r,n){var i=Qc.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new y_e;return o.decodeRow(e,r,i)}catch{var s=new x_e;return s.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),w_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yr=function(t){w_e(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(a){return Int32Array.from(a)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),s=0;s<i.length;s++)o[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,i){var o=e.findStartGuardPattern(n),s=i==null?null:i.get(Mt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var a=new Ie((o[0]+o[1])/2,r);s.foundPossibleResultPoint(a)}var l=this.decodeMiddle(n,o,this.decodeRowStringBuffer),c=l.rowOffset,u=l.resultString;if(s!=null){var f=new Ie(c,r);s.foundPossibleResultPoint(f)}var d=e.decodeEnd(n,c);if(s!=null){var h=new Ie((d[0]+d[1])/2,r);s.foundPossibleResultPoint(h)}var p=d[1],y=p+(p-d[0]);if(y>=n.getSize()||!n.isRange(p,y,!1))throw new oe;var g=u.toString();if(g.length<8)throw new me;if(!e.checkChecksum(g))throw new ur;var m=(o[1]+o[0])/2,v=(d[1]+d[0])/2,_=this.getBarcodeFormat(),x=[new Ie(m,r),new Ie(v,r)],b=new en(g,null,0,x,_,new Date().getTime()),w=0;try{var E=b_e.decodeRow(r,n,d[1]);b.putMetadata(Ur.UPC_EAN_EXTENSION,E.getText()),b.putAllMetadata(E.getResultMetadata()),b.addResultPoints(E.getResultPoints()),w=E.getText().length}catch{}var S=i==null?null:i.get(Mt.ALLOWED_EAN_EXTENSIONS);if(S!=null){var P=!1;for(var C in S)if(w.toString()===C){P=!0;break}if(!P)throw new oe}return _===ke.EAN_13||ke.UPC_A,b},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}i*=3;for(var o=n-2;o>=0;o-=2){var s=r.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Qc),E_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V_=function(t){E_e(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,s,a,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=r.getSize(),f=n[1],d=0,h=0;h<6&&f<u;h++){var p=yr.decodeDigit(r,c,f,yr.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var y=(o=void 0,R3(c)),g=y.next();!g.done;g=y.next()){var m=g.value;f+=m}}catch(b){o={error:b}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}p>=10&&(d|=1<<5-h)}i=e.determineFirstDigit(i,d);var v=yr.findGuardPattern(r,f,!0,yr.MIDDLE_PATTERN,new Int32Array(yr.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var h=0;h<6&&f<u;h++){var p=yr.decodeDigit(r,c,f,yr.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var _=(a=void 0,R3(c)),x=_.next();!x.done;x=_.next()){var m=x.value;f+=m}}catch(E){a={error:E}}finally{try{x&&!x.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ke.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode("0".charCodeAt(0)+i)+r,r;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(yr),S_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D3=function(t){S_e(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,s,a,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=r.getSize(),f=n[1],d=0;d<4&&f<u;d++){var h=yr.decodeDigit(r,c,f,yr.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(o=void 0,M3(c)),y=p.next();!y.done;y=p.next()){var g=y.value;f+=g}}catch(x){o={error:x}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}var m=yr.findGuardPattern(r,f,!0,yr.MIDDLE_PATTERN,new Int32Array(yr.MIDDLE_PATTERN.length).fill(0));f=m[1];for(var d=0;d<4&&f<u;d++){var h=yr.decodeDigit(r,c,f,yr.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var v=(a=void 0,M3(c)),_=v.next();!_.done;_=v.next()){var g=_.value;f+=g}}catch(w){a={error:w}}finally{try{_&&!_.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ke.EAN_8},e}(yr),C_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B3=function(t){C_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new V_,r}return e.prototype.getBarcodeFormat=function(){return ke.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new en(n.substring(1),null,null,r.getResultPoints(),ke.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e}(yr),A_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T_e=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k3=function(t){A_e(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var o,s,a=this.decodeMiddleCounters.map(function(g){return g});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var l=r.getSize(),c=n[1],u=0,f=0;f<6&&c<l;f++){var d=e.decodeDigit(r,a,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(o=void 0,T_e(a)),p=h.next();!p.done;p=h.next()){var y=p.value;c+=y}}catch(g){o={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}d>=10&&(u|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Ke(i),u),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return yr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){r.insert(0,"0"+i),r.append("0"+o);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ke.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Ke;i.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(yr),P_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r1=function(t){P_e(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Mt.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(ke.EAN_13)>-1&&o.push(new V_),i.indexOf(ke.UPC_A)>-1&&o.push(new B3),i.indexOf(ke.EAN_8)>-1&&o.push(new D3),i.indexOf(ke.UPC_E)>-1&&o.push(new k3)),o.length===0&&(o.push(new V_),o.push(new B3),o.push(new D3),o.push(new k3)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,i){var o,s;try{for(var a=N3(this.readers),l=a.next();!l.done;l=a.next()){var c=l.value;try{var u=c.decodeRow(r,n,i),f=u.getBarcodeFormat()===ke.EAN_13&&u.getText().charAt(0)==="0",d=i==null?null:i.get(Mt.POSSIBLE_FORMATS),h=d==null||d.includes(ke.UPC_A);if(f&&h){var p=u.getRawBytes(),y=new en(u.getText().substring(1),p,p?p.length:null,u.getResultPoints(),ke.UPC_A);return y.putAllMetadata(u.getResultMetadata()),y}return u}catch{}}}catch(g){o={error:g}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}throw new oe},e.prototype.reset=function(){var r,n;try{for(var i=N3(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;s.reset()}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(wr),I_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O_e=function(t){I_e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var o=this.getValidRowData(n);if(!o)throw new oe;var s=this.codaBarDecodeRow(o.row);if(!s)throw new oe;return new en(s,null,0,[new Ie(o.left,r),new Ie(o.right,r)],ke.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var o=n.lastIndexOf(!0);if(o<=i)return null;n=n.slice(i,o+1);for(var s=[],a=n[0],l=1,c=1;c<n.length;c++)n[c]===a?l++:(a=n[c],s.push(l),l=1);return s.push(l),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),s=o.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var a=n.join("");return this.validCodaBarString(a)?a:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(wr),R_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M_e=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=function(t){R_e(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(wr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new oe},e.count=function(r){return ht.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,o=n[0],s=1;s<r.length;s++)n[s]>o&&(o=n[s],i=s);r[i]++},e.decrement=function(r,n){for(var i=0,o=n[0],s=1;s<r.length;s++)n[s]<o&&(o=n[s],i=s);r[i]--},e.isFinderPattern=function(r){var n,i,o=r[0]+r[1],s=o+r[2]+r[3],a=o/s;if(a>=e.MIN_FINDER_PATTERN_RATIO&&a<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var u=M_e(r),f=u.next();!f.done;f=u.next()){var d=f.value;d>c&&(c=d),d<l&&(l=d)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(wr),A0=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),hN=function(){function t(e,r,n,i,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ie(n,o)),this.resultPoints.push(new Ie(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),D_e=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yc=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,o,s=0;try{for(var a=D_e(e),l=a.next();!l.done;l=a.next()){var c=l.value;s+=c}}catch(v){i={error:v}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}for(var u=0,f=0,d=e.length,h=0;h<d-1;h++){var p=void 0;for(p=1,f|=1<<h;p<e[h];p++,f&=~(1<<h)){var y=t.combins(s-p-1,d-h-2);if(n&&f===0&&s-p-(d-h-1)>=d-h-1&&(y-=t.combins(s-p-(d-h),d-h-2)),d-h-1>1){for(var g=0,m=s-p-(d-h-2);m>r;m--)g+=t.combins(s-p-m-1,d-h-3);y-=g*(d-1-h)}else s-p>r&&y--;u+=y}s-=p}return u},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var o=1,s=1,a=e;a>n;a--)o*=a,s<=i&&(o/=s,s++);for(;s<=i;)o/=s,s++;return o},t}(),B_e=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new Mr(n),o=0,s=e[0],a=s.getRightChar().getValue(),l=11;l>=0;--l)a&1<<l&&i.set(o),o++;for(var l=1;l<e.length;++l){for(var c=e[l],u=c.getLeftChar().getValue(),f=11;f>=0;--f)u&1<<f&&i.set(o),o++;if(c.getRightChar()!==null)for(var d=c.getRightChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(o),o++}return i},t}(),wa=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),v2=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),k_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wi=function(t){k_e(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(v2),N_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ea=function(t){N_e(e,t);function e(r,n,i){var o=t.call(this,r)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(v2),F_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ic=function(t){F_e(e,t);function e(r,n,i){var o=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new me;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(v2),Qh=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L_e=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,o,s,a,l,c;if(!e)return null;if(e.length<2)throw new oe;var u=e.substring(0,2);try{for(var f=Qh(t.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next()){var h=d.value;if(h[0]===u)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,h[2],e):t.processFixedAI(2,h[1],e)}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new oe;var p=e.substring(0,3);try{for(var y=Qh(t.THREE_DIGIT_DATA_LENGTH),g=y.next();!g.done;g=y.next()){var h=g.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,h[2],e):t.processFixedAI(3,h[1],e)}}catch(w){i={error:w}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var m=Qh(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=m.next();!v.done;v=m.next()){var h=v.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(w){s={error:w}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}if(e.length<4)throw new oe;var _=e.substring(0,4);try{for(var x=Qh(t.FOUR_DIGIT_DATA_LENGTH),b=x.next();!b.done;b=x.next()){var h=b.value;if(h[0]===_)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(w){l={error:w}}finally{try{b&&!b.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}throw new oe},t.processFixedAI=function(e,r,n){if(n.length<e)throw new oe;var i=n.substring(0,e);if(n.length<e+r)throw new oe;var o=n.substring(e,e+r),s=n.substring(e+r),a="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(s);return l==null?a:a+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var s=n.substring(e,o),a=n.substring(o),l="("+i+")"+s,c=t.parseFieldsInGeneralPurpose(a);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Pp=function(){function t(e){this.buffer=new Ke,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var o=this.decodeGeneralPurposeField(n,i),s=L_e.parseFieldsInGeneralPurpose(o.getNewString());if(s!=null&&e.append(s),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new ic(this.information.getSize(),ic.FNC1,ic.FNC1):new ic(this.information.getSize(),r-1,ic.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new ic(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,o=0;o<n;++o)e.get(r+o)&&(i|=1<<n-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Ea(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Ea(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Ea(this.current.getPosition(),this.buffer.toString()):r=new Ea(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new wa(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Ea(this.current.getPosition(),this.buffer.toString());return new wa(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new wa(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Ea(this.current.getPosition(),this.buffer.toString());return new wa(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new wa(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Ea(this.current.getPosition(),this.buffer.toString());return new wa(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new wa(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wi(e+5,wi.FNC1);if(r>=5&&r<15)return new wi(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new wi(e+7,""+(n+1));if(n>=90&&n<116)return new wi(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new me}return new wi(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new wi(e+5,wi.FNC1);if(r>=5&&r<15)return new wi(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new wi(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Kd("Decoding invalid alphanumeric value: "+n)}return new wi(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),pN=function(){function t(e){this.information=e,this.generalDecoder=new Pp(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),$_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oi=function(t){$_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var o=0;o<4;++o){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,o=0;o<13;o++){var s=r.charAt(o+n).charCodeAt(0)-"0".charCodeAt(0);i+=o&1?s:3*s}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(pN),U_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G_e=function(t){U_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ke;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Oi),H_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V_e=function(t){H_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ke;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(pN),z_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ip=function(t){z_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,o);for(var s=this.checkWeight(o),a=1e5,l=0;l<5;++l)s/a===0&&r.append("0"),a/=10;r.append(s)},e}(Oi),j_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gN=function(t){j_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ip.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var r=new Ke;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Ip.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(Ip),W_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X_e=function(t){W_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(gN),Y_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K_e=function(t){Y_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(gN),q_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z_e=function(t){q_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oi.GTIN_SIZE)throw new oe;var r=new Ke;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oi.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oi.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Oi),J_e=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q_e=function(t){J_e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oi.GTIN_SIZE)throw new oe;var r=new Ke;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oi.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oi.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oi.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Oi),exe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bs=function(t){exe(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var r=new Ke;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=i%32;i/=32;var s=i%12+1;i/=12;var a=i;a/10===0&&r.append("0"),r.append(a),s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ip);function txe(t){try{if(t.get(1))return new G_e(t);if(!t.get(2))return new V_e(t);var e=Pp.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new X_e(t);case 5:return new K_e(t)}var r=Pp.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new Z_e(t);case 13:return new Q_e(t)}var n=Pp.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new bs(t,"310","11");case 57:return new bs(t,"320","11");case 58:return new bs(t,"310","13");case 59:return new bs(t,"320","13");case 60:return new bs(t,"310","15");case 61:return new bs(t,"320","15");case 62:return new bs(t,"310","17");case 63:return new bs(t,"320","17")}}catch(i){throw console.log(i),new Kd("unknown decoder: "+t)}}var F3=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),rxe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,o){r.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),nxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ws=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ixe=function(t){nxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(a){if(a instanceof oe){if(!this.pairs.length)throw new oe;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new oe},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,o,s=n;s<this.rows.length;s++){var a=this.rows[s];this.pairs.length=0;try{for(var l=(i=void 0,ws(r)),c=l.next();!c.done;c=l.next()){var u=c.value;this.pairs.push(u.getPairs())}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(a.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(a);try{return this.checkRows(f,s+1)}catch(d){console.log(d)}}}throw new oe},e.isValidSequence=function(r){var n,i;try{for(var o=ws(e.FINDER_PATTERN_SEQUENCES),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(r.length>a.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==a[c]){l=!1;break}if(l)return!0}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,o=!1,s=!1;i<this.rows.length;){var a=this.rows[i];if(a.getRowNumber()>r){s=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),i++}s||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new rxe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,o,s,a,l,c;try{for(var u=ws(n),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.getPairs().length!==r.length){var h=!0;try{for(var p=(s=void 0,ws(d.getPairs())),y=p.next();!y.done;y=p.next()){var g=y.value,m=!1;try{for(var v=(l=void 0,ws(r)),_=v.next();!_.done;_=v.next()){var x=_.value;if(F3.equals(g,x)){m=!0;break}}}catch(b){l={error:b}}finally{try{_&&!_.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}m||(h=!1)}}catch(b){s={error:b}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}}}}catch(b){i={error:b}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,o,s,a,l,c;try{for(var u=ws(n),f=u.next();!f.done;f=u.next()){var d=f.value,h=!0;try{for(var p=(s=void 0,ws(r)),y=p.next();!y.done;y=p.next()){var g=y.value,m=!1;try{for(var v=(l=void 0,ws(d.getPairs())),_=v.next();!_.done;_=v.next()){var x=_.value;if(g.equals(x)){m=!0;break}}}catch(b){l={error:b}}finally{try{_&&!_.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}if(!m){h=!1;break}}}catch(b){s={error:b}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}if(h)return!0}}catch(b){i={error:b}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=B_e.buildBitArray(r),i=txe(n),o=i.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),a=r[r.length-1].getFinderPattern().getResultPoints(),l=[s[0],s[1],a[0],a[1]];return new en(o,null,null,l,ke.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),s=2,a=1;a<this.pairs.size();++a){var l=this.pairs.get(a);o+=l.getLeftChar().getChecksumPortion(),s++;var c=l.getRightChar();c!=null&&(o+=c.getChecksumPortion(),s++)}o%=211;var u=211*(s-4)+o;return u===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var o=n.length%2===0;this.startFromEven&&(o=!o);var s,a=!0,l=-1;do this.findNextPair(r,n,l),s=this.parseFoundFinderPattern(r,i,o),s===null?l=e.getNextSecondBar(r,this.startEnd[0]):a=!1;while(a);var c=this.decodeDataCharacter(r,s,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new oe;var u;try{u=this.decodeDataCharacter(r,s,o,!1)}catch(f){u=null,console.log(f)}return new F3(c,u,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var s=r.getSize(),a;if(i>=0)a=i;else if(this.isEmptyPair(n))a=0;else{var l=n[n.length-1];a=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var u=!1;a<s&&(u=!r.get(a),!!u);)a++;for(var f=0,d=a,h=a;h<s;h++)if(r.get(h)!==u)o[f]++;else{if(f===3){if(c&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=d,this.startEnd[1]=h;return}c&&e.reverseCounters(o),d+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,u=!u}throw new oe},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var o=r[i];r[i]=r[n-i-1],r[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,i){var o,s,a;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,o=this.startEnd[0]-l,s=l,a=this.startEnd[1]}else s=this.startEnd[0],a=r.getNextUnset(this.startEnd[1]+1),o=a-this.startEnd[1];var c=this.getDecodeFinderCounters();Rt.arraycopy(c,0,c,1,c.length-1),c[0]=o;var u;try{u=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new hN(u,[s,a],s,a,n)},e.prototype.decodeDataCharacter=function(r,n,i,o){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var l=0,c=s.length-1;l<c;l++,c--){var u=s[l];s[l]=s[c],s[c]=u}}var f=17,d=ht.sum(new Int32Array(s))/f,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new oe;for(var p=this.getOddCounts(),y=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var v=1*s[l]/d,_=v+.5;if(_<1){if(v<.3)throw new oe;_=1}else if(_>8){if(v>8.7)throw new oe;_=8}var x=l/2;l&1?(y[x]=_,m[x]=v-_):(p[x]=_,g[x]=v-_)}this.adjustOddEvenCounts(f);for(var b=4*n.getValue()+(i?0:2)+(o?0:1)-1,w=0,E=0,l=p.length-1;l>=0;l--){if(e.isNotA1left(n,i,o)){var S=e.WEIGHTS[b][2*l];E+=p[l]*S}w+=p[l]}for(var P=0,l=y.length-1;l>=0;l--)if(e.isNotA1left(n,i,o)){var S=e.WEIGHTS[b][2*l+1];P+=y[l]*S}var C=E+P;if(w&1||w>13||w<4)throw new oe;var A=(13-w)/2,T=e.SYMBOL_WIDEST[A],I=9-T,B=yc.getRSSvalue(p,T,!0),G=yc.getRSSvalue(y,I,!1),N=e.EVEN_TOTAL_SUBSET[A],U=e.GSUM[A],W=B*N+G+U;return new A0(W,C)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=ht.sum(new Int32Array(this.getOddCounts())),i=ht.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;n>13?s=!0:n<4&&(o=!0);var a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);var c=n+i-r,u=(n&1)===1,f=(i&1)===0;if(c===1)if(u){if(f)throw new oe;s=!0}else{if(!f)throw new oe;l=!0}else if(c===-1)if(u){if(f)throw new oe;o=!0}else{if(!f)throw new oe;a=!0}else if(c===0){if(u){if(!f)throw new oe;n<i?(o=!0,l=!0):(s=!0,a=!0)}else if(f)throw new oe}else throw new oe;if(o){if(s)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(l)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Oa),oxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sxe=function(t){oxe(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(A0),axe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L3=function(t){axe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var o,s,a,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var u=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,u),n.reverse();try{for(var f=n1(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(a=void 0,n1(this.possibleRightPairs)),y=p.next();!y.done;y=p.next()){var g=y.value;if(g.getCount()>1&&e.checkChecksum(h,g))return e.constructResult(h,g)}}catch(m){a={error:m}}finally{try{y&&!y.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}}catch(m){o={error:m}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}throw new oe},e.addOrTally=function(r,n){var i,o;if(n!=null){var s=!1;try{for(var a=n1(r),l=a.next();!l.done;l=a.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),s=!0;break}}}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),o=new String(i).toString(),s=new Ke,a=13-o.length;a>0;a--)s.append("0");s.append(o);for(var l=0,a=0;a<13;a++){var c=s.charAt(a).charCodeAt(0)-"0".charCodeAt(0);l+=a&1?c:3*c}l=10-l%10,l===10&&(l=0),s.append(l.toString());var u=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new en(s.toString(),null,0,[u[0],u[1],f[0],f[1]],ke.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(r,n,i,o){try{var s=this.findFinderPattern(r,n),a=this.parseFoundFinderPattern(r,i,n,s),l=o==null?null:o.get(Mt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(s[0]+s[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new Ie(c,i))}var u=this.decodeDataCharacter(r,a,!0),f=this.decodeDataCharacter(r,a,!1);return new sxe(1597*u.getValue()+f.getValue(),u.getChecksumPortion()+4*f.getChecksumPortion(),a)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)wr.recordPatternInReverse(r,n.getStartEnd()[0],o);else{wr.recordPattern(r,n.getStartEnd()[1]+1,o);for(var a=0,l=o.length-1;a<l;a++,l--){var c=o[a];o[a]=o[l],o[l]=c}}for(var u=i?16:15,f=ht.sum(new Int32Array(o))/u,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),a=0;a<o.length;a++){var g=o[a]/f,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var v=Math.floor(a/2);a&1?(h[v]=m,y[v]=g-m):(d[v]=m,p[v]=g-m)}this.adjustOddEvenCounts(i,u);for(var _=0,x=0,a=d.length-1;a>=0;a--)x*=9,x+=d[a],_+=d[a];for(var b=0,w=0,a=h.length-1;a>=0;a--)b*=9,b+=h[a],w+=h[a];var E=x+3*b;if(i){if(_&1||_>12||_<4)throw new oe;var S=(12-_)/2,P=e.OUTSIDE_ODD_WIDEST[S],C=9-P,A=yc.getRSSvalue(d,P,!1),T=yc.getRSSvalue(h,C,!0),I=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],B=e.OUTSIDE_GSUM[S];return new A0(A*I+T+B,E)}else{if(w&1||w>10||w<4)throw new oe;var S=(10-w)/2,P=e.INSIDE_ODD_WIDEST[S],C=9-P,A=yc.getRSSvalue(d,P,!0),T=yc.getRSSvalue(h,C,!1),G=e.INSIDE_ODD_TOTAL_SUBSET[S],B=e.INSIDE_GSUM[S];return new A0(T*G+A+B,E)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=r.getSize(),s=!1,a=0;a<o&&(s=!r.get(a),n!==s);)a++;for(var l=0,c=a,u=a;u<o;u++)if(r.get(u)!==s)i[l]++;else{if(l===3){if(Oa.isFinderPattern(i))return[c,u];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,s=!s}throw new oe},e.prototype.parseFoundFinderPattern=function(r,n,i,o){for(var s=r.get(o[0]),a=o[0]-1;a>=0&&s!==r.get(a);)a--;a++;var l=o[0]-a,c=this.getDecodeFinderCounters(),u=new Int32Array(c.length);Rt.arraycopy(c,0,u,1,c.length-1),u[0]=l;var f=this.parseFinderValue(u,e.FINDER_PATTERNS),d=a,h=o[1];return i&&(d=r.getSize()-1-d,h=r.getSize()-1-h),new hN(f,[a,o[1]],d,h,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=ht.sum(new Int32Array(this.getOddCounts())),o=ht.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,l=!1,c=!1;r?(i>12?a=!0:i<4&&(s=!0),o>12?c=!0:o<4&&(l=!0)):(i>11?a=!0:i<5&&(s=!0),o>10?c=!0:o<4&&(l=!0));var u=i+o-n,f=(i&1)===(r?1:0),d=(o&1)===1;if(u===1)if(f){if(d)throw new oe;a=!0}else{if(!d)throw new oe;c=!0}else if(u===-1)if(f){if(d)throw new oe;s=!0}else{if(!d)throw new oe;l=!0}else if(u===0){if(f){if(!d)throw new oe;i<o?(s=!0,c=!0):(a=!0,l=!0)}else if(d)throw new oe}else throw new oe;if(s){if(a)throw new oe;Oa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Oa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new oe;Oa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Oa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Oa),lxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_c=function(t){lxe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Mt.POSSIBLE_FORMATS):null,o=r&&r.get(Mt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=r&&r.get(Mt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(ke.EAN_13)||i.includes(ke.UPC_A)||i.includes(ke.EAN_8)||i.includes(ke.UPC_E))&&n.readers.push(new r1(r)),i.includes(ke.CODE_39)&&n.readers.push(new P3(o,s)),i.includes(ke.CODE_93)&&n.readers.push(new I3),i.includes(ke.CODE_128)&&n.readers.push(new T3),i.includes(ke.ITF)&&n.readers.push(new O3),i.includes(ke.CODABAR)&&n.readers.push(new O_e),i.includes(ke.RSS_14)&&n.readers.push(new L3),i.includes(ke.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new ixe))),n.readers.length===0&&(n.readers.push(new r1(r)),n.readers.push(new P3),n.readers.push(new I3),n.readers.push(new r1(r)),n.readers.push(new T3),n.readers.push(new O3),n.readers.push(new L3)),n}return e.prototype.decodeRow=function(r,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,i)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(wr),cxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cxe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new _c(n),r,n)||this}return e})(yu);var $3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),pt=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),uxe=function(){function t(e,r,n,i,o,s){var a,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=s;var c=0,u=s.getECCodewords(),f=s.getECBlocks();try{for(var d=$3(f),h=d.next();!h.done;h=d.next()){var p=h.value;c+=p.getCount()*(p.getDataCodewords()+u)}}catch(y){a={error:y}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new me;try{for(var o=$3(t.VERSIONS),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.symbolSizeRows===e&&a.symbolSizeColumns===r)return a}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new yt(5,new pt(1,3))),new t(2,12,12,10,10,new yt(7,new pt(1,5))),new t(3,14,14,12,12,new yt(10,new pt(1,8))),new t(4,16,16,14,14,new yt(12,new pt(1,12))),new t(5,18,18,16,16,new yt(14,new pt(1,18))),new t(6,20,20,18,18,new yt(18,new pt(1,22))),new t(7,22,22,20,20,new yt(20,new pt(1,30))),new t(8,24,24,22,22,new yt(24,new pt(1,36))),new t(9,26,26,24,24,new yt(28,new pt(1,44))),new t(10,32,32,14,14,new yt(36,new pt(1,62))),new t(11,36,36,16,16,new yt(42,new pt(1,86))),new t(12,40,40,18,18,new yt(48,new pt(1,114))),new t(13,44,44,20,20,new yt(56,new pt(1,144))),new t(14,48,48,22,22,new yt(68,new pt(1,174))),new t(15,52,52,24,24,new yt(42,new pt(2,102))),new t(16,64,64,14,14,new yt(56,new pt(2,140))),new t(17,72,72,16,16,new yt(36,new pt(4,92))),new t(18,80,80,18,18,new yt(48,new pt(4,114))),new t(19,88,88,20,20,new yt(56,new pt(4,144))),new t(20,96,96,22,22,new yt(68,new pt(4,174))),new t(21,104,104,24,24,new yt(56,new pt(6,136))),new t(22,120,120,18,18,new yt(68,new pt(6,175))),new t(23,132,132,20,20,new yt(62,new pt(8,163))),new t(24,144,144,22,22,new yt(62,new pt(8,156),new pt(2,155))),new t(25,8,18,6,16,new yt(7,new pt(1,5))),new t(26,8,32,6,14,new yt(11,new pt(1,10))),new t(27,12,26,10,24,new yt(14,new pt(1,16))),new t(28,12,36,10,16,new yt(18,new pt(1,22))),new t(29,16,36,14,16,new yt(24,new pt(1,32))),new t(30,16,48,14,22,new yt(28,new pt(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),fxe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new _o(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return uxe.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),a=!1,l=!1,c=!1,u=!1;do if(n===o&&i===0&&!a)e[r++]=this.readCorner1(o,s)&255,n-=2,i+=2,a=!0;else if(n===o-2&&i===0&&s&3&&!l)e[r++]=this.readCorner2(o,s)&255,n-=2,i+=2,l=!0;else if(n===o+4&&i===2&&!(s&7)&&!c)e[r++]=this.readCorner3(o,s)&255,n-=2,i+=2,c=!0;else if(n===o-2&&i===0&&(s&7)===4&&!u)e[r++]=this.readCorner4(o,s)&255,n-=2,i+=2,u=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,s)&255),n-=2,i+=2;while(n>=0&&i<s);n+=1,i+=3;do n>=0&&i<s&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,s)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<s);if(r!==this.version.getTotalCodewords())throw new me;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var o=0;return this.readModule(e-2,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r,n,i)&&(o|=1),o<<=1,this.readModule(e,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e,r,n,i)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Ne("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),s=r/i|0,a=n/o|0,l=s*i,c=a*o,u=new _o(c,l),f=0;f<s;++f)for(var d=f*i,h=0;h<a;++h)for(var p=h*o,y=0;y<i;++y)for(var g=f*(i+2)+1+y,m=d+y,v=0;v<o;++v){var _=h*(o+2)+1+v;if(e.get(_,g)){var x=p+v;u.set(x,m)}}return u},t}(),U3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dxe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,o,s,a=r.getECBlocks(),l=0,c=a.getECBlocks();try{for(var u=U3(c),f=u.next();!f.done;f=u.next()){var d=f.value;l+=d.getCount()}}catch(B){n={error:B}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var h=new Array(l),p=0;try{for(var y=U3(c),g=y.next();!g.done;g=y.next())for(var d=g.value,m=0;m<d.getCount();m++){var v=d.getDataCodewords(),_=a.getECCodewords()+v;h[p++]=new t(v,new Uint8Array(_))}}catch(B){o={error:B}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}for(var x=h[0].codewords.length,b=x-a.getECCodewords(),w=b-1,E=0,m=0;m<w;m++)for(var S=0;S<p;S++)h[S].codewords[m]=e[E++];for(var P=r.getVersionNumber()===24,C=P?8:p,S=0;S<C;S++)h[S].codewords[b-1]=e[E++];for(var A=h[0].codewords.length,m=b;m<A;m++)for(var S=0;S<p;S++){var T=P?(S+8)%p:S,I=P&&T>7?m-1:m;h[T].codewords[I]=e[E++]}if(E!==e.length)throw new Ne;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),mN=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ne(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var s=8-n,a=e<s?e:s,l=s-a,c=255>>8-a<<l;r=(o[i]&c)>>l,e-=a,n+=a,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|o[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(o[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),pr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(pr||(pr={}));var hxe=function(){function t(){}return t.decode=function(e){var r=new mN(e),n=new Ke,i=new Ke,o=new Array,s=pr.ASCII_ENCODE;do if(s===pr.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,i);else{switch(s){case pr.C40_ENCODE:this.decodeC40Segment(r,n);break;case pr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case pr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case pr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case pr.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new me}s=pr.ASCII_ENCODE}while(s!==pr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new em(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new me;if(o<=128)return i&&(o+=128),r.append(String.fromCharCode(o-1)),pr.ASCII_ENCODE;if(o===129)return pr.PAD_ENCODE;if(o<=229){var s=o-130;s<10&&r.append("0"),r.append(""+s)}else switch(o){case 230:return pr.C40_ENCODE;case 231:return pr.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return pr.ANSIX12_ENCODE;case 239:return pr.TEXT_ENCODE;case 240:return pr.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return pr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var l=i[a];switch(o){case 0:if(l<3)o=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new me}o=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),o=0;break;default:throw new me}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var l=i[a];switch(o){case 0:if(l<3)o=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new me;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new me}o=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),o=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var s=n[o];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),s;if(o===0?s=e.available()/8|0:o<250?s=o:s=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new me;for(var a=new Uint8Array(s),l=0;l<s;l++){if(e.available()<8)throw new me;a[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(a);try{r.append(mi.decode(a,it.ISO88591))}catch(c){throw new Kd("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),pxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gxe=function(){function t(){this.rsDecoder=new tm(Cn.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new fxe(e),o=i.getVersion(),s=i.readCodewords(),a=dxe.getDataBlocks(s,o),l=0;try{for(var c=pxe(a),u=c.next();!u.done;u=c.next()){var f=u.value;l+=f.getNumDataCodewords()}}catch(_){r={error:_}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var d=new Uint8Array(l),h=a.length,p=0;p<h;p++){var y=a[p],g=y.getCodewords(),m=y.getNumDataCodewords();this.correctErrors(g,m);for(var v=0;v<m;v++)d[v*h+p]=g[v]}return hxe.decode(d)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new ur}for(var i=0;i<r;i++)e[i]=n[i]},t}(),mxe=function(){function t(e){this.image=e,this.rectangleDetector=new H_(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new oe;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],o=r[2],s=r[3],a=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(o,s)+1;(a&1)===1&&(a+=1),(l&1)===1&&(l+=1),4*a<7*l&&4*l<7*a&&(a=l=Math.max(a,l));var c=t.sampleGrid(this.image,n,i,o,s,a,l);return new g2(c,[n,i,o,s])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new Ie(e.getX()+i,e.getY()+o)},t.moveAway=function(e,r,n){var i=e.getX(),o=e.getY();return i<r?i-=1:i+=1,o<n?o-=1:o+=1,new Ie(i,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],o=e[2],s=this.transitionsBetween(r,n),a=this.transitionsBetween(n,i),l=this.transitionsBetween(i,o),c=this.transitionsBetween(o,r),u=s,f=[o,r,n,i];return u>a&&(u=a,f[0]=r,f[1]=n,f[2]=i,f[3]=o),u>l&&(u=l,f[0]=n,f[1]=i,f[2]=o,f[3]=r),u>c&&(f[0]=i,f[1]=o,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o),a=t.shiftPoint(n,i,(s+1)*4),l=t.shiftPoint(i,n,(s+1)*4),c=this.transitionsBetween(a,r),u=this.transitionsBetween(l,o);return c<u?(e[0]=r,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o),a=this.transitionsBetween(n,o),l=t.shiftPoint(r,n,(a+1)*4),c=t.shiftPoint(i,n,(s+1)*4);s=this.transitionsBetween(l,o),a=this.transitionsBetween(c,o);var u=new Ie(o.getX()+(i.getX()-n.getX())/(s+1),o.getY()+(i.getY()-n.getY())/(s+1)),f=new Ie(o.getX()+(r.getX()-n.getX())/(a+1),o.getY()+(r.getY()-n.getY())/(a+1));if(!this.isValid(u))return this.isValid(f)?f:null;if(!this.isValid(f))return u;var d=this.transitionsBetween(l,u)+this.transitionsBetween(c,u),h=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return d>h?u:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o)+1,a=this.transitionsBetween(i,o)+1,l=t.shiftPoint(r,n,a*4),c=t.shiftPoint(i,n,s*4);s=this.transitionsBetween(l,o)+1,a=this.transitionsBetween(c,o)+1,(s&1)===1&&(s+=1),(a&1)===1&&(a+=1);var u=(r.getX()+n.getX()+i.getX()+o.getX())/4,f=(r.getY()+n.getY()+i.getY()+o.getY())/4;r=t.moveAway(r,u,f),n=t.moveAway(n,u,f),i=t.moveAway(i,u,f),o=t.moveAway(o,u,f);var d,h;return l=t.shiftPoint(r,n,a*4),l=t.shiftPoint(l,o,s*4),d=t.shiftPoint(n,r,a*4),d=t.shiftPoint(d,i,s*4),c=t.shiftPoint(i,o,a*4),c=t.shiftPoint(c,n,s*4),h=t.shiftPoint(o,i,a*4),h=t.shiftPoint(h,r,s*4),[l,d,c,h]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,o,s,a){var l=m2.getInstance();return l.sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(r.getX()),s=Math.trunc(r.getY()),a=Math.abs(s-i)>Math.abs(o-n);if(a){var l=n;n=i,i=l,l=o,o=s,s=l}for(var c=Math.abs(o-n),u=Math.abs(s-i),f=-c/2,d=i<s?1:-1,h=n<o?1:-1,p=0,y=this.image.get(a?i:n,a?n:i),g=n,m=i;g!==o;g+=h){var v=this.image.get(a?m:g,a?g:m);if(v!==y&&(p++,y=v),f+=u,f>0){if(m===s)break;m+=d,f-=c}}return p},t}(),T0=function(){function t(){this.decoder=new gxe}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Mt.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=t.NO_POINTS}else{var s=new mxe(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),i=s.getPoints()}var a=n.getRawBytes(),l=new en(n.getText(),a,8*a.length,i,ke.DATA_MATRIX,Rt.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(Ur.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!=null&&l.putMetadata(Ur.ERROR_CORRECTION_LEVEL,u),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new oe;var i=this.moduleSize(r,e),o=r[1],s=n[1],a=r[0],l=n[0],c=(l-a+1)/i,u=(s-o+1)/i;if(c<=0||u<=0)throw new oe;var f=i/2;o+=f,a+=f;for(var d=new _o(c,u),h=0;h<u;h++)for(var p=o+h*i,y=0;y<c;y++)e.get(a+y*i,p)&&d.set(y,h);return d},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],o=e[1];i<n&&r.get(i,o);)i++;if(i===n)throw new oe;var s=i-e[0];if(s===0)throw new oe;return s},t.NO_POINTS=[],t}(),vxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){vxe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new T0,r)||this}return e})(yu);var xc;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(xc||(xc={}));var yxe=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new nr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Ne;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(xc.L,"L",1),t.M=new t(xc.M,"M",0),t.Q=new t(xc.Q,"Q",3),t.H=new t(xc.H,"H",2),t}(),_xe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vN=function(){function t(e){this.errorCorrectionLevel=yxe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return qe.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,o=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=_xe(t.FORMAT_INFO_DECODE_LOOKUP),l=a.next();!l.done;l=a.next()){var c=l.value,u=c[0];if(u===e||u===r)return new t(c[1]);var f=t.numBitsDiffering(e,u);f<o&&(s=c[1],o=f),e!==r&&(f=t.numBitsDiffering(r,u),f<o&&(s=c[1],o=f))}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),xxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var o=xxe(i),s=o.next();!s.done;s=o.next()){var a=s.value;n+=a.getCount()}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),D=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),bxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tl=function(){function t(e,r){for(var n,i,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var a=0,l=o[0].getECCodewordsPerBlock(),c=o[0].getECBlocks();try{for(var u=bxe(c),f=u.next();!f.done;f=u.next()){var d=f.value;a+=d.getCount()*(d.getDataCodewords()+l)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}this.totalCodewords=a}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Ne;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var s=vN.numBitsDiffering(e,o);s<r&&(n=i+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new _o(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,s=0;s<n;s++)i===0&&(s===0||s===n-1)||i===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new X(7,new D(1,19)),new X(10,new D(1,16)),new X(13,new D(1,13)),new X(17,new D(1,9))),new t(2,Int32Array.from([6,18]),new X(10,new D(1,34)),new X(16,new D(1,28)),new X(22,new D(1,22)),new X(28,new D(1,16))),new t(3,Int32Array.from([6,22]),new X(15,new D(1,55)),new X(26,new D(1,44)),new X(18,new D(2,17)),new X(22,new D(2,13))),new t(4,Int32Array.from([6,26]),new X(20,new D(1,80)),new X(18,new D(2,32)),new X(26,new D(2,24)),new X(16,new D(4,9))),new t(5,Int32Array.from([6,30]),new X(26,new D(1,108)),new X(24,new D(2,43)),new X(18,new D(2,15),new D(2,16)),new X(22,new D(2,11),new D(2,12))),new t(6,Int32Array.from([6,34]),new X(18,new D(2,68)),new X(16,new D(4,27)),new X(24,new D(4,19)),new X(28,new D(4,15))),new t(7,Int32Array.from([6,22,38]),new X(20,new D(2,78)),new X(18,new D(4,31)),new X(18,new D(2,14),new D(4,15)),new X(26,new D(4,13),new D(1,14))),new t(8,Int32Array.from([6,24,42]),new X(24,new D(2,97)),new X(22,new D(2,38),new D(2,39)),new X(22,new D(4,18),new D(2,19)),new X(26,new D(4,14),new D(2,15))),new t(9,Int32Array.from([6,26,46]),new X(30,new D(2,116)),new X(22,new D(3,36),new D(2,37)),new X(20,new D(4,16),new D(4,17)),new X(24,new D(4,12),new D(4,13))),new t(10,Int32Array.from([6,28,50]),new X(18,new D(2,68),new D(2,69)),new X(26,new D(4,43),new D(1,44)),new X(24,new D(6,19),new D(2,20)),new X(28,new D(6,15),new D(2,16))),new t(11,Int32Array.from([6,30,54]),new X(20,new D(4,81)),new X(30,new D(1,50),new D(4,51)),new X(28,new D(4,22),new D(4,23)),new X(24,new D(3,12),new D(8,13))),new t(12,Int32Array.from([6,32,58]),new X(24,new D(2,92),new D(2,93)),new X(22,new D(6,36),new D(2,37)),new X(26,new D(4,20),new D(6,21)),new X(28,new D(7,14),new D(4,15))),new t(13,Int32Array.from([6,34,62]),new X(26,new D(4,107)),new X(22,new D(8,37),new D(1,38)),new X(24,new D(8,20),new D(4,21)),new X(22,new D(12,11),new D(4,12))),new t(14,Int32Array.from([6,26,46,66]),new X(30,new D(3,115),new D(1,116)),new X(24,new D(4,40),new D(5,41)),new X(20,new D(11,16),new D(5,17)),new X(24,new D(11,12),new D(5,13))),new t(15,Int32Array.from([6,26,48,70]),new X(22,new D(5,87),new D(1,88)),new X(24,new D(5,41),new D(5,42)),new X(30,new D(5,24),new D(7,25)),new X(24,new D(11,12),new D(7,13))),new t(16,Int32Array.from([6,26,50,74]),new X(24,new D(5,98),new D(1,99)),new X(28,new D(7,45),new D(3,46)),new X(24,new D(15,19),new D(2,20)),new X(30,new D(3,15),new D(13,16))),new t(17,Int32Array.from([6,30,54,78]),new X(28,new D(1,107),new D(5,108)),new X(28,new D(10,46),new D(1,47)),new X(28,new D(1,22),new D(15,23)),new X(28,new D(2,14),new D(17,15))),new t(18,Int32Array.from([6,30,56,82]),new X(30,new D(5,120),new D(1,121)),new X(26,new D(9,43),new D(4,44)),new X(28,new D(17,22),new D(1,23)),new X(28,new D(2,14),new D(19,15))),new t(19,Int32Array.from([6,30,58,86]),new X(28,new D(3,113),new D(4,114)),new X(26,new D(3,44),new D(11,45)),new X(26,new D(17,21),new D(4,22)),new X(26,new D(9,13),new D(16,14))),new t(20,Int32Array.from([6,34,62,90]),new X(28,new D(3,107),new D(5,108)),new X(26,new D(3,41),new D(13,42)),new X(30,new D(15,24),new D(5,25)),new X(28,new D(15,15),new D(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new X(28,new D(4,116),new D(4,117)),new X(26,new D(17,42)),new X(28,new D(17,22),new D(6,23)),new X(30,new D(19,16),new D(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new X(28,new D(2,111),new D(7,112)),new X(28,new D(17,46)),new X(30,new D(7,24),new D(16,25)),new X(24,new D(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new X(30,new D(4,121),new D(5,122)),new X(28,new D(4,47),new D(14,48)),new X(30,new D(11,24),new D(14,25)),new X(30,new D(16,15),new D(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new X(30,new D(6,117),new D(4,118)),new X(28,new D(6,45),new D(14,46)),new X(30,new D(11,24),new D(16,25)),new X(30,new D(30,16),new D(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new X(26,new D(8,106),new D(4,107)),new X(28,new D(8,47),new D(13,48)),new X(30,new D(7,24),new D(22,25)),new X(30,new D(22,15),new D(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new X(28,new D(10,114),new D(2,115)),new X(28,new D(19,46),new D(4,47)),new X(28,new D(28,22),new D(6,23)),new X(30,new D(33,16),new D(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new X(30,new D(8,122),new D(4,123)),new X(28,new D(22,45),new D(3,46)),new X(30,new D(8,23),new D(26,24)),new X(30,new D(12,15),new D(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new D(3,117),new D(10,118)),new X(28,new D(3,45),new D(23,46)),new X(30,new D(4,24),new D(31,25)),new X(30,new D(11,15),new D(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new D(7,116),new D(7,117)),new X(28,new D(21,45),new D(7,46)),new X(30,new D(1,23),new D(37,24)),new X(30,new D(19,15),new D(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new D(5,115),new D(10,116)),new X(28,new D(19,47),new D(10,48)),new X(30,new D(15,24),new D(25,25)),new X(30,new D(23,15),new D(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new D(13,115),new D(3,116)),new X(28,new D(2,46),new D(29,47)),new X(30,new D(42,24),new D(1,25)),new X(30,new D(23,15),new D(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new D(17,115)),new X(28,new D(10,46),new D(23,47)),new X(30,new D(10,24),new D(35,25)),new X(30,new D(19,15),new D(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new D(17,115),new D(1,116)),new X(28,new D(14,46),new D(21,47)),new X(30,new D(29,24),new D(19,25)),new X(30,new D(11,15),new D(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new D(13,115),new D(6,116)),new X(28,new D(14,46),new D(23,47)),new X(30,new D(44,24),new D(7,25)),new X(30,new D(59,16),new D(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new D(12,121),new D(7,122)),new X(28,new D(12,47),new D(26,48)),new X(30,new D(39,24),new D(14,25)),new X(30,new D(22,15),new D(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new D(6,121),new D(14,122)),new X(28,new D(6,47),new D(34,48)),new X(30,new D(46,24),new D(10,25)),new X(30,new D(2,15),new D(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new D(17,122),new D(4,123)),new X(28,new D(29,46),new D(14,47)),new X(30,new D(49,24),new D(10,25)),new X(30,new D(24,15),new D(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new D(4,122),new D(18,123)),new X(28,new D(13,46),new D(32,47)),new X(30,new D(48,24),new D(14,25)),new X(30,new D(42,15),new D(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new D(20,117),new D(4,118)),new X(28,new D(40,47),new D(7,48)),new X(30,new D(43,24),new D(22,25)),new X(30,new D(10,15),new D(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new D(19,118),new D(6,119)),new X(28,new D(18,47),new D(31,48)),new X(30,new D(34,24),new D(34,25)),new X(30,new D(20,15),new D(61,16)))],t}(),Ar;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Ar||(Ar={}));var G3=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Ar.DATA_MASK_000,new t(Ar.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Ar.DATA_MASK_001,new t(Ar.DATA_MASK_001,function(e,r){return(e&1)===0})],[Ar.DATA_MASK_010,new t(Ar.DATA_MASK_010,function(e,r){return r%3===0})],[Ar.DATA_MASK_011,new t(Ar.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Ar.DATA_MASK_100,new t(Ar.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Ar.DATA_MASK_101,new t(Ar.DATA_MASK_101,function(e,r){return e*r%6===0})],[Ar.DATA_MASK_110,new t(Ar.DATA_MASK_110,function(e,r){return e*r%6<3})],[Ar.DATA_MASK_111,new t(Ar.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),wxe=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,s=i-7,n=i-1;n>=s;n--)o=this.copyBit(8,n,o);for(var r=i-8;r<i;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=vN.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return tl.getVersionForNumber(r);for(var n=0,i=e-11,o=5;o>=0;o--)for(var s=e-9;s>=i;s--)n=this.copyBit(s,o,n);var a=tl.decodeVersionInformation(n);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;n=0;for(var s=5;s>=0;s--)for(var o=e-9;o>=i;o--)n=this.copyBit(s,o,n);if(a=tl.decodeVersionInformation(n),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new me},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=G3.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=r.buildFunctionPattern(),s=!0,a=new Uint8Array(r.getTotalCodewords()),l=0,c=0,u=0,f=i-1;f>0;f-=2){f===6&&f--;for(var d=0;d<i;d++)for(var h=s?i-1-d:d,p=0;p<2;p++)o.get(f-p,h)||(u++,c<<=1,this.bitMatrix.get(f-p,h)&&(c|=1),u===8&&(a[l++]=c,u=0,c=0));s=!s}if(l!==r.getTotalCodewords())throw new me;return a},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=G3.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,o=e.getHeight();i<o;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),H3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Exe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,o,s,a;if(e.length!==r.getTotalCodewords())throw new Ne;var l=r.getECBlocksForLevel(n),c=0,u=l.getECBlocks();try{for(var f=H3(u),d=f.next();!d.done;d=f.next()){var h=d.value;c+=h.getCount()}}catch(I){i={error:I}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var p=new Array(c),y=0;try{for(var g=H3(u),m=g.next();!m.done;m=g.next())for(var h=m.value,v=0;v<h.getCount();v++){var _=h.getDataCodewords(),x=l.getECCodewordsPerBlock()+_;p[y++]=new t(_,new Uint8Array(x))}}catch(I){s={error:I}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}for(var b=p[0].codewords.length,w=p.length-1;w>=0;){var E=p[w].codewords.length;if(E===b)break;w--}w++;for(var S=b-l.getECCodewordsPerBlock(),P=0,v=0;v<S;v++)for(var C=0;C<y;C++)p[C].codewords[v]=e[P++];for(var C=w;C<y;C++)p[C].codewords[S]=e[P++];for(var A=p[0].codewords.length,v=S;v<A;v++)for(var C=0;C<y;C++){var T=C<w?v:v+1;p[C].codewords[T]=e[P++]}return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),oi;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(oi||(oi={}));var Ft=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Ne;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(oi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(oi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(oi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(oi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(oi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(oi.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(oi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(oi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(oi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(oi.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),Sxe=function(){function t(){}return t.decode=function(e,r,n,i){var o=new mN(e),s=new Ke,a=new Array,l=-1,c=-1;try{var u=null,f=!1,d=void 0;do{if(o.available()<4)d=Ft.TERMINATOR;else{var h=o.readBits(4);d=Ft.forBits(h)}switch(d){case Ft.TERMINATOR:break;case Ft.FNC1_FIRST_POSITION:case Ft.FNC1_SECOND_POSITION:f=!0;break;case Ft.STRUCTURED_APPEND:if(o.available()<16)throw new me;l=o.readBits(8),c=o.readBits(8);break;case Ft.ECI:var p=t.parseECIValue(o);if(u=_r.getCharacterSetECIByValue(p),u===null)throw new me;break;case Ft.HANZI:var y=o.readBits(4),g=o.readBits(d.getCharacterCountBits(r));y===t.GB2312_SUBSET&&t.decodeHanziSegment(o,s,g);break;default:var m=o.readBits(d.getCharacterCountBits(r));switch(d){case Ft.NUMERIC:t.decodeNumericSegment(o,s,m);break;case Ft.ALPHANUMERIC:t.decodeAlphanumericSegment(o,s,m,f);break;case Ft.BYTE:t.decodeByteSegment(o,s,m,u,a,i);break;case Ft.KANJI:t.decodeKanjiSegment(o,s,m);break;default:throw new me}break}}while(d!==Ft.TERMINATOR)}catch{throw new me}return new em(e,s.toString(),a.length===0?null:a,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var i=new Uint8Array(2*n),o=0;n>0;){var s=e.readBits(13),a=s/96<<8&4294967295|s%96;a<959?a+=41377:a+=42657,i[o]=a>>8&255,i[o+1]=a&255,o+=2,n--}try{r.append(mi.decode(i,it.GB2312))}catch(l){throw new me(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new me;for(var i=new Uint8Array(2*n),o=0;n>0;){var s=e.readBits(13),a=s/192<<8&4294967295|s%192;a<7936?a+=33088:a+=49472,i[o]=a>>8,i[o+1]=a,o+=2,n--}try{r.append(mi.decode(i,it.SHIFT_JIS))}catch(l){throw new me(l)}},t.decodeByteSegment=function(e,r,n,i,o,s){if(8*n>e.available())throw new me;for(var a=new Uint8Array(n),l=0;l<n;l++)a[l]=e.readBits(8);var c;i===null?c=it.guessEncoding(a,s):c=i.getName();try{r.append(mi.decode(a,c))}catch(u){throw new me(u)}o.push(a)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var o=r.length();n>1;){if(e.available()<11)throw new me;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new me;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var a=o;a<r.length();a++)r.charAt(a)==="%"&&(a<r.length()-1&&r.charAt(a+1)==="%"?r.deleteCharAt(a+1):r.setCharAt(a,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new me;var i=e.readBits(10);if(i>=1e3)throw new me;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new me;var o=e.readBits(7);if(o>=100)throw new me;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new me;var s=e.readBits(4);if(s>=10)throw new me;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),yN=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),V3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cxe=function(){function t(){this.rsDecoder=new tm(Cn.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(_o.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new wxe(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new yN(!0)),o}catch(s){throw i!==null?i:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,o,s,a=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=Exe.getDataBlocks(c,a,l),f=0;try{for(var d=V3(u),h=d.next();!h.done;h=d.next()){var p=h.value;f+=p.getNumDataCodewords()}}catch(w){n={error:w}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var y=new Uint8Array(f),g=0;try{for(var m=V3(u),v=m.next();!v.done;v=m.next()){var p=v.value,_=p.getCodewords(),x=p.getNumDataCodewords();this.correctErrors(_,x);for(var b=0;b<x;b++)y[g++]=_[b]}}catch(w){o={error:w}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}return Sxe.decode(y,a,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new ur}for(var i=0;i<r;i++)e[i]=n[i]},t}(),Axe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Txe=function(t){Axe(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=(this.getX()+n)/2,s=(this.getY()+r)/2,a=(this.estimatedModuleSize+i)/2;return new e(o,s,a)},e}(Ie),Pxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ixe=function(){function t(e,r,n,i,o,s,a){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=o,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,o=this.startY+r/2,s=new Int32Array(3),a=this.image,l=0;l<r;l++){var c=o+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var u=e;u<i&&!a.get(u,c);)u++;for(var f=0;u<i;){if(a.get(u,c))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var d=this.handlePossibleCenter(s,c,u);if(d!==null)return d}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;u++}if(this.foundPatternCross(s)){var d=this.handlePossibleCenter(s,c,i);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var o=this.image,s=o.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var l=e;l>=0&&o.get(r,l)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&!o.get(r,l)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(r,l)&&a[1]<=n;)a[1]++,l++;if(l===s||a[1]>n)return NaN;for(;l<s&&!o.get(r,l)&&a[2]<=n;)a[2]++,l++;if(a[2]>n)return NaN;var c=a[0]+a[1]+a[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,o,s=e[0]+e[1]+e[2],a=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,a,2*e[1],s);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var u=Pxe(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value;if(d.aboutEquals(c,l,a))return d.combineEstimate(l,a,c)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var h=new Txe(a,l,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},t}(),Oxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rxe=function(t){Oxe(e,t);function e(r,n,i,o){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s.count=o,o===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=this.count+1,s=(this.count*this.getX()+n)/o,a=(this.count*this.getY()+r)/o,l=(this.count*this.estimatedModuleSize+i)/o;return new e(s,a,l,o)},e}(Ie),Mxe=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Vu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dxe=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Mt.TRY_HARDER)!==void 0,n=e!=null&&e.get(Mt.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),s=i.getWidth(),a=Math.floor(3*o/(4*t.MAX_MODULES));(a<t.MIN_SKIP||r)&&(a=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=a-1;u<o&&!l;u+=a){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,d=0;d<s;d++)if(i.get(d,u))(f&1)===1&&f++,c[f]++;else if(f&1)c[f]++;else if(f===4)if(t.foundPatternCross(c)){var h=this.handlePossibleCenter(c,u,d,n);if(h===!0)if(a=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>c[2]&&(u+=p-c[2]-a,d=s-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;if(t.foundPatternCross(c)){var h=this.handlePossibleCenter(c,u,s,n);h===!0&&(a=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var y=this.selectBestPatterns();return Ie.orderBestPatterns(y),new Mxe(y)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var o=r/7,s=o/2;return Math.abs(o-e[0])<s&&Math.abs(o-e[1])<s&&Math.abs(3*o-e[2])<3*s&&Math.abs(o-e[3])<s&&Math.abs(o-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var o=this.getCrossCheckStateCount(),s=0,a=this.image;e>=s&&r>=s&&a.get(r-s,e-s);)o[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!a.get(r-s,e-s)&&o[1]<=n;)o[1]++,s++;if(e<s||r<s||o[1]>n)return!1;for(;e>=s&&r>=s&&a.get(r-s,e-s)&&o[0]<=n;)o[0]++,s++;if(o[0]>n)return!1;var l=a.getHeight(),c=a.getWidth();for(s=1;e+s<l&&r+s<c&&a.get(r+s,e+s);)o[2]++,s++;if(e+s>=l||r+s>=c)return!1;for(;e+s<l&&r+s<c&&!a.get(r+s,e+s)&&o[3]<n;)o[3]++,s++;if(e+s>=l||r+s>=c||o[3]>=n)return!1;for(;e+s<l&&r+s<c&&a.get(r+s,e+s)&&o[4]<n;)o[4]++,s++;if(o[4]>=n)return!1;var u=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(u-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var o=this.image,s=o.getHeight(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(r,l);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(r,l)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&o.get(r,l)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(r,l);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(r,l)&&a[3]<n;)a[3]++,l++;if(l===s||a[3]>=n)return NaN;for(;l<s&&o.get(r,l)&&a[4]<n;)a[4]++,l++;if(a[4]>=n)return NaN;var c=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var o=this.image,s=o.getWidth(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,r);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,r)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&o.get(l,r)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(l,r);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(l,r)&&a[3]<n;)a[3]++,l++;if(l===s||a[3]>=n)return NaN;for(;l<s&&o.get(l,r)&&a[4]<n;)a[4]++,l++;if(a[4]>=n)return NaN;var c=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),a=this.crossCheckVertical(r,Math.floor(s),e[2],o);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],o),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],o)))){for(var l=o/7,c=!1,u=this.possibleCenters,f=0,d=u.length;f<d;f++){var h=u[f];if(h.aboutEquals(l,a,s)){u[f]=h.combineEstimate(a,s,l),c=!0;break}}if(!c){var p=new Rxe(s,a,l);u.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=Vu(this.possibleCenters),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.getCount()>=t.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,o=0,s=0,a=this.possibleCenters.length;try{for(var l=Vu(this.possibleCenters),c=l.next();!c.done;c=l.next()){var u=c.value;u.getCount()>=t.CENTER_QUORUM&&(o++,s+=u.getEstimatedModuleSize())}}catch(y){e={error:y}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var f=s/a,d=0;try{for(var h=Vu(this.possibleCenters),p=h.next();!p.done;p=h.next()){var u=p.value;d+=Math.abs(u.getEstimatedModuleSize()-f)}}catch(y){n={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return d<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,i,o=this.possibleCenters.length;if(o<3)throw new oe;var s=this.possibleCenters,a;if(o>3){var l=0,c=0;try{for(var u=Vu(this.possibleCenters),f=u.next();!f.done;f=u.next()){var d=f.value,h=d.getEstimatedModuleSize();l+=h,c+=h*h}}catch(b){e={error:b}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}a=l/o;var p=Math.sqrt(c/o-a*a);s.sort(function(b,w){var E=Math.abs(w.getEstimatedModuleSize()-a),S=Math.abs(b.getEstimatedModuleSize()-a);return E<S?-1:E>S?1:0});for(var y=Math.max(.2*a,p),g=0;g<s.length&&s.length>3;g++){var m=s[g];Math.abs(m.getEstimatedModuleSize()-a)>y&&(s.splice(g,1),g--)}}if(s.length>3){var l=0;try{for(var v=Vu(s),_=v.next();!_.done;_=v.next()){var x=_.value;l+=x.getEstimatedModuleSize()}}catch(w){n={error:w}}finally{try{_&&!_.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}a=l/s.length,s.sort(function(w,E){if(E.getCount()===w.getCount()){var S=Math.abs(E.getEstimatedModuleSize()-a),P=Math.abs(w.getEstimatedModuleSize()-a);return S<P?1:S>P?-1:0}else return E.getCount()-w.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Bxe=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Mt.NEED_RESULT_POINT_CALLBACK);var r=new Dxe(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new oe("No pattern found in proccess finder.");var s=t.computeDimension(r,n,i,o),a=tl.getProvisionalVersionForDimension(s),l=a.getDimensionForVersion()-7,c=null;if(a.getAlignmentPatternCenters().length>0)for(var u=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),d=1-3/l,h=Math.floor(r.getX()+d*(u-r.getX())),p=Math.floor(r.getY()+d*(f-r.getY())),y=4;y<=16;y<<=1)try{c=this.findAlignmentInRegion(o,h,p,y);break}catch(_){if(!(_ instanceof oe))throw _}var g=t.createTransform(r,n,i,c,s),m=t.sampleGrid(this.image,g,s),v;return c===null?v=[i,r,n]:v=[i,r,n,c],new g2(m,v)},t.createTransform=function(e,r,n,i,o){var s=o-3.5,a,l,c,u;return i!==null?(a=i.getX(),l=i.getY(),c=s-3,u=c):(a=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=s,u=s),dN.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,c,u,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),a,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=m2.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var o=ht.round(Ie.distance(e,r)/i),s=ht.round(Ie.distance(e,n)/i),a=Math.floor((o+s)/2)+7;switch(a&3){case 0:a++;break;case 2:a--;break;case 3:throw new oe("Dimensions could be not found.")}return a},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,i),s=1,a=e-(n-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*s);return s=1,l<0?(s=r/(r-l),l=0):l>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),o+=this.sizeOfBlackWhiteBlackRun(e,r,a,l),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var o=Math.abs(i-r)>Math.abs(n-e);if(o){var s=e;e=r,r=s,s=n,n=i,i=s}for(var a=Math.abs(n-e),l=Math.abs(i-r),c=-a/2,u=e<n?1:-1,f=r<i?1:-1,d=0,h=n+u,p=e,y=r;p!==h;p+=u){var g=o?y:p,m=o?p:y;if(d===1===this.image.get(g,m)){if(d===2)return ht.distance(p,y,e,r);d++}if(c+=l,c>0){if(y===i)break;y+=f,c-=a}}return d===2?ht.distance(n+u,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var o=Math.floor(i*e),s=Math.max(0,r-o),a=Math.min(this.image.getWidth()-1,r+o);if(a-s<e*3)throw new oe("Alignment top exceeds estimated module size.");var l=Math.max(0,n-o),c=Math.min(this.image.getHeight()-1,n+o);if(c-l<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var u=new Ixe(this.image,s,l,a-s,c-l,e,this.resultPointCallback);return u.find()},t}(),kxe=function(){function t(){this.decoder=new Cxe}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Mt.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=t.NO_POINTS}else{var s=new Bxe(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),i=s.getPoints()}n.getOther()instanceof yN&&n.getOther().applyMirroredCorrection(i);var a=new en(n.getText(),n.getRawBytes(),void 0,i,ke.QR_CODE,void 0),l=n.getByteSegments();l!==null&&a.putMetadata(Ur.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&a.putMetadata(Ur.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(a.putMetadata(Ur.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),a.putMetadata(Ur.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),a},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new oe;var i=this.moduleSize(r,e),o=r[1],s=n[1],a=r[0],l=n[0];if(a>=l||o>=s)throw new oe;if(s-o!==l-a&&(l=a+(s-o),l>=e.getWidth()))throw new oe;var c=Math.round((l-a+1)/i),u=Math.round((s-o+1)/i);if(c<=0||u<=0)throw new oe;if(u!==c)throw new oe;var f=Math.floor(i/2);o+=f,a+=f;var d=a+Math.floor((c-1)*i)-l;if(d>0){if(d>f)throw new oe;a-=d}var h=o+Math.floor((u-1)*i)-s;if(h>0){if(h>f)throw new oe;o-=h}for(var p=new _o(c,u),y=0;y<u;y++)for(var g=o+Math.floor(y*i),m=0;m<c;m++)e.get(a+Math.floor(m*i),g)&&p.set(m,y);return p},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),o=e[0],s=e[1],a=!0,l=0;o<i&&s<n;){if(a!==r.get(o,s)){if(++l===5)break;a=!a}o++,s++}if(o===i||s===n)throw new oe;return(o-e[0])/7},t.NO_POINTS=new Array,t}();const P0=kxe;var Nxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return ht.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var s=Nxe(e),a=s.next();!a.done;a=s.next()){var l=a.value;i[o++]=l}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=xr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),Fxe=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Lxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$xe=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),o=t.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(n,i)),new Fxe(i,o)},t.detect=function(e,r){for(var n,i,o=new Array,s=0,a=0,l=!1;s<r.getHeight();){var c=t.findVertices(r,s,a);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,a=0;try{for(var u=(n=void 0,Lxe(o)),f=u.next();!f.done;f=u.next()){var d=f.value;d[1]!=null&&(s=Math.trunc(Math.max(s,d[1].getY()))),d[3]!=null&&(s=Math.max(s,Math.trunc(d[3].getY())))}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(l=!0,o.push(c),!e)break;c[2]!=null?(a=Math.trunc(c[2].getX()),s=Math.trunc(c[2].getY())):(a=Math.trunc(c[4].getX()),s=Math.trunc(c[4].getY()))}return o},t.findVertices=function(e,r,n){var i=e.getHeight(),o=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,o,s){for(var a=new Array(4),l=!1,c=new Int32Array(s.length);i<r;i+=t.ROW_STEP){var u=t.findGuardPattern(e,o,i,n,!1,s,c);if(u!=null){for(;i>0;){var f=t.findGuardPattern(e,o,--i,n,!1,s,c);if(f!=null)u=f;else{i++;break}}a[0]=new Ie(u[0],i),a[1]=new Ie(u[1],i),l=!0;break}}var d=i+1;if(l){for(var h=0,f=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);d<r;d++){var u=t.findGuardPattern(e,f[0],d,n,!1,s,c);if(u!=null&&Math.abs(f[0]-u[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-u[1])<t.MAX_PATTERN_DRIFT)f=u,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,a[2]=new Ie(f[0],d),a[3]=new Ie(f[1],d)}return d-i<t.BARCODE_MIN_HEIGHT&&xr.fill(a,null),a},t.findGuardPattern=function(e,r,n,i,o,s,a){xr.fillWithin(a,0,a.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var u=l,f=0,d=s.length,h=o;u<i;u++){var p=e.get(u,n);if(p!==h)a[f]++;else{if(f===d-1){if(t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=a[0]+a[1],Rt.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,h=!h}}return f===d-1&&t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=r[a];if(o<s)return 1/0;var l=o/s;n*=l;for(var c=0,u=0;u<i;u++){var f=e[u],d=r[u]*l,h=f>d?f-d:d-f;if(h>n)return 1/0;c+=h}return c/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),Uxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Va=function(){function t(e,r){if(r.length===0)throw new Ne;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Rt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=Uxe(this.coefficients),s=o.next();!s.done;s=o.next()){var a=s.value;i=this.field.add(i,a)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,u=1;u<c;u++)l=this.field.add(this.field.multiply(e,l),this.coefficients[u]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ne("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),s=n.length-r.length;Rt.arraycopy(n,0,o,0,s);for(var a=s;a<n.length;a++)o[a]=this.field.add(r[a-s],n[a]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ne("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ne("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,s=new Int32Array(n+o-1),a=0;a<n;a++)for(var l=r[a],c=0;c<o;c++)s[a+c]=this.field.add(s[a+c],this.field.multiply(l,i[c]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ne;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Ke,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),Gxe=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ne;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new fN;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),Hxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vxe=function(t){Hxe(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var o=1,s=0;s<r;s++)i.expTable[s]=o,o=o*n%r;for(var s=0;s<r-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new Va(i,new Int32Array([0])),i.one=new Va(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ne;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Va(this,i)},e.PDF417_GF=new e(ct.NUMBER_OF_CODEWORDS,3),e}(Gxe),zxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jxe=function(){function t(){this.field=Vxe.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,o,s=new Va(this.field,e),a=new Int32Array(r),l=!1,c=r;c>0;c--){var u=s.evaluateAt(this.field.exp(c));a[r-c]=u,u!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var d=zxe(n),h=d.next();!h.done;h=d.next()){var p=h.value,y=this.field.exp(e.length-1-p),g=new Va(this.field,new Int32Array([this.field.subtract(0,y),1]));f=f.multiply(g)}}catch(S){i={error:S}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}for(var m=new Va(this.field,a),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),m,r),_=v[0],x=v[1],b=this.findErrorLocations(_),w=this.findErrorMagnitudes(x,_,b),c=0;c<b.length;c++){var E=e.length-1-this.field.log(b[c]);if(E<0)throw ur.getChecksumInstance();e[E]=this.field.subtract(e[E],w[c])}return b.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=e,s=r,a=this.field.getZero(),l=this.field.getOne();s.getDegree()>=Math.round(n/2);){var c=o,u=a;if(o=s,a=l,o.isZero())throw ur.getChecksumInstance();s=c;for(var f=this.field.getZero(),d=o.getCoefficient(o.getDegree()),h=this.field.inverse(d);s.getDegree()>=o.getDegree()&&!s.isZero();){var p=s.getDegree()-o.getDegree(),y=this.field.multiply(s.getCoefficient(s.getDegree()),h);f=f.add(this.field.buildMonomial(p,y)),s=s.subtract(o.multiplyByMonomial(p,y))}l=f.multiply(a).subtract(u).negative()}var g=l.getCoefficient(0);if(g===0)throw ur.getChecksumInstance();var m=this.field.inverse(g),v=l.multiply(m),_=s.multiply(m);return[v,_]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,o=1;o<this.field.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==r)throw ur.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),o=new Int32Array(i),s=1;s<=i;s++)o[i-s]=this.field.multiply(s,r.getCoefficient(s));for(var a=new Va(this.field,o),l=n.length,c=new Int32Array(l),s=0;s<l;s++){var u=this.field.inverse(n[s]),f=this.field.subtract(0,e.evaluateAt(u)),d=this.field.inverse(a.evaluateAt(u));c[s]=this.field.multiply(f,d)}return c},t}(),z_=function(){function t(e,r,n,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,o)}return t.prototype.constructor_1=function(e,r,n,i,o){var s=r==null||n==null,a=i==null||o==null;if(s&&a)throw new oe;s?(r=new Ie(0,i.getY()),n=new Ie(0,o.getY())):a&&(i=new Ie(e.getWidth()-1,r.getY()),o=new Ie(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,o=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var u=new Ie(l.getX(),c);n?i=u:s=u}if(r>0){var f=n?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+r);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new Ie(f.getX(),d);n?o=h:a=h}return new t(this.image,i,o,s,a)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Wxe=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),y2=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(s,a,l,c,u,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=c?parseInt(c.substr(1)):void 0;var d=u?parseInt(u.substr(1)):void 0,h;switch(f){case"s":h=r[n];break;case"c":h=r[n][0];break;case"f":h=parseFloat(r[n]).toFixed(s);break;case"p":h=parseFloat(r[n]).toPrecision(s);break;case"e":h=parseFloat(r[n]).toExponential(s);break;case"x":h=parseInt(r[n]).toString(d||16);break;case"d":h=parseFloat(parseInt(r[n],d||10).toPrecision(s)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(l),y=l&&l[0]+""=="0"?"0":" ";h.length<p;)h=a!==void 0?h+y:y+h;return h}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Xxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_N=function(){function t(e){this.boundingBox=new z_(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new y2,i=0;try{for(var o=Xxe(this.codewords),s=o.next();!s.done;s=o.next()){var a=s.value;if(a==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Yxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kxe=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},rf=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,o=function(f,d){var h={getKey:function(){return f},getValue:function(){return d}};h.getValue()>n?(n=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===n&&i.push(h.getKey())};try{for(var s=Yxe(this.values.entries()),a=s.next();!a.done;a=s.next()){var l=Kxe(a.value,2),c=l[0],u=l[1];o(c,u)}}catch(f){e={error:f}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return ct.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),qxe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z3=function(t){qxe(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=i1(this.getCodewords()),o=i.next();!o.done;o=i.next()){var s=o.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=-1,u=1,f=0,d=a;d<l;d++)if(n[d]!=null){var h=n[d],p=h.getRowNumber()-c;if(p===0)f++;else if(p===1)u=Math.max(u,f),f=1,c=h.getRowNumber();else if(p<0||h.getRowNumber()>=r.getRowCount()||p>d)n[d]=null;else{var y=void 0;u>2?y=(u-2)*p:y=p;for(var g=y>=d,m=1;m<=y&&!g;m++)g=n[d-m]!=null;g?n[d]=null:(c=h.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var s=i1(this.getCodewords()),a=s.next();!a.done;a=s.next()){var l=a.value;if(l!=null){var c=l.getRowNumber();if(c>=o.length)continue;o[c]++}}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.getCodewords(),c=-1,u=s;u<a;u++)if(l[u]!=null){var f=l[u];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-c;d===0||(d===1?c=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[u]=null:c=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),o=new rf,s=new rf,a=new rf,l=new rf;try{for(var c=i1(i),u=c.next();!u.done;u=c.next()){var f=u.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:s.setValue(d*3+1);break;case 1:l.setValue(d/3),a.setValue(d%3);break;case 2:o.setValue(d+1);break}}}}catch(y){r={error:y}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(o.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||o.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<ct.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>ct.MAX_ROWS_IN_BARCODE)return null;var p=new Wxe(o.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var o=r[i];if(r[i]!=null){var s=o.getValue()%30,a=o.getRowNumber();if(a>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:s+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(_N),Zxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jxe=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ct.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,s=this.barcodeColumnCount+1;s>0&&o<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[n];a!=null&&(o=t.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,s=1;s<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[n];a!=null&&(o=t.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var s=n[r],a=this.detectionResultColumns[e-1].getCodewords(),l=a;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=a[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=a[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=a[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=a[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=a[r+2],c[13]=l[r+2]);try{for(var u=Zxe(c),f=u.next();!f.done;f=u.next()){var d=f.value;if(t.adjustRowNumber(s,d))return}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new y2,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t}(),Qxe=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),ebe=function(){function t(){}return t.initialize=function(){for(var e=0;e<ct.SYMBOL_TABLE.length;e++)for(var r=ct.SYMBOL_TABLE[e],n=r&1,i=0;i<ct.BARS_IN_MODULE;i++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(ct.BARS_IN_MODULE)),t.RATIOS_TABLE[e][ct.BARS_IN_MODULE-i-1]=Math.fround(o/ct.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=ht.sum(e),n=new Int32Array(ct.BARS_IN_MODULE),i=0,o=0,s=0;s<ct.MODULES_IN_CODEWORD;s++){var a=r/(2*ct.MODULES_IN_CODEWORD)+s*r/ct.MODULES_IN_CODEWORD;o+e[i]<=a&&(o+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return ct.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=ht.sum(e),n=new Array(ct.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var o=G_.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var a=0;a<t.RATIOS_TABLE.length;a++){for(var l=0,c=t.RATIOS_TABLE[a],u=0;u<ct.BARS_IN_MODULE;u++){var f=Math.fround(c[u]-n[u]);if(l+=Math.fround(f*f),l>=o)break}l<o&&(o=l,s=ct.SYMBOL_TABLE[a])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(ct.SYMBOL_TABLE.length).map(function(e){return new Array(ct.BARS_IN_MODULE)}),t}(),tbe=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),j3=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),rbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nbe=function(t){rbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(kn),ibe=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new nbe;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new p2;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),obe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sbe=function(t){obe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(kn),abe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lbe=function(t){abe(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Ne("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new sbe;i=qe.MAX_VALUE}this.buf=xr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new p2;this.ensureCapacity(this.count+i),Rt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return xr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(ibe),Ct;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function xN(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ep;function Ts(t){if(typeof ep>"u"&&(ep=xN()),ep===null)throw new Error("BigInt is not supported!");return ep(t)}function cbe(){var t=[];t[0]=Ts(1);var e=Ts(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var ube=function(){function t(){}return t.decode=function(e,r){var n=new Ke(""),i=_r.ISO8859_1;n.enableDecoding(i);for(var o=1,s=e[o++],a=new tbe;o<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(s,e,i,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:_r.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,a);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new me;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)s=e[o++];else throw me.getFormatInstance()}if(n.length()===0)throw me.getFormatInstance();var l=new em(null,n.toString(),null,r);return l.setOther(a),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=e[r];n.setSegmentIndex(qe.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Ke;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var a=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Ke;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Ke;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new Ke;r=t.textCompaction(e,r+1,u),n.setAddressee(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Ke;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(qe.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new Ke;r=t.numericCompaction(e,r+1,d),n.setTimestamp(j3.parseLong(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new Ke;r=t.numericCompaction(e,r+1,h),n.setChecksum(qe.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Ke;r=t.numericCompaction(e,r+1,p),n.setFileSize(j3.parseLong(p.toString()));break;default:throw me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(a!==-1){var y=r-a;n.isLastSegment()&&y--,n.setOptionalData(xr.copyOfRange(e,a,a+y))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),s=0,a=!1;r<e[0]&&!a;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[s]=l/30,i[s+1]=l%30,s+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],o[s]=l,s++;break}}return t.decodeTextCompaction(i,o,s,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var o=Ct.ALPHA,s=Ct.ALPHA,a=0;a<n;){var l=e[a],c="";switch(o){case Ct.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:o=Ct.LOWER;break;case t.ML:o=Ct.MIXED;break;case t.PS:s=o,o=Ct.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:s=o,o=Ct.ALPHA_SHIFT;break;case t.ML:o=Ct.MIXED;break;case t.PS:s=o,o=Ct.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:o=Ct.PUNCT;break;case 26:c=" ";break;case t.LL:o=Ct.LOWER;break;case t.AL:o=Ct.ALPHA;break;case t.PS:s=o,o=Ct.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=Ct.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(o=s,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(o=s,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=Ct.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break}c!==""&&i.append(c),a++}},t.byteCompaction=function(e,r,n,i,o){var s=new lbe,a=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),f=r[i++];i<r[0]&&!c;)switch(u[a++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(a%5===0&&a>0){for(var d=0;d<6;++d)s.write(Number(Ts(l)>>Ts(8*(5-d))));l=0,a=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(u[a++]=f);for(var h=0;h<a;h++)s.write(u[h]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var p=r[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)a++,l=900*l+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(a%5===0&&a>0){for(var d=0;d<6;++d)s.write(Number(Ts(l)>>Ts(8*(5-d))));l=0,a=0}}break}return o.append(mi.decode(s.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,o=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var a=e[r++];if(r===e[0]&&(o=!0),a<t.TEXT_COMPACTION_MODE_LATCH)s[i]=a,i++;else switch(a){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||a===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(t.decodeBase900toBase10(s,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ts(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ts(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new me;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=xN()?cbe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),zu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fbe=function(){function t(){}return t.decode=function(e,r,n,i,o,s,a){for(var l=new z_(e,r,n,i,o),c=null,u=null,f,d=!0;;d=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,s,a)),i!=null&&(u=t.getRowIndicatorColumn(e,l,i,!1,s,a)),f=t.merge(c,u),f==null)throw oe.getNotFoundInstance();var h=f.getBoundingBox();if(d&&h!=null&&(h.getMinY()<l.getMinY()||h.getMaxY()>l.getMaxY()))l=h;else break}f.setBoundingBox(l);var p=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(p,u);for(var y=c!=null,g=1;g<=p;g++){var m=y?g:p-g;if(f.getDetectionResultColumn(m)===void 0){var v=void 0;m===0||m===p?v=new z3(l,m===0):v=new _N(l),f.setDetectionResultColumn(m,v);for(var _=-1,x=_,b=l.getMinY();b<=l.getMaxY();b++){if(_=t.getStartColumn(f,m,b,y),_<0||_>l.getMaxX()){if(x===-1)continue;_=x}var w=t.detectCodeword(e,l.getMinX(),l.getMaxX(),y,_,b,s,a);w!=null&&(v.setCodeword(b,w),x=_,s=Math.min(s,w.getWidth()),a=Math.max(a,w.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=z_.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Jxe(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),s=0;try{for(var a=zu(i),l=a.next();!l.done;l=a.next()){var c=l.value;if(s+=o-c,c>0)break}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}for(var u=e.getCodewords(),f=0;s>0&&u[f]==null;f++)s--;for(var d=0,f=i.length-1;f>=0&&(d+=o-i[f],!(i[f]>0));f--);for(var f=u.length-1;d>0&&u[f]==null;f--)d--;return e.getBoundingBox().addMissingRows(s,d,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var o=zu(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=Math.max(i,a)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,o,s){for(var a=new z3(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,u=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=c){var d=t.detectCodeword(e,0,e.getWidth(),i,u,f,o,s);d!=null&&(a.setCodeword(f,d),i?u=d.getStartX():u=d.getEndX())}return a},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>ct.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],s=new Array,a=0;a<e.getBarcodeRowCount();a++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[a][l+1].getValue(),u=a*e.getBarcodeColumnCount()+l;c.length===0?n.push(u):c.length===1?i[u]=c[0]:(s.push(u),o.push(c))}for(var f=new Array(o.length),d=0;d<f.length;d++)f[d]=o[d];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ct.toIntArray(n),ct.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,o){for(var s=new Int32Array(i.length),a=100;a-- >0;){for(var l=0;l<s.length;l++)r[i[l]]=o[l][s[l]];try{return t.decodeCodewords(r,e,n)}catch(u){var c=u instanceof ur;if(!c)throw u}if(s.length===0)throw ur.getChecksumInstance();for(var l=0;l<s.length;l++)if(s[l]<o[l].length-1){s[l]++;break}else if(s[l]=0,l===s.length-1)throw ur.getChecksumInstance()}throw ur.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,o,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<s.length;a++)for(var l=0;l<s[a].length;l++)s[a][l]=new rf;var c=0;try{for(var u=zu(e.getDetectionResultColumns()),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)try{for(var h=(i=void 0,zu(d.getCodewords())),p=h.next();!p.done;p=h.next()){var y=p.value;if(y!=null){var g=y.getRowNumber();if(g>=0){if(g>=s.length)continue;s[g][c].setValue(y.getValue())}}}}catch(m){i={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}c++}}catch(m){r={error:m}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var o,s,a=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-a);){r-=a;try{for(var u=(o=void 0,zu(e.getDetectionResultColumn(r).getCodewords())),f=u.next();!f.done;f=u.next()){var d=f.value;if(d!=null)return(i?d.getEndX():d.getStartX())+a*c*(d.getEndX()-d.getStartX())}}catch(h){o={error:h}}finally{try{f&&!f.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,o,s,a,l){o=t.adjustCodewordStartColumn(e,r,n,i,o,s);var c=t.getModuleBitCount(e,r,n,i,o,s);if(c==null)return null;var u,f=ht.sum(c);if(i)u=o+f;else{for(var d=0;d<c.length/2;d++){var h=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=h}u=o,o=u-f}if(!t.checkCodewordSkew(f,a,l))return null;var p=ebe.getDecodedValue(c),y=ct.getCodeword(p);return y===-1?null:new Qxe(o,u,t.getCodewordBucketNumber(p),y)},t.getModuleBitCount=function(e,r,n,i,o,s){for(var a=o,l=new Int32Array(8),c=0,u=i?1:-1,f=i;(i?a<n:a>=r)&&c<l.length;)e.get(a,s)===f?(l[c]++,a+=u):(c++,f=!f);return c===l.length||a===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,o,s){for(var a=o,l=i?-1:1,c=0;c<2;c++){for(;(i?a>=r:a<n)&&i===e.get(a,s);){if(Math.abs(o-a)>t.CODEWORD_SKEW_SIZE)return o;a+=l}l=-l,i=!i}return a},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw me.getFormatInstance();var i=1<<r+1,o=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var s=ube.decode(e,""+r);return s.setErrorsCorrected(o),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw ur.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw me.getFormatInstance();var n=e[0];if(n>e.length)throw me.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new y2,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new jxe,t}(),dbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I0=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw oe.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof me||n instanceof ur?oe.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,o,s=new Array,a=$xe.detectMultiple(e,r,n);try{for(var l=dbe(a.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,f=fbe.decode(a.getBits(),u[4],u[5],u[6],u[7],t.getMinCodewordWidth(u),t.getMaxCodewordWidth(u)),d=new en(f.getText(),f.getRawBytes(),void 0,u,ke.PDF_417);d.putMetadata(Ur.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&d.putMetadata(Ur.PDF417_EXTRA_METADATA,h),s.push(d)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s.map(function(p){return p})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),hbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W3=function(t){hbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(kn),X3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bN=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Mt.TRY_HARDER)!==void 0,n=e==null?null:e.get(Mt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(s){return s===ke.UPC_A||s===ke.UPC_E||s===ke.EAN_13||s===ke.EAN_8||s===ke.CODABAR||s===ke.CODE_39||s===ke.CODE_93||s===ke.CODE_128||s===ke.ITF||s===ke.RSS_14||s===ke.RSS_EXPANDED});o&&!r&&i.push(new _c(e)),n.includes(ke.QR_CODE)&&i.push(new P0),n.includes(ke.DATA_MATRIX)&&i.push(new T0),n.includes(ke.AZTEC)&&i.push(new C0),n.includes(ke.PDF_417)&&i.push(new I0),o&&r&&i.push(new _c(e))}i.length===0&&(r||i.push(new _c(e)),i.push(new P0),i.push(new T0),i.push(new C0),i.push(new I0),r&&i.push(new _c(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=X3(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new W3("No readers where selected, nothing can be read.");try{for(var i=X3(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;try{return s.decode(e,this.hints)}catch(a){if(a instanceof W3)continue}}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t}(),pbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){pbe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,o=new bN;return o.setHints(r),i=t.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(yu);var gbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){gbe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new I0,r)||this}return e})(yu);var mbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){mbe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new P0,r)||this}return e})(yu);var j_;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(j_||(j_={}));const tp=j_;var wN=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ws(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,o=r.length;o<=e;o++){var s=n.multiply(new Ws(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Ne("No error correction bytes");var n=e.length-r;if(n<=0)throw new Ne("No data bytes provided");var i=this.buildGenerator(r),o=new Int32Array(n);Rt.arraycopy(e,0,o,0,n);var s=new Ws(this.field,o);s=s.multiplyByMonomial(r,1);for(var a=s.divide(i)[1],l=a.getCoefficients(),c=r-l.length,u=0;u<c;u++)e[n+u]=0;Rt.arraycopy(l,0,e,n+c,l.length)},t}(),nf=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o-1;s++)for(var a=n[s],l=0;l<i-1;l++){var c=a[l];c===a[l+1]&&c===n[s+1][l]&&c===n[s+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=0;a<i;a++){var l=n[s];a+6<i&&l[a]===1&&l[a+1]===0&&l[a+2]===1&&l[a+3]===1&&l[a+4]===1&&l[a+5]===0&&l[a+6]===1&&(t.isWhiteHorizontal(l,a-4,a)||t.isWhiteHorizontal(l,a+7,a+11))&&r++,s+6<o&&n[s][a]===1&&n[s+1][a]===0&&n[s+2][a]===1&&n[s+3][a]===1&&n[s+4][a]===1&&n[s+5][a]===0&&n[s+6][a]===1&&(t.isWhiteVertical(n,a,s-4,s)||t.isWhiteVertical(n,a,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=n[s],l=0;l<i;l++)a[l]===1&&r++;var c=e.getHeight()*e.getWidth(),u=Math.floor(Math.abs(r*2-c)*10/c);return u*t.N4},t.getDataMaskBit=function(e,r,n){var i,o;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,i=(o&1)+o%3;break;case 6:o=n*r,i=(o&1)+o%3&1;break;case 7:o=n*r,i=o%3+(n+r&1)&1;break;default:throw new Ne("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),s=e.getArray(),a=0;a<i;a++){for(var l=0,c=-1,u=0;u<o;u++){var f=r?s[a][u]:s[u][a];f===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),vbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ybe=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=vbe(this.bytes),o=i.next();!o.done;o=i.next()){var s=o.value;xr.fill(s,e)}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],s=r.bytes[n],a=0,l=this.width;a<l;++a)if(o[a]!==s[a])return!1;return!0},t.prototype.toString=function(){for(var e=new Ke,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],o=0,s=this.width;o<s;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),W_=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Ke;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),_be=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nt=function(t){_be(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(kn),Y3=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,i,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new Mr;t.makeTypeInfoBits(e,r,i);for(var o=0,s=i.getSize();o<s;++o){var a=i.get(i.getSize()-1-o),l=t.TYPE_INFO_COORDINATES[o],c=l[0],u=l[1];if(n.setBoolean(c,u,a),o<8){var f=n.getWidth()-o-1,d=8;n.setBoolean(f,d,a)}else{var f=8,d=n.getHeight()-7+(o-8);n.setBoolean(f,d,a)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Mr;t.makeVersionInfoBits(e,n);for(var i=6*3-1,o=0;o<6;++o)for(var s=0;s<3;++s){var a=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+s,a),r.setBoolean(r.getHeight()-11+s,o,a)}}},t.embedDataBits=function(e,r,n){for(var i=0,o=-1,s=n.getWidth()-1,a=n.getHeight()-1;s>0;){for(s===6&&(s-=1);a>=0&&a<n.getHeight();){for(var l=0;l<2;++l){var c=s-l;if(t.isEmpty(n.get(c,a))){var u=void 0;i<e.getSize()?(u=e.get(i),++i):u=!1,r!==255&&nf.getDataMaskBit(r,c,a)&&(u=!u),n.setBoolean(c,a,u)}}a+=o}o=-o,a+=o,s-=2}if(i!==e.getSize())throw new Nt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-qe.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Ne("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!W_.isValidMaskPattern(r))throw new Nt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(o,10);var s=new Mr;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Nt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Nt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Nt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Nt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Nt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)n.setNumber(e+s,r+i,o[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)n.setNumber(e+s,r+i,o[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,s=i.length;o!==s;o++){var a=i[o];if(a>=0)for(var l=0;l!==s;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,a))&&t.embedPositionAdjustmentPattern(c-2,a-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),xbe=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),K3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return nf.applyMaskPenaltyRule1(e)+nf.applyMaskPenaltyRule2(e)+nf.applyMaskPenaltyRule3(e)+nf.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(tp.CHARACTER_SET)!==void 0;o&&(i=n.get(tp.CHARACTER_SET).toString());var s=this.chooseMode(e,i),a=new Mr;if(s===Ft.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=_r.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,a)}this.appendModeInfo(s,a);var c=new Mr;this.appendBytes(e,s,c,i);var u;if(n!==null&&n.get(tp.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(tp.QR_VERSION).toString(),10);u=tl.getVersionForNumber(f);var d=this.calculateBitsNeeded(s,a,c,u);if(!this.willFit(d,u,r))throw new Nt("Data too big for requested version")}else u=this.recommendVersion(r,s,a,c);var h=new Mr;h.appendBitArray(a);var p=s===Ft.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(p,u,s,h),h.appendBitArray(c);var y=u.getECBlocksForLevel(r),g=u.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(g,h);var m=this.interleaveWithECBytes(h,u.getTotalCodewords(),g,y.getNumBlocks()),v=new W_;v.setECLevel(r),v.setMode(s),v.setVersion(u);var _=u.getDimensionForVersion(),x=new ybe(_,_),b=this.chooseMaskPattern(m,r,u,x);return v.setMaskPattern(b),Y3.buildMatrix(m,r,u,b,x),v.setMatrix(x),v},t.recommendVersion=function(e,r,n,i){var o=this.calculateBitsNeeded(r,n,i,tl.getVersionForNumber(1)),s=this.chooseVersion(o,e),a=this.calculateBitsNeeded(r,n,i,s);return this.chooseVersion(a,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),_r.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ft.KANJI;for(var n=!1,i=!1,o=0,s=e.length;o<s;++o){var a=e.charAt(o);if(t.isDigit(a))n=!0;else if(this.getAlphanumericCode(a.charCodeAt(0))!==-1)i=!0;else return Ft.BYTE}return i?Ft.ALPHANUMERIC:n?Ft.NUMERIC:Ft.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=mi.encode(e,_r.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=r[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var o=Number.MAX_SAFE_INTEGER,s=-1,a=0;a<W_.NUM_MASK_PATTERNS;a++){Y3.buildMatrix(e,r,n,a,i);var l=this.calculateMaskPenalty(i);l<o&&(o=l,s=a)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=tl.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Nt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),s=o.getTotalECCodewords(),a=i-s,l=(e+7)/8;return a>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Nt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var i=o;i<8;i++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),i=0;i<s;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Nt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,o,s){if(i>=n)throw new Nt("Block ID too large");var a=e%n,l=n-a,c=Math.floor(e/n),u=c+1,f=Math.floor(r/n),d=f+1,h=c-f,p=u-d;if(h!==p)throw new Nt("EC bytes mismatch");if(n!==l+a)throw new Nt("RS blocks mismatch");if(e!==(f+h)*l+(d+p)*a)throw new Nt("Total bytes mismatch");i<l?(o[0]=f,s[0]=h):(o[0]=d,s[0]=p)},t.interleaveWithECBytes=function(e,r,n,i){var o,s,a,l;if(e.getSizeInBytes()!==n)throw new Nt("Number of bits and data bytes does not match");for(var c=0,u=0,f=0,d=new Array,h=0;h<i;++h){var p=new Int32Array(1),y=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,h,p,y);var g=p[0],m=new Uint8Array(g);e.toBytes(8*c,m,0,g);var v=t.generateECBytes(m,y[0]);d.push(new xbe(m,v)),u=Math.max(u,g),f=Math.max(f,v.length),c+=p[0]}if(n!==c)throw new Nt("Data bytes does not match offset");for(var _=new Mr,h=0;h<u;++h)try{for(var x=(o=void 0,K3(d)),b=x.next();!b.done;b=x.next()){var w=b.value,m=w.getDataBytes();h<m.length&&_.appendBits(m[h],8)}}catch(C){o={error:C}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}for(var h=0;h<f;++h)try{for(var E=(a=void 0,K3(d)),S=E.next();!S.done;S=E.next()){var w=S.value,v=w.getErrorCorrectionBytes();h<v.length&&_.appendBits(v[h],8)}}catch(C){a={error:C}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(a)throw a.error}}if(r!==_.getSizeInBytes())throw new Nt("Interleaving error: "+r+" and "+_.getSizeInBytes()+" differ.");return _},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),o=0;o<n;o++)i[o]=e[o]&255;new wN(Cn.QR_CODE_FIELD_256).encode(i,r);for(var s=new Uint8Array(r),o=0;o<r;o++)s[o]=i[n+o];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new Nt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,r,n,i){switch(r){case Ft.NUMERIC:t.appendNumericBytes(e,n);break;case Ft.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Ft.BYTE:t.append8BitBytes(e,n,i);break;case Ft.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Nt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getDigit(e.charAt(i));if(i+2<n){var s=t.getDigit(e.charAt(i+1)),a=t.getDigit(e.charAt(i+2));r.appendBits(o*100+s*10+a,10),i+=3}else if(i+1<n){var s=t.getDigit(e.charAt(i+1));r.appendBits(o*10+s,7),i+=2}else r.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new Nt;if(i+1<n){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Nt;r.appendBits(o*45+s,11),i+=2}else r.appendBits(o,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=mi.encode(e,n)}catch(l){throw new Nt(l)}for(var o=0,s=i.length;o!==s;o++){var a=i[o];r.appendBits(a,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=mi.encode(e,_r.SJIS)}catch(f){throw new Nt(f)}for(var i=n.length,o=0;o<i;o+=2){var s=n[o]&255,a=n[o+1]&255,l=s<<8&4294967295|a,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new Nt("Invalid byte sequence");var u=(c>>8)*192+(c&255);r.appendBits(u,13)}},t.appendECI=function(e,r){r.appendBits(Ft.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=_r.UTF8.getName(),t})();var bbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){bbe(e,t);function e(r,n,i,o,s,a,l,c){var u=t.call(this,a,l)||this;if(u.yuvData=r,u.dataWidth=n,u.dataHeight=i,u.left=o,u.top=s,o+a>n||s+l>i)throw new Ne("Crop rectangle does not fit within image data.");return c&&u.reverseHorizontal(a,l),u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ne("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Rt.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Rt.arraycopy(this.yuvData,s,o,0,i),o;for(var a=0;a<n;a++){var l=a*r;Rt.arraycopy(this.yuvData,s,o,l,r),s+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),o=this.yuvData,s=this.top*this.dataWidth+this.left,a=0;a<n;a++){for(var l=a*r,c=0;c<r;c++){var u=o[s+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|u*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,o=0,s=this.top*this.dataWidth+this.left;o<n;o++,s+=this.dataWidth)for(var a=s+r/2,l=s,c=s+r-1;l<a;l++,c--){var u=i[l];i[l]=i[c],i[c]=u}},e.prototype.invert=function(){return new Qg(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Yd);var wbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){wbe(e,t);function e(r,n,i,o,s,a,l){var c=t.call(this,n,i)||this;if(c.dataWidth=o,c.dataHeight=s,c.left=a,c.top=l,r.BYTES_PER_ELEMENT===4){for(var u=n*i,f=new Uint8ClampedArray(u),d=0;d<u;d++){var h=r[d],p=h>>16&255,y=h>>7&510,g=h&255;f[d]=(p+y+g)/4&255}c.luminances=f}else c.luminances=r;if(o===void 0&&(c.dataWidth=n),s===void 0&&(c.dataHeight=i),a===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new Ne("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ne("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Rt.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Rt.arraycopy(this.luminances,s,o,0,i),o;for(var a=0;a<n;a++){var l=a*r;Rt.arraycopy(this.luminances,s,o,l,r),s+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Qg(this)},e})(Yd);var Ebe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sbe=function(t){Ebe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(_r),Cbe=function(){function t(){}return t.ISO_8859_1=_r.ISO8859_1,t}(),X_,Abe=301,Tbe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=Abe);return{LOG:t,ALOG:e}};X_=Tbe([],[]),X_.LOG;X_.ALOG;var q3;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(q3||(q3={}));var Z3=129,EN=230,Pbe=231,Ibe=235,Obe=236,Rbe=237,Mbe=238,Dbe=239,Bbe=240,o1=254,kbe=254,J3="[)>05",Q3="[)>06",eP="",Et=0,Nr=1,an=2,gr=3,Tr=4,jr=5,Nbe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Et},t.prototype.encode=function(e){var r=Ri.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case jr:e.writeCodeword(Pbe),e.signalEncoderChange(jr);return;case Nr:e.writeCodeword(EN),e.signalEncoderChange(Nr);return;case gr:e.writeCodeword(Mbe),e.signalEncoderChange(gr);break;case an:e.writeCodeword(Dbe),e.signalEncoderChange(an);break;case Tr:e.writeCodeword(Bbe),e.signalEncoderChange(Tr);break;default:throw new Error("Illegal mode: "+i)}else Ri.isExtendedASCII(n)?(e.writeCodeword(Ibe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Ri.isDigit(e)&&Ri.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),Fbe=function(){function t(){}return t.prototype.getEncodingMode=function(){return jr},t.prototype.encode=function(e){var r=new Ke;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Et);break}}var o=r.length()-1,s=1,a=e.getCodewordCount()+o+s;e.updateSymbolInfo(a);var l=e.getSymbolInfo().getDataCapacity()-a>0;if(e.hasMoreCharacters()||l)if(o<=249)r.setCharAt(0,it.getCharAt(o));else if(o<=1555)r.setCharAt(0,it.getCharAt(Math.floor(o/250)+249)),r.insert(1,it.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),_2=function(){function t(){}return t.prototype.getEncodingMode=function(){return Nr},t.prototype.encodeMaximal=function(e){for(var r=new Ke,n=0,i=e.pos,o=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(i=e.pos,o=r.length())}if(o!==r.length()){var a=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+a+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,u=Math.floor(r.length()%3);(u===2&&c!==2||u===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(EN),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Ke;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+o;e.updateSymbolInfo(s);var a=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var l=new Ke;for(r.length()%3===2&&a!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||a!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var u=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(Et);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var o=r.length(),s=r.toString().substring(0,o-i);r.setLengthToZero(),r.append(s),e.pos--;var a=e.getCurrentChar();return i=this.encodeChar(a,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(o1)}else if(s===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(o1),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(o1)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Et)},t.prototype.encodeChar=function(e,r){if(e===" ".charCodeAt(0))return r.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return r.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return r.append(e-65+14),1;if(e<" ".charCodeAt(0))return r.append(0),r.append(e),2;if(e<="/".charCodeAt(0))return r.append(1),r.append(e-33),2;if(e<="@".charCodeAt(0))return r.append(1),r.append(e-58+15),2;if(e<="_".charCodeAt(0))return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,o=new Ke;return o.append(n),o.append(i),o.toString()},t}(),Lbe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Tr},t.prototype.encode=function(e){for(var r=new Ke;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var s=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Et);break}}}r.append(it.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,a=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+a.length))}c?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(a)}finally{e.signalEncoderChange(Et)}},t.prototype.encodeChar=function(e,r){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?r.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?r.append(it.getCharAt(e-64)):Ri.illegalCharacter(it.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,a=(n<<18)+(i<<12)+(o<<6)+s,l=a>>16&255,c=a>>8&255,u=a&255,f=new Ke;return f.append(l),r>=2&&f.append(c),r>=3&&f.append(u),f.toString()},t}(),$be=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ube=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(){function t(e,r,n,i,o,s,a,l){a===void 0&&(a=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=s,this.rsBlockData=a,this.rsBlockError=l}return t.lookup=function(e,r,n,i,o){var s,a;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var l=Ube(Hbe),c=l.next();!c.done;c=l.next()){var u=c.value;if(!(r===1&&u.rectangular)&&!(r===2&&!u.rectangular)&&!(n!=null&&(u.getSymbolWidth()<n.getWidth()||u.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(u.getSymbolWidth()>i.getWidth()||u.getSymbolHeight()>i.getHeight()))&&e<=u.dataCapacity)return u}}catch(f){s={error:f}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),Gbe=function(t){$be(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(gt),Hbe=[new gt(!1,3,5,8,8,1),new gt(!1,5,7,10,10,1),new gt(!0,5,7,16,6,1),new gt(!1,8,10,12,12,1),new gt(!0,10,11,14,6,2),new gt(!1,12,12,14,14,1),new gt(!0,16,14,24,10,1),new gt(!1,18,14,16,16,1),new gt(!1,22,18,18,18,1),new gt(!0,22,18,16,10,2),new gt(!1,30,20,20,20,1),new gt(!0,32,24,16,14,2),new gt(!1,36,24,22,22,1),new gt(!1,44,28,24,24,1),new gt(!0,49,28,22,14,2),new gt(!1,62,36,14,14,4),new gt(!1,86,42,16,16,4),new gt(!1,114,48,18,18,4),new gt(!1,144,56,20,20,4),new gt(!1,174,68,22,22,4),new gt(!1,204,84,24,24,4,102,42),new gt(!1,280,112,14,14,16,140,56),new gt(!1,368,144,16,16,16,92,36),new gt(!1,456,192,18,18,16,114,48),new gt(!1,576,224,20,20,16,144,56),new gt(!1,696,272,22,22,16,174,68),new gt(!1,816,336,24,24,16,136,56),new gt(!1,1050,408,18,18,36,175,68),new gt(!1,1304,496,20,20,36,163,62),new Gbe],Vbe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(a){return a.charCodeAt(0)}),n=new Ke,i=0,o=r.length;i<o;i++){var s=String.fromCharCode(r[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new Ke,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=gt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),zbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jbe=function(t){zbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return gr},e.prototype.encode=function(r){for(var n=new Ke;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var s=Ri.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Et);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case"*".charCodeAt(0):n.append(1);break;case">".charCodeAt(0):n.append(2);break;case" ".charCodeAt(0):n.append(3);break;default:r>="0".charCodeAt(0)&&r<="9".charCodeAt(0)?n.append(r-48+4):r>="A".charCodeAt(0)&&r<="Z".charCodeAt(0)?n.append(r-65+14):Ri.illegalCharacter(it.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(kbe),r.getNewEncoding()<0&&r.signalEncoderChange(Et)},e}(_2),Wbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xbe=function(t){Wbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return an},e.prototype.encodeChar=function(r,n){if(r===" ".charCodeAt(0))return n.append(3),1;if(r>="0".charCodeAt(0)&&r<="9".charCodeAt(0))return n.append(r-48+4),1;if(r>="a".charCodeAt(0)&&r<="z".charCodeAt(0))return n.append(r-97+14),1;if(r<" ".charCodeAt(0))return n.append(0),n.append(r),2;if(r<="/".charCodeAt(0))return n.append(1),n.append(r-33),2;if(r<="@".charCodeAt(0))return n.append(1),n.append(r-58+15),2;if(r>="[".charCodeAt(0)&&r<="_".charCodeAt(0))return n.append(1),n.append(r-91+22),2;if(r==="`".charCodeAt(0))return n.append(2),n.append(0),2;if(r<="Z".charCodeAt(0))return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(_2),Ybe=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=Z3+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,o){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1);var s=new _2,a=[new Nbe,s,new Xbe,new jbe,new Lbe,new Fbe],l=new Vbe(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(J3)&&e.endsWith(eP)?(l.writeCodeword(Obe),l.setSkipAtEnd(2),l.pos+=J3.length):e.startsWith(Q3)&&e.endsWith(eP)&&(l.writeCodeword(Rbe),l.setSkipAtEnd(2),l.pos+=Q3.length);var c=Et;for(o&&(s.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)a[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var u=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();u<f&&c!==Et&&c!==jr&&c!==Tr&&l.writeCodeword("");var d=l.getCodewords();for(d.length()<f&&d.append(Z3);d.length()<f;)d.append(this.randomize253State(d.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===gr&&i===gr){for(var o=Math.min(r+3,e.length),s=r;s<o;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Et}else if(n===Tr&&i===Tr){for(var o=Math.min(r+4,e.length),s=r;s<o;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Et}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Et?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var o=0,s=new Uint8Array(6),a=[];;){if(r+o===e.length){xr.fill(s,0),xr.fill(a,0);var l=this.findMinimums(i,a,qe.MAX_VALUE,s),c=this.getMinimumCount(s);if(a[Et]===l)return Et;if(c===1){if(s[jr]>0)return jr;if(s[Tr]>0)return Tr;if(s[an]>0)return an;if(s[gr]>0)return gr}return Nr}var u=e.charCodeAt(r+o);if(o++,this.isDigit(u)?i[Et]+=.5:this.isExtendedASCII(u)?(i[Et]=Math.ceil(i[Et]),i[Et]+=2):(i[Et]=Math.ceil(i[Et]),i[Et]++),this.isNativeC40(u)?i[Nr]+=2/3:this.isExtendedASCII(u)?i[Nr]+=8/3:i[Nr]+=4/3,this.isNativeText(u)?i[an]+=2/3:this.isExtendedASCII(u)?i[an]+=8/3:i[an]+=4/3,this.isNativeX12(u)?i[gr]+=2/3:this.isExtendedASCII(u)?i[gr]+=13/3:i[gr]+=10/3,this.isNativeEDIFACT(u)?i[Tr]+=3/4:this.isExtendedASCII(u)?i[Tr]+=17/4:i[Tr]+=13/4,this.isSpecialB256(u)?i[jr]+=4:i[jr]++,o>=4){if(xr.fill(s,0),xr.fill(a,0),this.findMinimums(i,a,qe.MAX_VALUE,s),a[Et]<this.min(a[jr],a[Nr],a[an],a[gr],a[Tr]))return Et;if(a[jr]<a[Et]||a[jr]+1<this.min(a[Nr],a[an],a[gr],a[Tr]))return jr;if(a[Tr]+1<this.min(a[jr],a[Nr],a[an],a[gr],a[Et]))return Tr;if(a[an]+1<this.min(a[jr],a[Nr],a[Tr],a[gr],a[Et]))return an;if(a[gr]+1<this.min(a[jr],a[Nr],a[Tr],a[an],a[Et]))return gr;if(a[Nr]+1<this.min(a[Et],a[jr],a[Tr],a[an])){if(a[Nr]<a[gr])return Nr;if(a[Nr]===a[gr]){for(var f=r+o+1;f<e.length;){var d=e.charCodeAt(f);if(this.isX12TermSep(d))return gr;if(!this.isNativeX12(d))break;f++}return Nr}}}}},t.min=function(e,r,n,i,o){var s=Math.min(e,Math.min(r,Math.min(n,i)));return o===void 0?s:Math.min(s,o)},t.findMinimums=function(e,r,n,i){for(var o=0;o<6;o++){var s=r[o]=Math.ceil(e[o]);n>s&&(n=s,xr.fill(i,0)),n===s&&(i[o]=i[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return e===13||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=qe.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}();const Ri=Ybe;var s1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tP=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return mi.encode(e,this.charset)!=null}catch{return!1}},t}(),Kbe=function(){function t(e,r,n){var i,o,s,a,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new tP(Sbe.forName(P))}),this.encoders=[];var u=[];u.push(new tP(Cbe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),d=0;d<e.length;d++){var h=!1;try{for(var p=(i=void 0,s1(u)),y=p.next();!y.done;y=p.next()){var g=y.value,m=e.charAt(d),v=m.charCodeAt(0);if(v===n||g.canEncode(m)){h=!0;break}}}catch(P){i={error:P}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!h)try{for(var _=(s=void 0,s1(this.ENCODERS)),x=_.next();!x.done;x=_.next()){var g=x.value;if(g.canEncode(e.charAt(d))){u.push(g),h=!0;break}}}catch(P){s={error:P}}finally{try{x&&!x.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}h||(f=!0)}if(u.length===1&&!f)this.encoders=[u[0]];else{this.encoders=[];var b=0;try{for(var w=s1(u),E=w.next();!E.done;E=w.next()){var g=E.value;this.encoders[b++]=g}}catch(P){l={error:P}}finally{try{E&&!E.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}}var S=-1;if(r!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&r.name===this.encoders[d].name){S=d;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return mi.encode(it.getCharAt(e),this.encoders[r].name)},t}(),qbe=3,Zbe=function(){function t(e,r,n){this.fnc1=n;var i=new Kbe(e,r,n);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var s=e.charAt(o).charCodeAt(0);this.bytes[o]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Ke,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,o,s){var a=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(a===s||r.canEncode(a,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var u=l;u<c;u++)(a===s||r.canEncode(a,u))&&this.addEdge(n,i+1,new rP(a,r,u,o,s))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,o=new rP[i+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var s=1;s<=i;s++){for(var a=0;a<r.length();a++)o[s][a]!=null&&s<i&&this.addEdges(e,r,o,s,o[s][a],n);for(var a=0;a<r.length();a++)o[s-1][a]=null}for(var l=-1,c=qe.MAX_VALUE,a=0;a<r.length();a++)if(o[i][a]!=null){var u=o[i][a];u.cachedTotalSize<c&&(c=u.cachedTotalSize,l=a)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],d=o[i][l];d!=null;){if(d.isFNC1())f.unshift(1e3);else for(var h=r.encode(d.c,d.encoderIndex),s=h.length-1;s>=0;s--)f.unshift(h[s]&255);var p=d.previous===null?0:d.previous.encoderIndex;p!==d.encoderIndex&&f.unshift(256+r.getECIValue(d.encoderIndex)),d=d.previous}for(var y=[],s=0;s<y.length;s++)y[s]=f[s];return y},t}(),rP=function(){function t(e,r,n,i,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,a=i===null?0:i.encoderIndex;a!==n&&(s+=qbe),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),Jbe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__values;var Qbe=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o};globalThis&&globalThis.__spread;var nP;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(nP||(nP={}));(function(t){Jbe(e,t);function e(r,n,i,o,s){var a=t.call(this,r,n,i)||this;return a.shape=o,a.macroId=s,a}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Zbe);var ewe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),iP=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),twe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),rwe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x2=function(t){rwe(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+qe.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(twe),nwe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iwe=function(t){nwe(e,t);function e(r,n,i){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(x2);function owe(t,e,r){return new iwe(t,e,r)}function ju(t,e,r){return new x2(t,e,r)}var swe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xs=0,O0=1,fi=2,SN=3,io=4,awe=new x2(null,0,0),a1=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])],lwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function cwe(t){var e,r;try{for(var n=lwe(t),i=n.next();!i.done;i=n.next()){var o=i.value;xr.fill(o,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Xs][io]=0,t[O0][io]=0,t[O0][Xs]=28,t[SN][io]=0,t[fi][io]=0,t[fi][Xs]=15,t}var CN=cwe(xr.createInt32Array(6,6)),uwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fwe=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=a1[this.mode][e];i=ju(i,o&65535,o>>16),n+=o>>16}var s=e===fi?4:5;return i=ju(i,r,s),new t(i,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===fi?4:5;return n=ju(n,CN[this.mode][e],i),n=ju(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===io||this.mode===fi){var o=a1[n][Xs];r=ju(r,o&65535,o>>16),i+=o>>16,n=Xs}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new t(r,n,this.binaryShiftByteCount+1,i+s);return a.binaryShiftByteCount===2047+31&&(a=a.endBinaryShift(e+1)),a},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=owe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(a1[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var s=new Mr;try{for(var a=uwe(i),l=a.next();!l.done;l=a.next()){var c=l.value;c.appendTo(s,e)}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return it.format("%s bits=%d bytes=%d",swe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(awe,Xs,0,0),t}();function dwe(t){var e=it.getCharCode(" "),r=it.getCharCode("."),n=it.getCharCode(",");t[Xs][e]=1;for(var i=it.getCharCode("Z"),o=it.getCharCode("A"),s=o;s<=i;s++)t[Xs][s]=s-o+2;t[O0][e]=1;for(var a=it.getCharCode("z"),l=it.getCharCode("a"),s=l;s<=a;s++)t[O0][s]=s-l+2;t[fi][e]=1;for(var c=it.getCharCode("9"),u=it.getCharCode("0"),s=u;s<=c;s++)t[fi][s]=s-u+2;t[fi][n]=12,t[fi][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)t[SN][it.getCharCode(f[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)it.getCharCode(h[d])>0&&(t[io][it.getCharCode(h[d])]=d);return t}var l1=dwe(xr.createInt32Array(5,256)),rp=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hwe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=it.getCharCode(" "),r=it.getCharCode(`
`),n=iP.singletonList(fwe.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case it.getCharCode("\r"):o=s===r?2:0;break;case it.getCharCode("."):o=s===e?3:0;break;case it.getCharCode(","):o=s===e?4:0;break;case it.getCharCode(":"):o=s===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var a=iP.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return a.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,o=[];try{for(var s=rp(e),a=s.next();!a.done;a=s.next()){var l=a.value;this.updateStateForChar(l,r,o)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,o=l1[e.getMode()][i]>0,s=null,a=0;a<=io;a++){var l=l1[a][i];if(l>0){if(s==null&&(s=e.endBinaryShift(r)),!o||a===e.getMode()||a===fi){var c=s.latchAndAppend(a,l);n.push(c)}if(!o&&CN[e.getMode()][a]>=0){var u=s.shiftAndAppend(a,l);n.push(u)}}}if(e.getBinaryShiftByteCount()>0||l1[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,o,s=[];try{for(var a=rp(e),l=a.next();!l.done;l=a.next()){var c=l.value;this.updateStateForPair(c,r,n,s)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,i){var o=e.endBinaryShift(r);if(i.push(o.latchAndAppend(io,n)),e.getMode()!==io&&i.push(o.shiftAndAppend(io,n)),n===3||n===4){var s=o.latchAndAppend(fi,16-n).latchAndAppend(fi,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var a=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(a)}},t.simplifyStates=function(e){var r,n,i,o,s=[];try{for(var a=rp(e),l=a.next();!l.done;l=a.next()){var c=l.value,u=!0,f=function(g){if(g.isBetterThanOrEqualTo(c))return u=!1,"break";c.isBetterThanOrEqualTo(g)&&(s=s.filter(function(m){return m!==g}))};try{for(var d=(i=void 0,rp(s)),h=d.next();!h.done;h=d.next()){var p=h.value,y=f(p);if(y==="break")break}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}u&&s.push(c)}}catch(g){r={error:g}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s},t}(),pwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new hwe(e).encode(),o=qe.truncDivision(i.getSize()*r,100)+11,s=i.getSize()+o,a,l,c,u,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(a=n<0,l=Math.abs(n),l>(a?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Ne(it.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,a),u=t.WORD_SIZE[l];var d=c-c%u;if(f=t.stuffBits(i,u),f.getSize()+o>d)throw new Ne("Data to large for user specified layer");if(a&&f.getSize()>u*64)throw new Ne("Data to large for user specified layer")}else{u=0,f=null;for(var h=0;;h++){if(h>t.MAX_NB_BITS)throw new Ne("Data too large for an Aztec code");if(a=h<=3,l=a?h+1:h,c=t.totalBitsInLayer(l,a),!(s>c)){(f==null||u!==t.WORD_SIZE[l])&&(u=t.WORD_SIZE[l],f=t.stuffBits(i,u));var d=c-c%u;if(!(a&&f.getSize()>u*64)&&f.getSize()+o<=d)break}}}var p=t.generateCheckWords(f,c,u),y=f.getSize()/u,g=t.generateModeMessage(a,l,y),m=(a?11:14)+l*4,v=new Int32Array(m),_;if(a){_=m;for(var h=0;h<v.length;h++)v[h]=h}else{_=m+1+2*qe.truncDivision(qe.truncDivision(m,2)-1,15);for(var x=qe.truncDivision(m,2),b=qe.truncDivision(_,2),h=0;h<x;h++){var w=h+qe.truncDivision(h,15);v[x-h-1]=b-w-1,v[x+h]=b+w+1}}for(var E=new _o(_),h=0,S=0;h<l;h++){for(var P=(l-h)*4+(a?9:12),C=0;C<P;C++)for(var A=C*2,T=0;T<2;T++)p.get(S+A+T)&&E.set(v[h*2+T],v[h*2+C]),p.get(S+P*2+A+T)&&E.set(v[h*2+C],v[m-1-h*2-T]),p.get(S+P*4+A+T)&&E.set(v[m-1-h*2-T],v[m-1-h*2-C]),p.get(S+P*6+A+T)&&E.set(v[m-1-h*2-C],v[h*2+T]);S+=P*8}if(t.drawModeMessage(E,a,_,g),a)t.drawBullsEye(E,qe.truncDivision(_,2),5);else{t.drawBullsEye(E,qe.truncDivision(_,2),7);for(var h=0,C=0;h<qe.truncDivision(m,2)-1;h+=15,C+=16)for(var T=qe.truncDivision(_,2)&1;T<_;T+=2)E.set(qe.truncDivision(_,2)-C,T),E.set(qe.truncDivision(_,2)+C,T),E.set(T,qe.truncDivision(_,2)-C),E.set(T,qe.truncDivision(_,2)+C)}var I=new ewe;return I.setCompact(a),I.setSize(_),I.setLayers(l),I.setCodeWords(y),I.setMatrix(E),I},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var o=r-i;o<=r+i;o++)e.set(o,r-i),e.set(o,r+i),e.set(r-i,o),e.set(r+i,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new Mr;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var o=qe.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var a=o-3+s;i.get(s)&&e.set(a,o-5),i.get(s+7)&&e.set(o+5,a),i.get(20-s)&&e.set(a,o+5),i.get(27-s)&&e.set(o-5,a)}else for(var s=0;s<10;s++){var a=o-5+s+qe.truncDivision(s,5);i.get(s)&&e.set(a,o-7),i.get(s+10)&&e.set(o+7,a),i.get(29-s)&&e.set(a,o+7),i.get(39-s)&&e.set(o-7,a)}},t.generateCheckWords=function(e,r,n){var i,o,s=e.getSize()/n,a=new wN(t.getGF(n)),l=qe.truncDivision(r,n),c=t.bitsToWords(e,n,l);a.encode(c,l-s);var u=r%n,f=new Mr;f.appendBits(0,u);try{for(var d=pwe(Array.from(c)),h=d.next();!h.done;h=d.next()){var p=h.value;f.appendBits(p,n)}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),o,s;for(o=0,s=e.getSize()/r;o<s;o++){for(var a=0,l=0;l<r;l++)a|=e.get(o*r+l)?1<<r-l-1:0;i[o]=a}return i},t.getGF=function(e){switch(e){case 4:return Cn.AZTEC_PARAM;case 6:return Cn.AZTEC_DATA_6;case 8:return Cn.AZTEC_DATA_8;case 10:return Cn.AZTEC_DATA_10;case 12:return Cn.AZTEC_DATA_12;default:throw new Ne("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Mr,i=e.getSize(),o=(1<<r)-2,s=0;s<i;s+=r){for(var a=0,l=0;l<r;l++)(s+l>=i||e.get(s+l))&&(a|=1<<r-1-l);(a&o)===o?(n.appendBits(a&o,r),s--):a&o?n.appendBits(a,r):(n.appendBits(a|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var gwe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mwe=function(t){gwe(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var o=new Uint8ClampedArray(n*i),s=0,a=0,l=r.length;s<l;s+=4,a++){var c=void 0,u=r[s+3];if(u===0)c=255;else{var f=r[s],d=r[s+1],h=r[s+2];c=306*f+601*d+117*h+512>>10}o[a]=c}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ne("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new Qg(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),l=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);n.width=a,n.height=l;var c=n.getContext("2d");if(!c)throw new Error("Could not create a Canvas Context element.");return c.translate(a/2,l/2),c.rotate(i),c.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Yd);function AN(){return typeof navigator<"u"}function vwe(){return AN()&&!!navigator.mediaDevices}function ywe(){return!!(vwe()&&navigator.mediaDevices.enumerateDevices)}var bc=globalThis&&globalThis.__assign||function(){return bc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bc.apply(this,arguments)},Wt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})},Xt=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},c1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_we={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},_u=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=bc(bc({},_we),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Mt.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return Wt(this,void 0,void 0,function(){return Xt(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var o=c1(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(t.mediaStreamIsTorchCompatibleTrack(a))return!0}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new nr("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new nr("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new mwe(e),n=new uN(r);return new cN(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new nr("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,o=n.height;return r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r},t.tryPlayVideo=function(e){return Wt(this,void 0,void 0,function(){var r;return Xt(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return Wt(this,void 0,void 0,function(){var e,r,n,i,o,s,a,l,c,u,f,d;return Xt(this,function(h){switch(h.label){case 0:if(!AN())throw new Error("Can't enumerate devices, navigator is not present.");if(!ywe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=c1(e),i=n.next();!i.done;i=n.next())o=i.value,s=o.kind==="video"?"videoinput":o.kind,s==="videoinput"&&(a=o.deviceId||o.id,l=o.label||"Video device ".concat(r.length+1),c=o.groupId,u={deviceId:a,label:l,kind:s,groupId:c},r.push(u))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return Wt(this,void 0,void 0,function(){var r;return Xt(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return Wt(this,void 0,void 0,function(){var n;return Xt(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(o,s){var a=setTimeout(function(){t.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",l))},r),l=function(){t.tryPlayVideo(e).then(function(c){clearTimeout(a),e.removeEventListener("canplay",l),o(c)})};e.addEventListener("canplay",l)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),Wt(this,void 0,void 0,function(){var i;return Xt(this,function(o){switch(o.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return o.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,o=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",s),n())},i),s=function(){clearTimeout(o),e.removeEventListener("load",s),r()};e.addEventListener("load",s)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new nr("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return Wt(this,void 0,void 0,function(){var r;return Xt(this,function(n){switch(n.label){case 0:if(!e)throw new nr("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return Wt(this,void 0,void 0,function(){var r;return Xt(this,function(n){switch(n.label){case 0:if(!e)throw new nr("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Wt(this,void 0,void 0,function(){var i,o;return Xt(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,s.sent()];case 4:throw o=s.sent(),t.disposeMediaStream(i),o;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return Wt(this,void 0,void 0,function(){var i,o,s,a,l,c,u,f,d,h=this;return Xt(this,function(p){switch(p.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return o=p.sent(),s=function(){t.disposeMediaStream(e),t.cleanVideoSource(o)},a=this.scan(o,n,s),l=e.getVideoTracks(),c=bc(bc({},a),{stop:function(){a.stop()},streamVideoConstraintsApply:function(y,g){return Wt(this,void 0,void 0,function(){var m,v,_,x,b,w,E;return Xt(this,function(S){switch(S.label){case 0:m=g?l.filter(g):l,S.label=1;case 1:S.trys.push([1,6,7,8]),v=c1(m),_=v.next(),S.label=2;case 2:return _.done?[3,5]:(x=_.value,[4,x.applyConstraints(y)]);case 3:S.sent(),S.label=4;case 4:return _=v.next(),[3,2];case 5:return[3,8];case 6:return b=S.sent(),w={error:b},[3,8];case 7:try{_&&!_.done&&(E=v.return)&&E.call(v)}finally{if(w)throw w.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(y){return l.find(y).getConstraints()},streamVideoSettingsGet:function(y){return l.find(y).getSettings()},streamVideoCapabilitiesGet:function(y){return l.find(y).getCapabilities()}}),u=t.mediaStreamIsTorchCompatible(e),u&&(f=l==null?void 0:l.find(function(y){return t.mediaStreamIsTorchCompatibleTrack(y)}),d=function(y){return Wt(h,void 0,void 0,function(){return Xt(this,function(g){switch(g.label){case 0:return[4,t.mediaStreamSetTorch(f,y)];case 1:return g.sent(),[2]}})})},c.switchTorch=d,c.stop=function(){return Wt(h,void 0,void 0,function(){return Xt(this,function(y){switch(y.label){case 0:return a.stop(),[4,d(!1)];case 1:return y.sent(),[2]}})})}),[2,c]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Wt(this,void 0,void 0,function(){var i,o;return Xt(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return Wt(this,void 0,void 0,function(){var n,i;return Xt(this,function(o){switch(o.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new nr("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return o.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return Wt(this,void 0,void 0,function(){var n,i,o,s;return Xt(this,function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new nr("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,o)];case 1:return a.sent(),s=this.scan(n,r,i),[2,s]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Wt(this,void 0,void 0,function(){var n;return Xt(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Wt(this,void 0,void 0,function(){var n,i,o;return Xt(this,function(s){switch(s.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return o=s.sent(),[2,o];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Wt(this,void 0,void 0,function(){var n,i;return Xt(this,function(o){switch(o.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return Wt(this,void 0,void 0,function(){var r,n;return Xt(this,function(i){switch(i.label){case 0:if(!e)throw new nr("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return Wt(this,void 0,void 0,function(){var r,n;return Xt(this,function(i){switch(i.label){case 0:if(!e)throw new nr("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var o=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(s,a){o.scan(e,function(l,c,u){if(l){s(l),u.stop();return}if(c){if(c instanceof oe&&r||c instanceof ur&&n||c instanceof me&&i)return;u.stop(),a(c)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var o=t.createCaptureCanvas(e),s;try{s=o.getContext("2d",{willReadFrequently:!0})}catch{s=o.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var a=function(){s=void 0,o=void 0},l=!1,c,u=function(){l=!0,clearTimeout(c),a(),n&&n()},f={stop:u},d=function(){if(!l)try{t.drawImageOnCanvas(s,e);var h=i.decodeFromCanvas(o);r(h,void 0,f),c=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(m){r(void 0,m,f);var p=m instanceof ur,y=m instanceof me,g=m instanceof oe;if(p||y||g){c=setTimeout(d,i.options.delayBetweenScanAttempts);return}a(),n&&n(m)}};return d(),f},t.prototype._decodeOnLoadImage=function(e){return Wt(this,void 0,void 0,function(){var r;return Xt(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return Wt(this,void 0,void 0,function(){var r;return Xt(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),xwe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){xwe(e,t);function e(r,n){return t.call(this,new C0,r,n)||this}return e})(_u);var bwe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){bwe(e,t);function e(r,n){return t.call(this,new _c(r),r,n)||this}return e})(_u);var wwe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){wwe(e,t);function e(r,n){return t.call(this,new T0,r,n)||this}return e})(_u);var Ewe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Ewe(e,t);function e(r,n){var i=this,o=new bN;return o.setHints(r),i=t.call(this,o,r,n)||this,i.reader=o,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(Mt.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e})(_u);var Swe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Swe(e,t);function e(r,n){return t.call(this,new I0,r,n)||this}return e})(_u);var Cwe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ETe=function(t){Cwe(e,t);function e(r,n){return t.call(this,new P0,r,n)||this}return e}(_u);const TN=new Set,Xn=new WeakMap,Rc=new WeakMap,El=new WeakMap,Y_=new WeakMap,Awe=new WeakMap,eu=new WeakMap,R0=new WeakMap;let ia;const za="__aa_tgt",K_="__aa_del",Twe=t=>{const e=Mwe(t);e&&e.forEach(r=>Dwe(r))},Pwe=t=>{t.forEach(e=>{e.target===ia&&Owe(),Xn.has(e.target)&&Ll(e.target)})};function Iwe(t){const e=Y_.get(t);e==null||e.disconnect();let r=Xn.get(t),n=0;const i=5;r||(r=tu(t),Xn.set(t,r));const{offsetWidth:o,offsetHeight:s}=ia,l=[r.top-i,o-(r.left+i+r.width),s-(r.top+i+r.height),r.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++n>1&&Ll(t)},{root:ia,threshold:1,rootMargin:l});c.observe(t),Y_.set(t,c)}function Ll(t){clearTimeout(R0.get(t));const e=rm(t),r=typeof e=="function"?500:e.duration;R0.set(t,setTimeout(()=>{const n=El.get(t);(!n||n.finished)&&(Xn.set(t,tu(t)),Iwe(t))},r))}function Owe(){clearTimeout(R0.get(ia)),R0.set(ia,setTimeout(()=>{TN.forEach(t=>ON(t,e=>PN(()=>Ll(e))))},100))}function Rwe(t){setTimeout(()=>{Awe.set(t,setInterval(()=>PN(Ll.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function PN(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let q_,wc;typeof window<"u"&&(ia=document.documentElement,q_=new MutationObserver(Twe),wc=new ResizeObserver(Pwe),wc.observe(ia));function Mwe(t){return t.reduce((e,r)=>{if(e===!1)return!1;if(r.target instanceof Element){if(u1(r.target),!e.has(r.target)){e.add(r.target);for(let n=0;n<r.target.children.length;n++){const i=r.target.children.item(n);if(i){if(K_ in i)return!1;u1(r.target,i),e.add(i)}}}if(r.removedNodes.length)for(let n=0;n<r.removedNodes.length;n++){const i=r.removedNodes[n];if(K_ in i)return!1;i instanceof Element&&(e.add(i),u1(r.target,i),Rc.set(i,[r.previousSibling,r.nextSibling]))}}return e},new Set)}function u1(t,e){!e&&!(za in t)?Object.defineProperty(t,za,{value:t}):e&&!(za in e)&&Object.defineProperty(e,za,{value:t})}function Dwe(t){var e;const r=ia.contains(t),n=Xn.has(t);r&&Rc.has(t)&&Rc.delete(t),El.has(t)&&((e=El.get(t))===null||e===void 0||e.cancel()),n&&r?Bwe(t):n&&!r?Nwe(t):kwe(t)}function qi(t){return Number(t.replace(/[^0-9.\-]/g,""))}function tu(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function IN(t,e,r){let n=e.width,i=e.height,o=r.width,s=r.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=qi(a.paddingTop)+qi(a.paddingBottom)+qi(a.borderTopWidth)+qi(a.borderBottomWidth),u=qi(a.paddingLeft)+qi(a.paddingRight)+qi(a.borderRightWidth)+qi(a.borderLeftWidth);n-=u,o-=u,i-=c,s-=c}return[n,o,i,s].map(Math.round)}function rm(t){return za in t&&eu.has(t[za])?eu.get(t[za]):{duration:250,easing:"ease-in-out"}}function ON(t,...e){e.forEach(r=>r(t,eu.has(t)));for(let r=0;r<t.children.length;r++){const n=t.children.item(r);n&&e.forEach(i=>i(n,eu.has(n)))}}function Bwe(t){const e=Xn.get(t),r=tu(t);let n;if(!e)return;const i=rm(t);if(typeof i!="function"){const o=e.left-r.left,s=e.top-r.top,[a,l,c,u]=IN(t,e,r),f={transform:`translate(${o}px, ${s}px)`},d={transform:"translate(0, 0)"};a!==l&&(f.width=`${a}px`,d.width=`${l}px`),c!==u&&(f.height=`${c}px`,d.height=`${u}px`),n=t.animate([f,d],i)}else n=new Animation(i(t,"remain",e,r)),n.play();El.set(t,n),Xn.set(t,r),n.addEventListener("finish",Ll.bind(null,t))}function kwe(t){const e=tu(t);Xn.set(t,e);const r=rm(t);let n;typeof r!="function"?n=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:r.duration*1.5,easing:"ease-in"}):(n=new Animation(r(t,"add",e)),n.play()),El.set(t,n),n.addEventListener("finish",Ll.bind(null,t))}function Nwe(t){if(!Rc.has(t)||!Xn.has(t))return;const[e,r]=Rc.get(t);Object.defineProperty(t,K_,{value:!0}),r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(t,r):e&&e.parentNode&&e.parentNode.appendChild(t);const[n,i,o,s]=Fwe(t),a=rm(t),l=Xn.get(t);let c;Object.assign(t.style,{position:"absolute",top:`${n}px`,left:`${i}px`,width:`${o}px`,height:`${s}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof a!="function"?c=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:a.duration,easing:"ease-out"}):(c=new Animation(a(t,"remove",l)),c.play()),El.set(t,c),c.addEventListener("finish",()=>{var u;t.remove(),Xn.delete(t),Rc.delete(t),El.delete(t),(u=Y_.get(t))===null||u===void 0||u.disconnect()})}function Fwe(t){const e=Xn.get(t),[r,,n]=IN(t,e,tu(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const o=getComputedStyle(i),s=Xn.get(i)||tu(i),a=Math.round(e.top-s.top)-qi(o.borderTopWidth),l=Math.round(e.left-s.left)-qi(o.borderLeftWidth);return[a,l,r,n]}function STe(t,e={}){q_&&wc&&(getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),ON(t,Ll,Rwe,r=>wc==null?void 0:wc.observe(r)),typeof e=="function"?eu.set(t,e):eu.set(t,{duration:250,easing:"ease-in-out",...e}),q_.observe(t,{childList:!0}),TN.add(t))}var xu=TypeError;const Lwe=$x(upe);var b2=typeof Map=="function"&&Map.prototype,f1=Object.getOwnPropertyDescriptor&&b2?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,M0=b2&&f1&&typeof f1.get=="function"?f1.get:null,oP=b2&&Map.prototype.forEach,w2=typeof Set=="function"&&Set.prototype,d1=Object.getOwnPropertyDescriptor&&w2?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,D0=w2&&d1&&typeof d1.get=="function"?d1.get:null,sP=w2&&Set.prototype.forEach,$we=typeof WeakMap=="function"&&WeakMap.prototype,If=$we?WeakMap.prototype.has:null,Uwe=typeof WeakSet=="function"&&WeakSet.prototype,Of=Uwe?WeakSet.prototype.has:null,Gwe=typeof WeakRef=="function"&&WeakRef.prototype,aP=Gwe?WeakRef.prototype.deref:null,Hwe=Boolean.prototype.valueOf,Vwe=Object.prototype.toString,zwe=Function.prototype.toString,jwe=String.prototype.match,E2=String.prototype.slice,Ls=String.prototype.replace,Wwe=String.prototype.toUpperCase,lP=String.prototype.toLowerCase,RN=RegExp.prototype.test,cP=Array.prototype.concat,Qi=Array.prototype.join,Xwe=Array.prototype.slice,uP=Math.floor,Z_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,h1=Object.getOwnPropertySymbols,J_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ru=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Rf=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ru||"symbol")?Symbol.toStringTag:null,MN=Object.prototype.propertyIsEnumerable,fP=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function dP(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||RN.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-uP(-t):uP(t);if(n!==t){var i=String(n),o=E2.call(e,i.length+1);return Ls.call(i,r,"$&_")+"."+Ls.call(Ls.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ls.call(e,r,"$&_")}var Q_=Lwe,hP=Q_.custom,pP=kN(hP)?hP:null,DN={__proto__:null,double:'"',single:"'"},Ywe={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},nm=function t(e,r,n,i){var o=r||{};if(ko(o,"quoteStyle")&&!ko(DN,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ko(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=ko(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ko(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ko(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return FN(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?dP(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?dP(e,c):c}var u=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return ex(e)?"[Array]":"[Object]";var f=d2e(o,n);if(typeof i>"u")i=[];else if(NN(i,e)>=0)return"[Circular]";function d(I,B,G){if(B&&(i=Xwe.call(i),i.push(B)),G){var N={depth:o.depth};return ko(o,"quoteStyle")&&(N.quoteStyle=o.quoteStyle),t(I,N,n+1,i)}return t(I,o,n+1,i)}if(typeof e=="function"&&!gP(e)){var h=n2e(e),p=np(e,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(p.length>0?" { "+Qi.call(p,", ")+" }":"")}if(kN(e)){var y=ru?Ls.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):J_.call(e);return typeof e=="object"&&!ru?Wu(y):y}if(c2e(e)){for(var g="<"+lP.call(String(e.nodeName)),m=e.attributes||[],v=0;v<m.length;v++)g+=" "+m[v].name+"="+BN(Kwe(m[v].value),"double",o);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+lP.call(String(e.nodeName))+">",g}if(ex(e)){if(e.length===0)return"[]";var _=np(e,d);return f&&!f2e(_)?"["+tx(_,f)+"]":"[ "+Qi.call(_,", ")+" ]"}if(Zwe(e)){var x=np(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!MN.call(e,"cause")?"{ ["+String(e)+"] "+Qi.call(cP.call("[cause]: "+d(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Qi.call(x,", ")+" }"}if(typeof e=="object"&&s){if(pP&&typeof e[pP]=="function"&&Q_)return Q_(e,{depth:u-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(i2e(e)){var b=[];return oP&&oP.call(e,function(I,B){b.push(d(B,e,!0)+" => "+d(I,e))}),mP("Map",M0.call(e),b,f)}if(a2e(e)){var w=[];return sP&&sP.call(e,function(I){w.push(d(I,e))}),mP("Set",D0.call(e),w,f)}if(o2e(e))return p1("WeakMap");if(l2e(e))return p1("WeakSet");if(s2e(e))return p1("WeakRef");if(Qwe(e))return Wu(d(Number(e)));if(t2e(e))return Wu(d(Z_.call(e)));if(e2e(e))return Wu(Hwe.call(e));if(Jwe(e))return Wu(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof al<"u"&&e===al)return"{ [object globalThis] }";if(!qwe(e)&&!gP(e)){var E=np(e,d),S=fP?fP(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",C=!S&&Rf&&Object(e)===e&&Rf in e?E2.call(ha(e),8,-1):P?"Object":"",A=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",T=A+(C||P?"["+Qi.call(cP.call([],C||[],P||[]),": ")+"] ":"");return E.length===0?T+"{}":f?T+"{"+tx(E,f)+"}":T+"{ "+Qi.call(E,", ")+" }"}return String(e)};function BN(t,e,r){var n=r.quoteStyle||e,i=DN[n];return i+t+i}function Kwe(t){return Ls.call(String(t),/"/g,"&quot;")}function $l(t){return!Rf||!(typeof t=="object"&&(Rf in t||typeof t[Rf]<"u"))}function ex(t){return ha(t)==="[object Array]"&&$l(t)}function qwe(t){return ha(t)==="[object Date]"&&$l(t)}function gP(t){return ha(t)==="[object RegExp]"&&$l(t)}function Zwe(t){return ha(t)==="[object Error]"&&$l(t)}function Jwe(t){return ha(t)==="[object String]"&&$l(t)}function Qwe(t){return ha(t)==="[object Number]"&&$l(t)}function e2e(t){return ha(t)==="[object Boolean]"&&$l(t)}function kN(t){if(ru)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!J_)return!1;try{return J_.call(t),!0}catch{}return!1}function t2e(t){if(!t||typeof t!="object"||!Z_)return!1;try{return Z_.call(t),!0}catch{}return!1}var r2e=Object.prototype.hasOwnProperty||function(t){return t in this};function ko(t,e){return r2e.call(t,e)}function ha(t){return Vwe.call(t)}function n2e(t){if(t.name)return t.name;var e=jwe.call(zwe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function NN(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function i2e(t){if(!M0||!t||typeof t!="object")return!1;try{M0.call(t);try{D0.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function o2e(t){if(!If||!t||typeof t!="object")return!1;try{If.call(t,If);try{Of.call(t,Of)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function s2e(t){if(!aP||!t||typeof t!="object")return!1;try{return aP.call(t),!0}catch{}return!1}function a2e(t){if(!D0||!t||typeof t!="object")return!1;try{D0.call(t);try{M0.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function l2e(t){if(!Of||!t||typeof t!="object")return!1;try{Of.call(t,Of);try{If.call(t,If)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function c2e(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function FN(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return FN(E2.call(t,0,e.maxStringLength),e)+n}var i=Ywe[e.quoteStyle||"single"];i.lastIndex=0;var o=Ls.call(Ls.call(t,i,"\\$1"),/[\x00-\x1f]/g,u2e);return BN(o,"single",e)}function u2e(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Wwe.call(e.toString(16))}function Wu(t){return"Object("+t+")"}function p1(t){return t+" { ? }"}function mP(t,e,r,n){var i=n?tx(r,n):Qi.call(r,", ");return t+" ("+e+") {"+i+"}"}function f2e(t){for(var e=0;e<t.length;e++)if(NN(t[e],`
`)>=0)return!1;return!0}function d2e(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Qi.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Qi.call(Array(e+1),r)}}function tx(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Qi.call(t,","+r)+`
`+e.prev}function np(t,e){var r=ex(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ko(t,i)?e(t[i],t):""}var o=typeof h1=="function"?h1(t):[],s;if(ru){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in t)ko(t,l)&&(r&&String(Number(l))===l&&l<t.length||ru&&s["$"+l]instanceof Symbol||(RN.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof h1=="function")for(var c=0;c<o.length;c++)MN.call(t,o[c])&&n.push("["+e(o[c])+"]: "+e(t[o[c]],t));return n}var h2e=nm,p2e=xu,im=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},g2e=function(t,e){if(t){var r=im(t,e);return r&&r.value}},m2e=function(t,e,r){var n=im(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},v2e=function(t,e){return t?!!im(t,e):!1},y2e=function(t,e){if(t)return im(t,e,!0)},_2e=function(){var e,r={assert:function(n){if(!r.has(n))throw new p2e("Side channel does not contain "+h2e(n))},delete:function(n){var i=e&&e.next,o=y2e(e,n);return o&&i&&i===o&&(e=void 0),!!o},get:function(n){return g2e(e,n)},has:function(n){return v2e(e,n)},set:function(n,i){e||(e={next:void 0}),m2e(e,n,i)}};return r},LN=Object,x2e=Error,b2e=EvalError,w2e=RangeError,E2e=ReferenceError,S2e=SyntaxError,C2e=URIError,A2e=Math.abs,T2e=Math.floor,P2e=Math.max,I2e=Math.min,O2e=Math.pow,R2e=Math.round,M2e=Number.isNaN||function(e){return e!==e},D2e=M2e,B2e=function(e){return D2e(e)||e===0?e:e<0?-1:1},k2e=Object.getOwnPropertyDescriptor,Op=k2e;if(Op)try{Op([],"length")}catch{Op=null}var $N=Op,Rp=Object.defineProperty||!1;if(Rp)try{Rp({},"a",{value:1})}catch{Rp=!1}var N2e=Rp,g1,vP;function F2e(){return vP||(vP=1,g1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),g1}var m1,yP;function L2e(){if(yP)return m1;yP=1;var t=typeof Symbol<"u"&&Symbol,e=F2e();return m1=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},m1}var v1,_P;function UN(){return _P||(_P=1,v1=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),v1}var y1,xP;function GN(){if(xP)return y1;xP=1;var t=LN;return y1=t.getPrototypeOf||null,y1}var _1,bP;function $2e(){if(bP)return _1;bP=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],f=0;f<l.length;f+=1)u[f]=l[f];for(var d=0;d<c.length;d+=1)u[d+l.length]=c[d];return u},o=function(l,c){for(var u=[],f=c||0,d=0;f<l.length;f+=1,d+=1)u[d]=l[f];return u},s=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return _1=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=o(arguments,1),f,d=function(){if(this instanceof f){var m=c.apply(this,i(u,arguments));return Object(m)===m?m:this}return c.apply(l,i(u,arguments))},h=r(0,c.length-u.length),p=[],y=0;y<h;y++)p[y]="$"+y;if(f=Function("binder","return function ("+s(p,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var g=function(){};g.prototype=c.prototype,f.prototype=new g,g.prototype=null}return f},_1}var x1,wP;function om(){if(wP)return x1;wP=1;var t=$2e();return x1=Function.prototype.bind||t,x1}var b1,EP;function S2(){return EP||(EP=1,b1=Function.prototype.call),b1}var w1,SP;function HN(){return SP||(SP=1,w1=Function.prototype.apply),w1}var U2e=typeof Reflect<"u"&&Reflect&&Reflect.apply,G2e=om(),H2e=HN(),V2e=S2(),z2e=U2e,j2e=z2e||G2e.call(V2e,H2e),W2e=om(),X2e=xu,Y2e=S2(),K2e=j2e,VN=function(e){if(e.length<1||typeof e[0]!="function")throw new X2e("a function is required");return K2e(W2e,Y2e,e)},E1,CP;function q2e(){if(CP)return E1;CP=1;var t=VN,e=$N,r;try{r=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return E1=n&&typeof n.get=="function"?t([n.get]):typeof o=="function"?function(a){return o(a==null?a:i(a))}:!1,E1}var S1,AP;function Z2e(){if(AP)return S1;AP=1;var t=UN(),e=GN(),r=q2e();return S1=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,S1}var C1,TP;function J2e(){if(TP)return C1;TP=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=om();return C1=r.call(t,e),C1}var Je,Q2e=LN,eEe=x2e,tEe=b2e,rEe=w2e,nEe=E2e,nu=S2e,Mc=xu,iEe=C2e,oEe=A2e,sEe=T2e,aEe=P2e,lEe=I2e,cEe=O2e,uEe=R2e,fEe=B2e,zN=Function,A1=function(t){try{return zN('"use strict"; return ('+t+").constructor;")()}catch{}},vd=$N,dEe=N2e,T1=function(){throw new Mc},hEe=vd?function(){try{return arguments.callee,T1}catch{try{return vd(arguments,"callee").get}catch{return T1}}}():T1,oc=L2e()(),Pr=Z2e(),pEe=GN(),gEe=UN(),jN=HN(),qd=S2(),hc={},mEe=typeof Uint8Array>"u"||!Pr?Je:Pr(Uint8Array),rl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Je:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Je:ArrayBuffer,"%ArrayIteratorPrototype%":oc&&Pr?Pr([][Symbol.iterator]()):Je,"%AsyncFromSyncIteratorPrototype%":Je,"%AsyncFunction%":hc,"%AsyncGenerator%":hc,"%AsyncGeneratorFunction%":hc,"%AsyncIteratorPrototype%":hc,"%Atomics%":typeof Atomics>"u"?Je:Atomics,"%BigInt%":typeof BigInt>"u"?Je:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Je:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Je:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Je:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":eEe,"%eval%":eval,"%EvalError%":tEe,"%Float16Array%":typeof Float16Array>"u"?Je:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Je:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Je:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Je:FinalizationRegistry,"%Function%":zN,"%GeneratorFunction%":hc,"%Int8Array%":typeof Int8Array>"u"?Je:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Je:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Je:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":oc&&Pr?Pr(Pr([][Symbol.iterator]())):Je,"%JSON%":typeof JSON=="object"?JSON:Je,"%Map%":typeof Map>"u"?Je:Map,"%MapIteratorPrototype%":typeof Map>"u"||!oc||!Pr?Je:Pr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Q2e,"%Object.getOwnPropertyDescriptor%":vd,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Je:Promise,"%Proxy%":typeof Proxy>"u"?Je:Proxy,"%RangeError%":rEe,"%ReferenceError%":nEe,"%Reflect%":typeof Reflect>"u"?Je:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Je:Set,"%SetIteratorPrototype%":typeof Set>"u"||!oc||!Pr?Je:Pr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Je:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":oc&&Pr?Pr(""[Symbol.iterator]()):Je,"%Symbol%":oc?Symbol:Je,"%SyntaxError%":nu,"%ThrowTypeError%":hEe,"%TypedArray%":mEe,"%TypeError%":Mc,"%Uint8Array%":typeof Uint8Array>"u"?Je:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Je:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Je:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Je:Uint32Array,"%URIError%":iEe,"%WeakMap%":typeof WeakMap>"u"?Je:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Je:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Je:WeakSet,"%Function.prototype.call%":qd,"%Function.prototype.apply%":jN,"%Object.defineProperty%":dEe,"%Object.getPrototypeOf%":pEe,"%Math.abs%":oEe,"%Math.floor%":sEe,"%Math.max%":aEe,"%Math.min%":lEe,"%Math.pow%":cEe,"%Math.round%":uEe,"%Math.sign%":fEe,"%Reflect.getPrototypeOf%":gEe};if(Pr)try{null.error}catch(t){var vEe=Pr(Pr(t));rl["%Error.prototype%"]=vEe}var yEe=function t(e){var r;if(e==="%AsyncFunction%")r=A1("async function () {}");else if(e==="%GeneratorFunction%")r=A1("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=A1("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Pr&&(r=Pr(i.prototype))}return rl[e]=r,r},PP={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zd=om(),B0=J2e(),_Ee=Zd.call(qd,Array.prototype.concat),xEe=Zd.call(jN,Array.prototype.splice),IP=Zd.call(qd,String.prototype.replace),k0=Zd.call(qd,String.prototype.slice),bEe=Zd.call(qd,RegExp.prototype.exec),wEe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,EEe=/\\(\\)?/g,SEe=function(e){var r=k0(e,0,1),n=k0(e,-1);if(r==="%"&&n!=="%")throw new nu("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new nu("invalid intrinsic syntax, expected opening `%`");var i=[];return IP(e,wEe,function(o,s,a,l){i[i.length]=a?IP(l,EEe,"$1"):s||o}),i},CEe=function(e,r){var n=e,i;if(B0(PP,n)&&(i=PP[n],n="%"+i[0]+"%"),B0(rl,n)){var o=rl[n];if(o===hc&&(o=yEe(n)),typeof o>"u"&&!r)throw new Mc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new nu("intrinsic "+e+" does not exist!")},C2=function(e,r){if(typeof e!="string"||e.length===0)throw new Mc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Mc('"allowMissing" argument must be a boolean');if(bEe(/^%?[^%]*%?$/,e)===null)throw new nu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=SEe(e),i=n.length>0?n[0]:"",o=CEe("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],xEe(n,_Ee([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var d=n[u],h=k0(d,0,1),p=k0(d,-1);if((h==='"'||h==="'"||h==="`"||p==='"'||p==="'"||p==="`")&&h!==p)throw new nu("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,s="%"+i+"%",B0(rl,s))a=rl[s];else if(a!=null){if(!(d in a)){if(!r)throw new Mc("base intrinsic for "+e+" exists, but the property is not available.");return}if(vd&&u+1>=n.length){var y=vd(a,d);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[d]}else f=B0(a,d),a=a[d];f&&!l&&(rl[s]=a)}}return a},WN=C2,XN=VN,AEe=XN([WN("%String.prototype.indexOf%")]),YN=function(e,r){var n=WN(e,!!r);return typeof n=="function"&&AEe(e,".prototype.")>-1?XN([n]):n},TEe=C2,Jd=YN,PEe=nm,IEe=xu,OP=TEe("%Map%",!0),OEe=Jd("Map.prototype.get",!0),REe=Jd("Map.prototype.set",!0),MEe=Jd("Map.prototype.has",!0),DEe=Jd("Map.prototype.delete",!0),BEe=Jd("Map.prototype.size",!0),KN=!!OP&&function(){var e,r={assert:function(n){if(!r.has(n))throw new IEe("Side channel does not contain "+PEe(n))},delete:function(n){if(e){var i=DEe(e,n);return BEe(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return OEe(e,n)},has:function(n){return e?MEe(e,n):!1},set:function(n,i){e||(e=new OP),REe(e,n,i)}};return r},kEe=C2,sm=YN,NEe=nm,ip=KN,FEe=xu,sc=kEe("%WeakMap%",!0),LEe=sm("WeakMap.prototype.get",!0),$Ee=sm("WeakMap.prototype.set",!0),UEe=sm("WeakMap.prototype.has",!0),GEe=sm("WeakMap.prototype.delete",!0),HEe=sc?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new FEe("Side channel does not contain "+NEe(i))},delete:function(i){if(sc&&i&&(typeof i=="object"||typeof i=="function")){if(e)return GEe(e,i)}else if(ip&&r)return r.delete(i);return!1},get:function(i){return sc&&i&&(typeof i=="object"||typeof i=="function")&&e?LEe(e,i):r&&r.get(i)},has:function(i){return sc&&i&&(typeof i=="object"||typeof i=="function")&&e?UEe(e,i):!!r&&r.has(i)},set:function(i,o){sc&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new sc),$Ee(e,i,o)):ip&&(r||(r=ip()),r.set(i,o))}};return n}:ip,VEe=xu,zEe=nm,jEe=_2e,WEe=KN,XEe=HEe,YEe=XEe||WEe||jEe,KEe=function(){var e,r={assert:function(n){if(!r.has(n))throw new VEe("Side channel does not contain "+zEe(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=YEe()),e.set(n,i)}};return r},qEe=String.prototype.replace,ZEe=/%20/g,P1={RFC1738:"RFC1738",RFC3986:"RFC3986"},A2={default:P1.RFC3986,formatters:{RFC1738:function(t){return qEe.call(t,ZEe,"+")},RFC3986:function(t){return String(t)}},RFC1738:P1.RFC1738,RFC3986:P1.RFC3986},JEe=A2,I1=Object.prototype.hasOwnProperty,Da=Array.isArray,Wi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),QEe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Da(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},qN=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},eSe=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Da(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!I1.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Da(e)&&!Da(r)&&(i=qN(e,n)),Da(e)&&Da(r)?(r.forEach(function(o,s){if(I1.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return I1.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},tSe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},rSe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},O1=1024,nSe=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",l=0;l<s.length;l+=O1){for(var c=s.length>=O1?s.slice(l,l+O1):s,u=[],f=0;f<c.length;++f){var d=c.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===JEe.RFC1738&&(d===40||d===41)){u[u.length]=c.charAt(f);continue}if(d<128){u[u.length]=Wi[d];continue}if(d<2048){u[u.length]=Wi[192|d>>6]+Wi[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Wi[224|d>>12]+Wi[128|d>>6&63]+Wi[128|d&63];continue}f+=1,d=65536+((d&1023)<<10|c.charCodeAt(f)&1023),u[u.length]=Wi[240|d>>18]+Wi[128|d>>12&63]+Wi[128|d>>6&63]+Wi[128|d&63]}a+=u.join("")}return a},iSe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:s,prop:c}),n.push(u))}return QEe(r),e},oSe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},sSe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},aSe=function(e,r){return[].concat(e,r)},lSe=function(e,r){if(Da(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},ZN={arrayToObject:qN,assign:tSe,combine:aSe,compact:iSe,decode:rSe,encode:nSe,isBuffer:sSe,isRegExp:oSe,maybeMap:lSe,merge:eSe},JN=KEe,Mp=ZN,Mf=A2,cSe=Object.prototype.hasOwnProperty,QN={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ji=Array.isArray,uSe=Array.prototype.push,e5=function(t,e){uSe.apply(t,Ji(e)?e:[e])},fSe=Date.prototype.toISOString,RP=Mf.default,mr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Mp.encode,encodeValuesOnly:!1,filter:void 0,format:RP,formatter:Mf.formatters[RP],indices:!1,serializeDate:function(e){return fSe.call(e)},skipNulls:!1,strictNullHandling:!1},dSe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},R1={},hSe=function t(e,r,n,i,o,s,a,l,c,u,f,d,h,p,y,g,m,v){for(var _=e,x=v,b=0,w=!1;(x=x.get(R1))!==void 0&&!w;){var E=x.get(e);if(b+=1,typeof E<"u"){if(E===b)throw new RangeError("Cyclic object value");w=!0}typeof x.get(R1)>"u"&&(b=0)}if(typeof u=="function"?_=u(r,_):_ instanceof Date?_=h(_):n==="comma"&&Ji(_)&&(_=Mp.maybeMap(_,function(fe){return fe instanceof Date?h(fe):fe})),_===null){if(s)return c&&!g?c(r,mr.encoder,m,"key",p):r;_=""}if(dSe(_)||Mp.isBuffer(_)){if(c){var S=g?r:c(r,mr.encoder,m,"key",p);return[y(S)+"="+y(c(_,mr.encoder,m,"value",p))]}return[y(r)+"="+y(String(_))]}var P=[];if(typeof _>"u")return P;var C;if(n==="comma"&&Ji(_))g&&c&&(_=Mp.maybeMap(_,c)),C=[{value:_.length>0?_.join(",")||null:void 0}];else if(Ji(u))C=u;else{var A=Object.keys(_);C=f?A.sort(f):A}var T=l?String(r).replace(/\./g,"%2E"):String(r),I=i&&Ji(_)&&_.length===1?T+"[]":T;if(o&&Ji(_)&&_.length===0)return I+"[]";for(var B=0;B<C.length;++B){var G=C[B],N=typeof G=="object"&&G&&typeof G.value<"u"?G.value:_[G];if(!(a&&N===null)){var U=d&&l?String(G).replace(/\./g,"%2E"):String(G),W=Ji(_)?typeof n=="function"?n(I,U):I:I+(d?"."+U:"["+U+"]");v.set(e,b);var K=JN();K.set(R1,v),e5(P,t(N,W,n,i,o,s,a,l,n==="comma"&&g&&Ji(_)?null:c,u,f,d,h,p,y,g,m,K))}}return P},pSe=function(e){if(!e)return mr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||mr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Mf.default;if(typeof e.format<"u"){if(!cSe.call(Mf.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Mf.formatters[n],o=mr.filter;(typeof e.filter=="function"||Ji(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in QN?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=mr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:mr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:mr.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:mr.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:mr.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?mr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:mr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:mr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:mr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:mr.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:mr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:mr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:mr.strictNullHandling}},gSe=function(t,e){var r=t,n=pSe(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Ji(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a=QN[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=JN(),u=0;u<i.length;++u){var f=i[u],d=r[f];n.skipNulls&&d===null||e5(s,hSe(d,f,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var h=s.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},Sl=ZN,rx=Object.prototype.hasOwnProperty,MP=Array.isArray,Zt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Sl.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},mSe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},t5=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},vSe="utf8=%26%2310003%3B",ySe="utf8=%E2%9C%93",_Se=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,r.throwOnLimitExceeded?o+1:o);if(r.throwOnLimitExceeded&&s.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var a=-1,l,c=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===ySe?c="utf-8":s[l]===vSe&&(c="iso-8859-1"),a=l,l=s.length);for(l=0;l<s.length;++l)if(l!==a){var u=s[l],f=u.indexOf("]="),d=f===-1?u.indexOf("="):f+1,h,p;d===-1?(h=r.decoder(u,Zt.decoder,c,"key"),p=r.strictNullHandling?null:""):(h=r.decoder(u.slice(0,d),Zt.decoder,c,"key"),p=Sl.maybeMap(t5(u.slice(d+1),r,MP(n[h])?n[h].length:0),function(g){return r.decoder(g,Zt.decoder,c,"value")})),p&&r.interpretNumericEntities&&c==="iso-8859-1"&&(p=mSe(String(p))),u.indexOf("[]=")>-1&&(p=MP(p)?[p]:p);var y=rx.call(n,h);y&&r.duplicates==="combine"?n[h]=Sl.combine(n[h],p):(!y||r.duplicates==="last")&&(n[h]=p)}return n},xSe=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var o=t.slice(0,-1).join("");i=Array.isArray(e)&&e[o]?e[o].length:0}for(var s=n?e:t5(e,r,i),a=t.length-1;a>=0;--a){var l,c=t[a];if(c==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:Sl.combine([],s);else{l=r.plainObjects?{__proto__:null}:{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,f=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(f,10);!r.parseArrays&&f===""?l={0:s}:!isNaN(d)&&c!==f&&String(d)===f&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(l=[],l[d]=s):f!=="__proto__"&&(l[f]=s)}s=l}return s},bSe=function(e,r,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(o),c=l?o.slice(0,l.index):o,u=[];if(c){if(!n.plainObjects&&rx.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var f=0;n.depth>0&&(l=a.exec(o))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&rx.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+o.slice(l.index)+"]")}return xSe(u,r,n,i)}},wSe=function(e){if(!e)return Zt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Zt.charset:e.charset,n=typeof e.duplicates>"u"?Zt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Zt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Zt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Zt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Zt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Zt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Zt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Zt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Zt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Zt.decoder,delimiter:typeof e.delimiter=="string"||Sl.isRegExp(e.delimiter)?e.delimiter:Zt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Zt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Zt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Zt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Zt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Zt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Zt.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},ESe=function(t,e){var r=wSe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?_Se(t,r):t,i=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],l=bSe(a,n[a],r,typeof t=="string");i=Sl.merge(i,l,r)}return r.allowSparse===!0?i:Sl.compact(i)},SSe=gSe,CSe=ESe,ASe=A2,TSe={formats:ASe,parse:CSe,stringify:SSe};const CTe=lu(TSe);class PSe extends Ig{constructor(){super(),this.handleVisibilityChange=()=>{const e={isActive:document.hidden!==!0};this.notifyListeners("appStateChange",e),document.hidden?this.notifyListeners("pause",null):this.notifyListeners("resume",null)},document.addEventListener("visibilitychange",this.handleVisibilityChange,!1)}exitApp(){throw this.unimplemented("Not implemented on web.")}async getInfo(){throw this.unimplemented("Not implemented on web.")}async getLaunchUrl(){return{url:""}}async getState(){return{isActive:document.hidden!==!0}}async minimizeApp(){throw this.unimplemented("Not implemented on web.")}async toggleBackButtonHandler(){throw this.unimplemented("Not implemented on web.")}}const ISe=Object.freeze(Object.defineProperty({__proto__:null,AppWeb:PSe},Symbol.toStringTag,{value:"Module"}));var DP=function(){return DP=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},DP.apply(this,arguments)};function ATe(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function TTe(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function PTe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function OSe(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),i=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(i),e&&(n.href=e),i.href=t,i.href}const RSe=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Ys(t){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r]);return e}let ac=null;function r5(t={}){return ac||(t.includeStyleProperties?(ac=t.includeStyleProperties,ac):(ac=Ys(window.getComputedStyle(document.documentElement)),ac))}function N0(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function MSe(t){const e=N0(t,"border-left-width"),r=N0(t,"border-right-width");return t.clientWidth+e+r}function DSe(t){const e=N0(t,"border-top-width"),r=N0(t,"border-bottom-width");return t.clientHeight+e+r}function T2(t,e={}){const r=e.width||MSe(t),n=e.height||DSe(t);return{width:r,height:n}}function BSe(){let t,e;try{e=process}catch{}const r=e&&e.env?e.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Nn=16384;function kSe(t){(t.width>Nn||t.height>Nn)&&(t.width>Nn&&t.height>Nn?t.width>t.height?(t.height*=Nn/t.width,t.width=Nn):(t.width*=Nn/t.height,t.height=Nn):t.width>Nn?(t.height*=Nn/t.width,t.width=Nn):(t.width*=Nn/t.height,t.height=Nn))}function NSe(t,e={}){return t.toBlob?new Promise(r=>{t.toBlob(r,e.type?e.type:"image/png",e.quality?e.quality:1)}):new Promise(r=>{const n=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),i=n.length,o=new Uint8Array(i);for(let s=0;s<i;s+=1)o[s]=n.charCodeAt(s);r(new Blob([o],{type:e.type?e.type:"image/png"}))})}function F0(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>e(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=t})}async function FSe(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function LSe(t,e,r){const n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${r}`),i.setAttribute("viewBox",`0 0 ${e} ${r}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(t),FSe(i)}const Mn=(t,e)=>{if(t instanceof e)return!0;const r=Object.getPrototypeOf(t);return r===null?!1:r.constructor.name===e.name||Mn(r,e)};function $Se(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function USe(t,e){return r5(e).map(r=>{const n=t.getPropertyValue(r),i=t.getPropertyPriority(r);return`${r}: ${n}${i?" !important":""};`}).join(" ")}function GSe(t,e,r,n){const i=`.${t}:${e}`,o=r.cssText?$Se(r):USe(r,n);return document.createTextNode(`${i}{${o}}`)}function BP(t,e,r,n){const i=window.getComputedStyle(t,r),o=i.getPropertyValue("content");if(o===""||o==="none")return;const s=RSe();try{e.className=`${e.className} ${s}`}catch{return}const a=document.createElement("style");a.appendChild(GSe(s,r,i,n)),e.appendChild(a)}function HSe(t,e,r){BP(t,e,":before",r),BP(t,e,":after",r)}const kP="application/font-woff",NP="image/jpeg",VSe={woff:kP,woff2:kP,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:NP,jpeg:NP,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function zSe(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function P2(t){const e=zSe(t).toLowerCase();return VSe[e]||""}function jSe(t){return t.split(/,/)[1]}function nx(t){return t.search(/^(data:)/)!==-1}function n5(t,e){return`data:${e};base64,${t}`}async function i5(t,e,r){const n=await fetch(t,e);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const i=await n.blob();return new Promise((o,s)=>{const a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(r({res:n,result:a.result}))}catch(l){s(l)}},a.readAsDataURL(i)})}const M1={};function WSe(t,e,r){let n=t.replace(/\?.*/,"");return r&&(n=t),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),e?`[${e}]${n}`:n}async function I2(t,e,r){const n=WSe(t,e,r.includeQueryParams);if(M1[n]!=null)return M1[n];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const o=await i5(t,r.fetchRequestInit,({res:s,result:a})=>(e||(e=s.headers.get("Content-Type")||""),jSe(a)));i=n5(o,e)}catch(o){i=r.imagePlaceholder||"";let s=`Failed to fetch resource: ${t}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return M1[n]=i,i}async function XSe(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):F0(e)}async function YSe(t,e){if(t.currentSrc){const o=document.createElement("canvas"),s=o.getContext("2d");o.width=t.clientWidth,o.height=t.clientHeight,s==null||s.drawImage(t,0,0,o.width,o.height);const a=o.toDataURL();return F0(a)}const r=t.poster,n=P2(r),i=await I2(r,n,e);return F0(i)}async function KSe(t,e){var r;try{if(!((r=t==null?void 0:t.contentDocument)===null||r===void 0)&&r.body)return await am(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function qSe(t,e){return Mn(t,HTMLCanvasElement)?XSe(t):Mn(t,HTMLVideoElement)?YSe(t,e):Mn(t,HTMLIFrameElement)?KSe(t,e):t.cloneNode(o5(t))}const ZSe=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",o5=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function JSe(t,e,r){var n,i;if(o5(e))return e;let o=[];return ZSe(t)&&t.assignedNodes?o=Ys(t.assignedNodes()):Mn(t,HTMLIFrameElement)&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?o=Ys(t.contentDocument.body.childNodes):o=Ys(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),o.length===0||Mn(t,HTMLVideoElement)||await o.reduce((s,a)=>s.then(()=>am(a,r)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function QSe(t,e,r){const n=e.style;if(!n)return;const i=window.getComputedStyle(t);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):r5(r).forEach(o=>{let s=i.getPropertyValue(o);o==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Mn(t,HTMLIFrameElement)&&o==="display"&&s==="inline"&&(s="block"),o==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),n.setProperty(o,s,i.getPropertyPriority(o))})}function eCe(t,e){Mn(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Mn(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function tCe(t,e){if(Mn(t,HTMLSelectElement)){const r=e,n=Array.from(r.children).find(i=>t.value===i.getAttribute("value"));n&&n.setAttribute("selected","")}}function rCe(t,e,r){return Mn(e,Element)&&(QSe(t,e,r),HSe(t,e,r),eCe(t,e),tCe(t,e)),e}async function nCe(t,e){const r=t.querySelectorAll?t.querySelectorAll("use"):[];if(r.length===0)return t;const n={};for(let o=0;o<r.length;o++){const a=r[o].getAttribute("xlink:href");if(a){const l=t.querySelector(a),c=document.querySelector(a);!l&&c&&!n[a]&&(n[a]=await am(c,e,!0))}}const i=Object.values(n);if(i.length){const o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const a=document.createElementNS(o,"defs");s.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);t.appendChild(s)}return t}async function am(t,e,r){return!r&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(n=>qSe(n,e)).then(n=>JSe(t,n,e)).then(n=>rCe(t,n,e)).then(n=>nCe(n,e))}const s5=/url\((['"]?)([^'"]+?)\1\)/g,iCe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,oCe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function sCe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function aCe(t){const e=[];return t.replace(s5,(r,n,i)=>(e.push(i),r)),e.filter(r=>!nx(r))}async function lCe(t,e,r,n,i){try{const o=r?OSe(e,r):e,s=P2(e);let a;if(i){const l=await i(o);a=n5(l,s)}else a=await I2(o,s,n);return t.replace(sCe(e),`$1${a}$3`)}catch{}return t}function cCe(t,{preferredFontFormat:e}){return e?t.replace(oCe,r=>{for(;;){const[n,,i]=iCe.exec(r)||[];if(!i)return"";if(i===e)return`src: ${n};`}}):t}function a5(t){return t.search(s5)!==-1}async function l5(t,e,r){if(!a5(t))return t;const n=cCe(t,r);return aCe(n).reduce((o,s)=>o.then(a=>lCe(a,s,e,r)),Promise.resolve(n))}async function lc(t,e,r){var n;const i=(n=e.style)===null||n===void 0?void 0:n.getPropertyValue(t);if(i){const o=await l5(i,null,r);return e.style.setProperty(t,o,e.style.getPropertyPriority(t)),!0}return!1}async function uCe(t,e){await lc("background",t,e)||await lc("background-image",t,e),await lc("mask",t,e)||await lc("-webkit-mask",t,e)||await lc("mask-image",t,e)||await lc("-webkit-mask-image",t,e)}async function fCe(t,e){const r=Mn(t,HTMLImageElement);if(!(r&&!nx(t.src))&&!(Mn(t,SVGImageElement)&&!nx(t.href.baseVal)))return;const n=r?t.src:t.href.baseVal,i=await I2(n,P2(n),e);await new Promise((o,s)=>{t.onload=o,t.onerror=e.onImageErrorHandler?(...l)=>{try{o(e.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const a=t;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),r?(t.srcset="",t.src=i):t.href.baseVal=i})}async function dCe(t,e){const n=Ys(t.childNodes).map(i=>c5(i,e));await Promise.all(n).then(()=>t)}async function c5(t,e){Mn(t,Element)&&(await uCe(t,e),await fCe(t,e),await dCe(t,e))}function hCe(t,e){const{style:r}=t;e.backgroundColor&&(r.backgroundColor=e.backgroundColor),e.width&&(r.width=`${e.width}px`),e.height&&(r.height=`${e.height}px`);const n=e.style;return n!=null&&Object.keys(n).forEach(i=>{r[i]=n[i]}),t}const FP={};async function LP(t){let e=FP[t];if(e!=null)return e;const n=await(await fetch(t)).text();return e={url:t,cssText:n},FP[t]=e,e}async function $P(t,e){let r=t.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(r.match(/url\([^)]+\)/g)||[]).map(async s=>{let a=s.replace(n,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),i5(a,e.fetchRequestInit,({result:l})=>(r=r.replace(s,`url(${l})`),[s,l]))});return Promise.all(o).then(()=>r)}function UP(t){if(t==null)return[];const e=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=t.replace(r,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(n);if(l===null)break;e.push(l[0])}n=n.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let l=o.exec(n);if(l===null){if(l=a.exec(n),l===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(l[0])}return e}async function pCe(t,e){const r=[],n=[];return t.forEach(i=>{if("cssRules"in i)try{Ys(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1;const l=o.href,c=LP(l).then(u=>$P(u,e)).then(u=>UP(u).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?a+=1:i.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(u=>{console.error("Error loading remote css",u.toString())});n.push(c)}})}catch(o){const s=t.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&n.push(LP(i.href).then(a=>$P(a,e)).then(a=>UP(a).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(t.forEach(i=>{if("cssRules"in i)try{Ys(i.cssRules||[]).forEach(o=>{r.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),r))}function gCe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>a5(e.style.getPropertyValue("src")))}async function mCe(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=Ys(t.ownerDocument.styleSheets),n=await pCe(r,e);return gCe(n)}function u5(t){return t.trim().replace(/["']/g,"")}function vCe(t){const e=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(o=>{e.add(u5(o))}),Array.from(n.children).forEach(o=>{o instanceof HTMLElement&&r(o)})}return r(t),e}async function f5(t,e){const r=await mCe(t,e),n=vCe(t);return(await Promise.all(r.filter(o=>n.has(u5(o.style.fontFamily))).map(o=>{const s=o.parentStyleSheet?o.parentStyleSheet.href:null;return l5(o.cssText,s,e)}))).join(`
`)}async function yCe(t,e){const r=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await f5(t,e);if(r){const n=document.createElement("style"),i=document.createTextNode(r);n.appendChild(i),t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}}async function d5(t,e={}){const{width:r,height:n}=T2(t,e),i=await am(t,e,!0);return await yCe(i,e),await c5(i,e),hCe(i,e),await LSe(i,r,n)}async function Qd(t,e={}){const{width:r,height:n}=T2(t,e),i=await d5(t,e),o=await F0(i),s=document.createElement("canvas"),a=s.getContext("2d"),l=e.pixelRatio||BSe(),c=e.canvasWidth||r,u=e.canvasHeight||n;return s.width=c*l,s.height=u*l,e.skipAutoScale||kSe(s),s.style.width=`${c}`,s.style.height=`${u}`,e.backgroundColor&&(a.fillStyle=e.backgroundColor,a.fillRect(0,0,s.width,s.height)),a.drawImage(o,0,0,s.width,s.height),s}async function _Ce(t,e={}){const{width:r,height:n}=T2(t,e);return(await Qd(t,e)).getContext("2d").getImageData(0,0,r,n).data}async function xCe(t,e={}){return(await Qd(t,e)).toDataURL()}async function bCe(t,e={}){return(await Qd(t,e)).toDataURL("image/jpeg",e.quality||1)}async function wCe(t,e={}){const r=await Qd(t,e);return await NSe(r)}async function ECe(t,e={}){return f5(t,e)}const ITe=Object.freeze(Object.defineProperty({__proto__:null,getFontEmbedCSS:ECe,toBlob:wCe,toCanvas:Qd,toJpeg:bCe,toPixelData:_Ce,toPng:xCe,toSvg:d5},Symbol.toStringTag,{value:"Module"}));export{ye as $,Bt as A,ne as B,zt as C,K4 as D,Zn as E,LCe as F,we as G,uL as H,o7 as I,Rx as J,$t as K,VX as L,dL as M,eg as N,dn as O,k5 as P,R as Q,tTe as R,PCe as S,rTe as T,lu as U,Ye as V,as as W,cs as X,xo as Y,vt as Z,ATe as _,TTe as a,_Te as a$,xZ as a0,tAe as a1,UAe as a2,BAe as a3,zAe as a4,UCe as a5,XAe as a6,hi as a7,kAe as a8,W0 as a9,rg as aA,HF as aB,VF as aC,oL as aD,Xp as aE,c8 as aF,i8 as aG,j7 as aH,Tye as aI,QAe as aJ,yTe as aK,Xre as aL,hl as aM,FAe as aN,lne as aO,ETe as aP,fr as aQ,sf as aR,LAe as aS,NAe as aT,STe as aU,fL as aV,YAe as aW,qr as aX,o$ as aY,bTe as aZ,xTe as a_,Qae as aa,Wh as ab,Kn as ac,gl as ad,aTe as ae,uTe as af,jAe as ag,nTe as ah,eTe as ai,JAe as aj,MAe as ak,PM as al,fTe as am,u7 as an,_d as ao,c7 as ap,pL as aq,wTe as ar,VAe as as,Ox as at,xx as au,ZAe as av,di as aw,pi as ax,yd as ay,MI as az,DP as b,KCe as b$,$Ae as b0,b4 as b1,pF as b2,ea as b3,DAe as b4,TSe as b5,al as b6,hF as b7,Ad as b8,RY as b9,hL as bA,hTe as bB,dTe as bC,gie as bD,$0e as bE,pTe as bF,gTe as bG,mTe as bH,vTe as bI,lAe as bJ,RCe as bK,WCe as bL,zCe as bM,pAe as bN,gAe as bO,oAe as bP,sAe as bQ,XCe as bR,dK as bS,MCe as bT,DCe as bU,fAe as bV,rAe as bW,nAe as bX,ZCe as bY,JCe as bZ,us as b_,rr as ba,VCe as bb,Qp as bc,cAe as bd,kCe as be,NCe as bf,aL as bg,qF as bh,$r as bi,sTe as bj,v0 as bk,Vt as bl,efe as bm,cTe as bn,Te as bo,lTe as bp,_Ae as bq,su as br,Rr as bs,ry as bt,bt as bu,WAe as bv,Q0 as bw,lt as bx,CTe as by,HZ as bz,PTe as c,eAe as c0,qCe as c1,hAe as c2,vAe as c3,aAe as c4,HCe as c5,kl as c6,DK as c7,QCe as c8,mAe as c9,xAe as ca,YCe as cb,dAe as cc,yg as cd,uAe as ce,x8 as cf,yAe as cg,iAe as ch,A4 as ci,SCe as cj,ACe as ck,KAe as cl,Pl as cm,HAe as cn,qAe as co,RAe as cp,ITe as cq,wAe as d,EAe as e,SAe as f,CAe as g,AAe as h,TAe as i,PAe as j,IAe as k,OAe as l,bAe as m,Df as n,Md as o,GCe as p,by as q,Z as r,HX as s,FCe as t,$Ce as u,TCe as v,ICe as w,GAe as x,CCe as y,Yb as z};
