import{G as R,aQ as F,r as m,B as G,C as Q,W as q,$,H as b,N as a,I as o,J as e,P as n,an as c,K as p,M as g,Q as _,au as z,ao as I,V as A}from"./common.modules-6670d68a.js";import{R as J,v as K}from"./page-saasLottery-D5-df7fe0c3.js";import{_ as U}from"./page-activity-ActivityDetail-88cfafe3.js";import"./page-activity-Bonus-a2310b32.js";import"./page-turntable-assets-0cfb722e.js";import"./native/index-9800af95.js";import"./en-438265e0.js";const O={class:"t"},X={class:"t-b1"},Y={class:"t-b1-l w"},Z={class:"w"},ee={class:"t-b1-l"},te={class:"t-b1-l-n"},se={class:"t-b1-l"},ae={class:"t-b1-l-n"},oe={class:"t-b1-l"},ne={class:"t-b1-l-n"},le={class:"t-b1-l"},ie={class:"t-b1-l-n"},re={class:"t-b2"},ue=["IssueNumber","Number","Colour","rowId"],ce={class:"t-b2-i"},ve={class:"t-b2-Num"},de=["id"],_e={key:0,class:"flex-center t-b2-loading",style:{height:"100%"}},me={key:1,class:"t-b2-empty flex-center"},pe={key:0,class:"t-foot"},ge={class:"t-foot-page"},fe=R({__name:"trend",setup(he){const L=F("trxWinHook"),{historyIssuesTotalPage:D,historyIssues:j,gameCode:E,update:H}=L,B=m([]),u=G(()=>B.value.length?B.value:j.value),f=m([]),l=m(1),V=m(10),y=m(!1),h=m(D.value);function P(){A(()=>{for(let t=0;t<u.value.length;t++)u.value[t+1]&&W(t,u.value[t],u.value[t+1])})}function W(t,v,N){let C=parseInt(v.number),k=parseInt(N.number);const d=document.getElementById("myCanvas"+t);if(d&&d.getContext){var r=d.getContext("2d");r.clearRect(0,0,d.width,d.height),r.beginPath(),r.moveTo(C==0?20:C*29+20,0),r.lineTo(k==0?20:k*29+20,d.height),r.strokeStyle="red",r.stroke(),r.closePath()}}const x=()=>{l.value<2||(l.value--,T())},M=()=>{l.value++,!(l.value>h.value)&&T()},S=async()=>{const{result:t,data:v}=await J({gameCode:E.value,pageNo:l.value,pageSize:10});t&&(f.value=v)},T=async()=>{try{y.value=!0;const{result:t,data:v}=await K({gameCode:E.value,pageNo:l.value,pageSize:V.value});t&&(B.value=v.list||[],l.value=v.pageNo||1,h.value=v.totalPage||0)}catch{}finally{y.value=!1}};return Q(async()=>{u.value.length&&P(),await S()}),q(()=>{P()}),$(u,()=>{P(),S()}),$(D,()=>{h.value=D.value}),$(H,()=>{l.value=1,T(),S()}),(t,v)=>{const N=b("van-col"),C=b("van-row"),k=b("van-loading"),d=b("Empty"),r=b("van-icon");return a(),o("div",O,[e("div",X,[e("div",Y,[e("span",Z,n(t.$t("trendDesc1")),1)]),c('      <div class="t-b1-l lottery">'),c("        <div>{{ $t('trendDesc2') }}</div>"),c('        <div class="t-b1-l-n">'),c('          <div v-for="item in 10" :key="item">{{ item - 1 }}</div>'),c("        </div>"),c("      </div>"),e("div",ee,[e("div",null,n(t.$t("trendDesc3")),1),e("div",te,[(a(!0),o(p,null,g(f.value,(s,i)=>(a(),o("div",{key:"4"+i},n(s.missingCount),1))),128))])]),e("div",se,[e("div",null,n(t.$t("trendDesc4")),1),e("div",ae,[(a(!0),o(p,null,g(f.value,(s,i)=>(a(),o("div",{key:"2"+i},n(s.avgMissing),1))),128))])]),e("div",oe,[e("div",null,n(t.$t("trendDesc5")),1),e("div",ne,[(a(!0),o(p,null,g(f.value,(s,i)=>(a(),o("div",{key:"5"+i},n(s.openCount),1))),128))])]),e("div",le,[e("div",null,n(t.$t("trendDesc6")),1),e("div",ie,[(a(!0),o(p,null,g(f.value,(s,i)=>(a(),o("div",{key:"3"+i},n(s.maxContinuous),1))),128))])])]),e("div",re,[(a(!0),o(p,null,g(u.value,(s,i)=>(a(),o("div",{key:i,IssueNumber:s.issueNumber,Number:s.number,Colour:s.colour,rowId:i,class:"t-b2-item"},[_(C,null,{default:z(()=>[_(N,{span:"9"},{default:z(()=>[e("div",ce,n(s.issueNumber),1)]),_:2},1024),_(N,{span:"15"},{default:z(()=>[e("div",ve,[e("canvas",{id:"myCanvas"+i,ref_for:!0,ref:"canvas",class:"line-canvas"},null,8,de),(a(),o(p,null,g(10,w=>e("div",{class:I(["t-b2-Num-item",Number(s.number)==w-1?"action"+(w-1):""]),key:w},n(w-1),3)),64)),e("div",{class:I(["t-b2-Num-BS",{isB:Number(s.number)>4}])},n(Number(s.number)>4?"B":"S"),3)])]),_:2},1024)]),_:2},1024)],8,ue))),128)),y.value?(a(),o("div",_e,[_(k,{type:"spinner",color:"#FD565C"})])):c("v-if",!0),u.value.length===0&&!y.value?(a(),o("div",me,[_(d)])):c("v-if",!0)]),u.value.length?(a(),o("div",pe,[e("div",{class:I(["t-foot-previous",{disabled:l.value<=1}]),onClick:x},[_(r,{name:"arrow-left",class:"t-icon",size:"20"})],2),e("div",ge,n(l.value)+"/"+n(h.value),1),e("div",{class:I(["t-foot-next",{disabled:l.value>=h.value}]),onClick:M},[_(r,{name:"arrow",class:"t-icon",size:"20"})],2)])):c("v-if",!0)])}}});const De=U(fe,[["__scopeId","data-v-e3d7427f"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/saasLottery/game/TrxWinGo/components/trx2/trend.vue"]]);export{De as default};
