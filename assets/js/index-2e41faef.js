import{G as q,r as o,I as g,J as t,aA as $,P as l,K as W,M as ae,an as _,Q as s,aB as ne,aC as oe,N as u,ao as M,W as Ge,H as P,au as y,at as V,T as Te,R as we,A as be,B as te,C as Ie,E as Re,$ as Le,V as ke,O as B,aV as Ne,bg as Se}from"./common.modules-6670d68a.js";import{r as $e,G as Ae,R as Be,W as We,a as Me}from"./audio-35541160.js";import{bs as se,_ as z,bB as F,eQ as ie,y as De,eR as xe,A as Pe,eS as Ve,eT as je,G as Ee,em as He,ei as Oe,ef as Ue}from"./page-activity-ActivityDetail-88cfafe3.js";import{B as Fe,T as qe,W as ze}from"./WinningTips-d05305ee.js";import{E as Ze}from"./page-activity-Bonus-a2310b32.js";import{U as Ke,C as Qe}from"./page-saasLottery-D5-df7fe0c3.js";import{M as Je}from"./MyGameRecord-46209cdd.js";import{D as Xe}from"./page-activity-Championship-7b9fbb76.js";import"./page-turntable-assets-0cfb722e.js";import"./native/index-9800af95.js";import"./en-438265e0.js";import"./MayrecordList-57414a26.js";const le=r=>(ne("data-v-3e4c6499"),r=r(),oe(),r),Ye={class:"TimeLeft__C"},et=le(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none"},[t("path",{d:"M23.67 3H12.33C6.66 3 5.25 4.515 5.25 10.56V27.45C5.25 31.44 7.44 32.385 10.095 29.535L10.11 29.52C11.34 28.215 13.215 28.32 14.28 29.745L15.795 31.77C17.01 33.375 18.975 33.375 20.19 31.77L21.705 29.745C22.785 28.305 24.66 28.2 25.89 29.52C28.56 32.37 30.735 31.425 30.735 27.435V10.56C30.75 4.515 29.34 3 23.67 3ZM11.67 18C10.845 18 10.17 17.325 10.17 16.5C10.17 15.675 10.845 15 11.67 15C12.495 15 13.17 15.675 13.17 16.5C13.17 17.325 12.495 18 11.67 18ZM11.67 12C10.845 12 10.17 11.325 10.17 10.5C10.17 9.675 10.845 9 11.67 9C12.495 9 13.17 9.675 13.17 10.5C13.17 11.325 12.495 12 11.67 12ZM24.345 17.625H16.095C15.48 17.625 14.97 17.115 14.97 16.5C14.97 15.885 15.48 15.375 16.095 15.375H24.345C24.96 15.375 25.47 15.885 25.47 16.5C25.47 17.115 24.96 17.625 24.345 17.625ZM24.345 11.625H16.095C15.48 11.625 14.97 11.115 14.97 10.5C14.97 9.885 15.48 9.375 16.095 9.375H24.345C24.96 9.375 25.47 9.885 25.47 10.5C25.47 11.115 24.96 11.625 24.345 11.625Z",fill:"currentColor"})],-1)),tt={class:"TimeLeft__C-name"},at={class:"TimeLeft__C-num"},nt={class:"TimeLeft__C-id"},ot={class:"TimeLeft__C-text"},st={class:"TimeLeft__C-time"},it=le(()=>t("div",null,":",-1)),lt=q({__name:"TimeLeft",props:{currentInfo:{type:Object,default:()=>({gameNo:"loading",currentTime:"",beginTime:"",passTime:180,time1:0,time2:0,time3:0,time4:0})},winNum:{type:Array,default:[0,0,0,0,0]},gameName:{type:String,default:""},currentGame:{type:Object,default:()=>({})}},setup(r){const L=r,G=o(!1),k=se(),T=()=>{G.value=!0,k.getWinGoRule(L.currentGame.typeID)};return(C,w)=>(u(),g(W,null,[t("div",Ye,[t("div",{class:"TimeLeft__C-rule",onClick:T},[et,$(l(C.$t("winTrxIndicate")),1)]),t("div",tt,l(L.gameName.replace("<br />"," ")),1),t("div",at,[(u(!0),g(W,null,ae(r.winNum,(p,A)=>(u(),g("div",{key:A,class:M(["n"+p])},null,2))),128))]),t("div",nt,l(L.currentInfo.gameNo),1),t("div",ot,l(C.$t("timeLeftToBuy")),1),t("div",st,[t("div",null,l(r.currentInfo.time1),1),t("div",null,l(r.currentInfo.time2),1),it,t("div",null,l(r.currentInfo.time3),1),t("div",null,l(r.currentInfo.time4),1)])]),_(" 规则弹层 begin"),s($e,{howPlayShow:G.value,gamePresentation:r.currentGame.gamePresentation,onClose:w[0]||(w[0]=p=>G.value=!1)},null,8,["howPlayShow","gamePresentation"])],64))}});const rt=z(lt,[["__scopeId","data-v-3e4c6499"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/components/Home/AllLotteryGames/WinGo/TimeLeft.vue"]]),j=r=>(ne("data-v-481307ec"),r=r(),oe(),r),ut={class:"GameRecord__C"},ct={class:"GameRecord__C-head"},mt={class:"GameRecord__C-body"},vt={key:0},dt={key:1},_t={class:"GameRecord__C-origin"},pt=j(()=>t("div",{class:"GameRecord__C-origin-I red"},null,-1)),gt=j(()=>t("div",{class:"GameRecord__C-origin-I violet"},null,-1)),ft={key:1,class:"GameRecord__C-origin-I green"},yt={key:2,class:"GameRecord__C-origin-I red"},Ct=j(()=>t("div",{class:"GameRecord__C-origin-I green"},null,-1)),ht=j(()=>t("div",{class:"GameRecord__C-origin-I violet"},null,-1)),Gt={key:1,class:"GameRecord__C-body-empty"},Tt={key:0,class:"GameRecord__C-foot"},wt={class:"GameRecord__C-foot-page"},bt=q({__name:"GameRecord",props:{typeid:{type:Number,required:!0}},emits:["changefive"],setup(r,{expose:L,emit:G}){const k=r,T=o([]),C=o(4),w=o(10),p=o(1),A=()=>{p.value--,b()},N=()=>{p.value++,b()},b=async(i=!1)=>{if(k.typeid==null)return;i&&(p.value=1);const[m,d]=await F(ie({pageSize:w.value,pageNo:p.value,typeId:k.typeid}));T.value=d.list||[],C.value=d.totalPage,i&&G("changefive",d.list.slice(0,5).map(h=>h.number))},S=i=>parseInt(i,10)%2!==0,I=i=>{let m="";switch(S(i)?m="greenColor":m="defaultColor",i){case"0":m="mixedColor0";break;case"5":m="mixedColor5";break}return m};return L({getData:b}),Ge(()=>{b()}),(i,m)=>{const d=P("van-col"),h=P("van-row"),a=P("van-icon");return u(),g("div",ut,[t("div",ct,[s(h,null,{default:y(()=>[s(d,{span:"9"},{default:y(()=>[$(l(i.$t("betSerial")),1)]),_:1}),s(d,{span:"5"},{default:y(()=>[$(l(i.$t("num")),1)]),_:1}),s(d,{span:"5"},{default:y(()=>[$(l(i.$t("bigOrSmall")),1)]),_:1}),s(d,{span:"5"},{default:y(()=>[$(l(i.$t("color")),1)]),_:1})]),_:1})]),t("div",mt,[T.value.length?(u(!0),g(W,{key:0},ae(T.value,(c,D)=>(u(),V(h,{key:D},{default:y(()=>[s(d,{span:"9"},{default:y(()=>[$(l(c.issueNumber),1)]),_:2},1024),s(d,{span:"5",class:"numcenter"},{default:y(()=>[t("div",{class:M(["GameRecord__C-body-num",I(c.number)])},l(c.number),3)]),_:2},1024),s(d,{span:"5"},{default:y(()=>[Number(c.number)>4?(u(),g("span",vt,l(i.$t("big")),1)):(u(),g("span",dt,l(i.$t("small")),1))]),_:2},1024),s(d,{span:"5"},{default:y(()=>[t("div",_t,[c.number=="0"?(u(),g(W,{key:0},[pt,gt],64)):_("v-if",!0),c.number=="1"||c.number=="3"||c.number=="7"||c.number=="9"?(u(),g("div",ft)):_("v-if",!0),c.number=="2"||c.number=="4"||c.number=="6"||c.number=="8"?(u(),g("div",yt)):_("v-if",!0),c.number=="5"?(u(),g(W,{key:3},[Ct,ht],64)):_("v-if",!0)])]),_:2},1024)]),_:2},1024))),128)):(u(),g("div",Gt,[s(Ze)]))]),T.value.length?(u(),g("div",Tt,[t("div",{class:M(["GameRecord__C-foot-previous",{disabled:p.value<=1}]),onClick:A},[s(a,{name:"arrow-left",class:"GameRecord__C-icon",size:"20"})],2),t("div",wt,l(p.value)+"/"+l(C.value),1),t("div",{class:M(["GameRecord__C-foot-next",{disabled:p.value>=C.value}]),onClick:N},[s(a,{name:"arrow",class:"GameRecord__C-icon",size:"20"})],2)])):_("v-if",!0)])}}});const It=z(bt,[["__scopeId","data-v-481307ec"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/components/Home/AllLotteryGames/WinGo/GameRecord.vue"]]),Rt={class:"WinGo__C"},Lt={class:"WinGo__C-head-more"},kt=q({__name:"index",setup(r){const G=Te().query.typeId,k=()=>{b.go(-1),sessionStorage.setItem("clickedGameType","lottery")},T={GameRecord:It,Trend:qe,MyGameRecord:Je},C=o(),w=o(),p=o(),A=o(!1),N=o("GameRecord"),b=we(),S=se();let I=be([]);const i=o(0),m=o(localStorage.getItem("volumeShow")||"1"),d=o(!1),h=o(null),a=o({gameNo:"loading",currentTime:"",beginTime:"",passTime:180,time1:0,time2:0,time3:0,time4:0}),c=o(5),D=o(""),re=o(!1),R=o(),x=te(()=>S.wingo[i.value]||{}),E=o([0,0,0,0,0]),ue=De(),ce=te(()=>ue.getIsShowLotteryDragon);Ie(()=>{K()}),Re(()=>{clearInterval(h.value),Y.value.forEach(e=>{clearInterval(e)}),ee.value&&clearTimeout(ee.value)}),Le(()=>Ee().visibility,e=>{e===0?clearInterval(h.value):K(i.value)});const me=()=>{m.value=="1"?m.value="2":m.value="1",localStorage.setItem("volumeShow",m.value)},Z=e=>{b.push({name:e})},K=async(e=null)=>{await S.getWinGoData(),I=S.getWingo;const n=I.findIndex(v=>v.typeID==G);R.value==null&&!G?H(0):H(e??n)},H=e=>{S.getWinGoData(),i.value=e,R.value=I[e].typeID,Q(R.value),ke(()=>{C.value.getData(R.value)})},Q=async e=>{N.value=="MyGameRecord"&&ve(e);const[n,v]=await F(xe({typeId:e}));a.value.gameNo=v.issueNumber,a.value.currentTime=v.serviceTime.replace(/-/g,"/"),a.value.beginTime=v.startTime.replace(/-/g,"/"),de()},ve=async e=>{const n=await Pe(Ve({typeId:e}));n&&(E.value=n.data.number.split(","))},de=()=>{const e=new Date(a.value.currentTime).getTime(),n=new Date(a.value.beginTime).getTime();let v=(e-n)/1e3,f=I[i.value];if(v>f.intervalM*60&&(v=f.intervalM*60),a.value.passTime=f.intervalM*60-v,a.value.passTime<0){D.value="An error occurred, please contact customer service。The game time is "+f.intervalM+" minutes,start time is "+a.value.beginTime+",current time is"+a.value.currentTime+"!",d.value=!0;return}_e()},_e=()=>{clearInterval(h.value),J(!1),h.value=setInterval(function(){J()},1e3)},J=(e=!0)=>{if(a.value.passTime<=c.value&&(re.value=!1),m.value=="1"&&(a.value.passTime<=c.value&&a.value.passTime>1?X(1):a.value.passTime==1&&X(2)),a.value.passTime>0){let n=a.value.passTime;a.value.time2=Math.floor(n/60),a.value.time3=Math.floor(n%60/10),a.value.time4=Math.floor(n%10),a.value.passTime--}else clearInterval(h.value),e&&pe()},X=(e=1)=>{const n=document.getElementById(`voice${e}`);n&&n.play()},pe=()=>{Q(R.value||0),p.value.getWinsUserAmount(!1),C.value.getData(!0)},O=o({}),Y=o([]),ge=e=>{if(p.value.getWinsUserAmount(!1),C.value.getData(),O.value[e])return;O.value[e]=!0;const{time1:n,time2:v,time3:f,time4:U}=a.value,he=(n*10*60+v*60+f*10+U)*1e3+Math.floor(Math.random()*2e3)+1e3;Y.value[x.value.intervalM]=setTimeout(()=>{Ce(e)},he)},fe=e=>{A.value=e},ye=e=>{E.value=e},ee=o(null),Ce=async e=>{const[n,v]=await F(je({issueNumber:[e]}));if(v){const f=v.filter(U=>U.state!=2);if(!f.length)return;w.value.showMark(f),delete O.value[e]}};return(e,n)=>{const v=P("NavBar");return u(),g("div",Rt,[s(v,{"left-arrow":"",onClickLeft:k,class:"main",headLogo:!0},{right:y(()=>[t("div",Lt,[t("div",{onClick:n[0]||(n[0]=f=>Z("CustomerService"))}),t("div",{class:M({disableVoice:m.value=="2"}),onClick:me},null,2)])]),_:1}),_(" 钱包余额 "),s(We,{ref_key:"WallteRef",ref:p},null,512),s(Ke,{key:"wingo",class:"lottery-notice"}),_(" 游戏类型 "),s(Ae,{gameList:B(I),currentGameIndex:i.value,onChangeGame:H},null,8,["gameList","currentGameIndex"]),_(" 游戏开始时间倒计时 "),s(rt,{currentInfo:a.value,winNum:E.value,gameName:x.value.typeName,currentGame:x.value},null,8,["currentInfo","winNum","gameName","currentGame"]),_(" 投注表 "),s(Fe,{currentInfo:a.value,currentGame:x.value,VoiceType:m.value,typeid:R.value,onBetting:ge,onChangeBettingP:fe,"betting-api-fun":B(He)},null,8,["currentInfo","currentGame","VoiceType","typeid","betting-api-fun"]),_(" 记录导航 "),s(Be,{record:N.value,onChangeC:n[1]||(n[1]=f=>N.value=f)},null,8,["record"]),_(" 动态展示对应的组件 "),(u(),V(Se,null,[(u(),V(Ne(T[N.value]),{class:"game-record",ref_key:"RecordComponent",ref:C,typeid:R.value,ApiFun:B(Oe),listApi:B(ie),EmerdApi:B(Ue),goPathName:"AllLotteryGames-BettingRecordWin",onChangefive:ye},null,40,["typeid","ApiFun","listApi","EmerdApi"]))],1024)),_(" 弹窗组件 "),s(Xe,{show:d.value,onConfirm:n[2]||(n[2]=f=>Z("/login"))},{content:y(()=>[t("div",null,l(D.value),1)]),_:1},8,["show"]),_(" 中奖提示组件 "),s(ze,{ref_key:"WinningTipsRef",ref:w},null,512),ce.value?(u(),V(Qe,{key:0})):_("v-if",!0),s(Me)])}}});const Et=z(kt,[["__scopeId","data-v-5d71c3fd"],["__file","/Users/juneqiu/Desktop/june/project/ar_v2_vue/src/views/home/AllLotteryGames/WinGo/index.vue"]]);export{Et as default};
